{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Droppable, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getElement, getInstance, getRandomId, getUniqueID, getValue, isBlazor, isNullOrUndefined, isRippleEnabled, isUndefined, isVisible, matches, merge, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup, calculatePosition, createSpinner, fit, getScrollableParent, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Button, createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input } from '@syncfusion/ej2-inputs';\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar HScroll =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(HScroll, _super);\n  /**\n   * Initializes a new instance of the HScroll class.\n   *\n   * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n   */\n\n\n  function HScroll(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  HScroll.prototype.preRender = function () {\n    this.browser = Browser.info.name;\n    this.browserCheck = this.browser === 'mozilla';\n    this.isDevice = Browser.isDevice;\n    this.customStep = true;\n    var element = this.element;\n    this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n    this.initialize();\n\n    if (element.id === '') {\n      element.id = getUniqueID('hscroll');\n      this.uniqueId = true;\n    }\n\n    element.style.display = 'block';\n\n    if (this.enableRtl) {\n      element.classList.add(CLS_RTL);\n    }\n  };\n  /**\n   * To Initialize the horizontal scroll  rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  HScroll.prototype.render = function () {\n    this.touchModule = new Touch(this.element, {\n      scroll: this.touchHandler.bind(this),\n      swipe: this.swipeHandler.bind(this)\n    });\n    EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n\n    if (!this.isDevice) {\n      this.createNavIcon(this.element);\n    } else {\n      this.element.classList.add(CLS_DEVICE);\n      this.createOverlay(this.element);\n    }\n\n    this.setScrollState();\n  };\n\n  HScroll.prototype.setScrollState = function () {\n    if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n      this.scrollStep = this.scrollEle.offsetWidth;\n      this.customStep = false;\n    } else {\n      this.customStep = true;\n    }\n  };\n\n  HScroll.prototype.initialize = function () {\n    var scrollEle = this.createElement('div', {\n      className: CLS_HSCROLLCON\n    });\n    var scrollDiv = this.createElement('div', {\n      className: CLS_HSCROLLBAR\n    });\n    scrollDiv.setAttribute('tabindex', '-1');\n    var ele = this.element;\n    var innerEle = [].slice.call(ele.children);\n\n    for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n      var ele_1 = innerEle_1[_i];\n      scrollEle.appendChild(ele_1);\n    }\n\n    scrollDiv.appendChild(scrollEle);\n    ele.appendChild(scrollDiv);\n    scrollDiv.style.overflowX = 'hidden';\n    this.scrollEle = scrollDiv;\n    this.scrollItems = scrollEle;\n  };\n\n  HScroll.prototype.getPersistData = function () {\n    var keyEntity = ['scrollStep'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  HScroll.prototype.getModuleName = function () {\n    return 'hScroll';\n  };\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  HScroll.prototype.destroy = function () {\n    var ele = this.element;\n    ele.style.display = '';\n    ele.classList.remove(CLS_ROOT);\n    ele.classList.remove(CLS_DEVICE);\n    ele.classList.remove(CLS_RTL);\n    var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n    var overlay = selectAll('.' + CLS_OVERLAY, ele);\n    [].slice.call(overlay).forEach(function (ele) {\n      detach(ele);\n    });\n\n    for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n      var elem = _a[_i];\n      ele.appendChild(elem);\n    }\n\n    if (this.uniqueId) {\n      this.element.removeAttribute('id');\n    }\n\n    detach(this.scrollEle);\n\n    if (nav.length > 0) {\n      detach(nav[0]);\n\n      if (!isNullOrUndefined(nav[1])) {\n        detach(nav[1]);\n      }\n    }\n\n    EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n    this.touchModule.destroy();\n    this.touchModule = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Specifies the value to disable/enable the HScroll component.\n   * When set to `true` , the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  HScroll.prototype.disable = function (value) {\n    var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n\n    if (value) {\n      this.element.classList.add(CLS_DISABLE);\n    } else {\n      this.element.classList.remove(CLS_DISABLE);\n    }\n\n    [].slice.call(navEles).forEach(function (el) {\n      el.setAttribute('tabindex', !value ? '0' : '-1');\n    });\n  };\n\n  HScroll.prototype.createOverlay = function (element) {\n    var id = element.id.concat('_nav');\n    var rightOverlayEle = this.createElement('div', {\n      className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY\n    });\n    var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n    var rightEle = this.createElement('div', {\n      id: id.concat('_right'),\n      className: clsRight\n    });\n    var navItem = this.createElement('div', {\n      className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    rightEle.appendChild(navItem);\n    var leftEle = this.createElement('div', {\n      className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY\n    });\n\n    if (this.ieCheck) {\n      rightEle.classList.add('e-ie-align');\n    }\n\n    element.appendChild(rightOverlayEle);\n    element.appendChild(rightEle);\n    element.insertBefore(leftEle, element.firstChild);\n    this.eventBinding([rightEle]);\n  };\n\n  HScroll.prototype.createNavIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n    var rightAttributes = {\n      'role': 'button',\n      'id': id.concat('_right'),\n      'aria-label': 'Scroll right'\n    };\n    var nav = this.createElement('div', {\n      className: clsRight,\n      attrs: rightAttributes\n    });\n    nav.setAttribute('aria-disabled', 'false');\n    var navItem = this.createElement('div', {\n      className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n    var leftAttributes = {\n      'role': 'button',\n      'id': id.concat('_left'),\n      'aria-label': 'Scroll left'\n    };\n    var navEle = this.createElement('div', {\n      className: clsLeft + ' ' + CLS_DISABLE,\n      attrs: leftAttributes\n    });\n    navEle.setAttribute('aria-disabled', 'true');\n    var navLeftItem = this.createElement('div', {\n      className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons'\n    });\n    navEle.appendChild(navLeftItem);\n    nav.appendChild(navItem);\n    element.appendChild(nav);\n    element.insertBefore(navEle, element.firstChild);\n\n    if (this.ieCheck) {\n      nav.classList.add('e-ie-align');\n      navEle.classList.add('e-ie-align');\n    }\n\n    this.eventBinding([nav, navEle]);\n  };\n\n  HScroll.prototype.onKeyPress = function (e) {\n    var _this = this;\n\n    if (e.key === 'Enter') {\n      var timeoutFun_1 = function () {\n        _this.keyTimeout = true;\n\n        _this.eleScrolling(10, e.target, true);\n      };\n\n      this.keyTimer = window.setTimeout(function () {\n        timeoutFun_1();\n      }, 100);\n    }\n  };\n\n  HScroll.prototype.onKeyUp = function (e) {\n    if (e.key !== 'Enter') {\n      return;\n    }\n\n    if (this.keyTimeout) {\n      this.keyTimeout = false;\n    } else {\n      e.target.click();\n    }\n\n    clearTimeout(this.keyTimer);\n  };\n\n  HScroll.prototype.eventBinding = function (ele) {\n    var _this = this;\n\n    [].slice.call(ele).forEach(function (el) {\n      new Touch(el, {\n        tapHold: _this.tabHoldHandler.bind(_this),\n        tapHoldThreshold: 500\n      });\n      el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n      el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n      el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n      el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n      el.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n      });\n      EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n    });\n  };\n\n  HScroll.prototype.repeatScroll = function () {\n    clearInterval(this.timeout);\n  };\n\n  HScroll.prototype.tabHoldHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.originalEvent.target;\n    trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n    var scrollDis = 10;\n\n    var timeoutFun = function () {\n      _this.eleScrolling(scrollDis, trgt, true);\n    };\n\n    this.timeout = window.setInterval(function () {\n      timeoutFun();\n    }, 50);\n  };\n\n  HScroll.prototype.contains = function (ele, className) {\n    return ele.classList.contains(className);\n  };\n\n  HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n    var rootEle = this.element;\n    var classList$$1 = trgt.classList;\n\n    if (classList$$1.contains(CLS_HSCROLLNAV)) {\n      classList$$1 = trgt.querySelector('.' + CLS_NAVARROW).classList;\n    }\n\n    if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n      scrollDis = -scrollDis;\n    }\n\n    if (!this.contains(rootEle, CLS_RTL) || this.browserCheck || this.ieCheck) {\n      if (classList$$1.contains(CLS_NAVRIGHTARROW)) {\n        this.frameScrollRequest(scrollDis, 'add', isContinuous);\n      } else {\n        this.frameScrollRequest(scrollDis, '', isContinuous);\n      }\n    } else {\n      if (classList$$1.contains(CLS_NAVLEFTARROW)) {\n        this.frameScrollRequest(scrollDis, 'add', isContinuous);\n      } else {\n        this.frameScrollRequest(scrollDis, '', isContinuous);\n      }\n    }\n  };\n\n  HScroll.prototype.clickEventHandler = function (e) {\n    this.eleScrolling(this.scrollStep, e.target, false);\n  };\n\n  HScroll.prototype.swipeHandler = function (e) {\n    var swipeEle = this.scrollEle;\n    var distance;\n\n    if (e.velocity <= 1) {\n      distance = e.distanceX / (e.velocity * 10);\n    } else {\n      distance = e.distanceX / e.velocity;\n    }\n\n    var start = 0.5;\n\n    var animate = function () {\n      var step = Math.sin(start);\n\n      if (step <= 0) {\n        window.cancelAnimationFrame(step);\n      } else {\n        if (e.swipeDirection === 'Left') {\n          swipeEle.scrollLeft += distance * step;\n        } else if (e.swipeDirection === 'Right') {\n          swipeEle.scrollLeft -= distance * step;\n        }\n\n        start -= 0.5;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n    if (action === 'add') {\n      this.scrollEle.scrollLeft += scrollVal;\n    } else {\n      this.scrollEle.scrollLeft -= scrollVal;\n    }\n\n    if (this.enableRtl && this.scrollEle.scrollLeft > 0) {\n      this.scrollEle.scrollLeft = 0;\n    }\n  };\n\n  HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n    var _this = this;\n\n    var step = 10;\n\n    if (isContinuous) {\n      this.scrollUpdating(scrollVal, action);\n      return;\n    }\n\n    if (!this.customStep) {\n      [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n        scrollVal -= el.offsetWidth;\n      });\n    }\n\n    var animate = function () {\n      var scrollValue;\n      var scrollStep;\n\n      if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n        scrollValue = -scrollVal;\n        scrollStep = -step;\n      } else {\n        scrollValue = scrollVal;\n        scrollStep = step;\n      }\n\n      if (scrollValue < step) {\n        window.cancelAnimationFrame(scrollStep);\n      } else {\n        _this.scrollUpdating(scrollStep, action);\n\n        scrollVal -= scrollStep;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  HScroll.prototype.touchHandler = function (e) {\n    var ele = this.scrollEle;\n    var distance = e.distanceX;\n\n    if (this.ieCheck && this.contains(this.element, CLS_RTL)) {\n      distance = -distance;\n    }\n\n    if (e.scrollDirection === 'Left') {\n      ele.scrollLeft = ele.scrollLeft + distance;\n    } else if (e.scrollDirection === 'Right') {\n      ele.scrollLeft = ele.scrollLeft - distance;\n    }\n  };\n\n  HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n    if (this.isDevice) {\n      var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n      var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n\n      if (isNullOrUndefined(addDisable)) {\n        classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n      } else {\n        classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n      }\n    } else if (addDisable && removeDisable) {\n      addDisable.classList.add(CLS_DISABLE);\n      addDisable.setAttribute('aria-disabled', 'true');\n      addDisable.removeAttribute('tabindex');\n      removeDisable.classList.remove(CLS_DISABLE);\n      removeDisable.setAttribute('aria-disabled', 'false');\n      removeDisable.setAttribute('tabindex', '0');\n    }\n\n    this.repeatScroll();\n  };\n\n  HScroll.prototype.scrollHandler = function (e) {\n    var target = e.target;\n    var width = target.offsetWidth;\n    var rootEle = this.element;\n    var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n    var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n    var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n    var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n    var scrollLeft = target.scrollLeft;\n\n    if (scrollLeft <= 0) {\n      scrollLeft = -scrollLeft;\n    }\n\n    if (this.isDevice) {\n      if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n        leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n      }\n\n      if (scrollLeft < OVERLAY_MAXWID) {\n        leftOverlay.style.width = scrollLeft + 'px';\n      } else {\n        leftOverlay.style.width = '40px';\n      }\n\n      if (target.scrollWidth - Math.ceil(width + scrollLeft) < OVERLAY_MAXWID) {\n        rightOverlay.style.width = target.scrollWidth - Math.ceil(width + scrollLeft) + 'px';\n      } else {\n        rightOverlay.style.width = '40px';\n      }\n    }\n\n    if (scrollLeft === 0) {\n      this.arrowDisabling(navLeftEle, navRightEle);\n    } else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n      this.arrowDisabling(navRightEle, navLeftEle);\n    } else {\n      var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n\n      if (disEle) {\n        disEle.classList.remove(CLS_DISABLE);\n        disEle.setAttribute('aria-disabled', 'false');\n        disEle.setAttribute('tabindex', '0');\n      }\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n   *\n   * @param  {HScrollModel} newProp - It contains the new value of data.\n   * @param  {HScrollModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'scrollStep':\n          this.setScrollState();\n          break;\n\n        case 'enableRtl':\n          newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n          break;\n      }\n    }\n  };\n\n  __decorate([Property(null)], HScroll.prototype, \"scrollStep\", void 0);\n\n  HScroll = __decorate([NotifyPropertyChanges], HScroll);\n  return HScroll;\n}(Component);\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_ROOT$1 = 'e-vscroll';\nvar CLS_RTL$1 = 'e-rtl';\nvar CLS_DISABLE$1 = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW$1 = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE$1 = 'e-scroll-device';\nvar CLS_OVERLAY$1 = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID$1 = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\n\nvar VScroll =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(VScroll, _super);\n  /**\n   * Initializes a new instance of the VScroll class.\n   *\n   * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n   */\n\n\n  function VScroll(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  VScroll.prototype.preRender = function () {\n    this.browser = Browser.info.name;\n    this.browserCheck = this.browser === 'mozilla';\n    this.isDevice = Browser.isDevice;\n    this.customStep = true;\n    var ele = this.element;\n    this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n    this.initialize();\n\n    if (ele.id === '') {\n      ele.id = getUniqueID('vscroll');\n      this.uniqueId = true;\n    }\n\n    ele.style.display = 'block';\n\n    if (this.enableRtl) {\n      ele.classList.add(CLS_RTL$1);\n    }\n  };\n  /**\n   * To Initialize the vertical scroll rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  VScroll.prototype.render = function () {\n    this.touchModule = new Touch(this.element, {\n      scroll: this.touchHandler.bind(this),\n      swipe: this.swipeHandler.bind(this)\n    });\n    EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n\n    if (!this.isDevice) {\n      this.createNavIcon(this.element);\n    } else {\n      this.element.classList.add(CLS_DEVICE$1);\n      this.createOverlayElement(this.element);\n    }\n\n    this.setScrollState();\n    EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n  };\n\n  VScroll.prototype.setScrollState = function () {\n    if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n      this.scrollStep = this.scrollEle.offsetHeight;\n      this.customStep = false;\n    } else {\n      this.customStep = true;\n    }\n  };\n\n  VScroll.prototype.initialize = function () {\n    var scrollCnt = createElement('div', {\n      className: CLS_VSCROLLCON\n    });\n    var scrollBar = createElement('div', {\n      className: CLS_VSCROLLBAR\n    });\n    scrollBar.setAttribute('tabindex', '-1');\n    var ele = this.element;\n    var innerEle = [].slice.call(ele.children);\n\n    for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n      var ele_1 = innerEle_1[_i];\n      scrollCnt.appendChild(ele_1);\n    }\n\n    scrollBar.appendChild(scrollCnt);\n    ele.appendChild(scrollBar);\n    scrollBar.style.overflow = 'hidden';\n    this.scrollEle = scrollBar;\n    this.scrollItems = scrollCnt;\n  };\n\n  VScroll.prototype.getPersistData = function () {\n    var keyEntity = ['scrollStep'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  VScroll.prototype.getModuleName = function () {\n    return 'vScroll';\n  };\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  VScroll.prototype.destroy = function () {\n    var el = this.element;\n    el.style.display = '';\n    removeClass([this.element], [CLS_ROOT$1, CLS_DEVICE$1, CLS_RTL$1]);\n    var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n    var overlays = selectAll('.' + CLS_OVERLAY$1, el);\n    [].slice.call(overlays).forEach(function (ele) {\n      detach(ele);\n    });\n\n    for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n      var elem = _a[_i];\n      el.appendChild(elem);\n    }\n\n    if (this.uniqueId) {\n      this.element.removeAttribute('id');\n    }\n\n    detach(this.scrollEle);\n\n    if (navs.length > 0) {\n      detach(navs[0]);\n\n      if (!isNullOrUndefined(navs[1])) {\n        detach(navs[1]);\n      }\n    }\n\n    EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n    this.touchModule.destroy();\n    this.touchModule = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Specifies the value to disable/enable the VScroll component.\n   * When set to `true` , the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  VScroll.prototype.disable = function (value) {\n    var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE$1 + ')', this.element);\n\n    if (value) {\n      this.element.classList.add(CLS_DISABLE$1);\n    } else {\n      this.element.classList.remove(CLS_DISABLE$1);\n    }\n\n    [].slice.call(navEle).forEach(function (el) {\n      el.setAttribute('tabindex', !value ? '0' : '-1');\n    });\n  };\n\n  VScroll.prototype.createOverlayElement = function (element) {\n    var id = element.id.concat('_nav');\n    var downOverlayEle = createElement('div', {\n      className: CLS_OVERLAY$1 + ' ' + CLS_DOWNOVERLAY\n    });\n    var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n    var downEle = createElement('div', {\n      id: id.concat('down'),\n      className: clsDown\n    });\n    var navItem = createElement('div', {\n      className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n    });\n    downEle.appendChild(navItem);\n    var upEle = createElement('div', {\n      className: CLS_OVERLAY$1 + ' ' + CLS_UPOVERLAY\n    });\n\n    if (this.ieCheck) {\n      downEle.classList.add('e-ie-align');\n    }\n\n    element.appendChild(downOverlayEle);\n    element.appendChild(downEle);\n    element.insertBefore(upEle, element.firstChild);\n    this.eventBinding([downEle]);\n  };\n\n  VScroll.prototype.createNavIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n    var nav = createElement('div', {\n      id: id.concat('_down'),\n      className: clsDown\n    });\n    nav.setAttribute('aria-disabled', 'false');\n    var navItem = createElement('div', {\n      className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n    });\n    var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n    var navElement = createElement('div', {\n      id: id.concat('_up'),\n      className: clsUp + ' ' + CLS_DISABLE$1\n    });\n    navElement.setAttribute('aria-disabled', 'true');\n    var navUpItem = createElement('div', {\n      className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW$1 + ' e-icons'\n    });\n    navElement.appendChild(navUpItem);\n    nav.appendChild(navItem);\n    nav.setAttribute('tabindex', '0');\n    element.appendChild(nav);\n    element.insertBefore(navElement, element.firstChild);\n\n    if (this.ieCheck) {\n      nav.classList.add('e-ie-align');\n      navElement.classList.add('e-ie-align');\n    }\n\n    this.eventBinding([nav, navElement]);\n  };\n\n  VScroll.prototype.onKeyPress = function (ev) {\n    var _this = this;\n\n    if (ev.key === 'Enter') {\n      var timeoutFun_1 = function () {\n        _this.keyTimeout = true;\n\n        _this.eleScrolling(10, ev.target, true);\n      };\n\n      this.keyTimer = window.setTimeout(function () {\n        timeoutFun_1();\n      }, 100);\n    }\n  };\n\n  VScroll.prototype.onKeyUp = function (ev) {\n    if (ev.key !== 'Enter') {\n      return;\n    }\n\n    if (this.keyTimeout) {\n      this.keyTimeout = false;\n    } else {\n      ev.target.click();\n    }\n\n    clearTimeout(this.keyTimer);\n  };\n\n  VScroll.prototype.eventBinding = function (element) {\n    var _this = this;\n\n    [].slice.call(element).forEach(function (ele) {\n      new Touch(ele, {\n        tapHold: _this.tabHoldHandler.bind(_this),\n        tapHoldThreshold: 500\n      });\n      ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n      ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n      ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n      ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n      ele.addEventListener('contextmenu', function (e) {\n        e.preventDefault();\n      });\n      EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n    });\n  };\n\n  VScroll.prototype.repeatScroll = function () {\n    clearInterval(this.timeout);\n  };\n\n  VScroll.prototype.tabHoldHandler = function (ev) {\n    var _this = this;\n\n    var trgt = ev.originalEvent.target;\n    trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n    var scrollDistance = 10;\n\n    var timeoutFun = function () {\n      _this.eleScrolling(scrollDistance, trgt, true);\n    };\n\n    this.timeout = window.setInterval(function () {\n      timeoutFun();\n    }, 50);\n  };\n\n  VScroll.prototype.contains = function (element, className) {\n    return element.classList.contains(className);\n  };\n\n  VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n    var classList$$1 = trgt.classList;\n\n    if (classList$$1.contains(CLS_VSCROLLNAV)) {\n      classList$$1 = trgt.querySelector('.' + CLS_NAVARROW$1).classList;\n    }\n\n    if (classList$$1.contains(CLS_NAVDOWNARROW)) {\n      this.frameScrollRequest(scrollDis, 'add', isContinuous);\n    } else if (classList$$1.contains(CLS_NAVUPARROW)) {\n      this.frameScrollRequest(scrollDis, '', isContinuous);\n    }\n  };\n\n  VScroll.prototype.clickEventHandler = function (event) {\n    this.eleScrolling(this.scrollStep, event.target, false);\n  };\n\n  VScroll.prototype.wheelEventHandler = function (e) {\n    e.preventDefault();\n    this.frameScrollRequest(this.scrollStep, e.deltaY > 0 ? 'add' : '', false);\n  };\n\n  VScroll.prototype.swipeHandler = function (e) {\n    var swipeElement = this.scrollEle;\n    var distance;\n\n    if (e.velocity <= 1) {\n      distance = e.distanceY / (e.velocity * 10);\n    } else {\n      distance = e.distanceY / e.velocity;\n    }\n\n    var start = 0.5;\n\n    var animate = function () {\n      var step = Math.sin(start);\n\n      if (step <= 0) {\n        window.cancelAnimationFrame(step);\n      } else {\n        if (e.swipeDirection === 'Up') {\n          swipeElement.scrollTop += distance * step;\n        } else if (e.swipeDirection === 'Down') {\n          swipeElement.scrollTop -= distance * step;\n        }\n\n        start -= 0.02;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n    if (action === 'add') {\n      this.scrollEle.scrollTop += scrollVal;\n    } else {\n      this.scrollEle.scrollTop -= scrollVal;\n    }\n  };\n\n  VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n    var _this = this;\n\n    var step = 10;\n\n    if (isContinuous) {\n      this.scrollUpdating(scrollValue, action);\n      return;\n    }\n\n    if (!this.customStep) {\n      [].slice.call(selectAll('.' + CLS_OVERLAY$1, this.element)).forEach(function (el) {\n        scrollValue -= el.offsetHeight;\n      });\n    }\n\n    var animate = function () {\n      if (scrollValue < step) {\n        window.cancelAnimationFrame(step);\n      } else {\n        _this.scrollUpdating(step, action);\n\n        scrollValue -= step;\n        window.requestAnimationFrame(animate);\n      }\n    };\n\n    animate();\n  };\n\n  VScroll.prototype.touchHandler = function (e) {\n    var el = this.scrollEle;\n    var distance = e.distanceY;\n\n    if (e.scrollDirection === 'Up') {\n      el.scrollTop = el.scrollTop + distance;\n    } else if (e.scrollDirection === 'Down') {\n      el.scrollTop = el.scrollTop - distance;\n    }\n  };\n\n  VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n    if (this.isDevice) {\n      var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n      var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW$1);\n\n      if (isNullOrUndefined(addDisableCls)) {\n        classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n      } else {\n        classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n      }\n    } else {\n      addDisableCls.classList.add(CLS_DISABLE$1);\n      addDisableCls.setAttribute('aria-disabled', 'true');\n      addDisableCls.removeAttribute('tabindex');\n      removeDisableCls.classList.remove(CLS_DISABLE$1);\n      removeDisableCls.setAttribute('aria-disabled', 'false');\n      removeDisableCls.setAttribute('tabindex', '0');\n    }\n\n    this.repeatScroll();\n  };\n\n  VScroll.prototype.scrollEventHandler = function (e) {\n    var target = e.target;\n    var height = target.offsetHeight;\n    var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n    var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n    var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n    var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n    var scrollTop = target.scrollTop;\n\n    if (scrollTop <= 0) {\n      scrollTop = -scrollTop;\n    }\n\n    if (this.isDevice) {\n      if (scrollTop < OVERLAY_MAXWID$1) {\n        upOverlay.style.height = scrollTop + 'px';\n      } else {\n        upOverlay.style.height = '40px';\n      }\n\n      if (target.scrollHeight - Math.ceil(height + scrollTop) < OVERLAY_MAXWID$1) {\n        downOverlay.style.height = target.scrollHeight - Math.ceil(height + scrollTop) + 'px';\n      } else {\n        downOverlay.style.height = '40px';\n      }\n    }\n\n    if (scrollTop === 0) {\n      this.arrowDisabling(navUpEle, navDownEle);\n    } else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n      this.arrowDisabling(navDownEle, navUpEle);\n    } else {\n      var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE$1);\n\n      if (disEle) {\n        disEle.classList.remove(CLS_DISABLE$1);\n        disEle.setAttribute('aria-disabled', 'false');\n        disEle.setAttribute('tabindex', '0');\n      }\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n   *\n   * @param  {VScrollModel} newProp - It contains the new value of data.\n   * @param  {VScrollModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'scrollStep':\n          this.setScrollState();\n          break;\n\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.element.classList.add(CLS_RTL$1);\n          } else {\n            this.element.classList.remove(CLS_RTL$1);\n          }\n\n          break;\n      }\n    }\n  };\n\n  __decorate$1([Property(null)], VScroll.prototype, \"scrollStep\", void 0);\n\n  VScroll = __decorate$1([NotifyPropertyChanges], VScroll);\n  return VScroll;\n}(Component);\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\n\n\nfunction addScrolling(createElement$$1, container, content, scrollType, enableRtl, offset) {\n  var containerOffset;\n  var contentOffset;\n  var parentElem = container.parentElement;\n\n  if (scrollType === 'vscroll') {\n    containerOffset = offset || container.getBoundingClientRect().height;\n    contentOffset = content.getBoundingClientRect().height;\n  } else {\n    containerOffset = container.getBoundingClientRect().width;\n    contentOffset = content.getBoundingClientRect().width;\n  }\n\n  if (containerOffset < contentOffset) {\n    return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n  } else if (parentElem) {\n    var width = parentElem.getBoundingClientRect().width;\n\n    if (width < containerOffset && scrollType === 'hscroll') {\n      contentOffset = width;\n      container.style.maxWidth = width + 'px';\n      return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n    }\n\n    return content;\n  } else {\n    return content;\n  }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\n\n\nfunction createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset) {\n  var scrollEle = createElement$$1('div', {\n    className: 'e-menu-' + scrollType\n  });\n  container.appendChild(scrollEle);\n  scrollEle.appendChild(content);\n\n  if (offset) {\n    scrollEle.style.overflow = 'hidden';\n    scrollEle.style.height = offset + 'px';\n  } else {\n    scrollEle.style.maxHeight = container.style.maxHeight;\n    container.style.overflow = 'hidden';\n  }\n\n  var scrollObj;\n\n  if (scrollType === 'vscroll') {\n    scrollObj = new VScroll({\n      enableRtl: enableRtl\n    }, scrollEle);\n    scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n  } else {\n    scrollObj = new HScroll({\n      enableRtl: enableRtl\n    }, scrollEle);\n    scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n  }\n\n  return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\n\n\nfunction destroyScroll(scrollObj, element, skipEle) {\n  if (scrollObj) {\n    var menu = select('.e-menu-parent', element);\n\n    if (menu) {\n      if (!skipEle || skipEle === menu) {\n        scrollObj.destroy();\n        element.parentElement.appendChild(menu);\n        detach(element);\n      }\n    } else {\n      scrollObj.destroy();\n      detach(element);\n    }\n  }\n}\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar TAB = 'tab';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\n\nvar FieldSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(FieldSettings, _super);\n\n  function FieldSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property('id')], FieldSettings.prototype, \"itemId\", void 0);\n\n  __decorate$2([Property('parentId')], FieldSettings.prototype, \"parentId\", void 0);\n\n  __decorate$2([Property('text')], FieldSettings.prototype, \"text\", void 0);\n\n  __decorate$2([Property('iconCss')], FieldSettings.prototype, \"iconCss\", void 0);\n\n  __decorate$2([Property('url')], FieldSettings.prototype, \"url\", void 0);\n\n  __decorate$2([Property('separator')], FieldSettings.prototype, \"separator\", void 0);\n\n  __decorate$2([Property('items')], FieldSettings.prototype, \"children\", void 0);\n\n  return FieldSettings;\n}(ChildProperty);\n/**\n * Specifies menu items.\n */\n\n\nvar MenuItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(MenuItem, _super);\n\n  function MenuItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property(null)], MenuItem.prototype, \"iconCss\", void 0);\n\n  __decorate$2([Property('')], MenuItem.prototype, \"id\", void 0);\n\n  __decorate$2([Property(false)], MenuItem.prototype, \"separator\", void 0);\n\n  __decorate$2([Collection([], MenuItem)], MenuItem.prototype, \"items\", void 0);\n\n  __decorate$2([Property('')], MenuItem.prototype, \"text\", void 0);\n\n  __decorate$2([Property('')], MenuItem.prototype, \"url\", void 0);\n\n  return MenuItem;\n}(ChildProperty);\n/**\n * Animation configuration settings.\n */\n\n\nvar MenuAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(MenuAnimationSettings, _super);\n\n  function MenuAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property('SlideDown')], MenuAnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate$2([Property(400)], MenuAnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate$2([Property('ease')], MenuAnimationSettings.prototype, \"easing\", void 0);\n\n  return MenuAnimationSettings;\n}(ChildProperty);\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\n\n\nvar MenuBase =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(MenuBase, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {MenuBaseModel} options - Specifies the menu base model\n   * @param {string | HTMLUListElement} element - Specifies the element\n   */\n\n\n  function MenuBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.navIdx = [];\n    _this.animation = new Animation({});\n    _this.isTapHold = false;\n    _this.tempItem = [];\n    _this.showSubMenuOn = 'Auto';\n    return _this;\n  }\n  /**\n   * Initialized third party configuration settings.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.preRender = function () {\n    if (!this.isMenu) {\n      var ul = void 0;\n\n      if (this.element.tagName === 'EJS-CONTEXTMENU') {\n        ul = this.createElement('ul', {\n          id: getUniqueID(this.getModuleName()),\n          className: 'e-control e-lib e-' + this.getModuleName()\n        });\n        var ejInst = getValue('ej2_instances', this.element);\n        removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n        this.clonedElement = this.element;\n        this.element = ul;\n        setValue('ej2_instances', ejInst, this.element);\n      } else {\n        ul = this.createElement('ul', {\n          id: getUniqueID(this.getModuleName())\n        });\n        append([].slice.call(this.element.cloneNode(true).children), ul);\n        var refEle = this.element.nextElementSibling;\n\n        if (refEle) {\n          this.element.parentElement.insertBefore(ul, refEle);\n        } else {\n          this.element.parentElement.appendChild(ul);\n        }\n\n        this.clonedElement = ul;\n      }\n\n      this.clonedElement.style.display = 'none';\n    }\n\n    if (this.element.tagName === 'EJS-MENU') {\n      var ele = this.element;\n      var ejInstance = getValue('ej2_instances', ele);\n      var ul = this.createElement('ul');\n      var wrapper = this.createElement('EJS-MENU', {\n        className: 'e-' + this.getModuleName() + '-wrapper'\n      });\n\n      for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n        ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n      }\n\n      ele.parentNode.insertBefore(wrapper, ele);\n      detach(ele);\n      ele = ul;\n      wrapper.appendChild(ele);\n      setValue('ej2_instances', ejInstance, ele);\n      this.clonedElement = wrapper;\n      this.element = ele;\n\n      if (!this.element.id) {\n        this.element.id = getUniqueID(this.getModuleName());\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.render = function () {\n    var _this = this;\n\n    this.initialize();\n    this.renderItems();\n    this.wireEvents();\n    this.renderComplete();\n    var wrapper = this.getWrapper(); // eslint-disable-next-line\n\n    if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n      requestAnimationFrame(function () {\n        addScrolling(_this.createElement, wrapper, _this.element, 'hscroll', _this.enableRtl);\n      });\n    }\n  };\n\n  MenuBase.prototype.initialize = function () {\n    var wrapper = this.getWrapper();\n\n    if (!wrapper) {\n      wrapper = this.createElement('div', {\n        className: 'e-' + this.getModuleName() + '-wrapper'\n      });\n\n      if (this.isMenu) {\n        this.element.parentElement.insertBefore(wrapper, this.element);\n      } else {\n        document.body.appendChild(wrapper);\n      }\n    }\n\n    if (this.cssClass) {\n      addClass([wrapper], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n    }\n\n    if (this.enableRtl) {\n      wrapper.classList.add(RTL);\n    }\n\n    wrapper.appendChild(this.element);\n\n    if (this.isMenu && this.hamburgerMode) {\n      if (!this.target) {\n        this.createHeaderContainer(wrapper);\n      }\n    }\n\n    this.defaultOption = this.showItemOnClick;\n  };\n\n  MenuBase.prototype.renderItems = function () {\n    if (!this.items.length) {\n      var items = ListBase.createJsonFromElement(this.element, {\n        fields: {\n          child: 'items'\n        }\n      });\n      this.setProperties({\n        items: items\n      }, true);\n\n      if (isBlazor() && !this.isMenu) {\n        this.element = this.removeChildElement(this.element);\n      } else {\n        this.element.innerHTML = '';\n      }\n    }\n\n    var ul = this.createItems(this.items);\n    append(Array.prototype.slice.call(ul.children), this.element);\n    this.element.classList.add('e-menu-parent');\n\n    if (this.isMenu) {\n      if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n        this.setBlankIconStyle(this.element);\n      }\n\n      if (this.enableScrolling) {\n        var wrapper = this.getWrapper();\n\n        if (this.element.classList.contains('e-vertical')) {\n          addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n        } else {\n          addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n        }\n      }\n    }\n  };\n\n  MenuBase.prototype.wireEvents = function () {\n    var wrapper = this.getWrapper();\n\n    if (this.target) {\n      var target = void 0;\n      var targetElems = selectAll(this.target);\n\n      for (var i = 0, len = targetElems.length; i < len; i++) {\n        target = targetElems[i];\n\n        if (this.isMenu) {\n          EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n        } else {\n          if (Browser.isIos) {\n            new Touch(target, {\n              tapHold: this.touchHandler.bind(this)\n            });\n          } else {\n            EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n          }\n        }\n      }\n\n      this.targetElement = target;\n\n      if (!this.isMenu) {\n        EventHandler.add(this.targetElement, 'mousewheel DOMMouseScroll', this.scrollHandler, this);\n\n        for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n          var parent_1 = _a[_i];\n          EventHandler.add(parent_1, 'mousewheel DOMMouseScroll', this.scrollHandler, this);\n        }\n      }\n    }\n\n    if (!Browser.isDevice) {\n      this.delegateMoverHandler = this.moverHandler.bind(this);\n      this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n      EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n      EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n    }\n\n    this.delegateClickHandler = this.clickHandler.bind(this);\n    EventHandler.add(document, 'click', this.delegateClickHandler, this);\n    this.wireKeyboardEvent(wrapper);\n    this.rippleFn = rippleEffect(wrapper, {\n      selector: '.' + ITEM\n    });\n  };\n\n  MenuBase.prototype.wireKeyboardEvent = function (element) {\n    var keyConfigs = {\n      downarrow: DOWNARROW,\n      uparrow: UPARROW,\n      enter: ENTER,\n      leftarrow: LEFTARROW,\n      rightarrow: RIGHTARROW,\n      escape: ESCAPE\n    };\n\n    if (this.isMenu) {\n      keyConfigs.home = HOME;\n      keyConfigs.end = END;\n      keyConfigs.tab = TAB;\n    }\n\n    new KeyboardEvents(element, {\n      keyAction: this.keyBoardHandler.bind(this),\n      keyConfigs: keyConfigs\n    });\n  };\n\n  MenuBase.prototype.mouseDownHandler = function (e) {\n    if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper() && !closest(e.target, '.e-' + this.getModuleName() + '-popup')) {\n      this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n    }\n  };\n\n  MenuBase.prototype.keyHandler = function (e) {\n    if (e.keyCode === 38 || e.keyCode === 40) {\n      if (e.target && (e.target.classList.contains('e-contextmenu') || e.target.classList.contains('e-menu-item'))) {\n        e.preventDefault();\n      }\n    }\n  };\n\n  MenuBase.prototype.keyBoardHandler = function (e) {\n    var actionName = '';\n    var trgt = e.target;\n    var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical') && this.navIdx.length < 1;\n    e.preventDefault();\n\n    if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n      this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n    }\n\n    if (actionNeeded) {\n      switch (e.action) {\n        case RIGHTARROW:\n          actionName = RIGHTARROW;\n          e.action = DOWNARROW;\n          break;\n\n        case LEFTARROW:\n          actionName = LEFTARROW;\n          e.action = UPARROW;\n          break;\n\n        case DOWNARROW:\n          actionName = DOWNARROW;\n          e.action = RIGHTARROW;\n          break;\n\n        case UPARROW:\n          actionName = UPARROW;\n          e.action = '';\n          break;\n      }\n    } else if (this.enableRtl) {\n      switch (e.action) {\n        case LEFTARROW:\n          actionNeeded = true;\n          actionName = LEFTARROW;\n          e.action = RIGHTARROW;\n          break;\n\n        case RIGHTARROW:\n          actionNeeded = true;\n          actionName = RIGHTARROW;\n          e.action = LEFTARROW;\n          break;\n      }\n    }\n\n    switch (e.action) {\n      case DOWNARROW:\n      case UPARROW:\n      case END:\n      case HOME:\n      case TAB:\n        this.upDownKeyHandler(e);\n        break;\n\n      case RIGHTARROW:\n        this.rightEnterKeyHandler(e);\n        break;\n\n      case LEFTARROW:\n        this.leftEscKeyHandler(e);\n        break;\n\n      case ENTER:\n        if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n          this.menuHeaderClickHandler(e);\n        } else {\n          this.rightEnterKeyHandler(e);\n        }\n\n        break;\n\n      case ESCAPE:\n        this.leftEscKeyHandler(e);\n        break;\n    }\n\n    if (actionNeeded) {\n      e.action = actionName;\n    }\n  };\n\n  MenuBase.prototype.upDownKeyHandler = function (e) {\n    var cul = this.getUlByNavIdx();\n    var defaultIdx = e.action === DOWNARROW || e.action === HOME || e.action === TAB ? 0 : cul.childElementCount - 1;\n    var fliIdx = defaultIdx;\n    var fli = this.getLIByClass(cul, FOCUSED);\n\n    if (fli) {\n      if (e.action !== END && e.action !== HOME) {\n        fliIdx = this.getIdx(cul, fli);\n      }\n\n      fli.classList.remove(FOCUSED);\n\n      if (e.action !== END && e.action !== HOME) {\n        if (e.action === DOWNARROW) {\n          fliIdx++;\n        } else {\n          fliIdx--;\n        }\n\n        if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n          fliIdx = defaultIdx;\n        }\n      }\n    }\n\n    var cli = cul.children[fliIdx];\n    fliIdx = this.isValidLI(cli, fliIdx, e.action);\n    cul.children[fliIdx].classList.add(FOCUSED);\n    cul.children[fliIdx].focus();\n  };\n\n  MenuBase.prototype.isValidLI = function (cli, index, action) {\n    var cul = this.getUlByNavIdx();\n    var defaultIdx = action === DOWNARROW || action === HOME || action === TAB ? 0 : cul.childElementCount - 1;\n\n    if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n      if (action === DOWNARROW && index === cul.childElementCount - 1) {\n        index = defaultIdx;\n      } else if (action === UPARROW && index === 0) {\n        index = defaultIdx;\n      } else if (action === DOWNARROW || action === RIGHTARROW) {\n        index++;\n      } else {\n        index--;\n      }\n    }\n\n    cli = cul.children[index];\n\n    if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n      index = this.isValidLI(cli, index, action);\n    }\n\n    return index;\n  };\n\n  MenuBase.prototype.getUlByNavIdx = function (navIdxLen) {\n    var _this = this;\n\n    if (navIdxLen === void 0) {\n      navIdxLen = this.navIdx.length;\n    }\n\n    if (this.isMenu) {\n      var popups_1 = [];\n      var allPopup = selectAll('.' + POPUP);\n      allPopup.forEach(function (elem) {\n        if (_this.element.id === elem.id.split('-')[2]) {\n          popups_1.push(elem);\n        }\n      });\n      var popup = [this.getWrapper()].concat([].slice.call(popups_1))[navIdxLen];\n      return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n    } else {\n      return this.getWrapper().children[navIdxLen];\n    }\n  };\n\n  MenuBase.prototype.rightEnterKeyHandler = function (e) {\n    var eventArgs;\n    var cul = this.getUlByNavIdx();\n    var fli = this.getLIByClass(cul, FOCUSED);\n\n    if (fli) {\n      var fliIdx = this.getIdx(cul, fli);\n      var navIdx = this.navIdx.concat(fliIdx);\n      var item = this.getItem(navIdx);\n\n      if (item.items.length) {\n        this.navIdx.push(fliIdx);\n        this.keyType = 'right';\n        this.action = e.action;\n        this.openMenu(fli, item, -1, -1, e);\n      } else {\n        if (e.action === ENTER) {\n          if (this.isMenu && this.navIdx.length === 0) {\n            this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n          } else {\n            fli.classList.remove(FOCUSED);\n          }\n\n          fli.classList.add(SELECTED);\n          eventArgs = {\n            element: fli,\n            item: item,\n            event: e\n          };\n          this.trigger('select', eventArgs);\n          this.closeMenu(null, e);\n        }\n      }\n    }\n  };\n\n  MenuBase.prototype.leftEscKeyHandler = function (e) {\n    if (this.navIdx.length) {\n      this.keyType = 'left';\n      this.closeMenu(this.navIdx.length, e);\n    } else {\n      if (e.action === ESCAPE) {\n        this.closeMenu(null, e);\n      }\n    }\n  };\n\n  MenuBase.prototype.scrollHandler = function (e) {\n    this.closeMenu(null, e);\n  };\n\n  MenuBase.prototype.touchHandler = function (e) {\n    this.isTapHold = true;\n    this.cmenuHandler(e.originalEvent);\n  };\n\n  MenuBase.prototype.cmenuHandler = function (e) {\n    e.preventDefault();\n    this.currentTarget = e.target;\n    this.isCMenu = true;\n    this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n    this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n    this.closeMenu(null, e);\n\n    if (this.isCMenu) {\n      if (this.canOpen(e.target)) {\n        this.openMenu(null, null, this.pageY, this.pageX, e);\n      }\n\n      this.isCMenu = false;\n    }\n  }; // eslint:disable-next-line:max-func-body-length\n\n\n  MenuBase.prototype.closeMenu = function (ulIndex, e, isIterated) {\n    var _this = this;\n\n    if (ulIndex === void 0) {\n      ulIndex = 0;\n    }\n\n    if (e === void 0) {\n      e = null;\n    }\n\n    if (this.isMenuVisible()) {\n      var sli = void 0;\n      var item_1;\n      var wrapper_1 = this.getWrapper();\n      var beforeCloseArgs = void 0;\n      var items_1;\n      var popups = this.getPopups();\n      var isClose = false;\n      var cnt = this.isMenu ? popups.length + 1 : wrapper_1.childElementCount;\n      var ul_1 = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2]) : selectAll('.e-menu-parent', wrapper_1)[cnt - 1];\n\n      if (this.isMenu && ul_1.classList.contains('e-menu')) {\n        sli = this.getLIByClass(ul_1, SELECTED);\n\n        if (sli) {\n          sli.classList.remove(SELECTED);\n        }\n\n        isClose = true;\n      }\n\n      if (!isClose) {\n        var liElem_1 = e && e.target && this.getLI(e.target);\n\n        if (liElem_1) {\n          this.cli = liElem_1;\n        } else {\n          this.cli = ul_1.children[0];\n        }\n\n        item_1 = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        items_1 = item_1 ? item_1.items : this.items;\n        beforeCloseArgs = {\n          element: ul_1,\n          parentItem: item_1,\n          items: items_1,\n          event: e,\n          cancel: false,\n          isFocused: true\n        };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n          var popupEle;\n          var closeArgs;\n          var popupId = '';\n          var popupObj;\n          var isOpen = !observedCloseArgs.cancel;\n\n          if (isOpen || _this.isCMenu) {\n            if (_this.isMenu) {\n              popupEle = closest(ul_1, '.' + POPUP);\n\n              if (_this.hamburgerMode) {\n                popupEle.parentElement.style.minHeight = '';\n                closest(ul_1, '.e-menu-item').setAttribute('aria-expanded', 'false');\n              }\n\n              _this.unWireKeyboardEvent(popupEle);\n\n              destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n              popupObj = getInstance(popupEle, Popup);\n              popupObj.hide();\n              popupId = popupEle.id;\n              popupObj.destroy();\n              detach(popupEle);\n            } else {\n              _this.toggleAnimation(ul_1, false);\n            }\n\n            closeArgs = {\n              element: ul_1,\n              parentItem: item_1,\n              items: items_1\n            };\n\n            _this.trigger('onClose', closeArgs);\n\n            _this.navIdx.pop();\n\n            if (!_this.isMenu) {\n              EventHandler.remove(ul_1, 'keydown', _this.keyHandler);\n\n              if (_this.keyType === 'right') {\n                _this.keyType = '';\n              }\n            }\n          }\n\n          _this.updateReactTemplate();\n\n          var trgtliId;\n          var closedLi;\n          var trgtLi;\n\n          var trgtpopUp = _this.getWrapper() && _this.getUlByNavIdx();\n\n          if (_this.isCMenu) {\n            if (_this.canOpen(e.target)) {\n              _this.openMenu(null, null, _this.pageY, _this.pageX, e);\n            }\n\n            _this.isCMenu = false;\n          }\n\n          if (_this.isMenu && trgtpopUp && popupId.length) {\n            // eslint-disable-next-line\n            trgtliId = new RegExp('(.*)-ej2menu-' + _this.element.id + '-popup').exec(popupId)[1];\n            closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n            trgtLi = liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]');\n          } else if (trgtpopUp) {\n            closedLi = trgtpopUp.querySelector('.e-menu-item.e-selected');\n            trgtLi = liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]');\n          }\n\n          var submenus = liElem_1 && liElem_1.querySelectorAll('.e-menu-item');\n\n          if (isOpen && _this.hamburgerMode && ulIndex && !submenus.length) {\n            _this.afterCloseMenu(e);\n          } else if (isOpen && !_this.hamburgerMode && closedLi && !trgtLi && _this.keyType !== 'left' && (_this.navIdx.length || !_this.isMenu && _this.navIdx.length === 0)) {\n            var ele = e && e.target.classList.contains('e-vscroll') ? closest(e.target, '.e-menu-wrapper') : null;\n\n            if (ele) {\n              ele = ele.querySelector('.e-menu-item');\n\n              if (_this.showItemOnClick || ele && _this.getIndex(ele.id, true).length <= _this.navIdx.length) {\n                _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e, true);\n              }\n            } else {\n              _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e);\n            }\n          } else if (isOpen && !isIterated && !ulIndex && (_this.hamburgerMode && _this.navIdx.length || _this.navIdx.length === 1 && liElem_1 && trgtpopUp !== liElem_1.parentElement)) {\n            _this.closeMenu(null, e);\n          } else if (isOpen && isNullOrUndefined(ulIndex) && _this.navIdx.length) {\n            _this.closeMenu(null, e);\n          } else if (isOpen && !_this.isMenu && !ulIndex && _this.navIdx.length === 0 && !_this.isMenusClosed) {\n            _this.isMenusClosed = true;\n\n            _this.closeMenu(0, e);\n          } else if (isOpen && _this.isMenu && e && e.target && _this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n            _this.closeMenu(0, e);\n          } else if (isOpen && !_this.isMenu && selectAll('.e-menu-parent', wrapper_1)[ulIndex - 1] && e.which === 3) {\n            _this.closeMenu(null, e);\n          } else {\n            if (isOpen && (_this.keyType === 'right' || _this.keyType === 'click')) {\n              _this.afterCloseMenu(e);\n            } else {\n              var cul = _this.getUlByNavIdx();\n\n              var sli_1 = _this.getLIByClass(cul, SELECTED);\n\n              if (sli_1) {\n                sli_1.setAttribute('aria-expanded', 'false');\n                sli_1.classList.remove(SELECTED);\n\n                if (observedCloseArgs.isFocused && liElem_1 || _this.keyType === 'left') {\n                  sli_1.classList.add(FOCUSED);\n\n                  if (!e.target || !e.target.classList.contains('e-edit-template')) {\n                    sli_1.focus();\n                  }\n                }\n              }\n\n              if (!isOpen && _this.hamburgerMode && liElem_1 && liElem_1.getAttribute('aria-expanded') === 'false' && liElem_1.getAttribute('aria-haspopup') === 'true') {\n                if (closest(liElem_1, '.e-menu-parent.e-control')) {\n                  _this.navIdx = [];\n                } else {\n                  _this.navIdx.pop();\n                }\n\n                _this.navIdx.push(_this.cliIdx);\n\n                var item_2 = _this.getItem(_this.navIdx);\n\n                liElem_1.setAttribute('aria-expanded', 'true');\n\n                _this.openMenu(liElem_1, item_2, -1, -1, e);\n              }\n            }\n\n            if (_this.navIdx.length < 1) {\n              if (_this.showSubMenuOn === 'Hover' || _this.showSubMenuOn === 'Click') {\n                _this.showItemOnClick = _this.defaultOption;\n                _this.showSubMenuOn = 'Auto';\n              }\n            }\n          }\n\n          _this.removeStateWrapper();\n        });\n      }\n    }\n  };\n\n  MenuBase.prototype.updateReactTemplate = function () {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (this.isReact && this.template && this.navIdx.length === 0) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      var portals = this.portals.splice(0, this.items.length);\n      this.clearTemplate(['template']); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      this.portals = portals;\n      this.renderReactTemplates();\n    }\n  };\n\n  MenuBase.prototype.getMenuItemModel = function (item, level) {\n    if (isNullOrUndefined(item)) {\n      return null;\n    }\n\n    if (isNullOrUndefined(level)) {\n      level = 0;\n    }\n\n    var fields = this.getFields(level);\n    return {\n      text: item[fields.text],\n      id: item[fields.id],\n      items: item[fields.child],\n      separator: item[fields.separator],\n      iconCss: item[fields.iconCss],\n      url: item[fields.url]\n    };\n  };\n\n  MenuBase.prototype.getPopups = function () {\n    var _this = this;\n\n    var popups = [];\n    [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n      if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n        popups.push(elem);\n      }\n    });\n    return popups;\n  };\n\n  MenuBase.prototype.isMenuVisible = function () {\n    return this.navIdx.length > 0 || this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf();\n  };\n\n  MenuBase.prototype.canOpen = function (target) {\n    var canOpen = true;\n\n    if (this.filter) {\n      canOpen = false;\n      var filter = this.filter.split(' ');\n\n      for (var i = 0, len = filter.length; i < len; i++) {\n        if (closest(target, '.' + filter[i])) {\n          canOpen = true;\n          break;\n        }\n      }\n    }\n\n    return canOpen;\n  };\n\n  MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n    var _this = this;\n\n    if (top === void 0) {\n      top = 0;\n    }\n\n    if (left === void 0) {\n      left = 0;\n    }\n\n    if (e === void 0) {\n      e = null;\n    }\n\n    if (target === void 0) {\n      target = this.targetElement;\n    }\n\n    var wrapper = this.getWrapper();\n    this.lItem = li;\n    var elemId = this.element.id !== '' ? this.element.id : 'menu';\n    this.isMenusClosed = false;\n\n    if (isNullOrUndefined(top)) {\n      top = -1;\n    }\n\n    if (isNullOrUndefined(left)) {\n      left = -1;\n    }\n\n    if (li) {\n      this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n\n      if (!this.isMenu && Browser.isDevice) {\n        wrapper.lastChild.style.display = 'none';\n        var data = {\n          text: item[this.getField('text')].toString(),\n          iconCss: ICONS + ' e-previous'\n        };\n        var hdata = new MenuItem(this.items[0], 'items', data, true);\n        var hli = this.createItems([hdata]).children[0];\n        hli.classList.add(HEADER);\n        this.uList.insertBefore(hli, this.uList.children[0]);\n      }\n\n      if (this.isMenu) {\n        this.popupWrapper = this.createElement('div', {\n          className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP,\n          id: li.id + '-ej2menu-' + elemId + '-popup'\n        });\n\n        if (this.hamburgerMode) {\n          top = li.offsetHeight;\n          li.appendChild(this.popupWrapper);\n        } else {\n          document.body.appendChild(this.popupWrapper);\n        }\n\n        this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n        this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n\n        if (this.template) {\n          this.renderReactTemplates();\n        }\n\n        if (this.hamburgerMode) {\n          this.calculateIndentSize(this.uList, li);\n        } else {\n          if (this.cssClass) {\n            addClass([this.popupWrapper], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n          }\n\n          this.popupObj.hide();\n        }\n\n        if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n          window.clearInterval(this.timer);\n          this.timer = window.setTimeout(function () {\n            _this.triggerBeforeOpen(li, _this.uList, item, e, 0, 0, 'menu');\n          }, this.hoverDelay);\n        } else {\n          this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n        }\n      } else {\n        this.uList.style.zIndex = this.element.style.zIndex;\n        wrapper.appendChild(this.uList);\n\n        if (!this.showItemOnClick && this.hoverDelay) {\n          window.clearInterval(this.timer);\n          this.timer = window.setTimeout(function () {\n            _this.triggerBeforeOpen(li, _this.uList, item, e, top, left, 'none');\n          }, this.hoverDelay);\n        } else {\n          this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n        }\n      }\n    } else {\n      this.uList = this.element;\n      this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n\n      if (isNullOrUndefined(e)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var ev = document.createEvent('MouseEvents');\n        ev.initEvent(\"click\", true, false); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        var targetEvent = this.copyObject(ev, {});\n        targetEvent.target = targetEvent.srcElement = target;\n        targetEvent.currentTarget = target; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        this.triggerBeforeOpen(li, this.uList, item, targetEvent, top, left, 'none');\n      } else {\n        this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n      }\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  MenuBase.prototype.copyObject = function (source, destination) {\n    for (var prop in source) {\n      destination[\"\" + prop] = source[\"\" + prop];\n    }\n\n    return destination;\n  };\n\n  MenuBase.prototype.calculateIndentSize = function (ul, li) {\n    var liStyle = getComputedStyle(li);\n    var liIndent = parseInt(liStyle.textIndent, 10);\n\n    if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n      liIndent *= 2;\n    } else {\n      liIndent += liIndent / 4;\n    }\n\n    ul.style.textIndent = liIndent + 'px';\n    var blankIconElem = ul.querySelectorAll('.e-blankicon');\n\n    if (blankIconElem && blankIconElem.length) {\n      var menuIconElem = ul.querySelector('.e-menu-icon');\n      var menuIconElemStyle = getComputedStyle(menuIconElem);\n      var blankIconIndent = parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent;\n\n      for (var i = 0; i < blankIconElem.length; i++) {\n        blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n      }\n    }\n  };\n\n  MenuBase.prototype.generatePopup = function (popupWrapper, ul, li, isNestedOrVertical) {\n    var _this = this;\n\n    var popupObj = new Popup(popupWrapper, {\n      actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n      relateTo: li,\n      collision: this.hamburgerMode ? {\n        X: 'none',\n        Y: 'none'\n      } : {\n        X: isNestedOrVertical || this.enableRtl ? 'none' : 'flip',\n        Y: 'fit'\n      },\n      position: isNestedOrVertical && !this.hamburgerMode ? {\n        X: 'right',\n        Y: 'top'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      targetType: 'relative',\n      enableRtl: this.enableRtl,\n      content: ul,\n      open: function () {\n        var scrollEle = select('.e-menu-vscroll', popupObj.element);\n\n        if (scrollEle) {\n          scrollEle.style.height = 'inherit';\n          scrollEle.style.maxHeight = '';\n        }\n\n        var ul = select('.e-ul', popupObj.element);\n        popupObj.element.style.maxHeight = '';\n        ul.focus();\n\n        _this.triggerOpen(ul);\n      }\n    });\n    return popupObj;\n  };\n\n  MenuBase.prototype.createHeaderContainer = function (wrapper) {\n    wrapper = wrapper || this.getWrapper();\n    var spanElem = this.createElement('span', {\n      className: 'e-' + this.getModuleName() + '-header'\n    });\n    var tempTitle = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n    var spanTitle = this.createElement('span', {\n      className: 'e-' + this.getModuleName() + '-title',\n      innerHTML: tempTitle\n    });\n    var spanIcon = this.createElement('span', {\n      className: 'e-icons e-' + this.getModuleName() + '-icon',\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    spanElem.appendChild(spanTitle);\n    spanElem.appendChild(spanIcon);\n    wrapper.insertBefore(spanElem, this.element);\n  };\n\n  MenuBase.prototype.openHamburgerMenu = function (e) {\n    if (this.hamburgerMode) {\n      this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n    }\n  };\n\n  MenuBase.prototype.closeHamburgerMenu = function (e) {\n    var _this = this;\n\n    var beforeCloseArgs = {\n      element: this.element,\n      parentItem: null,\n      event: e,\n      items: this.items,\n      cancel: false\n    };\n    this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n      if (!observedHamburgerCloseArgs.cancel) {\n        _this.closeMenu(null, e);\n\n        _this.element.classList.add('e-hide-menu');\n\n        _this.trigger('onClose', {\n          element: _this.element,\n          parentItem: null,\n          items: _this.items\n        });\n      }\n    });\n  };\n\n  MenuBase.prototype.callFit = function (element, x, y, top, left) {\n    return fit(element, null, {\n      X: x,\n      Y: y\n    }, {\n      top: top,\n      left: left\n    });\n  };\n\n  MenuBase.prototype.triggerBeforeOpen = function (li, ul, item, e, top, left, type) {\n    var _this = this;\n\n    var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n    var eventArgs = {\n      element: ul,\n      items: items,\n      parentItem: item,\n      event: e,\n      cancel: false,\n      top: top,\n      left: left,\n      showSubMenuOn: 'Auto'\n    };\n    var menuType = type;\n    this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n      switch (menuType) {\n        case 'menu':\n          if (!_this.hamburgerMode) {\n            if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n              _this.showItemOnClick = !_this.defaultOption;\n              _this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n            }\n\n            _this.top = observedOpenArgs.top;\n            _this.left = observedOpenArgs.left;\n          }\n\n          _this.popupWrapper.style.display = 'block';\n\n          if (!_this.hamburgerMode) {\n            _this.popupWrapper.style.maxHeight = _this.popupWrapper.getBoundingClientRect().height + 'px';\n\n            if (_this.enableScrolling) {\n              addScrolling(_this.createElement, _this.popupWrapper, _this.uList, 'vscroll', _this.enableRtl);\n            }\n\n            _this.checkScrollOffset(e);\n          }\n\n          if (!_this.hamburgerMode && !_this.left && !_this.top) {\n            _this.popupObj.refreshPosition(_this.lItem, true);\n\n            _this.left = parseInt(_this.popupWrapper.style.left, 10);\n            _this.top = parseInt(_this.popupWrapper.style.top, 10);\n\n            if (_this.enableRtl) {\n              _this.left = _this.isNestedOrVertical ? _this.left - _this.popupWrapper.offsetWidth - _this.lItem.parentElement.offsetWidth + 2 : _this.left - _this.popupWrapper.offsetWidth + _this.lItem.offsetWidth;\n            } // eslint-disable-next-line\n\n\n            if (_this.template && (_this.isReact || _this.isAngular)) {\n              requestAnimationFrame(function () {\n                _this.collision();\n\n                _this.popupWrapper.style.display = '';\n              });\n            } else {\n              _this.collision();\n\n              _this.popupWrapper.style.display = '';\n            }\n          } else {\n            _this.popupObj.collision = {\n              X: 'none',\n              Y: 'none'\n            };\n            _this.popupWrapper.style.display = '';\n          }\n\n          break;\n\n        case 'none':\n          _this.top = observedOpenArgs.top;\n          _this.left = observedOpenArgs.left;\n          break;\n\n        case 'hamburger':\n          if (!observedOpenArgs.cancel) {\n            _this.element.classList.remove('e-hide-menu');\n\n            _this.triggerOpen(_this.element);\n          }\n\n          break;\n      }\n\n      if (menuType !== 'hamburger') {\n        if (observedOpenArgs.cancel) {\n          if (_this.isMenu) {\n            _this.popupObj.destroy();\n\n            detach(_this.popupWrapper);\n          } else if (ul.className.indexOf('e-ul') > -1) {\n            detach(ul);\n          }\n\n          _this.navIdx.pop();\n        } else {\n          if (_this.isMenu) {\n            if (_this.hamburgerMode) {\n              _this.popupWrapper.style.top = _this.top + 'px';\n              _this.popupWrapper.style.left = 0 + 'px';\n\n              _this.toggleAnimation(_this.popupWrapper);\n            } else {\n              _this.setBlankIconStyle(_this.popupWrapper);\n\n              _this.wireKeyboardEvent(_this.popupWrapper);\n\n              rippleEffect(_this.popupWrapper, {\n                selector: '.' + ITEM\n              });\n              _this.popupWrapper.style.left = _this.left + 'px';\n              _this.popupWrapper.style.top = _this.top + 'px';\n              var animationOptions = _this.animationSettings.effect !== 'None' ? {\n                name: _this.animationSettings.effect,\n                duration: _this.animationSettings.duration,\n                timingFunction: _this.animationSettings.easing\n              } : null;\n\n              _this.popupObj.show(animationOptions, _this.lItem);\n            }\n          } else {\n            _this.setBlankIconStyle(_this.uList);\n\n            _this.setPosition(_this.lItem, _this.uList, _this.top, _this.left);\n\n            _this.toggleAnimation(_this.uList);\n          }\n        }\n      }\n\n      if (_this.keyType === 'right') {\n        var cul = _this.getUlByNavIdx();\n\n        li.classList.remove(FOCUSED);\n\n        if (_this.isMenu && _this.navIdx.length === 1) {\n          _this.removeLIStateByClass([SELECTED], [_this.getWrapper()]);\n        }\n\n        li.classList.add(SELECTED);\n\n        if (_this.action === ENTER) {\n          var eventArgs_1 = {\n            element: li,\n            item: item,\n            event: e\n          };\n\n          _this.trigger('select', eventArgs_1);\n        }\n\n        li.focus();\n        cul = _this.getUlByNavIdx();\n\n        var index = _this.isValidLI(cul.children[0], 0, _this.action);\n\n        cul.children[index].classList.add(FOCUSED);\n        cul.children[index].focus();\n      }\n    });\n  };\n\n  MenuBase.prototype.collision = function () {\n    var collide;\n    collide = isCollide(this.popupWrapper, null, this.left, this.top);\n\n    if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1 || collide.indexOf('left') > -1)) {\n      this.popupObj.collision.X = 'none';\n      var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n      this.left = this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n    }\n\n    collide = isCollide(this.popupWrapper, null, this.left, this.top);\n\n    if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n      this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n    }\n\n    this.popupWrapper.style.left = this.left + 'px';\n  };\n\n  MenuBase.prototype.setBlankIconStyle = function (menu) {\n    var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n\n    if (!blankIconList.length) {\n      return;\n    }\n\n    var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n\n    if (!iconLi) {\n      return;\n    }\n\n    var icon = iconLi.querySelector('.e-menu-icon');\n\n    if (!icon) {\n      return;\n    }\n\n    var cssProp = this.enableRtl ? {\n      padding: 'paddingRight',\n      margin: 'marginLeft'\n    } : {\n      padding: 'paddingLeft',\n      margin: 'marginRight'\n    };\n    var iconCssProps = getComputedStyle(icon);\n    var iconSize = parseInt(iconCssProps.fontSize, 10);\n\n    if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n      iconSize = parseInt(iconCssProps.width, 10);\n    } // eslint:disable\n\n\n    var size = iconSize + parseInt( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10) + \"px\";\n    blankIconList.forEach(function (li) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      li.style[cssProp.padding] = size;\n    }); // eslint:enable\n  };\n\n  MenuBase.prototype.checkScrollOffset = function (e) {\n    var wrapper = this.getWrapper();\n\n    if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n      var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n      var offsetEle = select('.e-hscroll-bar', wrapper);\n\n      if (offsetEle.scrollLeft > trgt.offsetLeft) {\n        offsetEle.scrollLeft -= offsetEle.scrollLeft - trgt.offsetLeft;\n      }\n\n      var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n      var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n\n      if (offsetLeft < offsetRight) {\n        offsetEle.scrollLeft += offsetRight - offsetLeft;\n      }\n    }\n  };\n\n  MenuBase.prototype.setPosition = function (li, ul, top, left) {\n    var px = 'px';\n    this.toggleVisiblity(ul);\n\n    if (ul === this.element || left > -1 && top > -1) {\n      var collide = isCollide(ul, null, left, top);\n\n      if (collide.indexOf('right') > -1) {\n        left = left - ul.offsetWidth;\n      }\n\n      if (collide.indexOf('bottom') > -1) {\n        var offset = this.callFit(ul, false, true, top, left);\n        top = offset.top - 20;\n\n        if (top < 0) {\n          var newTop = pageYOffset + document.documentElement.clientHeight - ul.getBoundingClientRect().height;\n\n          if (newTop > -1) {\n            top = newTop;\n          }\n        }\n      }\n\n      collide = isCollide(ul, null, left, top);\n\n      if (collide.indexOf('left') > -1) {\n        var offset = this.callFit(ul, true, false, top, left);\n        left = offset.left;\n      }\n    } else {\n      if (Browser.isDevice) {\n        top = Number(this.element.style.top.replace(px, ''));\n        left = Number(this.element.style.left.replace(px, ''));\n      } else {\n        var x = this.enableRtl ? 'left' : 'right';\n        var offset = calculatePosition(li, x, 'top');\n        top = offset.top;\n        left = offset.left;\n        var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n        var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n\n        if (xCollision) {\n          offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n          left = offset.left;\n        }\n\n        if (this.enableRtl || xCollision) {\n          left = this.enableRtl && xCollision ? left : left - ul.offsetWidth;\n        }\n\n        if (collide.indexOf('bottom') > -1) {\n          offset = this.callFit(ul, false, true, top, left);\n          top = offset.top;\n        }\n      }\n    }\n\n    this.toggleVisiblity(ul, false);\n    ul.style.top = top + px;\n    ul.style.left = left + px;\n  };\n\n  MenuBase.prototype.toggleVisiblity = function (ul, isVisible$$1) {\n    if (isVisible$$1 === void 0) {\n      isVisible$$1 = true;\n    }\n\n    ul.style.visibility = isVisible$$1 ? 'hidden' : '';\n    ul.style.display = isVisible$$1 ? 'block' : 'none';\n  };\n\n  MenuBase.prototype.createItems = function (items) {\n    var _this = this;\n\n    var level = this.navIdx ? this.navIdx.length : 0;\n    var fields = this.getFields(level);\n    var showIcon = this.hasField(items, this.getField('iconCss', level));\n    var listBaseOptions = {\n      showIcon: showIcon,\n      moduleName: 'menu',\n      fields: fields,\n      template: this.template,\n      itemNavigable: true,\n      itemCreating: function (args) {\n        if (!args.curData[args.fields[fields.id]]) {\n          args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n        }\n\n        if (isNullOrUndefined(args.curData.htmlAttributes)) {\n          args.curData.htmlAttributes = {};\n        }\n\n        Object.assign(args.curData.htmlAttributes, {\n          role: 'menuitem',\n          tabindex: '-1'\n        });\n\n        if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n          args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text] ? args.curData[args.fields.text] : args.curData[args.fields.id];\n        }\n\n        if (args.curData[args.fields[fields.iconCss]] === '') {\n          args.curData[args.fields[fields.iconCss]] = null;\n        }\n      },\n      itemCreated: function (args) {\n        if (args.curData[_this.getField('separator', level)]) {\n          args.item.classList.add(SEPARATOR);\n          args.item.setAttribute('role', 'separator');\n        }\n\n        if (showIcon && !args.curData[args.fields.iconCss] && !args.curData[_this.getField('separator', level)]) {\n          args.item.classList.add('e-blankicon');\n        }\n\n        if (args.curData[args.fields.child] && args.curData[args.fields.child].length) {\n          var span = _this.createElement('span', {\n            className: ICONS + ' ' + CARET\n          });\n\n          args.item.appendChild(span);\n          args.item.setAttribute('aria-haspopup', 'true');\n          args.item.setAttribute('aria-expanded', 'false');\n          args.item.classList.add('e-menu-caret-icon');\n        }\n\n        if (_this.isMenu && _this.template) {\n          args.item.setAttribute('id', args.curData[args.fields.id].toString());\n          args.item.removeAttribute('data-uid');\n\n          if (args.item.classList.contains('e-level-1')) {\n            args.item.classList.remove('e-level-1');\n          }\n\n          if (args.item.classList.contains('e-has-child')) {\n            args.item.classList.remove('e-has-child');\n          }\n\n          args.item.removeAttribute('aria-level');\n        }\n\n        var eventArgs = {\n          item: args.curData,\n          element: args.item\n        };\n\n        _this.trigger('beforeItemRender', eventArgs);\n      }\n    };\n    this.setProperties({\n      'items': this.items\n    }, true);\n\n    if (this.isMenu) {\n      listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n    }\n\n    var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n    ul.setAttribute('tabindex', '0');\n\n    if (this.isMenu) {\n      ul.setAttribute('role', 'menu');\n    } else {\n      ul.setAttribute('role', 'menubar');\n    }\n\n    return ul;\n  };\n\n  MenuBase.prototype.moverHandler = function (e) {\n    var trgt = e.target;\n    this.liTrgt = trgt;\n    var cli = this.getLI(trgt);\n    var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n    var hdrWrapper = this.getWrapper();\n    var regex = new RegExp('-ej2menu-(.*)-popup');\n    var ulId;\n    var isDifferentElem = false;\n\n    if (!wrapper) {\n      return;\n    }\n\n    if (wrapper.id !== '') {\n      ulId = regex.exec(wrapper.id)[1];\n    } else {\n      ulId = wrapper.querySelector('ul').id;\n    }\n\n    if (ulId !== this.element.id) {\n      this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n\n      if (this.navIdx.length) {\n        isDifferentElem = true;\n      } else {\n        return;\n      }\n    }\n\n    if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n      this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n      this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n      cli.classList.add(FOCUSED);\n\n      if (!this.showItemOnClick) {\n        this.clickHandler(e);\n      }\n    } else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n      this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n    }\n\n    if (this.isMenu) {\n      if (!this.showItemOnClick && trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup') && (!cli || cli && !this.getIndex(cli.id, true).length) && this.showSubMenuOn !== 'Hover') {\n        this.removeLIStateByClass([FOCUSED], [wrapper]);\n\n        if (this.navIdx.length) {\n          this.isClosed = true;\n          this.closeMenu(null, e);\n        }\n      } else if (isDifferentElem && !this.showItemOnClick) {\n        if (this.navIdx.length) {\n          this.isClosed = true;\n          this.closeMenu(null, e);\n        }\n      }\n\n      if (!this.isClosed) {\n        this.removeStateWrapper();\n      }\n\n      this.isClosed = false;\n    }\n  };\n\n  MenuBase.prototype.removeStateWrapper = function () {\n    if (this.liTrgt) {\n      var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n\n      if (this.liTrgt.tagName === 'DIV' && wrapper) {\n        this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n      }\n    }\n  };\n\n  MenuBase.prototype.removeLIStateByClass = function (classList$$1, element) {\n    var li;\n\n    var _loop_1 = function (i) {\n      classList$$1.forEach(function (className) {\n        li = select('.' + className, element[i]);\n\n        if (li) {\n          li.classList.remove(className);\n        }\n      });\n    };\n\n    for (var i = 0; i < element.length; i++) {\n      _loop_1(i);\n    }\n  };\n\n  MenuBase.prototype.getField = function (propName, level) {\n    if (level === void 0) {\n      level = 0;\n    }\n\n    var fieldName = this.fields[\"\" + propName];\n    return typeof fieldName === 'string' ? fieldName : !fieldName[level] ? fieldName[fieldName.length - 1].toString() : fieldName[level].toString();\n  };\n\n  MenuBase.prototype.getFields = function (level) {\n    if (level === void 0) {\n      level = 0;\n    }\n\n    return {\n      id: this.getField('itemId', level),\n      iconCss: this.getField('iconCss', level),\n      text: this.getField('text', level),\n      url: this.getField('url', level),\n      child: this.getField('children', level),\n      separator: this.getField('separator', level)\n    };\n  };\n\n  MenuBase.prototype.hasField = function (items, field) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      if (items[i][\"\" + field]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  MenuBase.prototype.menuHeaderClickHandler = function (e) {\n    if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n      return;\n    }\n\n    if (this.element.className.indexOf('e-hide-menu') > -1) {\n      this.openHamburgerMenu(e);\n    } else {\n      this.closeHamburgerMenu(e);\n    }\n  };\n\n  MenuBase.prototype.clickHandler = function (e) {\n    if (this.isTapHold) {\n      this.isTapHold = false;\n    } else {\n      var wrapper = this.getWrapper();\n      var trgt = e.target;\n      var cli = this.cli = this.getLI(trgt);\n      var regex = new RegExp('-ej2menu-(.*)-popup');\n      var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n      var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0 : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n\n      if (Browser.isDevice && this.isMenu) {\n        this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        this.mouseDownHandler(e);\n      }\n\n      if (cli && cliWrapper && this.isMenu) {\n        var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n\n        if (this.element.id !== cliWrapperId) {\n          return;\n        }\n      }\n\n      if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n        this.setLISelected(cli);\n        var navIdx = this.getIndex(cli.id, true);\n        var item = this.getItem(navIdx);\n        var eventArgs = {\n          element: cli,\n          item: item,\n          event: e\n        };\n        this.trigger('select', eventArgs);\n      }\n\n      if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n        var ul = void 0;\n\n        if (cli.classList.contains(HEADER)) {\n          ul = wrapper.children[this.navIdx.length - 1];\n          this.toggleAnimation(ul);\n          var sli = this.getLIByClass(ul, SELECTED);\n\n          if (sli) {\n            sli.classList.remove(SELECTED);\n          }\n\n          detach(cli.parentNode);\n          this.navIdx.pop();\n        } else {\n          if (!cli.classList.contains(SEPARATOR)) {\n            this.showSubMenu = true;\n            var cul = cli.parentNode;\n            this.cliIdx = this.getIdx(cul, cli);\n\n            if (this.isMenu || !Browser.isDevice) {\n              var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper')) : this.getIdx(wrapper, cul);\n\n              if (this.navIdx[culIdx] === this.cliIdx) {\n                this.showSubMenu = false;\n              }\n\n              if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                var sli = this.getLIByClass(cul, SELECTED);\n\n                if (sli) {\n                  sli.classList.remove(SELECTED);\n                }\n\n                this.isClosed = true;\n                this.keyType = 'click';\n\n                if (this.showItemOnClick) {\n                  this.setLISelected(cli);\n                }\n\n                this.closeMenu(culIdx + 1, e);\n\n                if (this.showItemOnClick) {\n                  this.setLISelected(cli);\n                }\n              }\n            }\n\n            if (!this.isClosed) {\n              this.afterCloseMenu(e);\n            }\n\n            this.isClosed = false;\n          }\n        }\n      } else {\n        if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n          var popupEle = closest(trgt, '.' + POPUP);\n          var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n\n          if (cIdx < this.navIdx.length) {\n            this.closeMenu(cIdx + 1, e);\n\n            if (popupEle) {\n              this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n            }\n          }\n        } else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n          this.menuHeaderClickHandler(e);\n        } else {\n          if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') && !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n            if (!cli) {\n              this.removeLIStateByClass([SELECTED], [wrapper]);\n            }\n\n            if (!cli || !cli.querySelector('.' + CARET)) {\n              this.closeMenu(null, e);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  MenuBase.prototype.afterCloseMenu = function (e) {\n    var isHeader;\n\n    if (this.showSubMenu) {\n      if (this.showItemOnClick && this.navIdx.length === 0) {\n        isHeader = closest(e.target, '.e-menu-parent.e-control');\n      } else {\n        isHeader = closest(this.element, '.e-menu-parent.e-control');\n      }\n\n      var idx = this.navIdx.concat(this.cliIdx);\n      var item = this.getItem(idx);\n\n      if (item && item[this.getField('children', idx.length - 1)] && item[this.getField('children', idx.length - 1)].length) {\n        if (e.type === 'mouseover' || Browser.isDevice && this.isMenu) {\n          this.setLISelected(this.cli);\n        }\n\n        if (!this.hamburgerMode && isHeader || this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false') {\n          this.cli.setAttribute('aria-expanded', 'true');\n          this.navIdx.push(this.cliIdx);\n          this.openMenu(this.cli, item, null, null, e);\n        }\n      } else {\n        if (e.type !== 'mouseover') {\n          this.closeMenu(null, e);\n        }\n      }\n\n      if (!isHeader) {\n        var cul = this.getUlByNavIdx();\n        var sli = this.getLIByClass(cul, SELECTED);\n\n        if (sli) {\n          sli.setAttribute('aria-expanded', 'false');\n          sli.classList.remove(SELECTED);\n        }\n      }\n    }\n\n    this.keyType = '';\n  };\n\n  MenuBase.prototype.setLISelected = function (li) {\n    var sli = this.getLIByClass(li.parentElement, SELECTED);\n\n    if (sli) {\n      sli.classList.remove(SELECTED);\n    }\n\n    if (!this.isMenu) {\n      li.classList.remove(FOCUSED);\n    }\n\n    li.classList.add(SELECTED);\n  };\n\n  MenuBase.prototype.getLIByClass = function (ul, classname) {\n    for (var i = 0, len = ul.children.length; i < len; i++) {\n      if (ul.children[i].classList.contains(classname)) {\n        return ul.children[i];\n      }\n    }\n\n    return null;\n  };\n  /**\n   * This method is used to get the index of the menu item in the Menu based on the argument.\n   *\n   * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.getItemIndex = function (item, isUniqueId) {\n    var idx;\n\n    if (typeof item === 'string') {\n      idx = item;\n    } else {\n      idx = item.id;\n    }\n\n    var isText = isUniqueId === false ? false : true;\n    var navIdx = this.getIndex(idx, isText);\n    return navIdx;\n  };\n  /**\n   * This method is used to set the menu item in the Menu based on the argument.\n   *\n   * @param {MenuItem} item - item need to be updated.\n   * @param {string} id - id / text to be passed to update the item.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.setItem = function (item, id, isUniqueId) {\n    var idx;\n\n    if (isUniqueId) {\n      idx = id ? id : item.id;\n    } else {\n      idx = id ? id : item.text;\n    }\n\n    var navIdx = this.getIndex(idx, isUniqueId);\n    var newItem = this.getItem(navIdx);\n    Object.assign(newItem, item);\n  };\n\n  MenuBase.prototype.getItem = function (navIdx) {\n    navIdx = navIdx.slice();\n    var idx = navIdx.pop();\n    var items = this.getItems(navIdx);\n    return items[idx];\n  };\n\n  MenuBase.prototype.getItems = function (navIdx) {\n    var items = this.items;\n\n    for (var i = 0; i < navIdx.length; i++) {\n      items = items[navIdx[i]][this.getField('children', i)];\n    }\n\n    return items;\n  };\n\n  MenuBase.prototype.setItems = function (newItems, navIdx) {\n    var items = this.getItems(navIdx);\n    items.splice(0, items.length);\n\n    for (var i = 0; i < newItems.length; i++) {\n      items.splice(i, 0, newItems[i]);\n    }\n  };\n\n  MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n    if (skipHdr === void 0) {\n      skipHdr = true;\n    }\n\n    var idx = Array.prototype.indexOf.call(ul.children, li);\n\n    if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n      idx--;\n    }\n\n    return idx;\n  };\n\n  MenuBase.prototype.getLI = function (elem) {\n    if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n      return elem;\n    }\n\n    return closest(elem, 'li.e-menu-item');\n  };\n\n  MenuBase.prototype.updateItemsByNavIdx = function () {\n    var items = this.items;\n    var count = 0;\n\n    for (var index = 0; index < this.navIdx.length; index++) {\n      items = items[index].items;\n\n      if (!items) {\n        break;\n      }\n\n      count++;\n      var ul = this.getUlByNavIdx(count);\n\n      if (!ul) {\n        break;\n      }\n\n      this.updateItem(ul, items);\n    }\n  };\n\n  MenuBase.prototype.removeChildElement = function (elem) {\n    while (elem.firstElementChild) {\n      elem.removeChild(elem.firstElementChild);\n    }\n\n    return elem;\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {MenuBaseModel} newProp - Specifies the new properties\n   * @param {MenuBaseModel} oldProp - Specifies the old properties\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    var wrapper = this.getWrapper();\n\n    var _loop_2 = function (prop) {\n      switch (prop) {\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([wrapper], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([wrapper], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n          }\n\n          break;\n\n        case 'enableRtl':\n          wrapper.classList.toggle(RTL);\n          break;\n\n        case 'showItemOnClick':\n          this_1.unWireEvents();\n          this_1.showItemOnClick = newProp.showItemOnClick;\n          this_1.wireEvents();\n          break;\n\n        case 'enableScrolling':\n          if (newProp.enableScrolling) {\n            var ul_2;\n\n            if (this_1.element.classList.contains('e-vertical')) {\n              addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n            } else {\n              addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n            }\n\n            this_1.getPopups().forEach(function (wrapper) {\n              ul_2 = select('.e-ul', wrapper);\n              addScrolling(_this.createElement, wrapper, ul_2, 'vscroll', _this.enableRtl);\n            });\n          } else {\n            var ul_3 = wrapper.children[0];\n\n            if (this_1.element.classList.contains('e-vertical')) {\n              destroyScroll(getInstance(ul_3, VScroll), ul_3);\n            } else {\n              destroyScroll(getInstance(ul_3, HScroll), ul_3);\n            }\n\n            wrapper.style.overflow = '';\n            wrapper.appendChild(this_1.element);\n            this_1.getPopups().forEach(function (wrapper) {\n              ul_3 = wrapper.children[0];\n              destroyScroll(getInstance(ul_3, VScroll), ul_3);\n              wrapper.style.overflow = '';\n            });\n          }\n\n          break;\n\n        case 'items':\n          {\n            var idx = void 0;\n            var navIdx = void 0;\n            var item = void 0; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n            if (this_1.isReact && this_1.template) {\n              this_1.clearTemplate(['template']);\n            }\n\n            if (!Object.keys(oldProp.items).length) {\n              this_1.updateItem(this_1.element, this_1.items);\n\n              if (this_1.enableScrolling && this_1.element.parentElement.classList.contains('e-custom-scroll')) {\n                if (this_1.element.classList.contains('e-vertical')) {\n                  addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                } else {\n                  addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                }\n              }\n\n              if (!this_1.hamburgerMode) {\n                for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                  detach(wrapper.lastElementChild);\n                }\n              }\n\n              this_1.navIdx = [];\n            } else {\n              var keys = Object.keys(newProp.items);\n\n              for (var i = 0; i < keys.length; i++) {\n                navIdx = this_1.getChangedItemIndex(newProp, [], Number(keys[i]));\n\n                if (navIdx.length <= this_1.getWrapper().children.length) {\n                  idx = navIdx.pop();\n                  item = this_1.getItems(navIdx);\n                  this_1.insertAfter([item[idx]], item[idx].text);\n                  this_1.removeItem(item, navIdx, idx);\n                  this_1.setItems(item, navIdx);\n                }\n\n                navIdx.length = 0;\n              }\n            }\n\n            break;\n          }\n      }\n    };\n\n    var this_1 = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      _loop_2(prop);\n    }\n  };\n\n  MenuBase.prototype.updateItem = function (ul, items) {\n    if (isBlazor() && !this.isMenu) {\n      ul = this.removeChildElement(ul);\n    } else {\n      if (this.enableScrolling) {\n        var wrapper1 = this.getWrapper();\n        var ul1 = wrapper1.children[0];\n\n        if (this.element.classList.contains('e-vertical')) {\n          destroyScroll(getInstance(ul1, VScroll), ul1);\n        } else {\n          destroyScroll(getInstance(ul1, HScroll), ul1);\n        }\n      }\n\n      ul.innerHTML = '';\n    }\n\n    var lis = [].slice.call(this.createItems(items).children);\n    lis.forEach(function (li) {\n      ul.appendChild(li);\n    });\n  };\n\n  MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n    index.push(idx);\n    var key = Object.keys(newProp.items[idx]).pop();\n\n    if (key === 'items') {\n      var item = newProp.items[idx];\n      var popStr = Object.keys(item.items).pop();\n\n      if (popStr) {\n        this.getChangedItemIndex(item, index, Number(popStr));\n      }\n    } else {\n      if (key === 'isParentArray' && index.length > 1) {\n        index.pop();\n      }\n    }\n\n    return index;\n  };\n\n  MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n    item.splice(idx, 1);\n    var uls = this.getWrapper().children;\n\n    if (navIdx.length < uls.length) {\n      detach(uls[navIdx.length].children[idx]);\n    }\n  };\n  /**\n   * Used to unwire the bind events.\n   *\n   * @private\n   * @param {string} targetSelctor - Specifies the target selector\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.unWireEvents = function (targetSelctor) {\n    if (targetSelctor === void 0) {\n      targetSelctor = this.target;\n    }\n\n    var wrapper = this.getWrapper();\n\n    if (targetSelctor) {\n      var target = void 0;\n      var touchModule = void 0;\n      var targetElems = selectAll(targetSelctor);\n\n      for (var i = 0, len = targetElems.length; i < len; i++) {\n        target = targetElems[i];\n\n        if (this.isMenu) {\n          EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n        } else {\n          if (Browser.isIos) {\n            touchModule = getInstance(target, Touch);\n\n            if (touchModule) {\n              touchModule.destroy();\n            }\n          } else {\n            EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n          }\n        }\n      }\n\n      if (!this.isMenu) {\n        EventHandler.remove(this.targetElement, 'mousewheel DOMMouseScroll', this.scrollHandler);\n\n        for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n          var parent_2 = _a[_i];\n          EventHandler.remove(parent_2, 'mousewheel DOMMouseScroll', this.scrollHandler);\n        }\n      }\n    }\n\n    if (!Browser.isDevice) {\n      EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n      EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n    }\n\n    EventHandler.remove(document, 'click', this.delegateClickHandler);\n    this.unWireKeyboardEvent(wrapper);\n    this.rippleFn();\n  };\n\n  MenuBase.prototype.unWireKeyboardEvent = function (element) {\n    var keyboardModule = getInstance(element, KeyboardEvents);\n\n    if (keyboardModule) {\n      keyboardModule.destroy();\n    }\n  };\n\n  MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n    var _this = this;\n\n    if (isMenuOpen === void 0) {\n      isMenuOpen = true;\n    }\n\n    var pUlHeight;\n    var pElement;\n\n    if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n      this.end(ul, isMenuOpen);\n    } else {\n      this.animation.animate(ul, {\n        name: this.animationSettings.effect,\n        duration: this.animationSettings.duration,\n        timingFunction: this.animationSettings.easing,\n        begin: function (options) {\n          if (_this.hamburgerMode) {\n            pElement = options.element.parentElement;\n            options.element.style.position = 'absolute';\n            pUlHeight = pElement.offsetHeight;\n            options.element.style.maxHeight = options.element.offsetHeight + 'px';\n            pElement.style.maxHeight = '';\n          } else {\n            options.element.style.display = 'block';\n            options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n          }\n        },\n        progress: function (options) {\n          if (_this.hamburgerMode) {\n            pElement.style.minHeight = pUlHeight + options.element.offsetHeight + 'px';\n          }\n        },\n        end: function (options) {\n          if (_this.hamburgerMode) {\n            options.element.style.position = '';\n            options.element.style.maxHeight = '';\n            pElement.style.minHeight = '';\n            options.element.style.top = 0 + 'px';\n            options.element.children[0].focus();\n\n            _this.triggerOpen(options.element.children[0]);\n          } else {\n            _this.end(options.element, isMenuOpen);\n          }\n        }\n      });\n    }\n  };\n\n  MenuBase.prototype.triggerOpen = function (ul) {\n    var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n    var eventArgs = {\n      element: ul,\n      parentItem: item,\n      items: item ? item.items : this.items\n    };\n    this.trigger('onOpen', eventArgs);\n\n    if (!this.isMenu) {\n      EventHandler.add(ul, 'keydown', this.keyHandler, this);\n    }\n  };\n\n  MenuBase.prototype.end = function (ul, isMenuOpen) {\n    if (isMenuOpen) {\n      ul.style.display = 'block';\n      ul.style.maxHeight = '';\n      this.triggerOpen(ul);\n\n      if (ul.querySelector('.' + FOCUSED)) {\n        ul.querySelector('.' + FOCUSED).focus();\n      } else {\n        var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n\n        if (this.currentTarget) {\n          if (!(this.currentTarget.classList.contains('e-numerictextbox') || this.currentTarget.classList.contains('e-textbox') || this.currentTarget.tagName === 'INPUT')) {\n            if (ele) {\n              ele.querySelector('.' + SELECTED).focus();\n            } else {\n              this.element.focus();\n            }\n          }\n        } else {\n          if (ele) {\n            ele.querySelector('.' + SELECTED).focus();\n          } else {\n            this.element.focus();\n          }\n        }\n      }\n    } else {\n      if (ul === this.element) {\n        var fli = this.getLIByClass(this.element, FOCUSED);\n\n        if (fli) {\n          fli.classList.remove(FOCUSED);\n        }\n\n        var sli = this.getLIByClass(this.element, SELECTED);\n\n        if (sli) {\n          sli.classList.remove(SELECTED);\n        }\n\n        ul.style.display = 'none';\n      } else {\n        detach(ul);\n      }\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n\n\n  MenuBase.prototype.getPersistData = function () {\n    return '';\n  };\n  /**\n   * Get wrapper element.\n   *\n   * @returns {Element} - Wrapper element\n   * @private\n   */\n\n\n  MenuBase.prototype.getWrapper = function () {\n    return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n  };\n\n  MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n    if (items === void 0) {\n      items = this.items;\n    }\n\n    if (nIndex === void 0) {\n      nIndex = [];\n    }\n\n    if (isCallBack === void 0) {\n      isCallBack = false;\n    }\n\n    if (level === void 0) {\n      level = 0;\n    }\n\n    var item;\n    level = isCallBack ? level + 1 : 0;\n\n    for (var i = 0, len = items.length; i < len; i++) {\n      item = items[i];\n\n      if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n        nIndex.push(i);\n        break;\n      } else if (item[this.getField('children', level)] && item[this.getField('children', level)].length) {\n        nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n\n        if (nIndex[nIndex.length - 1] === -1) {\n          if (i !== len - 1) {\n            nIndex.pop();\n          }\n        } else {\n          nIndex.unshift(i);\n          break;\n        }\n      } else {\n        if (i === len - 1) {\n          nIndex.push(-1);\n        }\n      }\n    }\n\n    return !isCallBack && nIndex[0] === -1 ? [] : nIndex;\n  };\n  /**\n   * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n   *\n   * @param {string[]} items - Text items that needs to be enabled/disabled.\n   * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n    if (enable === void 0) {\n      enable = true;\n    }\n\n    var ul;\n    var idx;\n    var navIdx;\n    var disabled = DISABLED;\n    var skipItem;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(items[i], isUniqueId);\n\n      if (this.navIdx.length) {\n        if (navIdx.length !== 1) {\n          skipItem = false;\n\n          for (var i_1 = 0, len = navIdx.length - 1; i_1 < len; i_1++) {\n            if (navIdx[i_1] !== this.navIdx[i_1]) {\n              skipItem = true;\n              break;\n            }\n          }\n\n          if (skipItem) {\n            continue;\n          }\n        }\n      } else {\n        if (navIdx.length !== 1) {\n          continue;\n        }\n      }\n\n      idx = navIdx.pop();\n      ul = this.getUlByNavIdx(navIdx.length);\n\n      if (ul && !isNullOrUndefined(idx)) {\n        if (enable) {\n          if (this.isMenu) {\n            ul.children[idx].classList.remove(disabled);\n            ul.children[idx].removeAttribute('aria-disabled');\n          } else {\n            if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n              ul.children[idx + 1].classList.remove(disabled);\n            } else {\n              ul.children[idx].classList.remove(disabled);\n            }\n          }\n        } else {\n          if (this.isMenu) {\n            ul.children[idx].classList.add(disabled);\n            ul.children[idx].setAttribute('aria-disabled', 'true');\n          } else {\n            if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n              ul.children[idx + 1].classList.add(disabled);\n            } else {\n              ul.children[idx].classList.add(disabled);\n            }\n          }\n        }\n      }\n    }\n  };\n  /**\n   * This method is used to show the menu items in the Menu based on the items text.\n   *\n   * @param {string[]} items - Text items that needs to be shown.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.showItems = function (items, isUniqueId) {\n    this.showHideItems(items, false, isUniqueId);\n  };\n  /**\n   * This method is used to hide the menu items in the Menu based on the items text.\n   *\n   * @param {string[]} items - Text items that needs to be hidden.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.hideItems = function (items, isUniqueId) {\n    this.showHideItems(items, true, isUniqueId);\n  };\n\n  MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n    var ul;\n    var index;\n    var navIdx;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(items[i], isUniqueId);\n      index = navIdx.pop();\n      ul = this.getUlByNavIdx(navIdx.length);\n\n      if (ul) {\n        var validUl = isUniqueId ? ul.children[index].id : ul.children[index].textContent;\n\n        if (ishide && validUl === items[i]) {\n          ul.children[index].classList.add(HIDE);\n        } else {\n          ul.children[index].classList.remove(HIDE);\n        }\n      }\n    }\n  };\n  /**\n   * It is used to remove the menu items from the Menu based on the items text.\n   *\n   * @param {string[]} items Text items that needs to be removed.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.removeItems = function (items, isUniqueId) {\n    var idx;\n    var navIdx;\n    var iitems;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(items[i], isUniqueId);\n      idx = navIdx.pop();\n      iitems = this.getItems(navIdx);\n\n      if (!isNullOrUndefined(idx)) {\n        this.removeItem(iitems, navIdx, idx);\n      }\n    }\n  };\n  /**\n   * It is used to insert the menu items after the specified menu item text.\n   *\n   * @param {MenuItemModel[]} items - Items that needs to be inserted.\n   * @param {string} text - Text item after that the element to be inserted.\n   * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n    this.insertItems(items, text, isUniqueId);\n  };\n  /**\n   * It is used to insert the menu items before the specified menu item text.\n   *\n   * @param {MenuItemModel[]} items - Items that needs to be inserted.\n   * @param {string} text - Text item before that the element to be inserted.\n   * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n    this.insertItems(items, text, isUniqueId, false);\n  };\n\n  MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n    if (isAfter === void 0) {\n      isAfter = true;\n    }\n\n    var li;\n    var idx;\n    var navIdx;\n    var iitems;\n    var menuitem;\n\n    for (var i = 0; i < items.length; i++) {\n      navIdx = this.getIndex(text, isUniqueId);\n      idx = navIdx.pop();\n      iitems = this.getItems(navIdx);\n      menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n      iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n      var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n\n      if (!isNullOrUndefined(idx) && navIdx.length < uls.length) {\n        idx = isAfter ? idx + 1 : idx;\n        li = this.createItems(iitems).children[idx];\n        var ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n        ul.insertBefore(li, ul.children[idx]);\n      }\n    }\n  };\n\n  MenuBase.prototype.removeAttributes = function () {\n    var _this = this;\n\n    ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n      _this.element.style.removeProperty(key);\n    });\n    ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n      if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n        _this.element.classList.remove('e-menu-parent');\n      }\n\n      if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n        _this.element.removeAttribute(key);\n      }\n\n      if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n        _this.element.classList.remove('e-vertical');\n      }\n    });\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  MenuBase.prototype.destroy = function () {\n    var wrapper = this.getWrapper();\n\n    if (wrapper) {\n      this.unWireEvents();\n\n      if (!this.isMenu) {\n        this.clonedElement.style.display = '';\n\n        if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n          addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n          this.element = this.clonedElement;\n        } else {\n          if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n            this.setProperties({\n              'items': []\n            }, true);\n          }\n\n          if (document.getElementById(this.clonedElement.id)) {\n            var refEle = this.clonedElement.nextElementSibling;\n\n            if (refEle && refEle !== wrapper) {\n              this.clonedElement.parentElement.insertBefore(this.element, refEle);\n            } else {\n              this.clonedElement.parentElement.appendChild(this.element);\n            }\n\n            if (isBlazor() && !this.isMenu) {\n              this.element = this.removeChildElement(this.element);\n            } else {\n              this.element.innerHTML = '';\n            }\n\n            append([].slice.call(this.clonedElement.children), this.element);\n            detach(this.clonedElement);\n            this.removeAttributes();\n          }\n        }\n\n        this.clonedElement = null;\n      } else {\n        this.closeMenu();\n\n        if (isBlazor() && !this.isMenu) {\n          this.element = this.removeChildElement(this.element);\n        } else {\n          this.element.innerHTML = '';\n        }\n\n        this.removeAttributes();\n        wrapper.parentNode.insertBefore(this.element, wrapper);\n        this.clonedElement = null;\n      }\n\n      if (this.isMenu && this.clonedElement) {\n        detach(this.element);\n        wrapper.style.display = '';\n        wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n        wrapper.removeAttribute('data-ripple');\n      } else {\n        detach(wrapper);\n      }\n\n      _super.prototype.destroy.call(this);\n\n      if (this.template) {\n        this.clearTemplate(['template']);\n      }\n    }\n\n    this.rippleFn = null;\n  };\n\n  __decorate$2([Event()], MenuBase.prototype, \"beforeItemRender\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"beforeOpen\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"onOpen\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"beforeClose\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"onClose\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"select\", void 0);\n\n  __decorate$2([Event()], MenuBase.prototype, \"created\", void 0);\n\n  __decorate$2([Property('')], MenuBase.prototype, \"cssClass\", void 0);\n\n  __decorate$2([Property(0)], MenuBase.prototype, \"hoverDelay\", void 0);\n\n  __decorate$2([Property(false)], MenuBase.prototype, \"showItemOnClick\", void 0);\n\n  __decorate$2([Property('')], MenuBase.prototype, \"target\", void 0);\n\n  __decorate$2([Property('')], MenuBase.prototype, \"filter\", void 0);\n\n  __decorate$2([Property(null)], MenuBase.prototype, \"template\", void 0);\n\n  __decorate$2([Property(false)], MenuBase.prototype, \"enableScrolling\", void 0);\n\n  __decorate$2([Property(false)], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$2([Complex({\n    itemId: 'id',\n    text: 'text',\n    parentId: 'parentId',\n    iconCss: 'iconCss',\n    url: 'url',\n    separator: 'separator',\n    children: 'items'\n  }, FieldSettings)], MenuBase.prototype, \"fields\", void 0);\n\n  __decorate$2([Collection([], MenuItem)], MenuBase.prototype, \"items\", void 0);\n\n  __decorate$2([Complex({\n    duration: 400,\n    easing: 'ease',\n    effect: 'SlideDown'\n  }, MenuAnimationSettings)], MenuBase.prototype, \"animationSettings\", void 0);\n\n  MenuBase = __decorate$2([NotifyPropertyChanges], MenuBase);\n  return MenuBase;\n}(Component);\n/**\n * Navigation Common modules\n */\n\n\nvar __extends$3 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL$2 = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE$2 = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR$1 = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\n\nvar Item =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(Item, _super);\n\n  function Item() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$3([Property('')], Item.prototype, \"id\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"text\", void 0);\n\n  __decorate$3([Property('auto')], Item.prototype, \"width\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"cssClass\", void 0);\n\n  __decorate$3([Property(false)], Item.prototype, \"showAlwaysInPopup\", void 0);\n\n  __decorate$3([Property(false)], Item.prototype, \"disabled\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"prefixIcon\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"suffixIcon\", void 0);\n\n  __decorate$3([Property(true)], Item.prototype, \"visible\", void 0);\n\n  __decorate$3([Property('None')], Item.prototype, \"overflow\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"template\", void 0);\n\n  __decorate$3([Property('Button')], Item.prototype, \"type\", void 0);\n\n  __decorate$3([Property('Both')], Item.prototype, \"showTextOn\", void 0);\n\n  __decorate$3([Property(null)], Item.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$3([Property('')], Item.prototype, \"tooltipText\", void 0);\n\n  __decorate$3([Property('Left')], Item.prototype, \"align\", void 0);\n\n  __decorate$3([Event()], Item.prototype, \"click\", void 0);\n\n  __decorate$3([Property(-1)], Item.prototype, \"tabIndex\", void 0);\n\n  return Item;\n}(ChildProperty);\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\n\n\nvar Toolbar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(Toolbar, _super);\n  /**\n   * Initializes a new instance of the Toolbar class.\n   *\n   * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n   * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n   */\n\n\n  function Toolbar(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.resizeContext = _this.resize.bind(_this);\n    /**\n     * Contains the keyboard configuration of the Toolbar.\n     */\n\n    _this.keyConfigs = {\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      popupOpen: 'enter',\n      popupClose: 'escape',\n      tab: 'tab',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.destroy = function () {\n    var _this = this;\n\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n\n    var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n    [].slice.call(btnItems).forEach(function (el) {\n      if (!isNullOrUndefined(el) && !isNullOrUndefined(el.ej2_instances) && !isNullOrUndefined(el.ej2_instances[0]) && !el.ej2_instances[0].isDestroyed) {\n        el.ej2_instances[0].destroy();\n      }\n    });\n    this.unwireEvents();\n    this.tempId.forEach(function (ele) {\n      if (!isNullOrUndefined(_this.element.querySelector(ele))) {\n        document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n      }\n    });\n    this.destroyItems();\n\n    while (this.element.lastElementChild) {\n      this.element.removeChild(this.element.lastElementChild);\n    }\n\n    if (this.trgtEle) {\n      this.element.appendChild(this.ctrlTem);\n      this.trgtEle = null;\n      this.ctrlTem = null;\n    }\n\n    if (this.popObj) {\n      this.popObj.destroy();\n      detach(this.popObj.element);\n    }\n\n    if (this.activeEle) {\n      this.activeEle = null;\n    }\n\n    this.popObj = null;\n    this.tbarAlign = null;\n    this.tbarItemsCol = [];\n    this.remove(this.element, 'e-toolpop');\n\n    if (this.cssClass) {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n\n    this.element.removeAttribute('style');\n    ['aria-disabled', 'aria-orientation', 'role'].forEach(function (attrb) {\n      return _this.element.removeAttribute(attrb);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Toolbar.prototype.preRender = function () {\n    var eventArgs = {\n      enableCollision: this.enableCollision,\n      scrollStep: this.scrollStep\n    };\n    this.trigger('beforeCreate', eventArgs);\n    this.enableCollision = eventArgs.enableCollision;\n    this.scrollStep = eventArgs.scrollStep;\n    this.scrollModule = null;\n    this.popObj = null;\n    this.tempId = [];\n    this.tbarItemsCol = this.items;\n    this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n    this.isExtendedOpen = false;\n    this.popupPriCount = 0;\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL$2);\n    }\n  };\n\n  Toolbar.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n    window.addEventListener('resize', this.resizeContext);\n\n    if (this.allowKeyboard) {\n      this.wireKeyboardEvent();\n    }\n  };\n\n  Toolbar.prototype.wireKeyboardEvent = function () {\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n    EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n    this.updateTabIndex('0');\n  };\n\n  Toolbar.prototype.updateTabIndex = function (tabIndex) {\n    var ele = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n\n    if (!isNullOrUndefined(ele) && !isNullOrUndefined(ele.firstElementChild)) {\n      var dataTabIndex = ele.firstElementChild.getAttribute('data-tabindex');\n\n      if (dataTabIndex && dataTabIndex === '-1' && ele.firstElementChild.tagName !== 'INPUT') {\n        ele.firstElementChild.setAttribute('tabindex', tabIndex);\n      }\n    }\n  };\n\n  Toolbar.prototype.unwireKeyboardEvent = function () {\n    if (this.keyModule) {\n      EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n      this.keyModule.destroy();\n      this.keyModule = null;\n    }\n  };\n\n  Toolbar.prototype.docKeyDown = function (e) {\n    if (e.target.tagName === 'INPUT') {\n      return;\n    }\n\n    var popCheck = !isNullOrUndefined(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n\n    if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n      this.popObj.hide({\n        name: 'FadeOut',\n        duration: 100\n      });\n    }\n\n    var keyCheck = e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36;\n\n    if (keyCheck) {\n      e.preventDefault();\n    }\n  };\n\n  Toolbar.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n    this.destroyScroll();\n    this.unwireKeyboardEvent();\n    window.removeEventListener('resize', this.resizeContext);\n    EventHandler.remove(document, 'scroll', this.docEvent);\n    EventHandler.remove(document, 'click', this.docEvent);\n  };\n\n  Toolbar.prototype.clearProperty = function () {\n    this.tbarEle = [];\n    this.tbarAlgEle = {\n      lefts: [],\n      centers: [],\n      rights: []\n    };\n  };\n\n  Toolbar.prototype.docEvent = function (e) {\n    var popEle = closest(e.target, '.e-popup');\n\n    if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n      this.popObj.hide({\n        name: 'FadeOut',\n        duration: 100\n      });\n    }\n  };\n\n  Toolbar.prototype.destroyScroll = function () {\n    if (this.scrollModule) {\n      if (this.tbarAlign) {\n        this.add(this.scrollModule.element, CLS_TBARPOS);\n      }\n\n      this.scrollModule.destroy();\n      this.scrollModule = null;\n    }\n  };\n\n  Toolbar.prototype.destroyItems = function () {\n    if (this.element) {\n      [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) {\n        detach(el);\n      });\n    }\n\n    if (this.tbarAlign) {\n      var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n      [].slice.call(tbarItems.children).forEach(function (el) {\n        detach(el);\n      });\n      this.tbarAlign = false;\n      this.remove(tbarItems, CLS_TBARPOS);\n    }\n\n    this.clearProperty();\n  };\n\n  Toolbar.prototype.destroyMode = function () {\n    if (this.scrollModule) {\n      this.remove(this.scrollModule.element, CLS_RTL$2);\n      this.destroyScroll();\n    }\n\n    this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n    this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n    var tempEle = this.element.querySelector('.e-toolbar-multirow');\n\n    if (tempEle) {\n      this.remove(tempEle, CLS_MULTIROW);\n    }\n\n    if (this.popObj) {\n      this.popupRefresh(this.popObj.element, true);\n    }\n  };\n\n  Toolbar.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Toolbar.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n\n  Toolbar.prototype.elementFocus = function (ele) {\n    var fChild = ele.firstElementChild;\n\n    if (fChild) {\n      fChild.focus();\n      this.activeEleSwitch(ele);\n    } else {\n      ele.focus();\n    }\n  };\n\n  Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n    var clst;\n\n    if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n      clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n    } else if (this.element === trgt || tbrNavChk) {\n      clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n    } else {\n      clst = closest(trgt, '.' + CLS_ITEM);\n    }\n\n    return clst;\n  };\n\n  Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n    var popObj = this.popObj;\n    var rootEle = this.element;\n    var popAnimate = {\n      name: 'FadeOut',\n      duration: 100\n    };\n    var value = e.action === 'moveUp' ? 'previous' : 'next';\n    var ele;\n    var nodes;\n\n    switch (e.action) {\n      case 'moveRight':\n        if (this.isVertical) {\n          return;\n        }\n\n        if (rootEle === trgt) {\n          this.elementFocus(clst);\n        } else if (!navChk) {\n          this.eleFocus(clst, 'next');\n        }\n\n        break;\n\n      case 'moveLeft':\n        if (this.isVertical) {\n          return;\n        }\n\n        if (!navChk) {\n          this.eleFocus(clst, 'previous');\n        }\n\n        break;\n\n      case 'home':\n      case 'end':\n        if (clst) {\n          var popupCheck = closest(clst, '.e-popup');\n          var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n\n          if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n            popupCheck = e.action === 'end' ? extendedPopup : null;\n          }\n\n          if (popupCheck) {\n            if (isVisible(this.popObj.element)) {\n              nodes = [].slice.call(popupCheck.children);\n\n              if (e.action === 'home') {\n                ele = this.focusFirstVisibleEle(nodes);\n              } else {\n                ele = this.focusLastVisibleEle(nodes);\n              }\n            }\n          } else {\n            nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n\n            if (e.action === 'home') {\n              ele = this.focusFirstVisibleEle(nodes);\n            } else {\n              ele = this.focusLastVisibleEle(nodes);\n            }\n          }\n\n          if (ele) {\n            this.elementFocus(ele);\n          }\n        }\n\n        break;\n\n      case 'moveUp':\n      case 'moveDown':\n        if (!this.isVertical) {\n          if (popObj && closest(trgt, '.e-popup')) {\n            var popEle = popObj.element;\n            var popFrstEle = popEle.firstElementChild;\n\n            if (value === 'previous' && popFrstEle === clst) {\n              popEle.lastElementChild.firstChild.focus();\n            } else if (value === 'next' && popEle.lastElementChild === clst) {\n              popFrstEle.firstChild.focus();\n            } else {\n              this.eleFocus(clst, value);\n            }\n          } else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n            this.elementFocus(clst);\n          }\n        } else {\n          if (e.action === 'moveUp') {\n            this.eleFocus(clst, 'previous');\n          } else {\n            this.eleFocus(clst, 'next');\n          }\n        }\n\n        break;\n\n      case 'tab':\n        if (!scrollChk && !navChk) {\n          var ele_1 = clst.firstElementChild;\n\n          if (rootEle === trgt) {\n            if (this.activeEle) {\n              this.activeEle.focus();\n            } else {\n              this.activeEleRemove(ele_1);\n              ele_1.focus();\n            }\n          }\n        }\n\n        break;\n\n      case 'popupClose':\n        if (popObj && this.overflowMode !== 'Extended') {\n          popObj.hide(popAnimate);\n        }\n\n        break;\n\n      case 'popupOpen':\n        if (!navChk) {\n          return;\n        }\n\n        if (popObj && !isVisible(popObj.element)) {\n          popObj.element.style.top = rootEle.offsetHeight + 'px';\n          popObj.show({\n            name: 'FadeIn',\n            duration: 100\n          });\n        } else {\n          popObj.hide(popAnimate);\n        }\n\n        break;\n    }\n  };\n\n  Toolbar.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n\n    if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE$2)) {\n      return;\n    }\n\n    e.preventDefault();\n    var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n    var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n    var clst = this.clstElement(tbrNavChk, trgt);\n\n    if (clst || tbarScrollChk) {\n      this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n    }\n  };\n  /**\n   * Specifies the value to disable/enable the Toolbar component.\n   * When set to `true`, the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.disable = function (value) {\n    var rootEle = this.element;\n\n    if (value) {\n      rootEle.classList.add(CLS_DISABLE$2);\n    } else {\n      rootEle.classList.remove(CLS_DISABLE$2);\n    }\n\n    if (this.activeEle) {\n      this.activeEle.setAttribute('tabindex', this.activeEle.getAttribute('data-tabindex'));\n    }\n\n    if (this.scrollModule) {\n      this.scrollModule.disable(value);\n    }\n\n    if (this.popObj) {\n      if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n        this.popObj.hide();\n      }\n\n      rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n    }\n  };\n\n  Toolbar.prototype.eleContains = function (el) {\n    return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE$2) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el) || !el.classList.contains(CLS_ITEM);\n  };\n\n  Toolbar.prototype.focusFirstVisibleEle = function (nodes) {\n    var element;\n    var index = 0;\n\n    while (index < nodes.length) {\n      var ele = nodes[parseInt(index.toString(), 10)];\n\n      if (!ele.classList.contains(CLS_HIDDEN) && !ele.classList.contains(CLS_DISABLE$2)) {\n        return ele;\n      }\n\n      index++;\n    }\n\n    return element;\n  };\n\n  Toolbar.prototype.focusLastVisibleEle = function (nodes) {\n    var element;\n    var index = nodes.length - 1;\n\n    while (index >= 0) {\n      var ele = nodes[parseInt(index.toString(), 10)];\n\n      if (!ele.classList.contains(CLS_HIDDEN) && !ele.classList.contains(CLS_DISABLE$2)) {\n        return ele;\n      }\n\n      index--;\n    }\n\n    return element;\n  };\n\n  Toolbar.prototype.eleFocus = function (closest$$1, pos) {\n    var sib = Object(closest$$1)[pos + 'ElementSibling'];\n\n    if (sib) {\n      var skipEle = this.eleContains(sib);\n\n      if (skipEle) {\n        this.eleFocus(sib, pos);\n        return;\n      }\n\n      this.elementFocus(sib);\n    } else if (this.tbarAlign) {\n      var elem = Object(closest$$1.parentElement)[pos + 'ElementSibling'];\n\n      if (!isNullOrUndefined(elem) && elem.children.length === 0) {\n        elem = Object(elem)[pos + 'ElementSibling'];\n      }\n\n      if (!isNullOrUndefined(elem) && elem.children.length > 0) {\n        if (pos === 'next') {\n          var el = elem.querySelector('.' + CLS_ITEM);\n\n          if (this.eleContains(el)) {\n            this.eleFocus(el, pos);\n          } else {\n            el.firstElementChild.focus();\n            this.activeEleSwitch(el);\n          }\n        } else {\n          var el = elem.lastElementChild;\n\n          if (this.eleContains(el)) {\n            this.eleFocus(el, pos);\n          } else {\n            this.elementFocus(el);\n          }\n        }\n      }\n    } else if (!isNullOrUndefined(closest$$1)) {\n      var tbrItems = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')' + ':not(.' + CLS_DISABLE$2 + ')' + ':not(.' + CLS_HIDDEN + ')');\n\n      if (pos === 'next' && tbrItems) {\n        this.elementFocus(tbrItems[0]);\n      } else if (pos === 'previous' && tbrItems) {\n        this.elementFocus(tbrItems[tbrItems.length - 1]);\n      }\n    }\n  };\n\n  Toolbar.prototype.clickHandler = function (e) {\n    var _this = this;\n\n    var trgt = e.target;\n    var ele = this.element;\n    var isPopupElement = !isNullOrUndefined(closest(trgt, '.' + CLS_POPUPCLASS));\n    var clsList = trgt.classList;\n    var popupNav = closest(trgt, '.' + CLS_TBARNAV);\n\n    if (!popupNav) {\n      popupNav = trgt;\n    }\n\n    if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll') && clsList.contains(CLS_TBARNAV)) {\n      clsList = trgt.querySelector('.e-icons').classList;\n    }\n\n    if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n      this.popupClickHandler(ele, popupNav, CLS_RTL$2);\n    }\n\n    var itemObj;\n    var clst = closest(e.target, '.' + CLS_ITEM);\n\n    if ((isNullOrUndefined(clst) || clst.classList.contains(CLS_DISABLE$2)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n      return;\n    }\n\n    if (clst) {\n      var tempItem = this.items[this.tbarEle.indexOf(clst)];\n      itemObj = tempItem;\n    }\n\n    var eventArgs = {\n      originalEvent: e,\n      item: itemObj\n    };\n\n    if (itemObj && !isNullOrUndefined(itemObj.click)) {\n      this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n    }\n\n    if (!eventArgs.cancel) {\n      this.trigger('clicked', eventArgs, function (clickedArgs) {\n        if (!isNullOrUndefined(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' && clickedArgs.item && clickedArgs.item.type !== 'Input') {\n          _this.popObj.hide({\n            name: 'FadeOut',\n            duration: 100\n          });\n        }\n      });\n    }\n  };\n\n  Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n    var popObj = this.popObj;\n\n    if (isVisible(popObj.element)) {\n      popupNav.classList.remove(CLS_TBARNAVACT);\n      popObj.hide({\n        name: 'FadeOut',\n        duration: 100\n      });\n    } else {\n      if (ele.classList.contains(CLS_RTL)) {\n        popObj.enableRtl = true;\n        popObj.position = {\n          X: 'left',\n          Y: 'top'\n        };\n      }\n\n      if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n        popObj.enableRtl = false;\n        popObj.position = {\n          X: 'right',\n          Y: 'top'\n        };\n      }\n\n      popObj.dataBind();\n      popObj.refreshPosition();\n      popObj.element.style.top = this.getElementOffsetY() + 'px';\n\n      if (this.overflowMode === 'Extended') {\n        popObj.element.style.minHeight = '0px';\n      }\n\n      popupNav.classList.add(CLS_TBARNAVACT);\n      popObj.show({\n        name: 'FadeIn',\n        duration: 100\n      });\n    }\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Toolbar.prototype.render = function () {\n    this.initialize();\n    this.renderControl();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Toolbar.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n\n    if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n      setStyleAttribute(this.element, {\n        'height': height\n      });\n    }\n\n    setStyleAttribute(this.element, {\n      'width': width\n    });\n    var ariaAttr = {\n      'role': 'toolbar',\n      'aria-disabled': 'false',\n      'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n    };\n    attributes(this.element, ariaAttr);\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n  };\n\n  Toolbar.prototype.renderControl = function () {\n    var ele = this.element;\n    this.trgtEle = ele.children.length > 0 ? ele.querySelector('div') : null;\n    this.tbarAlgEle = {\n      lefts: [],\n      centers: [],\n      rights: []\n    };\n    this.renderItems();\n    this.renderLayout();\n  };\n\n  Toolbar.prototype.renderLayout = function () {\n    this.renderOverflowMode();\n\n    if (this.tbarAlign) {\n      this.itemPositioning();\n    }\n\n    if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n      this.popupRefresh(this.popObj.element, false);\n    }\n\n    this.separator();\n  };\n\n  Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n    var innerItem;\n    var innerPos;\n\n    if (!this.tbarEle) {\n      this.tbarEle = [];\n    }\n\n    for (var i = 0; i < items.length; i++) {\n      innerItem = this.renderSubComponent(items[parseInt(i.toString(), 10)], i);\n\n      if (this.tbarEle.indexOf(innerItem) === -1) {\n        this.tbarEle.push(innerItem);\n      }\n\n      if (!this.tbarAlign) {\n        this.tbarItemAlign(items[parseInt(i.toString(), 10)], itemEleDom, i);\n      }\n\n      innerPos = itemEleDom.querySelector('.e-toolbar-' + items[parseInt(i.toString(), 10)].align.toLowerCase());\n\n      if (innerPos) {\n        if (!(items[parseInt(i.toString(), 10)].showAlwaysInPopup && items[parseInt(i.toString(), 10)].overflow !== 'Show')) {\n          this.tbarAlgEle[(items[parseInt(i.toString(), 10)].align + 's').toLowerCase()].push(innerItem);\n        }\n\n        innerPos.appendChild(innerItem);\n      } else {\n        itemEleDom.appendChild(innerItem);\n      }\n    }\n\n    if (this.isReact) {\n      var portals = 'portals';\n      this.notify('render-react-toolbar-template', this[\"\" + portals]);\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * @hidden\n   * @returns {void}\n   */\n\n\n  Toolbar.prototype.changeOrientation = function () {\n    var ele = this.element;\n\n    if (this.isVertical) {\n      ele.classList.remove(CLS_VERTICAL);\n      this.isVertical = false;\n\n      if (this.height === 'auto' || this.height === '100%') {\n        ele.style.height = this.height;\n      }\n\n      ele.setAttribute('aria-orientation', 'horizontal');\n    } else {\n      ele.classList.add(CLS_VERTICAL);\n      this.isVertical = true;\n      ele.setAttribute('aria-orientation', 'vertical');\n      setStyleAttribute(this.element, {\n        'height': formatUnit(this.height),\n        'width': formatUnit(this.width)\n      });\n    }\n\n    this.destroyMode();\n    this.refreshOverflow();\n  };\n\n  Toolbar.prototype.initScroll = function (element, innerItems) {\n    if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n      if (this.tbarAlign) {\n        this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n      }\n\n      if (this.isVertical) {\n        this.scrollModule = new VScroll({\n          scrollStep: this.scrollStep,\n          enableRtl: this.enableRtl\n        }, innerItems[0]);\n      } else {\n        this.scrollModule = new HScroll({\n          scrollStep: this.scrollStep,\n          enableRtl: this.enableRtl\n        }, innerItems[0]);\n      }\n\n      if (this.cssClass) {\n        addClass([innerItems[0]], this.cssClass.split(' '));\n      }\n\n      this.remove(this.scrollModule.element, CLS_TBARPOS);\n      setStyleAttribute(this.element, {\n        overflow: 'hidden'\n      });\n    }\n  };\n\n  Toolbar.prototype.itemWidthCal = function (items) {\n    var _this = this;\n\n    var width = 0;\n    var style;\n    [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n      if (isVisible(el)) {\n        style = window.getComputedStyle(el);\n        width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n        width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n        width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n      }\n    });\n    return width;\n  };\n\n  Toolbar.prototype.getScrollCntEle = function (innerItem) {\n    var trgClass = this.isVertical ? '.e-vscroll-content' : '.e-hscroll-content';\n    return innerItem.querySelector(trgClass);\n  };\n\n  Toolbar.prototype.checkOverflow = function (element, innerItem) {\n    if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) {\n      return false;\n    }\n\n    var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n    var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n\n    if (this.tbarAlign || this.scrollModule || eleWidth === itemWidth) {\n      itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n    }\n\n    var popNav = element.querySelector('.' + CLS_TBARNAV);\n    var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n    var navEleWidth = 0;\n\n    if (popNav) {\n      navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n    } else if (scrollNav) {\n      navEleWidth = this.isVertical ? scrollNav.offsetHeight * 2 : scrollNav.offsetWidth * 2;\n    }\n\n    if (itemWidth > eleWidth - navEleWidth) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n  /**\n   * Refresh the whole Toolbar component without re-rendering.\n   * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n   * - It will refresh the Toolbar component after loading items dynamically.\n   *\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.refreshOverflow = function () {\n    this.resize();\n  };\n\n  Toolbar.prototype.toolbarAlign = function (innerItems) {\n    if (this.tbarAlign) {\n      this.add(innerItems, CLS_TBARPOS);\n      this.itemPositioning();\n    }\n  };\n\n  Toolbar.prototype.renderOverflowMode = function () {\n    var ele = this.element;\n    var innerItems = ele.querySelector('.' + CLS_ITEMS);\n    var priorityCheck = this.popupPriCount > 0;\n\n    if (ele && ele.children.length > 0) {\n      this.offsetWid = ele.offsetWidth;\n      this.remove(this.element, 'e-toolpop');\n\n      if (Browser.info.name === 'msie' && this.height === 'auto') {\n        ele.style.height = '';\n      }\n\n      switch (this.overflowMode) {\n        case 'Scrollable':\n          if (isNullOrUndefined(this.scrollModule)) {\n            this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n          }\n\n          break;\n\n        case 'Popup':\n          this.add(this.element, 'e-toolpop');\n\n          if (this.tbarAlign) {\n            this.removePositioning();\n          }\n\n          if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n            this.setOverflowAttributes(ele);\n          }\n\n          this.toolbarAlign(innerItems);\n          break;\n\n        case 'MultiRow':\n          this.add(innerItems, CLS_MULTIROW);\n\n          if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n            this.removePositioning();\n            this.add(innerItems, CLS_MULTIROWPOS);\n          }\n\n          if (ele.style.overflow === 'hidden') {\n            ele.style.overflow = '';\n          }\n\n          if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n            ele.style.height = 'auto';\n          }\n\n          break;\n\n        case 'Extended':\n          this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n\n          if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n            if (this.tbarAlign) {\n              this.removePositioning();\n            }\n\n            this.setOverflowAttributes(ele);\n          }\n\n          this.toolbarAlign(innerItems);\n      }\n    }\n  };\n\n  Toolbar.prototype.setOverflowAttributes = function (ele) {\n    this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n    var ariaAttr = {\n      'tabindex': '0',\n      'role': 'button',\n      'aria-haspopup': 'true',\n      'aria-label': 'overflow'\n    };\n    attributes(this.element.querySelector('.' + CLS_TBARNAV), ariaAttr);\n  };\n\n  Toolbar.prototype.separator = function () {\n    var element = this.element;\n    var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n    var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n    var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n    var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n\n    if (eleInlineItem !== null) {\n      if (this.overflowMode === 'MultiRow') {\n        eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n      } else if (this.overflowMode === 'Extended') {\n        eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n      }\n    }\n\n    for (var i = 0; i <= eleItem.length - 1; i++) {\n      if (eleItem[parseInt(i.toString(), 10)].offsetLeft < 30 && eleItem[parseInt(i.toString(), 10)].offsetLeft !== 0) {\n        if (this.overflowMode === 'MultiRow') {\n          eleItem[parseInt(i.toString(), 10)].classList.add(CLS_MULTIROW_SEPARATOR);\n        } else if (this.overflowMode === 'Extended') {\n          eleItem[parseInt(i.toString(), 10)].classList.add(CLS_EXTENDABLE_SEPARATOR);\n        }\n      }\n    }\n  };\n\n  Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n    var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n    var vertical = this.isVertical;\n\n    if (!innerNav) {\n      this.createPopupIcon(ele);\n    }\n\n    innerNav = ele.querySelector('.' + CLS_TBARNAV);\n    var innerNavDom = vertical ? innerNav.offsetHeight : innerNav.offsetWidth;\n    var eleWidth = (vertical ? ele.offsetHeight : ele.offsetWidth) - innerNavDom;\n    this.element.classList.remove('e-rtl');\n    setStyleAttribute(this.element, {\n      direction: 'initial'\n    });\n    this.checkPriority(ele, innerEle, eleWidth, true);\n\n    if (this.enableRtl) {\n      this.element.classList.add('e-rtl');\n    }\n\n    this.element.style.removeProperty('direction');\n    this.createPopup();\n  };\n\n  Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n    var element = tbarObj.element;\n    var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n    var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n    var nodeIndex = 0;\n    var nodePri = 0;\n    poppedEle.forEach(function (el, index) {\n      nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n\n      if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n        if (tbarObj.tbResize && nodes.length > index) {\n          ele.insertBefore(el, nodes[parseInt(index.toString(), 10)]);\n          ++nodePri;\n        } else {\n          ele.insertBefore(el, ele.children[nodes.length]);\n          ++nodePri;\n        }\n      } else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n        ele.insertBefore(el, ele.firstChild);\n        ++nodePri;\n      } else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n        ele.insertBefore(el, ele.firstChild);\n        ++nodePri;\n      } else if (el.classList.contains(CLS_POPOVERFLOW)) {\n        popupPri.push(el);\n      } else if (tbarObj.tbResize) {\n        ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n        ++nodeIndex;\n      } else {\n        ele.appendChild(el);\n      }\n\n      if (el.classList.contains(CLS_SEPARATOR)) {\n        setStyleAttribute(el, {\n          display: '',\n          height: sepHeight + 'px'\n        });\n      } else {\n        setStyleAttribute(el, {\n          display: '',\n          height: eleHeight + 'px'\n        });\n      }\n    });\n    popupPri.forEach(function (el) {\n      ele.appendChild(el);\n    });\n    var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n\n    for (var i = tbarEle.length - 1; i >= 0; i--) {\n      var tbarElement = tbarEle[parseInt(i.toString(), 10)];\n\n      if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n        setStyleAttribute(tbarElement, {\n          display: 'none'\n        });\n      } else {\n        break;\n      }\n    }\n  };\n\n  Toolbar.prototype.createPopup = function () {\n    var element = this.element;\n    var sepHeight;\n    var sepItem;\n\n    if (this.overflowMode === 'Extended') {\n      sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n      sepHeight = element.style.height === 'auto' || element.style.height === '' ? null : sepItem.offsetHeight;\n    }\n\n    var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n    var eleHeight = element.style.height === 'auto' || element.style.height === '' ? null : eleItem && eleItem.offsetHeight;\n    var ele;\n    var popupPri = [];\n\n    if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n      ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n    } else {\n      var extendEle = this.createElement('div', {\n        id: element.id + '_popup',\n        className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n      });\n      var popupEle = this.createElement('div', {\n        id: element.id + '_popup',\n        className: CLS_POPUPCLASS\n      });\n      ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n    }\n\n    this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n    this.popupInit(element, ele);\n  };\n\n  Toolbar.prototype.getElementOffsetY = function () {\n    return this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ? this.element.clientHeight : this.element.offsetHeight;\n  };\n\n  Toolbar.prototype.popupInit = function (element, ele) {\n    if (!this.popObj) {\n      element.appendChild(ele);\n\n      if (this.cssClass) {\n        addClass([ele], this.cssClass.split(' '));\n      }\n\n      setStyleAttribute(this.element, {\n        overflow: ''\n      });\n      var eleStyles = window.getComputedStyle(this.element);\n      var popup = new Popup(null, {\n        relateTo: this.element,\n        offsetY: this.isVertical ? 0 : this.getElementOffsetY(),\n        enableRtl: this.enableRtl,\n        open: this.popupOpen.bind(this),\n        close: this.popupClose.bind(this),\n        collision: {\n          Y: this.enableCollision ? 'flip' : 'none'\n        },\n        position: this.enableRtl ? {\n          X: 'left',\n          Y: 'top'\n        } : {\n          X: 'right',\n          Y: 'top'\n        }\n      });\n\n      if (this.overflowMode === 'Extended') {\n        popup.width = parseFloat(eleStyles.width) + parseFloat(eleStyles.borderRightWidth) * 2;\n        popup.offsetX = 0;\n      }\n\n      popup.appendTo(ele);\n      EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n      EventHandler.add(document, 'click ', this.docEvent.bind(this));\n      popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n\n      if (this.isVertical) {\n        popup.element.style.visibility = 'hidden';\n      }\n\n      if (this.isExtendedOpen) {\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n      } else {\n        popup.hide();\n      }\n\n      this.popObj = popup;\n    } else {\n      var popupEle = this.popObj.element;\n      setStyleAttribute(popupEle, {\n        maxHeight: '',\n        display: 'block'\n      });\n      setStyleAttribute(popupEle, {\n        maxHeight: popupEle.offsetHeight + 'px',\n        display: ''\n      });\n    }\n  };\n\n  Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n    if (this.overflowMode === 'Extended') {\n      if (isOpen) {\n        this.add(this.element, CLS_EXTENDEDPOPOPEN);\n      } else {\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n      }\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Toolbar.prototype.popupOpen = function (e) {\n    var popObj = this.popObj;\n\n    if (!this.isVertical) {\n      popObj.offsetY = this.getElementOffsetY();\n      popObj.dataBind();\n    }\n\n    var popupEle = this.popObj.element;\n    var toolEle = this.popObj.element.parentElement;\n    var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n    popupNav.setAttribute('aria-expanded', 'true');\n    setStyleAttribute(popObj.element, {\n      height: 'auto',\n      maxHeight: ''\n    });\n    popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n\n    if (this.overflowMode === 'Extended') {\n      popObj.element.style.minHeight = '';\n    }\n\n    var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n    var popIcon = popupNav.firstElementChild;\n    popupNav.classList.add(CLS_TBARNAVACT);\n    classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n    this.tbarPopupHandler(true);\n    var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;\n\n    if (!this.isVertical && window.innerHeight + scrollVal < popupElePos && this.element.offsetTop < popupEle.offsetHeight) {\n      var overflowHeight = popupEle.offsetHeight - (popupElePos - window.innerHeight - scrollVal + 5);\n      popObj.height = overflowHeight + 'px';\n\n      for (var i = 0; i <= popupEle.childElementCount; i++) {\n        var ele = popupEle.children[parseInt(i.toString(), 10)];\n\n        if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n          overflowHeight = ele.offsetTop;\n          break;\n        }\n      }\n\n      setStyleAttribute(popObj.element, {\n        maxHeight: overflowHeight + 'px'\n      });\n    } else if (this.isVertical) {\n      var tbEleData = this.element.getBoundingClientRect();\n      setStyleAttribute(popObj.element, {\n        maxHeight: tbEleData.top + this.element.offsetHeight + 'px',\n        bottom: 0,\n        visibility: ''\n      });\n    }\n\n    if (popObj) {\n      var popupOffset = popupEle.getBoundingClientRect();\n\n      if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n        popObj.collision = {\n          Y: 'none'\n        };\n        popObj.dataBind();\n      }\n\n      popObj.refreshPosition();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Toolbar.prototype.popupClose = function (e) {\n    var element = this.element;\n    var popupNav = element.querySelector('.' + CLS_TBARNAV);\n    popupNav.setAttribute('aria-expanded', 'false');\n    var popIcon = popupNav.firstElementChild;\n    popupNav.classList.remove(CLS_TBARNAVACT);\n    classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n    this.tbarPopupHandler(false);\n  };\n\n  Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n    var popPriority = this.popupPriCount > 0;\n    var len = inEle.length;\n    var eleWid = eleWidth;\n    var eleOffset;\n    var checkoffset;\n    var sepCheck = 0;\n    var itemCount = 0;\n    var itemPopCount = 0;\n\n    var checkClass = function (ele, val) {\n      var rVal = false;\n      val.forEach(function (cls) {\n        if (ele.classList.contains(cls)) {\n          rVal = true;\n        }\n      });\n      return rVal;\n    };\n\n    for (var i = len - 1; i >= 0; i--) {\n      var mrgn = void 0;\n      var compuStyle = window.getComputedStyle(inEle[parseInt(i.toString(), 10)]);\n\n      if (this.isVertical) {\n        mrgn = parseFloat(compuStyle.marginTop);\n        mrgn += parseFloat(compuStyle.marginBottom);\n      } else {\n        mrgn = parseFloat(compuStyle.marginRight);\n        mrgn += parseFloat(compuStyle.marginLeft);\n      }\n\n      var fstEleCheck = inEle[parseInt(i.toString(), 10)] === this.tbarEle[0];\n\n      if (fstEleCheck) {\n        this.tbarEleMrgn = mrgn;\n      }\n\n      eleOffset = this.isVertical ? inEle[parseInt(i.toString(), 10)].offsetHeight : inEle[parseInt(i.toString(), 10)].offsetWidth;\n      var eleWid_1 = fstEleCheck ? eleOffset + mrgn : eleOffset;\n\n      if (checkClass(inEle[parseInt(i.toString(), 10)], [CLS_POPPRI]) && popPriority) {\n        inEle[parseInt(i.toString(), 10)].classList.add(CLS_POPUP);\n\n        if (this.isVertical) {\n          setStyleAttribute(inEle[parseInt(i.toString(), 10)], {\n            display: 'none',\n            minHeight: eleWid_1 + 'px'\n          });\n        } else {\n          setStyleAttribute(inEle[parseInt(i.toString(), 10)], {\n            display: 'none',\n            minWidth: eleWid_1 + 'px'\n          });\n        }\n\n        itemPopCount++;\n      }\n\n      if (this.isVertical) {\n        checkoffset = inEle[parseInt(i.toString(), 10)].offsetTop + inEle[parseInt(i.toString(), 10)].offsetHeight + mrgn > eleWidth;\n      } else {\n        checkoffset = inEle[parseInt(i.toString(), 10)].offsetLeft + inEle[parseInt(i.toString(), 10)].offsetWidth + mrgn > eleWidth;\n      }\n\n      if (checkoffset) {\n        if (inEle[parseInt(i.toString(), 10)].classList.contains(CLS_SEPARATOR)) {\n          if (this.overflowMode === 'Extended') {\n            var sepEle = inEle[parseInt(i.toString(), 10)];\n\n            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n              inEle[parseInt(i.toString(), 10)].classList.add(CLS_POPUP);\n              itemPopCount++;\n            }\n\n            itemCount++;\n          } else if (this.overflowMode === 'Popup') {\n            if (sepCheck > 0 && itemCount === itemPopCount) {\n              var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n\n              if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                setStyleAttribute(sepEle, {\n                  display: 'none'\n                });\n              }\n            }\n\n            sepCheck++;\n            itemCount = 0;\n            itemPopCount = 0;\n          }\n        } else {\n          itemCount++;\n        }\n\n        if (inEle[parseInt(i.toString(), 10)].classList.contains(CLS_TBAROVERFLOW) && pre) {\n          eleWidth -= (this.isVertical ? inEle[parseInt(i.toString(), 10)].offsetHeight : inEle[parseInt(i.toString(), 10)].offsetWidth) + mrgn;\n        } else if (!checkClass(inEle[parseInt(i.toString(), 10)], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n          inEle[parseInt(i.toString(), 10)].classList.add(CLS_POPUP);\n\n          if (this.isVertical) {\n            setStyleAttribute(inEle[parseInt(i.toString(), 10)], {\n              display: 'none',\n              minHeight: eleWid_1 + 'px'\n            });\n          } else {\n            setStyleAttribute(inEle[parseInt(i.toString(), 10)], {\n              display: 'none',\n              minWidth: eleWid_1 + 'px'\n            });\n          }\n\n          itemPopCount++;\n        } else {\n          eleWidth -= (this.isVertical ? inEle[parseInt(i.toString(), 10)].offsetHeight : inEle[parseInt(i.toString(), 10)].offsetWidth) + mrgn;\n        }\n      }\n    }\n\n    if (pre) {\n      var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n      this.checkPriority(ele, popedEle, eleWid, false);\n    }\n  };\n\n  Toolbar.prototype.createPopupIcon = function (element) {\n    var id = element.id.concat('_nav');\n    var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n    className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n    var nav = this.createElement('div', {\n      id: id,\n      className: className\n    });\n\n    if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n      nav.classList.add('e-ie-align');\n    }\n\n    var navItem = this.createElement('div', {\n      className: CLS_POPUPDOWN + ' e-icons'\n    });\n    nav.appendChild(navItem);\n    nav.setAttribute('tabindex', '0');\n    nav.setAttribute('role', 'button');\n    element.appendChild(nav);\n  };\n\n  Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n    var ignoreCount = ig;\n    var popEle = this.popObj.element;\n    var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n    var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n\n    var checkClass = function (ele, val) {\n      return ele.classList.contains(val);\n    };\n\n    if (selectAll(query, inEle).length === 0) {\n      var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n      var ignoreCheck = !isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_TBARIGNORE);\n\n      if (!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep) || ignoreCheck) {\n        var sepDisplay = 'none';\n        eleSep.style.display = 'inherit';\n        var eleSepWidth = eleSep.offsetWidth + parseFloat(window.getComputedStyle(eleSep).marginRight) * 2;\n        var prevSep = eleSep.previousElementSibling;\n\n        if (elWid + eleSepWidth < wid || des) {\n          inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);\n\n          if (!isNullOrUndefined(prevSep)) {\n            prevSep.style.display = '';\n          }\n        } else {\n          if (prevSep.classList.contains(CLS_SEPARATOR)) {\n            prevSep.style.display = sepDisplay;\n          }\n        }\n\n        eleSep.style.display = '';\n      } else {\n        inEle.insertBefore(el, inEle.children[indx + ignoreCount - (indx - sepPri)]);\n      }\n    } else {\n      inEle.insertBefore(el, inEle.children[indx + ignoreCount - priEleCnt]);\n    }\n  };\n\n  Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n    var _this = this;\n\n    var ele = this.element;\n    var isVer = this.isVertical;\n    var innerEle = ele.querySelector('.' + CLS_ITEMS);\n    var popNav = ele.querySelector('.' + CLS_TBARNAV);\n\n    if (isNullOrUndefined(popNav)) {\n      return;\n    }\n\n    innerEle.removeAttribute('style');\n    popupEle.style.display = 'block';\n    var dimension;\n\n    if (isVer) {\n      dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n    } else {\n      dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n    }\n\n    var popupEleWidth = 0;\n    [].slice.call(popupEle.children).forEach(function (el) {\n      popupEleWidth += _this.popupEleWidth(el);\n      setStyleAttribute(el, {\n        'position': ''\n      });\n    });\n\n    if (dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth) > popupEleWidth && this.popupPriCount === 0) {\n      destroy = true;\n    }\n\n    this.popupEleRefresh(dimension, popupEle, destroy);\n    popupEle.style.display = '';\n\n    if (popupEle.children.length === 0 && popNav && this.popObj) {\n      detach(popNav);\n      popNav = null;\n      this.popObj.destroy();\n      detach(this.popObj.element);\n      this.popObj = null;\n    }\n  };\n\n  Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n    var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n    var ignoreInx = [];\n    var count = 0;\n\n    if (ignoreEle.length > 0) {\n      ignoreEle.forEach(function (ele) {\n        ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n      });\n    } else {\n      return 0;\n    }\n\n    ignoreInx.forEach(function (val) {\n      if (val <= index) {\n        count++;\n      }\n    });\n    return count;\n  };\n\n  Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n    popEle.style.display = 'block';\n    var elWid = this.popupEleWidth(popEle.firstElementChild);\n    popEle.firstElementChild.style.removeProperty('Position');\n    var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n    var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n    popEle.style.removeProperty('display');\n\n    if (tbarWidth > elWid + tbarItemsWid) {\n      return true;\n    }\n\n    return false;\n  };\n\n  Toolbar.prototype.popupEleWidth = function (el) {\n    el.style.position = 'absolute';\n    var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n    var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n\n    if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n      var btn = el.children[0];\n\n      if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n        btnText.style.display = 'none';\n      } else if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n        btnText.style.display = 'block';\n      }\n\n      btn.style.minWidth = '0%';\n      elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n      btn.style.minWidth = '';\n      btn.style.minHeight = '';\n\n      if (!isNullOrUndefined(btnText)) {\n        btnText.style.display = '';\n      }\n    }\n\n    return elWidth;\n  };\n\n  Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n    var popPriority = this.popupPriCount > 0;\n    var eleSplice = this.tbarEle;\n    var priEleCnt;\n    var index;\n    var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n    var ignoreCount = 0;\n\n    var _loop_1 = function (el) {\n      if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n        return \"continue\";\n      }\n\n      var elWidth = this_1.popupEleWidth(el);\n\n      if (el === this_1.tbarEle[0]) {\n        elWidth += this_1.tbarEleMrgn;\n      }\n\n      el.style.position = '';\n\n      if (elWidth < width || destroy) {\n        setStyleAttribute(el, {\n          minWidth: '',\n          height: '',\n          minHeight: ''\n        });\n\n        if (!el.classList.contains(CLS_POPOVERFLOW)) {\n          el.classList.remove(CLS_POPUP);\n        }\n\n        index = this_1.tbarEle.indexOf(el);\n\n        if (this_1.tbarAlign) {\n          var pos = this_1.items[parseInt(index.toString(), 10)].align;\n          index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n          eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n          innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n        }\n\n        var sepBeforePri_1 = 0;\n\n        if (this_1.overflowMode !== 'Extended') {\n          eleSplice.slice(0, index).forEach(function (el) {\n            if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n              if (el.classList.contains(CLS_SEPARATOR)) {\n                el.style.display = '';\n                width -= el.offsetWidth;\n              }\n\n              sepBeforePri_1++;\n            }\n          });\n        }\n\n        ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n\n        if (el.classList.contains(CLS_TBAROVERFLOW)) {\n          this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n          width -= el.offsetWidth;\n        } else if (index === 0) {\n          innerEle.insertBefore(el, innerEle.firstChild);\n          width -= el.offsetWidth;\n        } else {\n          priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n          innerEle.insertBefore(el, innerEle.children[index + ignoreCount - priEleCnt]);\n          width -= el.offsetWidth;\n        }\n\n        el.style.height = '';\n      } else {\n        return \"break\";\n      }\n    };\n\n    var this_1 = this;\n\n    for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n      var el = _a[_i];\n\n      var state_1 = _loop_1(el);\n\n      if (state_1 === \"break\") break;\n    }\n\n    var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n\n    if (checkOverflow && !destroy) {\n      this.renderOverflowMode();\n    }\n  };\n\n  Toolbar.prototype.removePositioning = function () {\n    var item = this.element.querySelector('.' + CLS_ITEMS);\n\n    if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n      return;\n    }\n\n    this.remove(item, CLS_TBARPOS);\n    var innerItem = [].slice.call(item.childNodes);\n    innerItem[1].removeAttribute('style');\n    innerItem[2].removeAttribute('style');\n  };\n\n  Toolbar.prototype.refreshPositioning = function () {\n    var item = this.element.querySelector('.' + CLS_ITEMS);\n    this.add(item, CLS_TBARPOS);\n    this.itemPositioning();\n  };\n\n  Toolbar.prototype.itemPositioning = function () {\n    var item = this.element.querySelector('.' + CLS_ITEMS);\n    var margin;\n\n    if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n      return;\n    }\n\n    var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n    var innerItem;\n\n    if (this.scrollModule) {\n      var trgClass = this.isVertical ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n      innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n    } else {\n      innerItem = [].slice.call(item.childNodes);\n    }\n\n    if (this.isVertical) {\n      margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n    } else {\n      margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n    }\n\n    var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n\n    if (popupNav) {\n      tbarWid -= this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth;\n      var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n      innerItem[2].removeAttribute('style');\n\n      if (this.isVertical) {\n        if (this.enableRtl) {\n          innerItem[2].style.top = popWid;\n        } else {\n          innerItem[2].style.bottom = popWid;\n        }\n      } else {\n        if (this.enableRtl) {\n          innerItem[2].style.left = popWid;\n        } else {\n          innerItem[2].style.right = popWid;\n        }\n      }\n    }\n\n    if (tbarWid <= margin) {\n      return;\n    }\n\n    var value = (tbarWid - margin - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n    innerItem[1].removeAttribute('style');\n    var mrgn = (!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value + 'px';\n\n    if (this.isVertical) {\n      if (this.enableRtl) {\n        innerItem[1].style.marginBottom = mrgn;\n      } else {\n        innerItem[1].style.marginTop = mrgn;\n      }\n    } else {\n      if (this.enableRtl) {\n        innerItem[1].style.marginRight = mrgn;\n      } else {\n        innerItem[1].style.marginLeft = mrgn;\n      }\n    }\n  };\n\n  Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n    var _this = this;\n\n    if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n      return;\n    }\n\n    var alignDiv = [];\n    alignDiv.push(this.createElement('div', {\n      className: CLS_TBARLEFT\n    }));\n    alignDiv.push(this.createElement('div', {\n      className: CLS_TBARCENTER\n    }));\n    alignDiv.push(this.createElement('div', {\n      className: CLS_TBARRIGHT\n    }));\n\n    if (pos === 0 && item.align !== 'Left') {\n      alignDiv.forEach(function (ele) {\n        itemEle.appendChild(ele);\n      });\n      this.tbarAlign = true;\n      this.add(itemEle, CLS_TBARPOS);\n    } else if (item.align !== 'Left') {\n      var alignEle = itemEle.childNodes;\n      var leftAlign_1 = alignDiv[0];\n      [].slice.call(alignEle).forEach(function (el) {\n        _this.tbarAlgEle.lefts.push(el);\n\n        leftAlign_1.appendChild(el);\n      });\n      itemEle.appendChild(leftAlign_1);\n      itemEle.appendChild(alignDiv[1]);\n      itemEle.appendChild(alignDiv[2]);\n      this.tbarAlign = true;\n      this.add(itemEle, CLS_TBARPOS);\n    }\n  };\n\n  Toolbar.prototype.ctrlTemplate = function () {\n    var _this = this;\n\n    this.ctrlTem = this.trgtEle.cloneNode(true);\n    this.add(this.trgtEle, CLS_ITEMS);\n    this.tbarEle = [];\n    var innerEle = [].slice.call(this.trgtEle.children);\n    innerEle.forEach(function (ele) {\n      if (ele.tagName === 'DIV') {\n        _this.tbarEle.push(ele);\n\n        if (!isNullOrUndefined(ele.firstElementChild)) {\n          ele.firstElementChild.setAttribute('aria-disabled', 'false');\n        }\n\n        _this.add(ele, CLS_ITEM);\n      }\n    });\n  };\n\n  Toolbar.prototype.renderItems = function () {\n    var ele = this.element;\n    var items = this.items;\n\n    if (this.trgtEle != null) {\n      this.ctrlTemplate();\n    } else if (ele && items.length > 0) {\n      var itemEleDom = void 0;\n\n      if (ele && ele.children.length > 0) {\n        itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n      }\n\n      if (!itemEleDom) {\n        itemEleDom = this.createElement('div', {\n          className: CLS_ITEMS\n        });\n      }\n\n      this.itemsAlign(items, itemEleDom);\n      ele.appendChild(itemEleDom);\n    }\n  };\n\n  Toolbar.prototype.setAttr = function (attr, element) {\n    var key = Object.keys(attr);\n    var keyVal;\n\n    for (var i = 0; i < key.length; i++) {\n      keyVal = key[parseInt(i.toString(), 10)];\n\n      if (keyVal === 'class') {\n        this.add(element, attr[\"\" + keyVal]);\n      } else {\n        element.setAttribute(keyVal, attr[\"\" + keyVal]);\n      }\n    }\n  };\n  /**\n   * Enables or disables the specified Toolbar item.\n   *\n   * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n   * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n   * By default, `isEnable` is set to true.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.enableItems = function (items, isEnable) {\n    var elements = items;\n    var len = elements.length;\n    var ele;\n\n    if (isNullOrUndefined(isEnable)) {\n      isEnable = true;\n    }\n\n    var enable = function (isEnable, ele) {\n      if (isEnable) {\n        ele.classList.remove(CLS_DISABLE$2);\n\n        if (!isNullOrUndefined(ele.firstElementChild)) {\n          ele.firstElementChild.setAttribute('aria-disabled', 'false');\n        }\n      } else {\n        ele.classList.add(CLS_DISABLE$2);\n\n        if (!isNullOrUndefined(ele.firstElementChild)) {\n          ele.firstElementChild.setAttribute('aria-disabled', 'true');\n        }\n      }\n    };\n\n    if (!isNullOrUndefined(len) && len >= 1) {\n      for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n        var itemElement = element[parseInt(a.toString(), 10)];\n\n        if (typeof itemElement === 'number') {\n          ele = this.getElementByIndex(itemElement);\n\n          if (isNullOrUndefined(ele)) {\n            return;\n          } else {\n            elements[parseInt(a.toString(), 10)] = ele;\n          }\n        } else {\n          ele = itemElement;\n        }\n\n        enable(isEnable, ele);\n      }\n\n      if (isEnable) {\n        removeClass(elements, CLS_DISABLE$2);\n      } else {\n        addClass(elements, CLS_DISABLE$2);\n      }\n    } else {\n      if (typeof elements === 'number') {\n        ele = this.getElementByIndex(elements);\n\n        if (isNullOrUndefined(ele)) {\n          return;\n        }\n      } else {\n        ele = items;\n      }\n\n      enable(isEnable, ele);\n    }\n  };\n\n  Toolbar.prototype.getElementByIndex = function (index) {\n    if (this.tbarEle[parseInt(index.toString(), 10)]) {\n      return this.tbarEle[parseInt(index.toString(), 10)];\n    }\n\n    return null;\n  };\n  /**\n   * Adds new items to the Toolbar that accepts an array as Toolbar items.\n   *\n   * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n   * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.addItems = function (items, index) {\n    var innerItems;\n    this.extendedOpen();\n    var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n\n    if (isNullOrUndefined(itemsDiv)) {\n      this.itemsRerender(items);\n      return;\n    }\n\n    var innerEle;\n    var itemAgn = 'Left';\n\n    if (isNullOrUndefined(index)) {\n      index = 0;\n    }\n\n    items.forEach(function (e) {\n      if (!isNullOrUndefined(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n        itemAgn = e.align;\n      }\n    });\n\n    for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n      var item = items_1[_i];\n\n      if (isNullOrUndefined(item.type)) {\n        item.type = 'Button';\n      }\n\n      innerItems = selectAll('.' + CLS_ITEM, this.element);\n      item.align = itemAgn;\n      innerEle = this.renderSubComponent(item, index);\n\n      if (this.tbarEle.length >= index && innerItems.length >= 0) {\n        if (isNullOrUndefined(this.scrollModule)) {\n          this.destroyMode();\n        }\n\n        var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n        var ele = void 0;\n\n        if (!this.tbarAlign && itemAgn !== 'Left') {\n          this.tbarItemAlign(item, itemsDiv, 1);\n          this.tbarAlign = true;\n          ele = closest(innerItems[0], '.' + CLS_ITEMS).children[parseInt(algIndex.toString(), 10)];\n          ele.appendChild(innerEle);\n          this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n          this.refreshPositioning();\n        } else if (this.tbarAlign) {\n          ele = closest(innerItems[0], '.' + CLS_ITEMS).children[parseInt(algIndex.toString(), 10)];\n          ele.insertBefore(innerEle, ele.children[parseInt(index.toString(), 10)]);\n          this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n          this.refreshPositioning();\n        } else if (innerItems.length === 0) {\n          innerItems = selectAll('.' + CLS_ITEMS, this.element);\n          innerItems[0].appendChild(innerEle);\n        } else {\n          innerItems[0].parentNode.insertBefore(innerEle, innerItems[parseInt(index.toString(), 10)]);\n        }\n\n        this.items.splice(index, 0, item);\n\n        if (item.template) {\n          this.tbarEle.splice(this.tbarEle.length - 1, 1);\n        }\n\n        this.tbarEle.splice(index, 0, innerEle);\n        index++;\n        this.offsetWid = itemsDiv.offsetWidth;\n      }\n    }\n\n    itemsDiv.style.width = '';\n    this.renderOverflowMode();\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n   *\n   * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n   * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.removeItems = function (args) {\n    var elements = args;\n    var index;\n    var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n    if (typeof elements === 'number') {\n      index = parseInt(args.toString(), 10);\n      this.removeItemByIndex(index, innerItems);\n    } else {\n      if (elements && elements.length > 1) {\n        for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n          var ele = _a[_i];\n          index = this.tbarEle.indexOf(ele);\n          this.removeItemByIndex(index, innerItems);\n          innerItems = selectAll('.' + CLS_ITEM, this.element);\n        }\n      } else {\n        var ele = elements && elements.length && elements.length === 1 ? elements[0] : args;\n        index = innerItems.indexOf(ele);\n        this.removeItemByIndex(index, innerItems);\n      }\n    }\n\n    this.resize();\n  };\n\n  Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n    if (this.tbarEle[parseInt(index.toString(), 10)] && innerItems[parseInt(index.toString(), 10)]) {\n      var eleIdx = this.tbarEle.indexOf(innerItems[parseInt(index.toString(), 10)]);\n\n      if (this.tbarAlign) {\n        var indexAgn = this.tbarAlgEle[(this.items[parseInt(eleIdx.toString(), 10)].align + 's').toLowerCase()].indexOf(this.tbarEle[parseInt(eleIdx.toString(), 10)]);\n        this.tbarAlgEle[(this.items[parseInt(eleIdx.toString(), 10)].align + 's').toLowerCase()].splice(parseInt(indexAgn.toString(), 10), 1);\n      }\n\n      if (this.isReact) {\n        this.clearTemplate();\n      }\n\n      var btnItem = innerItems[parseInt(index.toString(), 10)].querySelector('.e-control.e-btn');\n\n      if (!isNullOrUndefined(btnItem) && !isNullOrUndefined(btnItem.ej2_instances[0]) && !btnItem.ej2_instances[0].isDestroyed) {\n        btnItem.ej2_instances[0].destroy();\n      }\n\n      detach(innerItems[parseInt(index.toString(), 10)]);\n      this.items.splice(eleIdx, 1);\n      this.tbarEle.splice(eleIdx, 1);\n    }\n  };\n\n  Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n    var itemType = item.type;\n    var eleObj = templateProp;\n    var isComponent;\n\n    if (typeof templateProp === 'object') {\n      isComponent = typeof eleObj.appendTo === 'function';\n    }\n\n    if (typeof templateProp === 'string' || !isComponent) {\n      var templateFn = void 0;\n      var val = templateProp;\n      var regEx = new RegExp(/<(?=.*? .*?\\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\\/\\1>/i);\n      val = typeof templateProp === 'string' ? templateProp.trim() : templateProp;\n\n      try {\n        if (typeof templateProp === 'object' && !isNullOrUndefined(templateProp.tagName)) {\n          innerEle.appendChild(templateProp);\n        } else if (typeof templateProp === 'string' && regEx.test(val)) {\n          innerEle.innerHTML = val;\n        } else if (document.querySelectorAll(val).length) {\n          var ele = document.querySelector(val);\n          var tempStr = ele.outerHTML.trim();\n          innerEle.appendChild(ele);\n          ele.style.display = '';\n\n          if (!isNullOrUndefined(tempStr)) {\n            this.tempId.push(val);\n          }\n        } else {\n          templateFn = compile(val);\n        }\n      } catch (e) {\n        templateFn = compile(val);\n      }\n\n      var tempArray = void 0;\n\n      if (!isNullOrUndefined(templateFn)) {\n        var toolbarTemplateID = this.element.id + index + '_template';\n        tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n      }\n\n      if (!isNullOrUndefined(tempArray) && tempArray.length > 0) {\n        [].slice.call(tempArray).forEach(function (ele) {\n          if (!isNullOrUndefined(ele.tagName)) {\n            ele.style.display = '';\n          }\n\n          innerEle.appendChild(ele);\n        });\n      }\n    } else if (itemType === 'Input') {\n      var ele = this.createElement('input');\n\n      if (item.id) {\n        ele.id = item.id;\n      } else {\n        ele.id = getUniqueID('tbr-ipt');\n      }\n\n      innerEle.appendChild(ele);\n      eleObj.appendTo(ele);\n    }\n\n    this.add(innerEle, CLS_TEMPLATE);\n    this.tbarEle.push(innerEle);\n  };\n\n  Toolbar.prototype.buttonRendering = function (item, innerEle) {\n    var dom = this.createElement('button', {\n      className: CLS_TBARBTN\n    });\n    dom.setAttribute('type', 'button');\n    var textStr = item.text;\n    var iconCss;\n    var iconPos;\n\n    if (item.id) {\n      dom.id = item.id;\n    } else {\n      dom.id = getUniqueID('e-tbr-btn');\n    }\n\n    var btnTxt = this.createElement('span', {\n      className: 'e-tbar-btn-text'\n    });\n\n    if (textStr) {\n      btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n      dom.appendChild(btnTxt);\n      dom.classList.add('e-tbtn-txt');\n    } else {\n      this.add(innerEle, 'e-tbtn-align');\n    }\n\n    if (item.prefixIcon || item.suffixIcon) {\n      if (item.prefixIcon && item.suffixIcon || item.prefixIcon) {\n        iconCss = item.prefixIcon + ' e-icons';\n        iconPos = 'Left';\n      } else {\n        iconCss = item.suffixIcon + ' e-icons';\n        iconPos = 'Right';\n      }\n    }\n\n    var btnObj = new Button({\n      iconCss: iconCss,\n      iconPosition: iconPos\n    });\n    btnObj.createElement = this.createElement;\n    btnObj.appendTo(dom);\n\n    if (item.width) {\n      setStyleAttribute(dom, {\n        'width': formatUnit(item.width)\n      });\n    }\n\n    return dom;\n  };\n\n  Toolbar.prototype.renderSubComponent = function (item, index) {\n    var dom;\n    var innerEle = this.createElement('div', {\n      className: CLS_ITEM\n    });\n    var tempDom = this.createElement('div', {\n      innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n    });\n\n    if (!this.tbarEle) {\n      this.tbarEle = [];\n    }\n\n    if (item.htmlAttributes) {\n      this.setAttr(item.htmlAttributes, innerEle);\n    }\n\n    if (item.tooltipText) {\n      innerEle.setAttribute('title', tempDom.textContent);\n    }\n\n    if (item.cssClass) {\n      innerEle.className = innerEle.className + ' ' + item.cssClass;\n    }\n\n    if (item.template) {\n      this.templateRender(item.template, innerEle, item, index);\n    } else {\n      switch (item.type) {\n        case 'Button':\n          dom = this.buttonRendering(item, innerEle);\n          dom.setAttribute('tabindex', isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString());\n          dom.setAttribute('data-tabindex', isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString());\n          dom.setAttribute('aria-label', item.text || item.tooltipText);\n          dom.setAttribute('aria-disabled', 'false');\n          innerEle.appendChild(dom);\n          innerEle.addEventListener('click', this.itemClick.bind(this));\n          break;\n\n        case 'Separator':\n          this.add(innerEle, CLS_SEPARATOR);\n          break;\n      }\n    }\n\n    if (item.showTextOn) {\n      var sTxt = item.showTextOn;\n\n      if (sTxt === 'Toolbar') {\n        this.add(innerEle, CLS_POPUPTEXT);\n        this.add(innerEle, 'e-tbtn-align');\n      } else if (sTxt === 'Overflow') {\n        this.add(innerEle, CLS_TBARTEXT);\n      }\n    }\n\n    if (item.overflow) {\n      var overflow = item.overflow;\n\n      if (overflow === 'Show') {\n        this.add(innerEle, CLS_TBAROVERFLOW);\n      } else if (overflow === 'Hide') {\n        if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n          this.add(innerEle, CLS_POPOVERFLOW);\n        }\n      }\n    }\n\n    if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n      this.add(innerEle, CLS_POPPRI);\n      this.popupPriCount++;\n    }\n\n    if (item.disabled) {\n      this.add(innerEle, CLS_DISABLE$2);\n    }\n\n    if (item.visible === false) {\n      this.add(innerEle, CLS_HIDDEN);\n    }\n\n    return innerEle;\n  };\n\n  Toolbar.prototype.getDataTabindex = function (ele) {\n    return isNullOrUndefined(ele.getAttribute('data-tabindex')) ? '-1' : ele.getAttribute('data-tabindex');\n  };\n\n  Toolbar.prototype.itemClick = function (e) {\n    this.activeEleSwitch(e.currentTarget);\n  };\n\n  Toolbar.prototype.activeEleSwitch = function (ele) {\n    this.activeEleRemove(ele.firstElementChild);\n    this.activeEle.focus();\n  };\n\n  Toolbar.prototype.activeEleRemove = function (curEle) {\n    if (!isNullOrUndefined(this.activeEle)) {\n      this.activeEle.setAttribute('tabindex', this.getDataTabindex(this.activeEle));\n    }\n\n    this.activeEle = curEle;\n\n    if (this.getDataTabindex(this.activeEle) === '-1') {\n      if (isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n        this.updateTabIndex('-1');\n        curEle.removeAttribute('tabindex');\n      } else {\n        this.activeEle.setAttribute('tabindex', this.getDataTabindex(this.activeEle));\n      }\n    }\n  };\n\n  Toolbar.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - Returns the module name as string.\n   * @private\n   */\n\n\n  Toolbar.prototype.getModuleName = function () {\n    return 'toolbar';\n  };\n\n  Toolbar.prototype.itemsRerender = function (newProp) {\n    this.items = this.tbarItemsCol;\n\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n\n    this.destroyMode();\n    this.destroyItems();\n    this.items = newProp;\n    this.tbarItemsCol = this.items;\n    this.renderItems();\n    this.renderOverflowMode();\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Toolbar.prototype.resize = function () {\n    var ele = this.element;\n    this.tbResize = true;\n\n    if (this.tbarAlign) {\n      this.itemPositioning();\n    }\n\n    if (this.popObj && this.overflowMode === 'Popup') {\n      this.popObj.hide();\n    }\n\n    var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n\n    if (!checkOverflow) {\n      this.destroyScroll();\n      var multirowele = ele.querySelector('.' + CLS_ITEMS);\n\n      if (!isNullOrUndefined(multirowele)) {\n        this.remove(multirowele, CLS_MULTIROWPOS);\n\n        if (this.tbarAlign) {\n          this.add(multirowele, CLS_TBARPOS);\n        }\n      }\n    }\n\n    if (checkOverflow && this.scrollModule && this.offsetWid === ele.offsetWidth) {\n      return;\n    }\n\n    if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n      this.renderOverflowMode();\n    }\n\n    if (this.popObj) {\n      if (this.overflowMode === 'Extended') {\n        var eleStyles = window.getComputedStyle(this.element);\n        this.popObj.width = parseFloat(eleStyles.width) + parseFloat(eleStyles.borderRightWidth) * 2;\n      }\n\n      if (this.tbarAlign) {\n        this.removePositioning();\n      }\n\n      this.popupRefresh(this.popObj.element, false);\n\n      if (this.tbarAlign) {\n        this.refreshPositioning();\n      }\n    }\n\n    if (this.element.querySelector('.' + CLS_HSCROLLBAR$1)) {\n      this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR$1).offsetWidth;\n    }\n\n    this.offsetWid = ele.offsetWidth;\n    this.tbResize = false;\n    this.separator();\n  };\n\n  Toolbar.prototype.extendedOpen = function () {\n    var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n\n    if (this.overflowMode === 'Extended' && sib) {\n      this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n    }\n  };\n\n  Toolbar.prototype.updateHideEleTabIndex = function (ele, isHidden, isElement, eleIndex, innerItems) {\n    if (isElement) {\n      eleIndex = innerItems.indexOf(ele);\n    }\n\n    var nextEle = innerItems[++eleIndex];\n\n    while (nextEle) {\n      var skipEle = this.eleContains(nextEle);\n\n      if (!skipEle) {\n        var dataTabIndex = nextEle.firstElementChild.getAttribute('data-tabindex');\n\n        if (isHidden && dataTabIndex === '-1') {\n          nextEle.firstElementChild.setAttribute('tabindex', '0');\n        } else if (dataTabIndex !== nextEle.firstElementChild.getAttribute('tabindex')) {\n          nextEle.firstElementChild.setAttribute('tabindex', dataTabIndex);\n        }\n\n        break;\n      }\n\n      nextEle = innerItems[++eleIndex];\n    }\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {ToolbarModel} newProp - It contains new value of the data.\n   * @param  {ToolbarModel} oldProp - It contains old value of the data.\n   * @returns {void}\n   * @private\n   */\n\n\n  Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var tEle = this.element;\n    var wid = tEle.offsetWidth;\n    this.extendedOpen();\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProb = Object.keys(newProp.items);\n\n            for (var i = 0; i < changedProb.length; i++) {\n              var index = parseInt(Object.keys(newProp.items)[parseInt(i.toString(), 10)], 10);\n              var property = Object.keys(newProp.items[parseInt(index.toString(), 10)])[0];\n              var newProperty = Object(newProp.items[parseInt(index.toString(), 10)])[\"\" + property];\n\n              if (typeof newProperty !== 'function') {\n                if (this.tbarAlign || property === 'align') {\n                  this.refresh();\n                  this.trigger('created');\n                  break;\n                }\n\n                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n\n                if (popupPriCheck || this.items[parseInt(index.toString(), 10)].showAlwaysInPopup && booleanCheck) {\n                  --this.popupPriCount;\n                }\n\n                if (isNullOrUndefined(this.scrollModule)) {\n                  this.destroyMode();\n                }\n\n                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n\n                if (this.isReact && this.items[parseInt(index.toString(), 10)].template) {\n                  this.clearTemplate();\n                }\n\n                detach(itemCol[parseInt(index.toString(), 10)]);\n                this.tbarEle.splice(index, 1);\n                this.addItems([this.items[parseInt(index.toString(), 10)]], index);\n                this.items.splice(index, 1);\n\n                if (this.items[parseInt(index.toString(), 10)].template) {\n                  this.tbarEle.splice(this.items.length, 1);\n                }\n              }\n            }\n          } else {\n            this.itemsRerender(newProp.items);\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(tEle, {\n            'width': formatUnit(newProp.width)\n          });\n          this.refreshOverflow();\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'overflowMode':\n          this.destroyMode();\n          this.renderOverflowMode();\n\n          if (this.enableRtl) {\n            this.add(tEle, CLS_RTL$2);\n          }\n\n          this.refreshOverflow();\n          break;\n\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.add(tEle, CLS_RTL$2);\n          } else {\n            this.remove(tEle, CLS_RTL$2);\n          }\n\n          if (!isNullOrUndefined(this.scrollModule)) {\n            if (newProp.enableRtl) {\n              this.add(this.scrollModule.element, CLS_RTL$2);\n            } else {\n              this.remove(this.scrollModule.element, CLS_RTL$2);\n            }\n          }\n\n          if (!isNullOrUndefined(this.popObj)) {\n            if (newProp.enableRtl) {\n              this.add(this.popObj.element, CLS_RTL$2);\n            } else {\n              this.remove(this.popObj.element, CLS_RTL$2);\n            }\n          }\n\n          if (this.tbarAlign) {\n            this.itemPositioning();\n          }\n\n          break;\n\n        case 'scrollStep':\n          if (this.scrollModule) {\n            this.scrollModule.scrollStep = this.scrollStep;\n          }\n\n          break;\n\n        case 'enableCollision':\n          if (this.popObj) {\n            this.popObj.collision = {\n              Y: this.enableCollision ? 'flip' : 'none'\n            };\n          }\n\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          break;\n\n        case 'allowKeyboard':\n          this.unwireKeyboardEvent();\n\n          if (newProp.allowKeyboard) {\n            this.wireKeyboardEvent();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * Shows or hides the Toolbar item that is in the specified index.\n   *\n   * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n   * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n   * @returns {void}.\n   */\n\n\n  Toolbar.prototype.hideItem = function (index, value) {\n    var isElement = typeof index === 'object' ? true : false;\n    var eleIndex = index;\n    var ele;\n\n    if (!isElement && isNullOrUndefined(eleIndex)) {\n      return;\n    }\n\n    var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n\n    if (isElement) {\n      ele = index;\n    } else if (this.tbarEle[parseInt(eleIndex.toString(), 10)]) {\n      var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n      ele = innerItems_1[parseInt(eleIndex.toString(), 10)];\n    }\n\n    if (ele) {\n      if (value) {\n        ele.classList.add(CLS_HIDDEN);\n\n        if (!ele.classList.contains(CLS_SEPARATOR)) {\n          if (isNullOrUndefined(ele.firstElementChild.getAttribute('tabindex')) || ele.firstElementChild.getAttribute('tabindex') !== '-1') {\n            this.updateHideEleTabIndex(ele, value, isElement, eleIndex, innerItems);\n          }\n        }\n      } else {\n        ele.classList.remove(CLS_HIDDEN);\n\n        if (!ele.classList.contains(CLS_SEPARATOR)) {\n          this.updateHideEleTabIndex(ele, value, isElement, eleIndex, innerItems);\n        }\n      }\n\n      this.refreshOverflow();\n    }\n  };\n\n  __decorate$3([Collection([], Item)], Toolbar.prototype, \"items\", void 0);\n\n  __decorate$3([Property('auto')], Toolbar.prototype, \"width\", void 0);\n\n  __decorate$3([Property('auto')], Toolbar.prototype, \"height\", void 0);\n\n  __decorate$3([Property('')], Toolbar.prototype, \"cssClass\", void 0);\n\n  __decorate$3([Property('Scrollable')], Toolbar.prototype, \"overflowMode\", void 0);\n\n  __decorate$3([Property()], Toolbar.prototype, \"scrollStep\", void 0);\n\n  __decorate$3([Property(true)], Toolbar.prototype, \"enableCollision\", void 0);\n\n  __decorate$3([Property(true)], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$3([Property(true)], Toolbar.prototype, \"allowKeyboard\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"clicked\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"created\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"destroyed\", void 0);\n\n  __decorate$3([Event()], Toolbar.prototype, \"beforeCreate\", void 0);\n\n  Toolbar = __decorate$3([NotifyPropertyChanges], Toolbar);\n  return Toolbar;\n}(Component);\n/**\n * Toolbar modules\n */\n\n\nvar __extends$4 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT$2 = 'e-accordion';\nvar CLS_ITEM$1 = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL$3 = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE$3 = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\n\nvar AccordionActionSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(AccordionActionSettings, _super);\n\n  function AccordionActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Property('SlideDown')], AccordionActionSettings.prototype, \"effect\", void 0);\n\n  __decorate$4([Property(400)], AccordionActionSettings.prototype, \"duration\", void 0);\n\n  __decorate$4([Property('linear')], AccordionActionSettings.prototype, \"easing\", void 0);\n\n  return AccordionActionSettings;\n}(ChildProperty);\n/**\n * Objects used for configuring the Accordion animation properties.\n */\n\n\nvar AccordionAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(AccordionAnimationSettings, _super);\n\n  function AccordionAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate$4([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, AccordionActionSettings)], AccordionAnimationSettings.prototype, \"expand\", void 0);\n\n  return AccordionAnimationSettings;\n}(ChildProperty);\n/**\n * An item object that is used to configure Accordion items.\n */\n\n\nvar AccordionItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(AccordionItem, _super);\n\n  function AccordionItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"content\", void 0);\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"header\", void 0);\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"cssClass\", void 0);\n\n  __decorate$4([Property(null)], AccordionItem.prototype, \"iconCss\", void 0);\n\n  __decorate$4([Property(false)], AccordionItem.prototype, \"expanded\", void 0);\n\n  __decorate$4([Property(true)], AccordionItem.prototype, \"visible\", void 0);\n\n  __decorate$4([Property(false)], AccordionItem.prototype, \"disabled\", void 0);\n\n  __decorate$4([Property()], AccordionItem.prototype, \"id\", void 0);\n\n  return AccordionItem;\n}(ChildProperty);\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\n\n\nvar Accordion =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(Accordion, _super);\n  /**\n   * Initializes a new instance of the Accordion class.\n   *\n   * @param {AccordionModel} options  - Specifies Accordion model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as an Accordion.\n   */\n\n\n  function Accordion(options, element) {\n    var _this = _super.call(this, options, element) || this;\n    /**\n     * Contains the keyboard configuration of the Accordion.\n     */\n\n\n    _this.keyConfigs = {\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      enter: 'enter',\n      space: 'space',\n      home: 'home',\n      end: 'end'\n    };\n    return _this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  Accordion.prototype.destroy = function () {\n    if (this.isReact || this.isAngular || this.isVue) {\n      this.clearTemplate();\n    }\n\n    var ele = this.element;\n\n    _super.prototype.destroy.call(this);\n\n    this.unwireEvents();\n    this.isDestroy = true;\n    this.restoreContent(null);\n    [].slice.call(ele.children).forEach(function (el) {\n      ele.removeChild(el);\n    });\n\n    if (this.trgtEle) {\n      this.trgtEle = null;\n\n      while (this.ctrlTem.firstElementChild) {\n        ele.appendChild(this.ctrlTem.firstElementChild);\n      }\n\n      this.ctrlTem = null;\n    }\n\n    ele.classList.remove(CLS_ACRDN_ROOT);\n    ele.removeAttribute('style');\n    this.element.removeAttribute('data-ripple');\n\n    if (!this.isNested && isRippleEnabled) {\n      this.removeRippleEffect();\n    }\n  };\n\n  Accordion.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT);\n    this.isNested = false;\n    this.templateEle = [];\n\n    if (!this.isDestroy) {\n      this.isDestroy = false;\n    }\n\n    if (nested && nested.firstElementChild && nested.firstElementChild.firstElementChild) {\n      if (nested.firstElementChild.firstElementChild.classList.contains(CLS_ROOT$2)) {\n        nested.classList.add(CLS_NEST);\n        this.isNested = true;\n      }\n    } else {\n      this.element.classList.add(CLS_ACRDN_ROOT);\n    }\n\n    if (this.enableRtl) {\n      this.add(this.element, CLS_RTL$3);\n    }\n  };\n\n  Accordion.prototype.add = function (ele, val) {\n    ele.classList.add(val);\n  };\n\n  Accordion.prototype.remove = function (ele, val) {\n    ele.classList.remove(val);\n  };\n  /**\n   * To initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Accordion.prototype.render = function () {\n    this.initializeHeaderTemplate();\n    this.initializeItemTemplate();\n    this.initialize();\n    this.renderControl();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Accordion.prototype.initialize = function () {\n    var width = formatUnit(this.width);\n    var height = formatUnit(this.height);\n    setStyleAttribute(this.element, {\n      'width': width,\n      'height': height\n    });\n\n    if (isNullOrUndefined(this.initExpand)) {\n      this.initExpand = [];\n    }\n\n    if (this.expandedIndices.length > 0) {\n      this.initExpand = this.expandedIndices;\n    }\n  };\n\n  Accordion.prototype.renderControl = function () {\n    this.trgtEle = this.element.children.length > 0 ? select('div', this.element) : null;\n    this.renderItems();\n    this.initItemExpand();\n  };\n\n  Accordion.prototype.wireFocusEvents = function () {\n    var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1));\n\n    for (var _i = 0, acrdItem_1 = acrdItem; _i < acrdItem_1.length; _i++) {\n      var item = acrdItem_1[_i];\n      var headerEle = item.querySelector('.' + CLS_HEADER);\n\n      if (item.childElementCount > 0 && headerEle) {\n        EventHandler.clearEvents(headerEle);\n        EventHandler.add(headerEle, 'focus', this.focusIn, this);\n        EventHandler.add(headerEle, 'blur', this.focusOut, this);\n      }\n    }\n  };\n\n  Accordion.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n\n    if (!isNullOrUndefined(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n  };\n\n  Accordion.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n\n    if (!this.isNested && !this.isDestroy) {\n      this.removeRippleEffect = rippleEffect(this.element, {\n        selector: '.' + CLS_HEADER\n      });\n    }\n\n    if (!this.isNested) {\n      this.keyModule = new KeyboardEvents(this.element, {\n        keyAction: this.keyActionHandler.bind(this),\n        keyConfigs: this.keyConfigs,\n        eventName: 'keydown'\n      });\n    }\n  };\n\n  Accordion.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (error) {\n        return compile(template);\n      }\n    }\n\n    return undefined;\n  };\n\n  Accordion.prototype.initializeHeaderTemplate = function () {\n    if (this.headerTemplate) {\n      this.headerTemplateFn = this.templateParser(this.headerTemplate);\n    }\n  };\n\n  Accordion.prototype.initializeItemTemplate = function () {\n    if (this.itemTemplate) {\n      this.itemTemplateFn = this.templateParser(this.itemTemplate);\n    }\n  };\n\n  Accordion.prototype.getHeaderTemplate = function () {\n    return this.headerTemplateFn;\n  };\n\n  Accordion.prototype.getItemTemplate = function () {\n    return this.itemTemplateFn;\n  };\n\n  Accordion.prototype.focusIn = function (e) {\n    e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.focusOut = function (e) {\n    e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n  };\n\n  Accordion.prototype.ctrlTemplate = function () {\n    this.ctrlTem = this.element.cloneNode(true);\n    var innerEles;\n    var rootEle = select('.' + CLS_CONTAINER, this.element);\n\n    if (rootEle) {\n      innerEles = rootEle.children;\n    } else {\n      innerEles = this.element.children;\n    }\n\n    var items = [];\n    [].slice.call(innerEles).forEach(function (el) {\n      items.push({\n        header: el.childElementCount > 0 && el.children[0] ? el.children[0] : '',\n        content: el.childElementCount > 1 && el.children[1] ? el.children[1] : ''\n      });\n      el.parentNode.removeChild(el);\n    });\n\n    if (rootEle) {\n      this.element.removeChild(rootEle);\n    }\n\n    this.setProperties({\n      items: items\n    }, true);\n  };\n\n  Accordion.prototype.toggleIconGenerate = function () {\n    var tglIcon = this.createElement('div', {\n      className: CLS_TOOGLEICN\n    });\n    var hdrColIcon = this.createElement('span', {\n      className: CLS_COLLAPSEICN\n    });\n    tglIcon.appendChild(hdrColIcon);\n    return tglIcon;\n  };\n\n  Accordion.prototype.initItemExpand = function () {\n    var len = this.initExpand.length;\n\n    if (len === 0) {\n      return;\n    }\n\n    if (this.expandMode === 'Single') {\n      this.expandItem(true, this.initExpand[len - 1]);\n    } else {\n      for (var i = 0; i < len; i++) {\n        this.expandItem(true, this.initExpand[parseInt(i.toString(), 10)]);\n      }\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.renderItems = function () {\n    var _this = this;\n\n    var ele = this.element;\n    var innerItem;\n    var innerDataSourceItem;\n\n    if (!isNullOrUndefined(this.trgtEle)) {\n      this.ctrlTemplate();\n    }\n\n    if (this.dataSource.length > 0) {\n      this.dataSource.forEach(function (item, index) {\n        innerDataSourceItem = _this.renderInnerItem(item, index);\n        ele.appendChild(innerDataSourceItem);\n\n        if (innerDataSourceItem.childElementCount > 0) {\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n          EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n        }\n      });\n    } else {\n      var items = this.items;\n\n      if (ele && items.length > 0) {\n        items.forEach(function (item, index) {\n          innerItem = _this.renderInnerItem(item, index);\n          ele.appendChild(innerItem);\n\n          if (innerItem.childElementCount > 0) {\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n            EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n          }\n        });\n      }\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.clickHandler = function (e) {\n    var trgt = e.target;\n    var items = this.getItems();\n    var eventArgs = {};\n    var tglIcon;\n    var acrdEle = closest(trgt, '.' + CLS_ROOT$2);\n\n    if (acrdEle !== this.element) {\n      return;\n    }\n\n    trgt.classList.add('e-target');\n    var acrdnItem = closest(trgt, '.' + CLS_ITEM$1);\n    var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n    var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n\n    if (acrdnItem && (isNullOrUndefined(acrdnHdr) || isNullOrUndefined(acrdnCtn))) {\n      acrdnHdr = acrdnItem.children[0];\n      acrdnCtn = acrdnItem.children[1];\n    }\n\n    if (acrdnHdr) {\n      tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n    }\n\n    var acrdnCtnItem;\n\n    if (acrdnHdr) {\n      acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM$1);\n    } else if (acrdnCtn) {\n      acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM$1);\n    }\n\n    var index = this.getIndexByItem(acrdnItem);\n\n    if (acrdnCtnItem) {\n      eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n    }\n\n    eventArgs.originalEvent = e;\n    var ctnCheck = !isNullOrUndefined(tglIcon) && acrdnItem.childElementCount <= 1;\n\n    if (ctnCheck && (isNullOrUndefined(acrdnCtn) || !isNullOrUndefined(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n      acrdnItem.appendChild(this.contentRendering(index));\n      this.ariaAttrUpdate(acrdnItem);\n      this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n    } else {\n      this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.afterContentRender = function (trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n    var _this = this;\n\n    var acrdActive = [];\n    this.trigger('clicked', eventArgs);\n    var cntclkCheck = acrdnCtn && !isNullOrUndefined(select('.e-target', acrdnCtn));\n    var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT$2;\n    var inlineEleAcrdn = acrdnCtn && !isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) && isNullOrUndefined(closest(trgt, inlineAcrdnSel));\n    var nestContCheck = acrdnCtn && isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT$2) === this.element);\n    cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n    trgt.classList.remove('e-target');\n\n    if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n      return;\n    }\n\n    var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n    var acrdnchild = acrdcontainer ? acrdcontainer.children : this.element.children;\n    [].slice.call(acrdnchild).forEach(function (el) {\n      if (el.classList.contains(CLS_ACTIVE)) {\n        acrdActive.push(el);\n      }\n    });\n    var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1 + ' [' + CLS_ANIMATE + ']'));\n\n    if (acrdAniEle.length > 0) {\n      for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n        var el = acrdAniEle_1[_i];\n        acrdActive.push(el.parentElement);\n      }\n    }\n\n    var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n    var sameHeader = false;\n\n    if (!isNullOrUndefined(acrdnItem) && !isNullOrUndefined(acrdnHdr)) {\n      var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n      var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n      var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n\n      if (isNullOrUndefined(acrdnCtn_1)) {\n        return;\n      }\n\n      sameHeader = expandState === acrdnItem;\n\n      if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n        this.collapse(acrdnCtn_1);\n      } else {\n        if (acrdActive.length > 0 && this.expandMode === 'Single' && !sameContentCheck) {\n          acrdActive.forEach(function (el) {\n            _this.collapse(select('.' + CLS_CONTENT, el));\n\n            el.classList.remove(CLS_EXPANDSTATE);\n          });\n        }\n\n        this.expand(acrdnCtn_1);\n      }\n\n      if (!isNullOrUndefined(expandState) && !sameHeader) {\n        expandState.classList.remove(CLS_EXPANDSTATE);\n      }\n    }\n  };\n\n  Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n    var clst;\n    var clstItem = closest(trgt, '.' + CLS_ITEM$1);\n\n    if (trgt === root) {\n      clst = (action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER);\n    } else if (trgt.classList.contains(CLS_HEADER)) {\n      clstItem = action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling;\n\n      if (clstItem) {\n        clst = select('.' + CLS_HEADER, clstItem);\n      }\n    }\n\n    if (clst) {\n      clst.focus();\n    }\n  };\n\n  Accordion.prototype.keyActionHandler = function (e) {\n    var trgt = e.target;\n    var header = closest(e.target, CLS_HEADER);\n\n    if (isNullOrUndefined(header) && !trgt.classList.contains(CLS_ROOT$2) && !trgt.classList.contains(CLS_HEADER)) {\n      return;\n    }\n\n    var clst;\n    var root = this.element;\n    var content;\n\n    switch (e.action) {\n      case 'moveUp':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'moveDown':\n        this.eleMoveFocus(e.action, root, trgt);\n        break;\n\n      case 'space':\n      case 'enter':\n        content = trgt.nextElementSibling;\n\n        if (!isNullOrUndefined(content) && content.classList.contains(CLS_CONTENT)) {\n          if (content.getAttribute('e-animate') !== 'true') {\n            trgt.click();\n          }\n        } else {\n          trgt.click();\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'home':\n      case 'end':\n        clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n        clst.focus();\n        e.preventDefault();\n        break;\n    }\n  };\n\n  Accordion.prototype.headerEleGenerate = function () {\n    var header = this.createElement('div', {\n      className: CLS_HEADER,\n      id: getUniqueID('acrdn_header')\n    });\n    var ariaAttr = {\n      'tabindex': '0',\n      'role': 'button',\n      'aria-disabled': 'false',\n      'aria-expanded': 'false'\n    };\n    attributes(header, ariaAttr);\n    return header;\n  };\n\n  Accordion.prototype.renderInnerItem = function (item, index) {\n    var innerEle = this.createElement('div', {\n      className: CLS_ITEM$1,\n      id: item.id || getUniqueID('acrdn_item')\n    });\n\n    if (this.headerTemplate) {\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      append(this.getHeaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n      innerEle.appendChild(ctnEle);\n      ctnEle.appendChild(this.toggleIconGenerate());\n      this.add(innerEle, CLS_SLCT);\n      return innerEle;\n    }\n\n    if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n      if (this.enableHtmlSanitizer && typeof item.header === 'string') {\n        item.header = SanitizeHtmlHelper.sanitize(item.header);\n      }\n\n      var ctnEle = this.headerEleGenerate();\n      var hdrEle = this.createElement('div', {\n        className: CLS_HEADERCTN\n      });\n      ctnEle.appendChild(hdrEle);\n      ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n      innerEle.appendChild(ctnEle);\n    }\n\n    var hdr = select('.' + CLS_HEADER, innerEle);\n\n    if (item.expanded && !isNullOrUndefined(index) && !this.enablePersistence) {\n      if (this.initExpand.indexOf(index) === -1) {\n        this.initExpand.push(index);\n      }\n    }\n\n    if (item.cssClass) {\n      addClass([innerEle], item.cssClass.split(' '));\n    }\n\n    if (item.disabled) {\n      addClass([innerEle], CLS_DISABLE$3);\n    }\n\n    if (item.visible === false) {\n      addClass([innerEle], CLS_ITEMHIDE);\n    }\n\n    if (item.iconCss) {\n      var hdrIcnEle = this.createElement('div', {\n        className: CLS_HEADERICN\n      });\n      var icon = this.createElement('span', {\n        className: item.iconCss + ' e-icons'\n      });\n      hdrIcnEle.appendChild(icon);\n\n      if (isNullOrUndefined(hdr)) {\n        hdr = this.headerEleGenerate();\n        hdr.appendChild(hdrIcnEle);\n        innerEle.appendChild(hdr);\n      } else {\n        hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n      }\n    }\n\n    if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n      var hdrIcon = this.toggleIconGenerate();\n\n      if (isNullOrUndefined(hdr)) {\n        hdr = this.headerEleGenerate();\n        innerEle.appendChild(hdr);\n      }\n\n      hdr.appendChild(hdrIcon);\n      this.add(innerEle, CLS_SLCT);\n    }\n\n    return innerEle;\n  };\n\n  Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n    var property = prop === 'content' ? item.content : item.header;\n    var content = property;\n\n    if (this.isAngular && !isNullOrUndefined(content.elementRef)) {\n      var data = content.elementRef.nativeElement.data;\n\n      if (isNullOrUndefined(data) || data === '' || data.indexOf('bindings=') === -1) {\n        return true;\n      }\n\n      var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n\n      if (!isNullOrUndefined(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n        return false;\n      } else {\n        return true;\n      }\n    } else {\n      return true;\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n    var templateFn;\n    var temString;\n\n    try {\n      if (document.querySelectorAll(value).length && value !== 'Button') {\n        var eleVal = document.querySelector(value);\n        temString = eleVal.outerHTML.trim();\n        ele.appendChild(eleVal);\n        eleVal.style.display = '';\n      } else {\n        templateFn = compile(value);\n      }\n    } catch (e) {\n      if (typeof value === 'string') {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n      } else if (!isNullOrUndefined(this.trgtEle) && value instanceof HTMLElement) {\n        ele.appendChild(value);\n        ele.firstElementChild.style.display = '';\n      } else {\n        templateFn = compile(value);\n      }\n    }\n\n    var tempArray;\n\n    if (!isNullOrUndefined(templateFn)) {\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      var templateProps = void 0;\n      var templateName = void 0;\n\n      if (ele.classList.contains(CLS_HEADERCTN)) {\n        templateProps = this.element.id + index + '_header';\n        templateName = 'header';\n      } else if (ele.classList.contains(CLS_CTENT)) {\n        templateProps = this.element.id + index + '_content';\n        templateName = 'content';\n      }\n\n      tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n    }\n\n    if (!isNullOrUndefined(tempArray) && tempArray.length > 0 && !(isNullOrUndefined(tempArray[0].tagName) && tempArray.length === 1)) {\n      [].slice.call(tempArray).forEach(function (el) {\n        if (!isNullOrUndefined(el.tagName)) {\n          el.style.display = '';\n        }\n\n        ele.appendChild(el);\n      });\n    } else if (ele.childElementCount === 0) {\n      ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n    }\n\n    if (!isNullOrUndefined(temString)) {\n      if (this.templateEle.indexOf(value) === -1) {\n        this.templateEle.push(value);\n      }\n    }\n\n    return ele;\n  };\n\n  Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n    var header = select('.' + CLS_HEADER, itemEle);\n    var content = select('.' + CLS_CONTENT, itemEle);\n    header.setAttribute('aria-controls', content.id);\n    content.setAttribute('aria-labelledby', header.id);\n    content.setAttribute('role', 'region');\n  };\n\n  Accordion.prototype.contentRendering = function (index) {\n    var itemcnt = this.createElement('div', {\n      className: CLS_CONTENT + ' ' + CLS_CTNHIDE,\n      id: getUniqueID('acrdn_panel')\n    });\n    attributes(itemcnt, {\n      'aria-hidden': 'true'\n    });\n    var ctn = this.createElement('div', {\n      className: CLS_CTENT\n    });\n\n    if (this.dataSource.length > 0) {\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      append(this.getItemTemplate()(this.dataSource[parseInt(index.toString(), 10)], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n      itemcnt.appendChild(ctn);\n    } else {\n      if (this.enableHtmlSanitizer && typeof this.items[parseInt(index.toString(), 10)].content) {\n        this.items[parseInt(index.toString(), 10)].content = SanitizeHtmlHelper.sanitize(this.items[parseInt(index.toString(), 10)].content);\n      }\n\n      itemcnt.appendChild(this.fetchElement(ctn, this.items[parseInt(index.toString(), 10)].content, index, false));\n    }\n\n    return itemcnt;\n  };\n\n  Accordion.prototype.expand = function (trgt) {\n    var _this = this;\n\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n\n    if (isNullOrUndefined(trgt) || isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true' || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n      return;\n    }\n\n    var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n    var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n    var animation = {\n      name: this.animation.expand.effect,\n      duration: this.animation.expand.duration,\n      timingFunction: this.animation.expand.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    var eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: true\n    };\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        icon.classList.add(CLS_TOGANIMATE);\n\n        _this.expandedItemsPush(trgtItemEle);\n\n        if (!isNullOrUndefined(expandState)) {\n          expandState.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        trgtItemEle.classList.add(CLS_EXPANDSTATE);\n\n        if (animation.name === 'None') {\n          _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n    var _this = this;\n\n    var height;\n    this.lastActiveItemId = trgtItemEle.id;\n\n    if (ef === 'SlideDown') {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n\n        trgt.style.position = 'absolute';\n        height = trgtItemEle.offsetHeight;\n        trgt.style.maxHeight = trgt.offsetHeight + 'px';\n        trgtItemEle.style.maxHeight = '';\n      };\n\n      animate.progress = function () {\n        trgtItemEle.style.minHeight = height + trgt.offsetHeight + 'px';\n      };\n\n      animate.end = function () {\n        setStyleAttribute(trgt, {\n          'position': '',\n          'maxHeight': ''\n        });\n        trgtItemEle.style.minHeight = '';\n\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    } else {\n      animate.begin = function () {\n        _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n      };\n\n      animate.end = function () {\n        _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(trgt, CLS_CTNHIDE);\n    this.add(trgtItemEle, CLS_SLCTED);\n    this.add(icon, CLS_EXPANDICN);\n\n    if (progress === 'end') {\n      this.add(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'false');\n      attributes(trgt.previousElementSibling, {\n        'aria-expanded': 'true'\n      });\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.trigger('expanded', eventArgs);\n    }\n  };\n\n  Accordion.prototype.expandedItemsPush = function (item) {\n    var index = this.getIndexByItem(item);\n\n    if (this.expandedIndices.indexOf(index) === -1) {\n      var temp = [].slice.call(this.expandedIndices);\n      temp.push(index);\n      this.setProperties({\n        expandedIndices: temp\n      }, true);\n    }\n  };\n\n  Accordion.prototype.getIndexByItem = function (item) {\n    var itemEle = this.getItemElements();\n    return [].slice.call(itemEle).indexOf(item);\n  };\n\n  Accordion.prototype.getItemElements = function () {\n    var itemEle = [];\n    var itemCollection = this.element.children;\n    [].slice.call(itemCollection).forEach(function (el) {\n      if (el.classList.contains(CLS_ITEM$1)) {\n        itemEle.push(el);\n      }\n    });\n    return itemEle;\n  };\n\n  Accordion.prototype.expandedItemsPop = function (item) {\n    var index = this.getIndexByItem(item);\n    var temp = [].slice.call(this.expandedIndices);\n    temp.splice(temp.indexOf(index), 1);\n    this.setProperties({\n      expandedIndices: temp\n    }, true);\n  };\n\n  Accordion.prototype.collapse = function (trgt) {\n    var _this = this;\n\n    var items = this.getItems();\n    var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n\n    if (isNullOrUndefined(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n      return;\n    }\n\n    var animation = {\n      name: this.animation.collapse.effect,\n      duration: this.animation.collapse.duration,\n      timingFunction: this.animation.collapse.easing\n    };\n    var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n    var eventArgs = {\n      element: trgtItemEle,\n      item: items[this.getIndexByItem(trgtItemEle)],\n      index: this.getIndexByItem(trgtItemEle),\n      content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n      isExpanded: false\n    };\n    this.trigger('expanding', eventArgs, function (expandArgs) {\n      if (!expandArgs.cancel) {\n        _this.expandedItemsPop(trgtItemEle);\n\n        trgtItemEle.classList.remove(CLS_EXPANDSTATE);\n        icon.classList.add(CLS_TOGANIMATE);\n\n        if (animation.name === 'None') {\n          _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n\n          _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n        } else {\n          _this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n        }\n      }\n    });\n  };\n\n  Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n    var _this = this;\n\n    var height;\n    var trgtHeight;\n    var itemHeight;\n    var remain;\n    this.lastActiveItemId = trgtItEl.id;\n\n    if (ef === 'SlideUp') {\n      animate.begin = function () {\n        itemHeight = trgtItEl.offsetHeight;\n        trgtItEl.style.minHeight = itemHeight + 'px';\n        trgt.style.position = 'absolute';\n        height = trgtItEl.offsetHeight;\n        trgtHeight = trgt.offsetHeight;\n        trgt.style.maxHeight = trgtHeight + 'px';\n\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.progress = function () {\n        remain = height - (trgtHeight - trgt.offsetHeight);\n\n        if (remain < itemHeight) {\n          trgtItEl.style.minHeight = remain + 'px';\n        }\n      };\n\n      animate.end = function () {\n        trgt.style.display = 'none';\n\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n\n        trgtItEl.style.minHeight = '';\n        setStyleAttribute(trgt, {\n          'position': '',\n          'maxHeight': '',\n          'display': ''\n        });\n      };\n    } else {\n      animate.begin = function () {\n        _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n      };\n\n      animate.end = function () {\n        _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n      };\n    }\n\n    new Animation(animate).animate(trgt);\n  };\n\n  Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n    this.remove(icon, CLS_EXPANDICN);\n    this.remove(trgtItemEle, CLS_SLCTED);\n\n    if (progress === 'end') {\n      this.add(trgt, CLS_CTNHIDE);\n      icon.classList.remove(CLS_TOGANIMATE);\n      this.remove(trgtItemEle, CLS_ACTIVE);\n      trgt.setAttribute('aria-hidden', 'true');\n      attributes(trgt.previousElementSibling, {\n        'aria-expanded': 'false'\n      });\n      this.trigger('expanded', eventArgs);\n    }\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  Accordion.prototype.getModuleName = function () {\n    return 'accordion';\n  };\n\n  Accordion.prototype.getItems = function () {\n    var items;\n\n    if (this.itemTemplate && this.headerTemplate) {\n      items = this.dataSource;\n    } else {\n      items = this.items;\n    }\n\n    return items;\n  };\n  /**\n   * Adds new item to the Accordion with the specified index of the Accordion.\n   *\n   * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n   * @param  {number} index - Number value that determines where the item should be added.\n   * By default, item is added at the last index if the index is not specified.\n   * @returns {void}\n   */\n\n\n  Accordion.prototype.addItem = function (item, index) {\n    var _this = this;\n\n    var ele = this.element;\n    var itemEle = this.getItemElements();\n    var items = this.getItems();\n\n    if (isNullOrUndefined(index)) {\n      index = items.length;\n    }\n\n    if (ele.childElementCount >= index) {\n      var addItems = item instanceof Array ? item : [item];\n      addItems.forEach(function (addItem, i) {\n        var itemIndex = index + i;\n        items.splice(itemIndex, 0, addItem);\n\n        var innerItemEle = _this.renderInnerItem(addItem, itemIndex);\n\n        if (ele.childElementCount === itemIndex) {\n          ele.appendChild(innerItemEle);\n        } else {\n          ele.insertBefore(innerItemEle, itemEle[parseInt(itemIndex.toString(), 10)]);\n        }\n\n        EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n        EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n        _this.expandedIndices = [];\n\n        _this.expandedItemRefresh(ele);\n\n        if (addItem && addItem.expanded) {\n          _this.expandItem(true, itemIndex);\n        }\n      });\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Accordion.prototype.expandedItemRefresh = function (ele) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n    [].slice.call(itemEle).forEach(function (el) {\n      if (el.classList.contains(CLS_SLCTED)) {\n        _this.expandedItemsPush(el);\n      }\n    });\n  };\n  /**\n   * Dynamically removes item from Accordion.\n   *\n   * @param  {number} index - Number value that determines which item should be removed.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.removeItem = function (index) {\n    if (this.isReact) {\n      this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n    }\n\n    var itemEle = this.getItemElements();\n    var ele = itemEle[parseInt(index.toString(), 10)];\n    var items = this.getItems();\n\n    if (isNullOrUndefined(ele)) {\n      return;\n    }\n\n    this.restoreContent(index);\n    detach(ele);\n    items.splice(index, 1);\n    this.expandedIndices = [];\n    this.expandedItemRefresh(this.element);\n  };\n  /**\n   * Sets focus to the specified index item header in Accordion.\n   *\n   * @param  {number} index - Number value that determines which item should be focused.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.select = function (index) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[parseInt(index.toString(), 10)];\n\n    if (isNullOrUndefined(ele) || isNullOrUndefined(select('.' + CLS_HEADER, ele))) {\n      return;\n    }\n\n    ele.children[0].focus();\n  };\n  /**\n   * Shows or hides the specified item from Accordion.\n   *\n   * @param  {number} index - Number value that determines which item should be hidden/shown.\n   * @param  {boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n   * If the `isHidden` value is false, the item is shown or else item it is hidden.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.hideItem = function (index, isHidden) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[parseInt(index.toString(), 10)];\n\n    if (isNullOrUndefined(ele)) {\n      return;\n    }\n\n    if (isNullOrUndefined(isHidden)) {\n      isHidden = true;\n    }\n\n    if (isHidden) {\n      this.add(ele, CLS_ITEMHIDE);\n    } else {\n      this.remove(ele, CLS_ITEMHIDE);\n    }\n  };\n  /**\n   * Enables/Disables the specified Accordion item.\n   *\n   * @param  {number} index - Number value that determines which item should be enabled/disabled.\n   * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n   * If the `isEnable` value is true, the item is enabled or else it is disabled.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.enableItem = function (index, isEnable) {\n    var itemEle = this.getItemElements();\n    var ele = itemEle[parseInt(index.toString(), 10)];\n\n    if (isNullOrUndefined(ele)) {\n      return;\n    }\n\n    var eleHeader = ele.firstElementChild;\n\n    if (isEnable) {\n      this.remove(ele, CLS_DISABLE$3);\n      attributes(eleHeader, {\n        'tabindex': '0',\n        'aria-disabled': 'false'\n      });\n      eleHeader.focus();\n    } else {\n      if (ele.classList.contains(CLS_ACTIVE)) {\n        this.expandItem(false, index);\n        this.eleMoveFocus('movedown', this.element, eleHeader);\n      }\n\n      this.add(ele, CLS_DISABLE$3);\n      eleHeader.setAttribute('aria-disabled', 'true');\n      eleHeader.removeAttribute('tabindex');\n    }\n  };\n  /**\n   * Expands/Collapses the specified Accordion item.\n   *\n   * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n   * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n   * Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n   * @returns {void}.\n   */\n\n\n  Accordion.prototype.expandItem = function (isExpand, index) {\n    var _this = this;\n\n    var itemEle = this.getItemElements();\n\n    if (isNullOrUndefined(index)) {\n      if (this.expandMode === 'Single' && isExpand) {\n        var ele = itemEle[itemEle.length - 1];\n        this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n      } else {\n        var item = select('#' + this.lastActiveItemId, this.element);\n        [].slice.call(itemEle).forEach(function (el) {\n          _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n\n          el.classList.remove(CLS_EXPANDSTATE);\n        });\n        var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n\n        if (expandedItem) {\n          expandedItem.classList.remove(CLS_EXPANDSTATE);\n        }\n\n        if (item) {\n          item.classList.add(CLS_EXPANDSTATE);\n        }\n      }\n    } else {\n      var ele = itemEle[parseInt(index.toString(), 10)];\n\n      if (isNullOrUndefined(ele) || !ele.classList.contains(CLS_SLCT) || ele.classList.contains(CLS_ACTIVE) && isExpand) {\n        return;\n      } else {\n        if (this.expandMode === 'Single') {\n          this.expandItem(false);\n        }\n\n        this.itemExpand(isExpand, ele, index);\n      }\n    }\n  };\n\n  Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n    var ctn = ele.children[1];\n\n    if (ele.classList.contains(CLS_DISABLE$3)) {\n      return;\n    }\n\n    if (isNullOrUndefined(ctn) && isExpand) {\n      ctn = this.contentRendering(index);\n      ele.appendChild(ctn);\n      this.ariaAttrUpdate(ele);\n      this.expand(ctn);\n    } else if (!isNullOrUndefined(ctn)) {\n      if (isExpand) {\n        this.expand(ctn);\n      } else {\n        this.collapse(ctn);\n      }\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.destroyItems = function () {\n    this.restoreContent(null);\n\n    if (this.isReact || this.isAngular || this.isVue) {\n      this.clearTemplate();\n    }\n\n    [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1)).forEach(function (el) {\n      detach(el);\n    });\n  };\n\n  Accordion.prototype.restoreContent = function (index) {\n    var ctnElePos;\n\n    if (isNullOrUndefined(index)) {\n      ctnElePos = this.element;\n    } else {\n      ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM$1)[parseInt(index.toString(), 10)];\n    }\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNullOrUndefined(ctnElePos.querySelector(eleStr))) {\n        document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Accordion.prototype.updateItem = function (item, index) {\n    if (!isNullOrUndefined(item)) {\n      var items = this.getItems();\n      var itemObj = items[parseInt(index.toString(), 10)];\n      items.splice(index, 1);\n      this.restoreContent(index);\n      var header = select('.' + CLS_HEADERCTN, item);\n      var content = select('.' + CLS_CTENT, item);\n\n      if (this.isReact || this.isAngular) {\n        this.clearAccordionTemplate(header, 'header', CLS_HEADERCTN);\n        this.clearAccordionTemplate(content, 'content', CLS_CTENT);\n      }\n\n      detach(item);\n      this.addItem(itemObj, index);\n    }\n  };\n\n  Accordion.prototype.setTemplate = function (template, toElement, index) {\n    toElement.innerHTML = '';\n    this.templateCompile(toElement, template, index);\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Accordion.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.fetchElement(tempEle, cnt, index, false);\n\n    if (tempEle.childNodes.length !== 0) {\n      [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n        ele.appendChild(childEle);\n      });\n    }\n  };\n\n  Accordion.prototype.clearAccordionTemplate = function (templateEle, templateName, className) {\n    if (this.registeredTemplate && this.registeredTemplate[\"\" + templateName]) {\n      var registeredTemplates = this.registeredTemplate;\n\n      for (var index = 0; index < registeredTemplates[\"\" + templateName].length; index++) {\n        var registeredItem = registeredTemplates[\"\" + templateName][parseInt(index.toString(), 10)].rootNodes[0];\n        var closestItem = closest(registeredItem.containerInfo, '.' + className);\n\n        if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n          this.clearTemplate([templateName], [registeredTemplates[\"\" + templateName][parseInt(index.toString(), 10)]]);\n          break;\n        }\n      }\n    } else if (this.portals && this.portals.length > 0) {\n      var portals = this.portals;\n\n      for (var index = 0; index < portals.length; index++) {\n        var portalItem = portals[parseInt(index.toString(), 10)];\n        var closestItem = closest(portalItem.containerInfo, '.' + className);\n\n        if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n          this.clearTemplate([templateName], index);\n          break;\n        }\n      }\n    }\n  };\n\n  Accordion.prototype.getPersistData = function () {\n    var keyEntity = ['expandedIndices'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {AccordionModel} newProp - It contains the new value of data.\n   * @param  {AccordionModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var acrdn = this.element;\n    var isRefresh = false;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n          if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n\n            for (var j = 0; j < changedProp.length; j++) {\n              var index = parseInt(Object.keys(newProp.items)[parseInt(j.toString(), 10)], 10);\n              var property = Object.keys(newProp.items[parseInt(index.toString(), 10)]);\n\n              for (var k = 0; k < property.length; k++) {\n                var item = selectAll('.' + CLS_ITEM$1, this.element)[parseInt(index.toString(), 10)];\n                var oldVal = Object(oldProp.items[parseInt(index.toString(), 10)])[\"\" + property[parseInt(k.toString(), 10)]];\n                var newVal = Object(newProp.items[parseInt(index.toString(), 10)])[\"\" + property[parseInt(k.toString(), 10)]];\n                var temp = property[parseInt(k.toString(), 10)];\n                var content = select('.' + CLS_CTENT, item);\n\n                if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || temp === 'content' && oldVal === '') {\n                  this.updateItem(item, index);\n                }\n\n                if (property[parseInt(k.toString(), 10)] === 'cssClass' && !isNullOrUndefined(item)) {\n                  if (oldVal) {\n                    removeClass([item], oldVal.split(' '));\n                  }\n\n                  if (newVal) {\n                    addClass([item], newVal.split(' '));\n                  }\n                }\n\n                if (property[parseInt(k.toString(), 10)] === 'visible' && !isNullOrUndefined(item)) {\n                  if (Object(newProp.items[parseInt(index.toString(), 10)])[\"\" + property[parseInt(k.toString(), 10)]] === false) {\n                    item.classList.add(CLS_ITEMHIDE);\n                  } else {\n                    item.classList.remove(CLS_ITEMHIDE);\n                  }\n                }\n\n                if (property[parseInt(k.toString(), 10)] === 'disabled' && !isNullOrUndefined(item)) {\n                  this.enableItem(index, !newVal);\n                }\n\n                if (property[parseInt(k.toString(), 10)] === 'content' && !isNullOrUndefined(item) && item.children.length === 2) {\n                  if (typeof newVal === 'function') {\n                    if (this.isAngular || this.isReact) {\n                      this.clearAccordionTemplate(content, property[parseInt(k.toString(), 10)], CLS_CTENT);\n                    }\n\n                    var activeContent = item.querySelector('.' + CLS_CTENT);\n                    activeContent.innerHTML = '';\n                    this.setTemplate(newVal, activeContent, index);\n                  } else {\n                    if (item.classList.contains(CLS_SLCTED)) {\n                      this.expandItem(false, index);\n                    }\n\n                    detach(item.querySelector('.' + CLS_CONTENT));\n                  }\n                }\n              }\n            }\n          } else {\n            isRefresh = true;\n          }\n\n          break;\n\n        case 'dataSource':\n        case 'expandedIndices':\n          if (this.expandedIndices === null) {\n            this.expandedIndices = [];\n          }\n\n          isRefresh = true;\n          break;\n\n        case 'headerTemplate':\n          this.initializeHeaderTemplate();\n          isRefresh = true;\n          break;\n\n        case 'itemTemplate':\n          this.initializeItemTemplate();\n          isRefresh = true;\n          break;\n\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            this.add(acrdn, CLS_RTL$3);\n          } else {\n            this.remove(acrdn, CLS_RTL$3);\n          }\n\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'expandMode':\n          if (newProp.expandMode === 'Single' && this.expandedIndices.length > 1) {\n            this.expandItem(false);\n          }\n\n          break;\n      }\n    }\n\n    if (isRefresh) {\n      this.initExpand = [];\n\n      if (this.expandedIndices.length > 0) {\n        this.initExpand = this.expandedIndices;\n      }\n\n      this.destroyItems();\n      this.renderItems();\n      this.initItemExpand();\n    }\n  };\n\n  __decorate$4([Collection([], AccordionItem)], Accordion.prototype, \"items\", void 0);\n\n  __decorate$4([Property([])], Accordion.prototype, \"dataSource\", void 0);\n\n  __decorate$4([Property()], Accordion.prototype, \"itemTemplate\", void 0);\n\n  __decorate$4([Property()], Accordion.prototype, \"headerTemplate\", void 0);\n\n  __decorate$4([Property('100%')], Accordion.prototype, \"width\", void 0);\n\n  __decorate$4([Property('auto')], Accordion.prototype, \"height\", void 0);\n\n  __decorate$4([Property([])], Accordion.prototype, \"expandedIndices\", void 0);\n\n  __decorate$4([Property('Multiple')], Accordion.prototype, \"expandMode\", void 0);\n\n  __decorate$4([Property(false)], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$4([Complex({}, AccordionAnimationSettings)], Accordion.prototype, \"animation\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"clicked\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"expanding\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"expanded\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"created\", void 0);\n\n  __decorate$4([Event()], Accordion.prototype, \"destroyed\", void 0);\n\n  Accordion = __decorate$4([NotifyPropertyChanges], Accordion);\n  return Accordion;\n}(Component);\n/**\n * Accordion all modules\n */\n\n\nvar __extends$5 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$5 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\n\n\nvar ContextMenu =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$5(ContextMenu, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {ContextMenuModel} options - Specifies the context menu model\n   * @param {string} element - Specifies the element\n   */\n\n\n  function ContextMenu(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * For internal use only - prerender processing.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.preRender = function () {\n    this.isMenu = false;\n    this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n\n    _super.prototype.preRender.call(this);\n  };\n\n  ContextMenu.prototype.initialize = function () {\n    _super.prototype.initialize.call(this);\n\n    attributes(this.element, {\n      'role': 'menubar',\n      'tabindex': '0'\n    });\n    this.element.style.zIndex = getZindexPartial(this.element).toString();\n  };\n  /**\n   * This method is used to open the ContextMenu in specified position.\n   *\n   * @param {number} top - To specify ContextMenu vertical positioning.\n   * @param {number} left - To specify ContextMenu horizontal positioning.\n   * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n   * @function open\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.open = function (top, left, target) {\n    _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n  };\n  /**\n   * Closes the ContextMenu if it is opened.\n   *\n   * @function close\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.close = function () {\n    _super.prototype.closeMenu.call(this);\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {ContextMenuModel} newProp - Specifies new properties\n   * @param {ContextMenuModel} oldProp - Specifies old properties\n   * @returns {void}\n   */\n\n\n  ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'filter':\n          this.close();\n          this.filter = newProp.filter;\n          break;\n\n        case 'target':\n          this.unWireEvents(oldProp.target);\n          this.wireEvents();\n          break;\n      }\n    }\n  };\n  /**\n   * Get module name.\n   *\n   * @returns {string} - Module Name\n   * @private\n   */\n\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextmenu';\n  };\n\n  __decorate$5([Property('')], ContextMenu.prototype, \"target\", void 0);\n\n  __decorate$5([Property('')], ContextMenu.prototype, \"filter\", void 0);\n\n  __decorate$5([Collection([], MenuItem)], ContextMenu.prototype, \"items\", void 0);\n\n  ContextMenu = __decorate$5([NotifyPropertyChanges], ContextMenu);\n  return ContextMenu;\n}(MenuBase);\n/**\n * ContextMenu modules\n */\n\n\nvar __extends$6 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$6 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n\n\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\nvar HAMBURGER = 'e-hamburger';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\n\nvar Menu =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$6(Menu, _super);\n  /**\n   * Constructor for creating the component.\n   *\n   * @private\n   * @param {MenuModel} options - Specifies the menu model\n   * @param {string} element - Specifies the element\n   */\n\n\n  function Menu(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.tempItems = [];\n    return _this;\n  }\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  Menu.prototype.getModuleName = function () {\n    return 'menu';\n  };\n  /**\n   * For internal use only - prerender processing.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Menu.prototype.preRender = function () {\n    this.isMenu = true;\n    this.element.id = this.element.id || getUniqueID('ej2-menu');\n\n    if (this.template) {\n      try {\n        if (document.querySelectorAll(this.template).length) {\n          this.template = document.querySelector(this.template).innerHTML.trim();\n          this.clearChanges();\n        }\n      } catch (e) {\n        /* action on catch */\n      }\n\n      this.updateMenuItems(this.items);\n    } else {\n      this.updateMenuItems(this.items);\n    }\n\n    _super.prototype.preRender.call(this);\n  };\n\n  Menu.prototype.initialize = function () {\n    _super.prototype.initialize.call(this);\n\n    attributes(this.element, {\n      'role': 'menubar',\n      'tabindex': '0'\n    });\n\n    if (this.orientation === 'Vertical') {\n      this.element.classList.add(VMENU);\n\n      if (this.hamburgerMode && !this.target) {\n        this.element.previousElementSibling.classList.add(VMENU);\n      }\n\n      this.element.setAttribute('aria-orientation', 'vertical');\n    } else {\n      if (Browser.isDevice && !this.enableScrolling) {\n        this.element.parentElement.classList.add(SCROLLABLE);\n      }\n    }\n\n    if (this.hamburgerMode) {\n      this.element.parentElement.classList.add(HAMBURGER);\n\n      if (this.orientation === 'Horizontal') {\n        this.element.classList.add('e-hide-menu');\n      }\n    }\n  };\n\n  Menu.prototype.updateMenuItems = function (items) {\n    this.tempItems = items;\n    this.items = [];\n    this.tempItems.map(this.createMenuItems, this);\n    this.setProperties({\n      items: this.items\n    }, true);\n    this.tempItems = [];\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {MenuModel} newProp - Specifies the new properties.\n   * @param {MenuModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   */\n\n\n  Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'orientation':\n          if (newProp.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n\n            if (this.hamburgerMode) {\n              if (!this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n              }\n\n              this.element.classList.remove('e-hide-menu');\n            }\n\n            this.element.setAttribute('aria-orientation', 'vertical');\n          } else {\n            this.element.classList.remove(VMENU);\n\n            if (this.hamburgerMode) {\n              if (!this.target) {\n                this.element.previousElementSibling.classList.remove(VMENU);\n              }\n\n              this.element.classList.add('e-hide-menu');\n            }\n\n            this.element.removeAttribute('aria-orientation');\n          }\n\n          break;\n\n        case 'items':\n          if (!Object.keys(oldProp.items).length) {\n            this.updateMenuItems(newProp.items);\n          }\n\n          break;\n\n        case 'hamburgerMode':\n          if (!this.element.previousElementSibling) {\n            _super.prototype.createHeaderContainer.call(this);\n          }\n\n          if (newProp.hamburgerMode) {\n            this.element.parentElement.classList.add(HAMBURGER);\n            [].slice.call(this.element.getElementsByClassName('e-blankicon')).forEach(function (li) {\n              li.style[_this.enableRtl ? 'paddingRight' : 'paddingLeft'] = '';\n            });\n          } else {\n            this.element.parentElement.classList.remove(HAMBURGER);\n\n            if (this.orientation === 'Vertical') {\n              this.setBlankIconStyle(this.element);\n            }\n          }\n\n          if (this.orientation === 'Vertical') {\n            if (!this.target) {\n              this.element.previousElementSibling.classList.add(VMENU);\n            }\n\n            this.element.classList.remove('e-hide-menu');\n          } else {\n            if (this.target) {\n              this.element.previousElementSibling.classList.add(VMENU);\n            } else {\n              this.element.previousElementSibling.classList.remove(VMENU);\n            }\n\n            this.element.classList[newProp.hamburgerMode ? 'add' : 'remove']('e-hide-menu');\n          }\n\n          break;\n\n        case 'title':\n          if (this.hamburgerMode && this.element.previousElementSibling) {\n            newProp.title = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(newProp.title) : newProp.title;\n            this.element.previousElementSibling.querySelector('.e-menu-title').innerHTML = newProp.title;\n          }\n\n          break;\n\n        case 'target':\n          if (this.hamburgerMode) {\n            this.unWireEvents(oldProp.target);\n            this.wireEvents();\n\n            if (this.orientation === 'Horizontal') {\n              if (!newProp.target) {\n                if (!this.element.previousElementSibling) {\n                  _super.prototype.createHeaderContainer.call(this);\n                }\n\n                this.element.previousElementSibling.classList.remove(VMENU);\n              } else {\n                this.element.previousElementSibling.classList.add(VMENU);\n              }\n\n              this.element.classList.add('e-hide-menu');\n            }\n          }\n\n          break;\n      }\n    }\n\n    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n  };\n\n  Menu.prototype.createMenuItems = function (item) {\n    var idx;\n    var i;\n    var items = this.items;\n    var pIdField = this.getField('parentId');\n\n    if (item[\"\" + pIdField]) {\n      idx = this.getIndex(item[\"\" + pIdField].toString(), true);\n\n      for (i = 0; i < idx.length; i++) {\n        if (!items[idx[i]].items) {\n          items[idx[i]].items = [];\n        }\n\n        items = items[idx[i]].items;\n      }\n\n      items.push(item);\n    } else {\n      this.items.push(item);\n    }\n  };\n  /**\n   * This method is used to open the Menu in hamburger mode.\n   *\n   * @function open\n   * @returns {void}\n   */\n\n\n  Menu.prototype.open = function () {\n    _super.prototype.openHamburgerMenu.call(this);\n  };\n  /**\n   * Closes the Menu if it is opened in hamburger mode.\n   *\n   * @function close\n   * @returns {void}\n   */\n\n\n  Menu.prototype.close = function () {\n    _super.prototype.closeHamburgerMenu.call(this);\n  };\n\n  __decorate$6([Property('Horizontal')], Menu.prototype, \"orientation\", void 0);\n\n  __decorate$6([Property('')], Menu.prototype, \"target\", void 0);\n\n  __decorate$6([Property(null)], Menu.prototype, \"template\", void 0);\n\n  __decorate$6([Property(false)], Menu.prototype, \"enableScrolling\", void 0);\n\n  __decorate$6([Property(false)], Menu.prototype, \"hamburgerMode\", void 0);\n\n  __decorate$6([Property('Menu')], Menu.prototype, \"title\", void 0);\n\n  __decorate$6([Property(false)], Menu.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$6([Complex({\n    itemId: 'id',\n    text: 'text',\n    parentId: 'parentId',\n    iconCss: 'iconCss',\n    url: 'url',\n    separator: 'separator',\n    children: 'items'\n  }, FieldSettings)], Menu.prototype, \"fields\", void 0);\n\n  Menu = __decorate$6([NotifyPropertyChanges], Menu);\n  return Menu;\n}(MenuBase);\n/**\n * Menu modules\n */\n\n\nvar __extends$7 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$7 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER$1 = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT$1 = 'e-content';\nvar CLS_NEST$1 = 'e-nested';\nvar CLS_ITEMS$1 = 'e-items';\nvar CLS_ITEM$2 = 'e-item';\nvar CLS_TEMPLATE$1 = 'e-template';\nvar CLS_RTL$4 = 'e-rtl';\nvar CLS_ACTIVE$1 = 'e-active';\nvar CLS_DISABLE$4 = 'e-disable';\nvar CLS_HIDDEN$1 = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY$2 = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL$1 = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\nvar CLS_REORDER_ACTIVE_ITEM = 'e-reorder-active-item';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\n\nvar TabActionSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(TabActionSettings, _super);\n\n  function TabActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Property('SlideLeftIn')], TabActionSettings.prototype, \"effect\", void 0);\n\n  __decorate$7([Property(600)], TabActionSettings.prototype, \"duration\", void 0);\n\n  __decorate$7([Property('ease')], TabActionSettings.prototype, \"easing\", void 0);\n\n  return TabActionSettings;\n}(ChildProperty);\n/**\n * Objects used for configuring the Tab animation properties.\n */\n\n\nvar TabAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(TabAnimationSettings, _super);\n\n  function TabAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Complex({\n    effect: 'SlideLeftIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"previous\", void 0);\n\n  __decorate$7([Complex({\n    effect: 'SlideRightIn',\n    duration: 600,\n    easing: 'ease'\n  }, TabActionSettings)], TabAnimationSettings.prototype, \"next\", void 0);\n\n  return TabAnimationSettings;\n}(ChildProperty);\n/**\n * Objects used for configuring the Tab item header properties.\n */\n\n\nvar Header =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(Header, _super);\n\n  function Header() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Property('')], Header.prototype, \"text\", void 0);\n\n  __decorate$7([Property('')], Header.prototype, \"iconCss\", void 0);\n\n  __decorate$7([Property('left')], Header.prototype, \"iconPosition\", void 0);\n\n  return Header;\n}(ChildProperty);\n/**\n * An array of object that is used to configure the Tab.\n */\n\n\nvar TabItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(TabItem, _super);\n\n  function TabItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$7([Complex({}, Header)], TabItem.prototype, \"header\", void 0);\n\n  __decorate$7([Property(null)], TabItem.prototype, \"headerTemplate\", void 0);\n\n  __decorate$7([Property('')], TabItem.prototype, \"content\", void 0);\n\n  __decorate$7([Property('')], TabItem.prototype, \"cssClass\", void 0);\n\n  __decorate$7([Property(false)], TabItem.prototype, \"disabled\", void 0);\n\n  __decorate$7([Property(true)], TabItem.prototype, \"visible\", void 0);\n\n  __decorate$7([Property()], TabItem.prototype, \"id\", void 0);\n\n  __decorate$7([Property(-1)], TabItem.prototype, \"tabIndex\", void 0);\n\n  return TabItem;\n}(ChildProperty);\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\n\n\nvar Tab =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$7(Tab, _super);\n  /**\n   * Initializes a new instance of the Tab class.\n   *\n   * @param {TabModel} options  - Specifies Tab model properties as options.\n   * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n   */\n\n\n  function Tab(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.show = {};\n    _this.hide = {};\n    _this.maxHeight = 0;\n    _this.title = 'Close';\n    _this.isInteracted = false;\n    _this.lastIndex = 0;\n    _this.isAdd = false;\n    _this.isIconAlone = false;\n    _this.draggableItems = [];\n    _this.resizeContext = _this.refreshActiveTabBorder.bind(_this);\n    /**\n     * Contains the keyboard configuration of the Tab.\n     */\n\n    _this.keyConfigs = {\n      tab: 'tab',\n      home: 'home',\n      end: 'end',\n      enter: 'enter',\n      space: 'space',\n      delete: 'delete',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    return _this;\n  }\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.destroy = function () {\n    if (this.isReact || this.isAngular) {\n      this.clearTemplate();\n    }\n\n    if (!isNullOrUndefined(this.tbObj)) {\n      this.tbObj.destroy();\n      this.tbObj = null;\n    }\n\n    this.unWireEvents();\n    this.element.removeAttribute('aria-disabled');\n    this.expTemplateContent();\n\n    if (!this.isTemplate) {\n      while (this.element.firstElementChild) {\n        remove(this.element.firstElementChild);\n      }\n    } else {\n      var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n      this.element.classList.remove(CLS_TEMPLATE$1);\n\n      if (!isNullOrUndefined(cntEle)) {\n        cntEle.innerHTML = this.cnt;\n      }\n    }\n\n    if (this.btnCls) {\n      this.btnCls = null;\n    }\n\n    this.hdrEle = null;\n    this.cntEle = null;\n    this.tbItems = null;\n    this.tbItem = null;\n    this.tbPop = null;\n    this.prevItem = null;\n    this.popEle = null;\n    this.bdrLine = null;\n    this.content = null;\n    this.dragItem = null;\n    this.cloneElement = null;\n    this.draggingItems = [];\n\n    if (this.draggableItems && this.draggableItems.length > 0) {\n      for (var i = 0; i < this.draggableItems.length; i++) {\n        this.draggableItems[i].destroy();\n        this.draggableItems[i] = null;\n      }\n\n      this.draggableItems = [];\n    }\n\n    _super.prototype.destroy.call(this);\n\n    this.trigger('destroyed');\n  };\n  /**\n   * Refresh the tab component\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.refresh = function () {\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n\n    _super.prototype.refresh.call(this);\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Initialize component\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tab.prototype.preRender = function () {\n    var nested = closest(this.element, '.' + CLS_CONTENT$1);\n    this.prevIndex = 0;\n    this.isNested = false;\n    this.isPopup = false;\n    this.initRender = true;\n    this.isSwipeed = false;\n    this.itemIndexArray = [];\n    this.templateEle = [];\n\n    if (this.allowDragAndDrop) {\n      this.dragArea = !isNullOrUndefined(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER$1);\n    }\n\n    if (!isNullOrUndefined(nested)) {\n      nested.parentElement.classList.add(CLS_NEST$1);\n      this.isNested = true;\n    }\n\n    var name = Browser.info.name;\n    var css = name === 'msie' ? 'e-ie' : name === 'edge' ? 'e-edge' : name === 'safari' ? 'e-safari' : '';\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    this.setCssClass(this.element, this.cssClass, true);\n    attributes(this.element, {\n      'aria-disabled': 'false'\n    });\n    this.setCssClass(this.element, css, true);\n    this.updatePopAnimationConfig();\n  };\n  /**\n   * Initialize the component rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tab.prototype.render = function () {\n    this.btnCls = this.createElement('span', {\n      className: CLS_ICONS + ' ' + CLS_ICON_CLOSE,\n      attrs: {\n        title: this.title\n      }\n    });\n    this.tabId = this.element.id.length > 0 ? '-' + this.element.id : getRandomId();\n    this.renderContainer();\n    this.wireEvents();\n    this.initRender = false;\n  };\n\n  Tab.prototype.renderContainer = function () {\n    var ele = this.element;\n    this.items.forEach(function (item, index) {\n      if (isNullOrUndefined(item.id) && !isNullOrUndefined(item.setProperties)) {\n        item.setProperties({\n          id: TABITEMPREFIX + index.toString()\n        }, true);\n      }\n    });\n\n    if (this.items.length > 0 && ele.children.length === 0) {\n      ele.appendChild(this.createElement('div', {\n        className: CLS_CONTENT$1\n      }));\n      this.setOrientation(this.headerPlacement, this.createElement('div', {\n        className: CLS_HEADER$1\n      }));\n      this.isTemplate = false;\n    } else if (this.element.children.length > 0) {\n      this.isTemplate = true;\n      ele.classList.add(CLS_TEMPLATE$1);\n      var header = ele.querySelector('.' + CLS_HEADER$1);\n\n      if (header && this.headerPlacement === 'Bottom') {\n        this.setOrientation(this.headerPlacement, header);\n      }\n    }\n\n    if (!isNullOrUndefined(select('.' + CLS_HEADER$1, this.element)) && !isNullOrUndefined(select('.' + CLS_CONTENT$1, this.element))) {\n      this.renderHeader();\n      this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n\n      if (!isNullOrUndefined(this.tbItems)) {\n        rippleEffect(this.tbItems, {\n          selector: '.e-tab-wrap'\n        });\n      }\n\n      this.renderContent();\n\n      if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n        this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n        this.bdrLine = this.createElement('div', {\n          className: CLS_INDICATOR + ' ' + CLS_HIDDEN$1 + ' ' + CLS_IGNORE\n        });\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n\n        if (!isNullOrUndefined(scrCnt)) {\n          scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n        } else {\n          this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n        }\n\n        this.setContentHeight(true);\n        this.select(this.selectedItem);\n      }\n\n      this.setRTL(this.enableRtl);\n    }\n  };\n\n  Tab.prototype.renderHeader = function () {\n    var _this = this;\n\n    var hdrPlace = this.headerPlacement;\n    var tabItems = [];\n    this.hdrEle = this.getTabHeader();\n    this.addVerticalClass();\n\n    if (!this.isTemplate) {\n      tabItems = this.parseObject(this.items, 0);\n    } else {\n      if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER$1)) {\n        this.setProperties({\n          headerPlacement: 'Bottom'\n        }, true);\n      }\n\n      var count = this.hdrEle.children.length;\n      var hdrItems = [];\n\n      for (var i = 0; i < count; i++) {\n        hdrItems.push(this.hdrEle.children.item(i));\n      }\n\n      if (count > 0) {\n        var tabItems_1 = this.createElement('div', {\n          className: CLS_ITEMS$1\n        });\n        this.hdrEle.appendChild(tabItems_1);\n        hdrItems.forEach(function (item, index) {\n          _this.lastIndex = index;\n          var attr = {\n            className: CLS_ITEM$2,\n            id: CLS_ITEM$2 + _this.tabId + '_' + index\n          };\n\n          var txt = _this.createElement('span', {\n            className: CLS_TEXT,\n            attrs: {\n              'role': 'presentation'\n            }\n          }).outerHTML;\n\n          var cont = _this.createElement('div', {\n            className: CLS_TEXT_WRAP,\n            innerHTML: txt + _this.btnCls.outerHTML\n          }).outerHTML;\n\n          var wrap = _this.createElement('div', {\n            className: CLS_WRAP,\n            innerHTML: cont,\n            attrs: {\n              role: 'tab',\n              tabIndex: '-1',\n              'aria-selected': 'false',\n              'aria-controls': CLS_CONTENT$1 + _this.tabId + '_' + index,\n              'aria-disabled': 'false'\n            }\n          });\n\n          wrap.querySelector('.' + CLS_TEXT).appendChild(item);\n          tabItems_1.appendChild(_this.createElement('div', attr));\n          selectAll('.' + CLS_ITEM$2, tabItems_1)[index].appendChild(wrap);\n        });\n      }\n    }\n\n    this.tbObj = new Toolbar({\n      width: hdrPlace === 'Left' || hdrPlace === 'Right' ? 'auto' : '100%',\n      height: hdrPlace === 'Left' || hdrPlace === 'Right' ? '100%' : 'auto',\n      overflowMode: this.overflowMode,\n      items: tabItems.length !== 0 ? tabItems : [],\n      clicked: this.clickHandler.bind(this),\n      scrollStep: this.scrollStep,\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      cssClass: this.cssClass\n    });\n    this.tbObj.isStringTemplate = true;\n    this.tbObj.createElement = this.createElement;\n    this.tbObj.appendTo(this.hdrEle);\n    attributes(this.hdrEle, {\n      role: 'tablist'\n    });\n\n    if (!isNullOrUndefined(this.element.getAttribute('aria-label'))) {\n      this.hdrEle.setAttribute('aria-label', this.element.getAttribute('aria-label'));\n      this.element.removeAttribute('aria-label');\n    } else if (!isNullOrUndefined(this.element.getAttribute('aria-labelledby'))) {\n      this.hdrEle.setAttribute('aria-labelledby', this.element.getAttribute('aria-labelledby'));\n      this.element.removeAttribute('aria-labelledby');\n    }\n\n    this.setCloseButton(this.showCloseButton);\n    var toolbarHeader = this.tbObj.element.querySelector('.' + CLS_TB_ITEMS);\n\n    if (!isNullOrUndefined(toolbarHeader)) {\n      if (isNullOrUndefined(toolbarHeader.id) || toolbarHeader.id === '') {\n        toolbarHeader.id = this.element.id + '_' + 'tab_header_items';\n      }\n    }\n  };\n\n  Tab.prototype.renderContent = function () {\n    this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n    var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n\n    if (this.isTemplate) {\n      this.cnt = this.cntEle.children.length > 0 ? this.cntEle.innerHTML : '';\n      var contents = this.cntEle.children;\n\n      for (var i = 0; i < hdrItem.length; i++) {\n        if (contents.length - 1 >= i) {\n          addClass([contents.item(i)], CLS_ITEM$2);\n          attributes(contents.item(i), {\n            'role': 'tabpanel',\n            'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + i\n          });\n          contents.item(i).id = CLS_CONTENT$1 + this.tabId + '_' + i;\n        }\n      }\n    }\n  };\n\n  Tab.prototype.reRenderItems = function () {\n    this.renderContainer();\n\n    if (!isNullOrUndefined(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n  };\n\n  Tab.prototype.parseObject = function (items, index) {\n    var _this = this;\n\n    var tbItems = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element);\n    var maxId = this.lastIndex;\n\n    if (!this.isReplace && tbItems.length > 0) {\n      var idList_1 = [];\n      tbItems.forEach(function (item) {\n        idList_1.push(_this.getIndexFromEle(item.id));\n      });\n      maxId = Math.max.apply(Math, idList_1);\n    }\n\n    var tItems = [];\n    var txtWrapEle;\n    var spliceArray = [];\n    items.forEach(function (item, i) {\n      var pos = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition) ? '' : item.header.iconPosition;\n      var css = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss) ? '' : item.header.iconCss;\n\n      if (isNullOrUndefined(item.headerTemplate) && (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.text) || item.header.text.length === 0 && css === '')) {\n        spliceArray.push(i);\n        return;\n      }\n\n      var txt = item.headerTemplate || item.header.text;\n\n      if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n        txt = SanitizeHtmlHelper.sanitize(txt);\n      }\n\n      var itemIndex;\n\n      if (_this.isReplace && !isNullOrUndefined(_this.tbId) && _this.tbId !== '') {\n        itemIndex = parseInt(_this.tbId.substring(_this.tbId.lastIndexOf('_') + 1), 10);\n        _this.tbId = '';\n      } else {\n        itemIndex = index + i;\n      }\n\n      _this.lastIndex = tbItems.length === 0 ? i : _this.isReplace ? itemIndex : maxId + 1 + i;\n      var disabled = item.disabled ? ' ' + CLS_DISABLE$4 + ' ' + CLS_OVERLAY$2 : '';\n      var hidden = item.visible === false ? ' ' + CLS_HIDDEN$1 : '';\n      txtWrapEle = _this.createElement('div', {\n        className: CLS_TEXT,\n        attrs: {\n          'role': 'presentation'\n        }\n      });\n      var tHtml = txt instanceof Object ? txt.outerHTML : txt;\n      var txtEmpty = !isNullOrUndefined(tHtml) && tHtml !== '';\n\n      if (!isNullOrUndefined(txt.tagName)) {\n        txtWrapEle.appendChild(txt);\n      } else {\n        _this.headerTextCompile(txtWrapEle, txt, i);\n      }\n\n      var tEle;\n\n      var icon = _this.createElement('span', {\n        className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n      });\n\n      var tCont = _this.createElement('div', {\n        className: CLS_TEXT_WRAP\n      });\n\n      tCont.appendChild(txtWrapEle);\n\n      if (txt !== '' && txt !== undefined && css !== '') {\n        if (pos === 'left' || pos === 'top') {\n          tCont.insertBefore(icon, tCont.firstElementChild);\n        } else {\n          tCont.appendChild(icon);\n        }\n\n        tEle = txtWrapEle;\n        _this.isIconAlone = false;\n      } else {\n        tEle = css === '' ? txtWrapEle : icon;\n\n        if (tEle === icon) {\n          detach(txtWrapEle);\n          tCont.appendChild(icon);\n          _this.isIconAlone = true;\n        }\n      }\n\n      var tabIndex = isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString();\n      var wrapAttrs = item.disabled ? {} : {\n        tabIndex: tabIndex,\n        'data-tabindex': tabIndex,\n        role: 'tab',\n        'aria-selected': 'false',\n        'aria-disabled': 'false'\n      };\n      tCont.appendChild(_this.btnCls.cloneNode(true));\n\n      var wrap = _this.createElement('div', {\n        className: CLS_WRAP,\n        attrs: wrapAttrs\n      });\n\n      wrap.appendChild(tCont);\n\n      if (_this.itemIndexArray === []) {\n        _this.itemIndexArray.push(CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n      } else {\n        _this.itemIndexArray.splice(index + i, 0, CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n      }\n\n      var attrObj = {\n        id: CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex,\n        'data-id': item.id\n      };\n      var tItem = {\n        htmlAttributes: attrObj,\n        template: wrap\n      };\n      tItem.cssClass = (item.cssClass !== undefined ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' ' + (css !== '' ? 'e-i' + pos : '') + ' ' + (!txtEmpty ? CLS_ICON : '');\n\n      if (pos === 'top' || pos === 'bottom') {\n        _this.element.classList.add('e-vertical-icon');\n      }\n\n      tItems.push(tItem);\n      i++;\n    });\n\n    if (!this.isAdd) {\n      spliceArray.forEach(function (spliceItemIndex) {\n        _this.items.splice(spliceItemIndex, 1);\n      });\n    }\n\n    if (this.isIconAlone) {\n      this.element.classList.add(CLS_ICON_TAB);\n    } else {\n      this.element.classList.remove(CLS_ICON_TAB);\n    }\n\n    return tItems;\n  };\n\n  Tab.prototype.removeActiveClass = function () {\n    var tabHeader = this.getTabHeader();\n\n    if (tabHeader) {\n      var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, tabHeader);\n      [].slice.call(tabItems).forEach(function (node) {\n        return node.classList.remove(CLS_ACTIVE$1);\n      });\n      [].slice.call(tabItems).forEach(function (node) {\n        return node.firstElementChild.setAttribute('aria-selected', 'false');\n      });\n    }\n  };\n\n  Tab.prototype.checkPopupOverflow = function (ele) {\n    this.tbPop = select('.' + CLS_TB_POP, this.element);\n    var popIcon = select('.e-hor-nav', this.element);\n    var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n    var lastChild = tbrItems.lastChild;\n    var isOverflow = false;\n\n    if (!this.isVertical() && (this.enableRtl && popIcon.offsetLeft + popIcon.offsetWidth > tbrItems.offsetLeft || !this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth)) {\n      isOverflow = true;\n    } else if (this.isVertical() && popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight) {\n      isOverflow = true;\n    }\n\n    if (isOverflow) {\n      ele.classList.add(CLS_TB_POPUP);\n      this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n    }\n\n    return true;\n  };\n\n  Tab.prototype.popupHandler = function (target) {\n    var ripEle = target.querySelector('.e-ripple-element');\n\n    if (!isNullOrUndefined(ripEle)) {\n      ripEle.outerHTML = '';\n      target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n    }\n\n    this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n    var lastChild = this.tbItem[this.tbItem.length - 1];\n\n    if (this.tbItem.length !== 0) {\n      target.classList.remove(CLS_TB_POPUP);\n      target.removeAttribute('style');\n      this.tbItems.appendChild(target);\n      this.actEleId = target.id;\n\n      if (this.checkPopupOverflow(lastChild)) {\n        var prevEle = this.tbItems.lastChild.previousElementSibling;\n        this.checkPopupOverflow(prevEle);\n      }\n\n      this.isPopup = true;\n    }\n\n    return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n  };\n\n  Tab.prototype.setCloseButton = function (val) {\n    var trg = select('.' + CLS_HEADER$1, this.element);\n\n    if (val === true) {\n      trg.classList.add(CLS_CLOSE_SHOW);\n    } else {\n      trg.classList.remove(CLS_CLOSE_SHOW);\n    }\n\n    this.tbObj.refreshOverflow();\n    this.refreshActiveTabBorder();\n  };\n\n  Tab.prototype.prevCtnAnimation = function (prev, current) {\n    var animation;\n    var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL$4);\n\n    if (this.isPopup || prev <= current) {\n      if (this.animation.previous.effect === 'SlideLeftIn') {\n        animation = {\n          name: 'SlideLeftOut',\n          duration: this.animation.previous.duration,\n          timingFunction: this.animation.previous.easing\n        };\n      } else {\n        animation = null;\n      }\n    } else {\n      if (this.animation.next.effect === 'SlideRightIn') {\n        animation = {\n          name: 'SlideRightOut',\n          duration: this.animation.next.duration,\n          timingFunction: this.animation.next.easing\n        };\n      } else {\n        animation = null;\n      }\n    }\n\n    return animation;\n  };\n\n  Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n    var _this = this;\n\n    var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n\n    if (!isNullOrUndefined(animateObj)) {\n      animateObj.begin = function () {\n        setStyleAttribute(oldCnt, {\n          'position': 'absolute'\n        });\n        oldCnt.classList.add(CLS_PROGRESS);\n        oldCnt.classList.add('e-view');\n      };\n\n      animateObj.end = function () {\n        oldCnt.style.display = 'none';\n        oldCnt.classList.remove(CLS_ACTIVE$1);\n        oldCnt.classList.remove(CLS_PROGRESS);\n        oldCnt.classList.remove('e-view');\n        setStyleAttribute(oldCnt, {\n          'display': '',\n          'position': ''\n        });\n\n        if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n          detach(oldCnt);\n        }\n      };\n\n      new Animation(animateObj).animate(oldCnt);\n    } else {\n      oldCnt.classList.remove(CLS_ACTIVE$1);\n    }\n  };\n\n  Tab.prototype.triggerAnimation = function (id, value) {\n    var _this = this;\n\n    var prevIndex = this.prevIndex;\n    var oldCnt;\n    var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT$1).children);\n    itemCollection.forEach(function (item) {\n      if (item.id === _this.prevActiveEle) {\n        oldCnt = item;\n      }\n    });\n    var prevEle = this.tbItem[prevIndex];\n    var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n    if (isNullOrUndefined(oldCnt) && !isNullOrUndefined(prevEle)) {\n      var idNo = this.extIndex(prevEle.id);\n      oldCnt = this.getTrgContent(this.cntEle, idNo);\n    }\n\n    if (!isNullOrUndefined(newCnt)) {\n      this.prevActiveEle = newCnt.id;\n    }\n\n    var isPrevent = isNullOrUndefined(this.animation) || this.animation.next === {} || this.animation.previous === {} || isNullOrUndefined(this.animation.next.effect) || isNullOrUndefined(this.animation.previous.effect) || this.animation.previous.effect == 'None' || this.animation.next.effect == 'None';\n\n    if (this.initRender || value === false || this.animation === {} || isPrevent) {\n      if (oldCnt && oldCnt !== newCnt) {\n        oldCnt.classList.remove(CLS_ACTIVE$1);\n      }\n\n      return;\n    }\n\n    var cnt = select('.' + CLS_CONTENT$1, this.element);\n    var animateObj;\n\n    if (this.prevIndex > this.selectedItem && !this.isPopup) {\n      var openEff = this.animation.previous.effect;\n      animateObj = {\n        name: openEff === 'None' ? '' : openEff !== 'SlideLeftIn' ? openEff : 'SlideLeftIn',\n        duration: this.animation.previous.duration,\n        timingFunction: this.animation.previous.easing\n      };\n    } else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n      var clsEff = this.animation.next.effect;\n      animateObj = {\n        name: clsEff === 'None' ? '' : clsEff !== 'SlideRightIn' ? clsEff : 'SlideRightIn',\n        duration: this.animation.next.duration,\n        timingFunction: this.animation.next.easing\n      };\n    }\n\n    animateObj.progress = function () {\n      cnt.classList.add(CLS_PROGRESS);\n\n      _this.setActiveBorder();\n    };\n\n    animateObj.end = function () {\n      cnt.classList.remove(CLS_PROGRESS);\n      newCnt.classList.add(CLS_ACTIVE$1);\n    };\n\n    if (!this.initRender && !isNullOrUndefined(oldCnt)) {\n      this.triggerPrevAnimation(oldCnt, prevIndex);\n    }\n\n    this.isPopup = false;\n\n    if (animateObj.name === '') {\n      newCnt.classList.add(CLS_ACTIVE$1);\n    } else {\n      new Animation(animateObj).animate(newCnt);\n    }\n  };\n\n  Tab.prototype.keyPressed = function (trg) {\n    var trgParent = closest(trg, '.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n\n    if (!isNullOrUndefined(this.popEle) && trg.classList.contains('e-hor-nav')) {\n      this.popEle.classList.contains(CLS_POPUP_OPEN) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n    } else if (trg.classList.contains('e-scroll-nav')) {\n      trg.click();\n    } else {\n      if (!isNullOrUndefined(trgParent) && trgParent.classList.contains(CLS_ACTIVE$1) === false) {\n        this.selectTab(trgIndex, null, true);\n\n        if (!isNullOrUndefined(this.popEle)) {\n          this.popObj.hide(this.hide);\n        }\n      }\n    }\n  };\n\n  Tab.prototype.getTabHeader = function () {\n    if (isNullOrUndefined(this.element)) {\n      return undefined;\n    }\n\n    var headers = [].slice.call(this.element.children).filter(function (e) {\n      return e.classList.contains(CLS_HEADER$1);\n    });\n\n    if (headers.length > 0) {\n      return headers[0];\n    } else {\n      var wrap = [].slice.call(this.element.children).filter(function (e) {\n        return !e.classList.contains(CLS_BLA_TEM);\n      })[0];\n\n      if (!wrap) {\n        return undefined;\n      }\n\n      return [].slice.call(wrap.children).filter(function (e) {\n        return e.classList.contains(CLS_HEADER$1);\n      })[0];\n    }\n  };\n\n  Tab.prototype.getEleIndex = function (item) {\n    return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n  };\n\n  Tab.prototype.extIndex = function (id) {\n    return id.replace(CLS_ITEM$2 + this.tabId + '_', '');\n  };\n\n  Tab.prototype.expTemplateContent = function () {\n    var _this = this;\n\n    this.templateEle.forEach(function (eleStr) {\n      if (!isNullOrUndefined(_this.element.querySelector(eleStr))) {\n        document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n      }\n    });\n  };\n\n  Tab.prototype.templateCompile = function (ele, cnt, index) {\n    var tempEle = this.createElement('div');\n    this.compileElement(tempEle, cnt, 'content', index);\n\n    if (tempEle.childNodes.length !== 0) {\n      ele.appendChild(tempEle);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Tab.prototype.compileElement = function (ele, val, prop, index) {\n    var templateFn;\n\n    if (typeof val === 'string') {\n      val = val.trim();\n\n      if (this.isVue) {\n        templateFn = compile(SanitizeHtmlHelper.sanitize(val));\n      } else {\n        ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n      }\n    } else {\n      templateFn = compile(val);\n    }\n\n    var templateFUN;\n\n    if (!isNullOrUndefined(templateFn)) {\n      templateFUN = templateFn({}, this, prop);\n    }\n\n    if (!isNullOrUndefined(templateFn) && templateFUN.length > 0) {\n      [].slice.call(templateFUN).forEach(function (el) {\n        ele.appendChild(el);\n      });\n    }\n  };\n\n  Tab.prototype.headerTextCompile = function (element, text, index) {\n    this.compileElement(element, text, 'headerTemplate', index);\n  };\n\n  Tab.prototype.getContent = function (ele, cnt, callType, index) {\n    var eleStr;\n    cnt = isNullOrUndefined(cnt) ? \"\" : cnt;\n\n    if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n      if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n        cnt = SanitizeHtmlHelper.sanitize(cnt);\n      }\n\n      if (cnt[0] === '.' || cnt[0] === '#') {\n        if (document.querySelectorAll(cnt).length) {\n          var eleVal = document.querySelector(cnt);\n          eleStr = eleVal.outerHTML.trim();\n\n          if (callType === 'clone') {\n            ele.appendChild(eleVal.cloneNode(true));\n          } else {\n            ele.appendChild(eleVal);\n            eleVal.style.display = '';\n          }\n        } else {\n          this.templateCompile(ele, cnt, index);\n        }\n      } else {\n        this.templateCompile(ele, cnt, index);\n      }\n    } else {\n      ele.appendChild(cnt);\n    }\n\n    if (!isNullOrUndefined(eleStr)) {\n      if (this.templateEle.indexOf(cnt.toString()) === -1) {\n        this.templateEle.push(cnt.toString());\n      }\n    }\n  };\n\n  Tab.prototype.getTrgContent = function (cntEle, no) {\n    var ele;\n\n    if (this.element.classList.contains(CLS_NEST$1)) {\n      ele = select('.' + CLS_NEST$1 + '> .' + CLS_CONTENT$1 + ' > #' + CLS_CONTENT$1 + this.tabId + '_' + no, this.element);\n    } else {\n      ele = this.findEle(cntEle.children, CLS_CONTENT$1 + this.tabId + '_' + no);\n    }\n\n    return ele;\n  };\n\n  Tab.prototype.findEle = function (items, key) {\n    var ele;\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i].id === key) {\n        ele = items[i];\n        break;\n      }\n    }\n\n    return ele;\n  };\n\n  Tab.prototype.isVertical = function () {\n    var isVertical = this.headerPlacement === 'Left' || this.headerPlacement === 'Right' ? true : false;\n    this.scrCntClass = isVertical ? CLS_VSCRCNT : CLS_HSCRCNT;\n    return isVertical;\n  };\n\n  Tab.prototype.addVerticalClass = function () {\n    if (this.isVertical()) {\n      var tbPos = this.headerPlacement === 'Left' ? CLS_VLEFT : CLS_VRIGHT;\n      addClass([this.hdrEle], [CLS_VERTICAL$1, tbPos]);\n\n      if (!this.element.classList.contains(CLS_NEST$1)) {\n        addClass([this.element], [CLS_VTAB, tbPos]);\n      } else {\n        addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n      }\n    }\n\n    if (this.headerPlacement === 'Bottom') {\n      addClass([this.hdrEle], [CLS_HBOTTOM]);\n    }\n  };\n\n  Tab.prototype.updatePopAnimationConfig = function () {\n    this.show = {\n      name: this.isVertical() ? 'FadeIn' : 'SlideDown',\n      duration: 100\n    };\n    this.hide = {\n      name: this.isVertical() ? 'FadeOut' : 'SlideUp',\n      duration: 100\n    };\n  };\n\n  Tab.prototype.changeOrientation = function (place) {\n    this.setOrientation(place, this.hdrEle);\n    var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE$1);\n    var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL$1) ? true : false;\n    removeClass([this.element], [CLS_VTAB]);\n    removeClass([this.hdrEle], [CLS_VERTICAL$1, CLS_VLEFT, CLS_VRIGHT]);\n\n    if (isVertical !== this.isVertical()) {\n      this.changeToolbarOrientation();\n\n      if (!isNullOrUndefined(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n        this.popupHandler(activeTab);\n      }\n    }\n\n    this.addVerticalClass();\n    this.setActiveBorder();\n    this.focusItem();\n  };\n\n  Tab.prototype.focusItem = function () {\n    var curActItem = select(' #' + CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, this.hdrEle);\n\n    if (!isNullOrUndefined(curActItem)) {\n      curActItem.firstElementChild.focus();\n    }\n  };\n\n  Tab.prototype.changeToolbarOrientation = function () {\n    this.tbObj.setProperties({\n      height: this.isVertical() ? '100%' : 'auto',\n      width: this.isVertical() ? 'auto' : '100%'\n    }, true);\n    this.tbObj.changeOrientation();\n    this.updatePopAnimationConfig();\n  };\n\n  Tab.prototype.setOrientation = function (place, ele) {\n    var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n    var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT$1));\n\n    if (place === 'Bottom' && contentPos > headerPos) {\n      this.element.appendChild(ele);\n    } else {\n      removeClass([ele], [CLS_HBOTTOM]);\n      this.element.insertBefore(ele, select('.' + CLS_CONTENT$1, this.element));\n    }\n  };\n\n  Tab.prototype.setCssClass = function (ele, cls, val) {\n    if (cls === '') {\n      return;\n    }\n\n    var list = cls.split(' ');\n\n    for (var i = 0; i < list.length; i++) {\n      if (val) {\n        ele.classList.add(list[i]);\n      } else {\n        ele.classList.remove(list[i]);\n      }\n    }\n  };\n\n  Tab.prototype.setContentHeight = function (val) {\n    if (this.element.classList.contains(CLS_FILL)) {\n      removeClass([this.element], [CLS_FILL]);\n    }\n\n    if (isNullOrUndefined(this.cntEle)) {\n      return;\n    }\n\n    var hdrEle = this.getTabHeader();\n\n    if (this.heightAdjustMode === 'None') {\n      if (this.height === 'auto') {\n        return;\n      } else {\n        if (!this.isVertical()) {\n          setStyleAttribute(this.cntEle, {\n            'height': this.element.clientHeight - hdrEle.offsetHeight + 'px'\n          });\n        }\n      }\n    } else if (this.heightAdjustMode === 'Fill') {\n      addClass([this.element], [CLS_FILL]);\n      setStyleAttribute(this.element, {\n        'height': '100%'\n      });\n      this.cntEle.style.height = 'calc(100% - ' + this.hdrEle.offsetHeight + 'px)';\n    } else if (this.heightAdjustMode === 'Auto') {\n      if (this.isTemplate === true) {\n        var cnt = selectAll('.' + CLS_CONTENT$1 + ' > .' + CLS_ITEM$2, this.element);\n\n        for (var i = 0; i < cnt.length; i++) {\n          cnt[i].setAttribute('style', 'display:block; visibility: visible');\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n          cnt[i].style.removeProperty('display');\n          cnt[i].style.removeProperty('visibility');\n        }\n      } else {\n        this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n\n        if (val === true) {\n          this.cntEle.appendChild(this.createElement('div', {\n            id: CLS_CONTENT$1 + this.tabId + '_' + 0,\n            className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n            attrs: {\n              'role': 'tabpanel',\n              'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + 0\n            }\n          }));\n        }\n\n        var ele = this.cntEle.children.item(0);\n\n        for (var i = 0; i < this.items.length; i++) {\n          this.getContent(ele, this.items[i].content, 'clone', i);\n          this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n\n          while (ele.firstChild) {\n            ele.removeChild(ele.firstChild);\n          }\n        }\n\n        if (this.isReact) {\n          this.clearTemplate(['content']);\n        }\n\n        this.templateEle = [];\n        this.getContent(ele, this.items[0].content, 'render', 0);\n\n        if (this.prevIndex !== this.selectedItem) {\n          ele.classList.remove(CLS_ACTIVE$1);\n        }\n      }\n\n      setStyleAttribute(this.cntEle, {\n        'height': this.maxHeight + 'px'\n      });\n    } else {\n      setStyleAttribute(this.cntEle, {\n        'height': 'auto'\n      });\n    }\n  };\n\n  Tab.prototype.getHeight = function (ele) {\n    var cs = window.getComputedStyle(ele);\n    return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) + parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n  };\n\n  Tab.prototype.setActiveBorder = function () {\n    var trgHdrEle = this.getTabHeader();\n    var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, trgHdrEle);\n\n    if (isNullOrUndefined(trg)) {\n      return;\n    }\n\n    if (!this.reorderActiveTab) {\n      if (trg.classList.contains(CLS_TB_POPUP) && !this.bdrLine.classList.contains(CLS_HIDDEN$1)) {\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n      }\n\n      if (trgHdrEle && !trgHdrEle.classList.contains(CLS_REORDER_ACTIVE_ITEM)) {\n        trgHdrEle.classList.add(CLS_REORDER_ACTIVE_ITEM);\n      }\n    } else if (trgHdrEle) {\n      trgHdrEle.classList.remove(CLS_REORDER_ACTIVE_ITEM);\n    }\n\n    var root = closest(trg, '.' + CLS_TAB);\n\n    if (this.element !== root) {\n      return;\n    }\n\n    this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n    var bar = select('.' + CLS_INDICATOR, trgHdrEle);\n    var scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n\n    if (this.isVertical()) {\n      setStyleAttribute(bar, {\n        'left': '',\n        'right': ''\n      });\n      var tbHeight = isNullOrUndefined(scrollCnt) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n\n      if (tbHeight !== 0) {\n        setStyleAttribute(bar, {\n          'top': trg.offsetTop + 'px',\n          'height': trg.offsetHeight + 'px'\n        });\n      } else {\n        setStyleAttribute(bar, {\n          'top': 0,\n          'height': 0\n        });\n      }\n    } else {\n      if (this.overflowMode === 'MultiRow') {\n        var top_1 = this.headerPlacement === 'Bottom' ? trg.offsetTop : trg.offsetHeight + trg.offsetTop;\n        setStyleAttribute(bar, {\n          'top': top_1 + 'px',\n          'height': ''\n        });\n      } else {\n        setStyleAttribute(bar, {\n          'top': '',\n          'height': ''\n        });\n      }\n\n      var tbWidth = isNullOrUndefined(scrollCnt) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n\n      if (tbWidth !== 0) {\n        setStyleAttribute(bar, {\n          'left': trg.offsetLeft + 'px',\n          'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px'\n        });\n      } else {\n        setStyleAttribute(bar, {\n          'left': 'auto',\n          'right': 'auto'\n        });\n      }\n    }\n\n    if (!isNullOrUndefined(this.bdrLine) && !trg.classList.contains(CLS_TB_POPUP)) {\n      this.bdrLine.classList.remove(CLS_HIDDEN$1);\n    }\n  };\n\n  Tab.prototype.setActive = function (value, skipDataBind, isInteracted) {\n    if (skipDataBind === void 0) {\n      skipDataBind = false;\n    }\n\n    if (isInteracted === void 0) {\n      isInteracted = false;\n    }\n\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n    var trg = this.tbItem[value];\n\n    if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n      return;\n    }\n\n    if (value >= 0 && !skipDataBind) {\n      this.allowServerDataBinding = false;\n      this.setProperties({\n        selectedItem: value\n      }, true);\n      this.allowServerDataBinding = true;\n\n      if (!this.initRender) {\n        this.serverDataBind();\n      }\n    }\n\n    if (trg.classList.contains(CLS_ACTIVE$1)) {\n      this.setActiveBorder();\n      return;\n    }\n\n    if (!this.isTemplate) {\n      attributes(trg.firstElementChild, {\n        'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + value\n      });\n    }\n\n    var id = trg.id;\n    this.removeActiveClass();\n    trg.classList.add(CLS_ACTIVE$1);\n    trg.firstElementChild.setAttribute('aria-selected', 'true');\n    var no = Number(this.extIndex(id));\n\n    if (isNullOrUndefined(this.prevActiveEle)) {\n      this.prevActiveEle = CLS_CONTENT$1 + this.tabId + '_' + no;\n    }\n\n    if (this.isTemplate) {\n      if (select('.' + CLS_CONTENT$1, this.element).children.length > 0) {\n        var trg_1 = this.findEle(select('.' + CLS_CONTENT$1, this.element).children, CLS_CONTENT$1 + this.tabId + '_' + no);\n\n        if (!isNullOrUndefined(trg_1)) {\n          trg_1.classList.add(CLS_ACTIVE$1);\n        }\n\n        this.triggerAnimation(id, this.enableAnimation);\n      }\n    } else {\n      this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n      var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n\n      if (isNullOrUndefined(item)) {\n        this.cntEle.appendChild(this.createElement('div', {\n          id: CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(id),\n          className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n          attrs: {\n            role: 'tabpanel',\n            'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + this.extIndex(id)\n          }\n        }));\n        var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n        var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n        this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n      } else {\n        item.classList.add(CLS_ACTIVE$1);\n      }\n\n      this.triggerAnimation(id, this.enableAnimation);\n    }\n\n    this.setActiveBorder();\n    this.refreshItemVisibility(trg);\n\n    if (!this.initRender && !skipDataBind) {\n      trg.firstElementChild.focus();\n      var eventArg = {\n        previousItem: this.prevItem,\n        previousIndex: this.prevIndex,\n        selectedItem: trg,\n        selectedIndex: value,\n        selectedContent: select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content),\n        isSwiped: this.isSwipeed,\n        isInteracted: isInteracted\n      };\n      this.trigger('selected', eventArg);\n    }\n  };\n\n  Tab.prototype.setItems = function (items) {\n    this.isReplace = true;\n    this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n    this.tbObj.items = this.parseObject(items, 0);\n    this.tbObj.dataBind();\n    this.isReplace = false;\n  };\n\n  Tab.prototype.setRTL = function (value) {\n    this.tbObj.enableRtl = value;\n    this.tbObj.dataBind();\n    this.setCssClass(this.element, CLS_RTL$4, value);\n    this.refreshActiveBorder();\n  };\n\n  Tab.prototype.refreshActiveBorder = function () {\n    if (!isNullOrUndefined(this.bdrLine)) {\n      this.bdrLine.classList.add(CLS_HIDDEN$1);\n    }\n\n    this.setActiveBorder();\n  };\n\n  Tab.prototype.showPopup = function (config) {\n    var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n\n    if (tbPop.classList.contains('e-popup-close')) {\n      var tbPopObj = tbPop && tbPop.ej2_instances[0];\n      tbPopObj.position.X = this.headerPlacement === 'Left' ? 'left' : 'right';\n      tbPopObj.dataBind();\n      tbPopObj.show(config);\n    }\n  };\n\n  Tab.prototype.bindDraggable = function () {\n    var _this = this;\n\n    if (this.allowDragAndDrop) {\n      var tabHeader = this.element.querySelector('.' + CLS_HEADER$1);\n\n      if (tabHeader) {\n        var items = tabHeader.querySelectorAll('.' + CLS_TB_ITEM);\n        items.forEach(function (element) {\n          _this.initializeDrag(element);\n        });\n      }\n    }\n  };\n\n  Tab.prototype.wireEvents = function () {\n    this.bindDraggable();\n    window.addEventListener('resize', this.resizeContext);\n    EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n    EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n\n    if (!isNullOrUndefined(this.cntEle)) {\n      this.touchModule = new Touch(this.cntEle, {\n        swipe: this.swipeHandler.bind(this)\n      });\n    }\n\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n    this.tabKeyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: {\n        openPopup: 'shift+f10',\n        tab: 'tab',\n        shiftTab: 'shift+tab'\n      },\n      eventName: 'keydown'\n    });\n  };\n\n  Tab.prototype.unWireEvents = function () {\n    if (!isNullOrUndefined(this.keyModule)) {\n      this.keyModule.destroy();\n    }\n\n    if (!isNullOrUndefined(this.tabKeyModule)) {\n      this.tabKeyModule.destroy();\n    }\n\n    if (!isNullOrUndefined(this.cntEle) && !isNullOrUndefined(this.touchModule)) {\n      this.touchModule.destroy();\n      this.touchModule = null;\n    }\n\n    window.removeEventListener('resize', this.resizeContext);\n    EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n    EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n    this.element.classList.remove(CLS_RTL$4);\n    this.element.classList.remove(CLS_FOCUS);\n  };\n\n  Tab.prototype.clickHandler = function (args) {\n    this.element.classList.remove(CLS_FOCUS);\n    var trg = args.originalEvent.target;\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n    var trgIndex = this.getEleIndex(trgParent);\n\n    if (trg.classList.contains(CLS_ICON_CLOSE)) {\n      this.removeTab(trgIndex);\n    } else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n      this.showPopup(this.show);\n    } else {\n      this.isPopup = false;\n\n      if (!isNullOrUndefined(trgParent) && trgIndex !== this.selectedItem) {\n        this.selectTab(trgIndex, args.originalEvent, true);\n      }\n    }\n  };\n\n  Tab.prototype.swipeHandler = function (e) {\n    if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) {\n      return;\n    }\n\n    if (this.isNested) {\n      this.element.setAttribute('data-swipe', 'true');\n    }\n\n    var nestedTab = this.element.querySelector('[data-swipe=\"true\"]');\n\n    if (nestedTab) {\n      nestedTab.removeAttribute('data-swipe');\n      return;\n    }\n\n    this.isSwipeed = true;\n\n    if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n      for (var k = this.selectedItem - 1; k >= 0; k--) {\n        if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n          this.selectTab(k, null, true);\n          break;\n        }\n      }\n    } else if (e.swipeDirection === 'Left' && this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1) {\n      for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n        if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n          this.selectTab(i, null, true);\n          break;\n        }\n      }\n    }\n\n    this.isSwipeed = false;\n  };\n\n  Tab.prototype.spaceKeyDown = function (e) {\n    if (e.keyCode === 32 && e.which === 32 || e.keyCode === 35 && e.which === 35) {\n      var clstHead = closest(e.target, '.' + CLS_HEADER$1);\n\n      if (!isNullOrUndefined(clstHead)) {\n        e.preventDefault();\n      }\n    }\n  };\n\n  Tab.prototype.keyHandler = function (e) {\n    if (this.element.classList.contains(CLS_DISABLE$4)) {\n      return;\n    }\n\n    this.element.classList.add(CLS_FOCUS);\n    var trg = e.target;\n    var tabHeader = this.getTabHeader();\n    var actEle = select('.' + CLS_ACTIVE$1, tabHeader);\n    this.popEle = select('.' + CLS_TB_POP, tabHeader);\n\n    if (!isNullOrUndefined(this.popEle)) {\n      this.popObj = this.popEle.ej2_instances[0];\n    }\n\n    var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n    var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n\n    switch (e.action) {\n      case 'space':\n      case 'enter':\n        if (trg.parentElement.classList.contains(CLS_DISABLE$4)) {\n          return;\n        }\n\n        if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n          this.showPopup(this.show);\n          break;\n        }\n\n        this.keyPressed(trg);\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        if (trg.classList.contains(CLS_WRAP) && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE$1) === false) {\n          trg.setAttribute('tabindex', trg.getAttribute('data-tabindex'));\n        }\n\n        if (this.popObj && isVisible(this.popObj.element)) {\n          this.popObj.hide(this.hide);\n        }\n\n        if (!isNullOrUndefined(actEle) && actEle.children.item(0).getAttribute('tabindex') === '-1') {\n          actEle.children.item(0).setAttribute('tabindex', '0');\n        }\n\n        break;\n\n      case 'moveLeft':\n      case 'moveRight':\n        if (!isNullOrUndefined(item)) {\n          this.refreshItemVisibility(item);\n        }\n\n        break;\n\n      case 'openPopup':\n        e.preventDefault();\n\n        if (!isNullOrUndefined(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n          this.popObj.show(this.show);\n        }\n\n        break;\n\n      case 'delete':\n        if (this.showCloseButton === true && !isNullOrUndefined(trgParent)) {\n          var nxtSib = trgParent.nextSibling;\n\n          if (!isNullOrUndefined(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n            nxtSib.firstElementChild.focus();\n          }\n\n          this.removeTab(this.getEleIndex(trgParent));\n        }\n\n        this.setActiveBorder();\n        break;\n    }\n  };\n\n  Tab.prototype.refreshItemVisibility = function (target) {\n    var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n\n    if (!this.isVertical() && !isNullOrUndefined(scrCnt)) {\n      var scrBar = select('.e-hscroll-bar', this.tbItems);\n      scrBar.removeAttribute('tabindex');\n      var scrStart = scrBar.scrollLeft;\n      var scrEnd = scrStart + scrBar.offsetWidth;\n      var eleStart = target.offsetLeft;\n      var eleWidth = target.offsetWidth;\n      var eleEnd = target.offsetLeft + target.offsetWidth;\n\n      if (scrStart < eleStart && scrEnd < eleEnd) {\n        var eleViewRange = scrEnd - eleStart;\n        scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n      } else {\n        if (scrStart > eleStart && scrEnd > eleEnd) {\n          var eleViewRange = eleEnd - scrStart;\n          scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n        }\n      }\n    } else {\n      return;\n    }\n  };\n\n  Tab.prototype.getIndexFromEle = function (id) {\n    return parseInt(id.substring(id.lastIndexOf('_') + 1), 10);\n  };\n\n  Tab.prototype.hoverHandler = function (e) {\n    var trg = e.target;\n\n    if (!isNullOrUndefined(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n      trg.setAttribute('title', new L10n('tab', {\n        closeButtonTitle: this.title\n      }, this.locale).getConstant('closeButtonTitle'));\n    }\n  };\n\n  Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n      var changedProp = Object.keys(newProp.items);\n\n      for (var i = 0; i < changedProp.length; i++) {\n        var index = parseInt(Object.keys(newProp.items)[i], 10);\n        var properties = Object.keys(newProp.items[index]);\n\n        for (var j = 0; j < properties.length; j++) {\n          var oldVal = Object(oldProp.items[index])[properties[j]];\n          var newVal = Object(newProp.items[index])[properties[j]];\n          var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n          var itemIndex = void 0;\n\n          if (hdr && !isNullOrUndefined(hdr.id) && hdr.id !== '') {\n            itemIndex = this.getIndexFromEle(hdr.id);\n          } else {\n            itemIndex = index;\n          }\n\n          var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM$2 + this.tabId + '_' + itemIndex, this.element);\n          var cntItem = select('.' + CLS_CONTENT$1 + ' #' + CLS_CONTENT$1 + this.tabId + '_' + itemIndex, this.element);\n\n          if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n            var icon = isNullOrUndefined(this.items[index].header) || isNullOrUndefined(this.items[index].header.iconCss) ? '' : this.items[index].header.iconCss;\n            var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n\n            if (properties[j] === 'headerTemplate') {\n              this.clearTabTemplate(hdrItem, properties[j], CLS_TB_ITEM);\n            }\n\n            if (textVal === '' && icon === '') {\n              this.removeTab(index);\n            } else {\n              this.tbId = hdr.id;\n              var arr = [];\n              arr.push(this.items[index]);\n              this.items.splice(index, 1);\n              this.itemIndexArray.splice(index, 1);\n              this.tbObj.items.splice(index, 1);\n              var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN$1);\n              detach(hdrItem);\n              this.isReplace = true;\n              this.addTab(arr, index);\n\n              if (isHiddenEle) {\n                this.hideTab(index);\n              }\n\n              this.isReplace = false;\n            }\n          }\n\n          if (properties[j] === 'content' && !isNullOrUndefined(cntItem)) {\n            var strVal = typeof newVal === 'string' || isNullOrUndefined(newVal.innerHTML);\n\n            if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n              var eleVal = document.querySelector(newVal);\n              cntItem.appendChild(eleVal);\n              eleVal.style.display = '';\n            } else if (newVal === '' && oldVal[0] === '#') {\n              document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n              cntItem.innerHTML = newVal;\n            } else if (this.isAngular || this.isReact) {\n              this.clearTabTemplate(cntItem, properties[j], CLS_ITEM$2);\n              cntItem.innerHTML = '';\n              this.templateCompile(cntItem, newVal, index);\n            } else if (typeof newVal !== 'function') {\n              cntItem.innerHTML = newVal;\n            }\n          }\n\n          if (properties[j] === 'cssClass') {\n            if (!isNullOrUndefined(hdrItem)) {\n              hdrItem.classList.remove(oldVal);\n              hdrItem.classList.add(newVal);\n            }\n\n            if (!isNullOrUndefined(cntItem)) {\n              cntItem.classList.remove(oldVal);\n              cntItem.classList.add(newVal);\n            }\n          }\n\n          if (properties[j] === 'disabled') {\n            this.enableTab(index, newVal === true ? false : true);\n          }\n\n          if (properties[j] === 'visible') {\n            this.hideTab(index, newVal === true ? false : true);\n          }\n        }\n      }\n    } else {\n      this.lastIndex = 0;\n\n      if (isNullOrUndefined(this.tbObj)) {\n        this.reRenderItems();\n      } else {\n        if (this.isReact || this.isAngular) {\n          this.clearTemplate();\n        }\n\n        this.setItems(newProp.items);\n\n        if (this.templateEle.length > 0) {\n          this.expTemplateContent();\n        }\n\n        this.templateEle = [];\n        var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n\n        while (selectElement.firstElementChild) {\n          detach(selectElement.firstElementChild);\n        }\n\n        this.select(this.selectedItem);\n        this.draggableItems = [];\n        this.bindDraggable();\n      }\n    }\n  };\n\n  Tab.prototype.clearTabTemplate = function (templateEle, templateName, className) {\n    if (this.registeredTemplate && this.registeredTemplate[templateName]) {\n      var registeredTemplates = this.registeredTemplate;\n\n      for (var index = 0; index < registeredTemplates[templateName].length; index++) {\n        var registeredItem = registeredTemplates[templateName][index].rootNodes[0];\n        var closestItem = closest(registeredItem, '.' + className);\n\n        if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n          this.clearTemplate([templateName], [registeredTemplates[templateName][index]]);\n          break;\n        }\n      }\n    } else if (this.portals && this.portals.length > 0) {\n      var portals = this.portals;\n\n      for (var index = 0; index < portals.length; index++) {\n        var portalItem = portals[index];\n        var closestItem = closest(portalItem.containerInfo, '.' + className);\n\n        if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n          this.clearTemplate([templateName], index);\n          break;\n        }\n      }\n    }\n  };\n\n  Tab.prototype.initializeDrag = function (target) {\n    var _this = this;\n\n    var dragObj = new Draggable(target, {\n      dragArea: this.dragArea,\n      dragTarget: '.' + CLS_TB_ITEM,\n      clone: true,\n      helper: this.helper.bind(this),\n      dragStart: this.itemDragStart.bind(this),\n      drag: function (e) {\n        var dragIndex = _this.getEleIndex(_this.dragItem);\n\n        var dropIndex;\n        var dropItem;\n        var dragArgs = {\n          draggedItem: _this.dragItem,\n          event: e.event,\n          target: e.target,\n          droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n          clonedElement: _this.cloneElement,\n          index: dragIndex\n        };\n\n        if (!isNullOrUndefined(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this.element) && _this.dragArea !== '.' + CLS_HEADER$1) {\n          _this.trigger('dragging', dragArgs);\n        } else {\n          if (!e.target.closest(_this.dragArea) && _this.overflowMode !== 'Popup') {\n            document.body.style.cursor = 'not-allowed';\n            addClass([_this.cloneElement], CLS_HIDDEN$1);\n\n            if (_this.dragItem.classList.contains(CLS_HIDDEN$1)) {\n              removeClass([_this.dragItem], CLS_HIDDEN$1);\n            }\n\n            _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n          } else {\n            document.body.style.cursor = '';\n            _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n\n            if (_this.cloneElement.classList.contains(CLS_HIDDEN$1)) {\n              removeClass([_this.cloneElement], CLS_HIDDEN$1);\n            }\n          }\n\n          if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n            var scrollRightNavEle = _this.element.querySelector('.e-scroll-right-nav');\n\n            var scrollLeftNavEle = _this.element.querySelector('.e-scroll-left-nav');\n\n            var hscrollBar = _this.element.querySelector('.e-hscroll-bar');\n\n            if (!isNullOrUndefined(scrollRightNavEle) && Math.abs(scrollRightNavEle.offsetWidth / 2 + scrollRightNavEle.offsetLeft) > _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n              hscrollBar.scrollLeft -= 10;\n            }\n\n            if (!isNullOrUndefined(scrollLeftNavEle) && Math.abs(scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth - _this.cloneElement.offsetLeft) > scrollLeftNavEle.offsetWidth / 2) {\n              hscrollBar.scrollLeft += 10;\n            }\n          }\n\n          _this.cloneElement.style.pointerEvents = 'none';\n          dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n          var scrollContentWidth = 0;\n\n          if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n            scrollContentWidth = _this.element.querySelector('.e-hscroll-content').offsetWidth;\n          }\n\n          if (dropItem != null && !dropItem.isSameNode(_this.dragItem) && dropItem.closest('.' + CLS_TAB).isSameNode(_this.dragItem.closest('.' + CLS_TAB))) {\n            dropIndex = _this.getEleIndex(dropItem);\n\n            if (dropIndex < dragIndex && Math.abs(dropItem.offsetLeft + dropItem.offsetWidth - _this.cloneElement.offsetLeft) > dropItem.offsetWidth / 2) {\n              _this.dragAction(dropItem, dragIndex, dropIndex);\n            }\n\n            if (dropIndex > dragIndex && Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft - scrollContentWidth < _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n              _this.dragAction(dropItem, dragIndex, dropIndex);\n            }\n          }\n\n          _this.droppedIndex = _this.getEleIndex(_this.dragItem);\n\n          _this.trigger('dragging', dragArgs);\n        }\n      },\n      dragStop: this.itemDragStop.bind(this)\n    });\n    this.draggableItems.push(dragObj);\n  };\n\n  Tab.prototype.helper = function (e) {\n    this.cloneElement = this.createElement('div');\n\n    if (e.element) {\n      this.cloneElement = e.element.cloneNode(true);\n      addClass([this.cloneElement], 'e-tab-clone-element');\n\n      if (this.element.querySelector('.' + CLS_HEADER$1).classList.contains(CLS_CLOSE_SHOW)) {\n        addClass([this.cloneElement], CLS_CLOSE_SHOW);\n      }\n\n      removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n\n      if (!isNullOrUndefined(this.cloneElement.querySelector('.e-ripple-element'))) {\n        remove(this.cloneElement.querySelector('.e-ripple-element'));\n      }\n\n      document.body.appendChild(this.cloneElement);\n    }\n\n    return this.cloneElement;\n  };\n\n  Tab.prototype.itemDragStart = function (e) {\n    var _this = this;\n\n    this.draggingItems = this.items.map(function (x) {\n      return x;\n    });\n    this.dragItem = e.element;\n    var dragArgs = {\n      draggedItem: e.element,\n      event: e.event,\n      target: e.target,\n      droppedItem: null,\n      index: this.getEleIndex(this.dragItem),\n      clonedElement: this.cloneElement,\n      cancel: false\n    };\n    this.trigger('onDragStart', dragArgs, function (tabitemDragArgs) {\n      if (tabitemDragArgs.cancel) {\n        var dragObj = e.element.ej2_instances[0];\n\n        if (!isNullOrUndefined(dragObj)) {\n          dragObj.intDestroy(e.event);\n        }\n\n        detach(_this.cloneElement);\n      } else {\n        _this.removeActiveClass();\n\n        addClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n      }\n    });\n  };\n\n  Tab.prototype.dragAction = function (dropItem, dragsIndex, dropIndex) {\n    if (this.items.length > 0) {\n      var item = this.draggingItems[dragsIndex];\n      this.draggingItems.splice(dragsIndex, 1);\n      this.draggingItems.splice(dropIndex, 0, item);\n    }\n\n    if (this.overflowMode === 'MultiRow') {\n      dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n    }\n\n    if (dragsIndex > dropIndex) {\n      if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n        if (this.overflowMode === 'Extended') {\n          if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n            var popupContainer = this.dragItem.parentNode;\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        } else {\n          var lastEle = dropItem.parentElement.lastChild;\n\n          if (dropItem.isSameNode(lastEle)) {\n            var popupContainer = this.dragItem.parentNode;\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n            popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n          } else {\n            this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n          }\n        }\n      } else {\n        this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n      }\n    }\n\n    if (dragsIndex < dropIndex) {\n      if (!this.dragItem.parentElement.isSameNode(dropItem.parentElement)) {\n        if (this.overflowMode === 'Extended') {\n          this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n          dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n        } else {\n          this.dragItem.parentNode.insertBefore(dropItem.parentElement.lastChild, this.dragItem.parentElement.childNodes[0]);\n          dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n        }\n      } else {\n        this.dragItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n      }\n    }\n  };\n\n  Tab.prototype.itemDragStop = function (e) {\n    var _this = this;\n\n    detach(this.cloneElement);\n    this.cloneElement = null;\n    this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n    document.body.style.cursor = '';\n    var dragStopArgs = {\n      draggedItem: this.dragItem,\n      event: e.event,\n      target: e.target,\n      droppedItem: this.tbItem[this.droppedIndex],\n      clonedElement: null,\n      index: this.droppedIndex,\n      cancel: false\n    };\n    this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n      if (tabItemDropArgs.cancel) {\n        _this.refresh();\n      } else {\n        if (_this.items.length > 0 && _this.draggingItems.length > 0) {\n          _this.items = _this.draggingItems;\n          _this.selectedItem = _this.droppedIndex;\n\n          _this.refresh();\n        } else {\n          _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n          removeClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n\n          _this.selectTab(_this.droppedIndex, null, true);\n        }\n      }\n    });\n    this.dragItem = null;\n  };\n  /**\n   * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n   *\n   * @param {number} index - Index value of target Tab item.\n   * @param {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n   * By default, isEnable is true.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.enableTab = function (index, value) {\n    var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNullOrUndefined(tbItems)) {\n      return;\n    }\n\n    if (value === true) {\n      tbItems.classList.remove(CLS_DISABLE$4, CLS_OVERLAY$2);\n      tbItems.firstElementChild.setAttribute('tabindex', tbItems.firstElementChild.getAttribute('data-tabindex'));\n    } else {\n      tbItems.classList.add(CLS_DISABLE$4, CLS_OVERLAY$2);\n      tbItems.firstElementChild.removeAttribute('tabindex');\n\n      if (tbItems.classList.contains(CLS_ACTIVE$1)) {\n        this.select(index + 1);\n      }\n    }\n\n    if (!isNullOrUndefined(this.items[index])) {\n      this.items[index].disabled = !value;\n      this.dataBind();\n    }\n\n    tbItems.firstElementChild.setAttribute('aria-disabled', value === true ? 'false' : 'true');\n  };\n  /**\n   * Adds new items to the Tab that accepts an array as Tab items.\n   *\n   * @param {TabItemModel[]} items - An array of item that is added to the Tab.\n   * @param {number} index - Number value that determines where the items to be added. By default, index is 0.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.addTab = function (items, index) {\n    var _this = this;\n\n    var addArgs = {\n      addedItems: items,\n      cancel: false\n    };\n\n    if (!this.isReplace) {\n      this.trigger('adding', addArgs, function (tabAddingArgs) {\n        if (!tabAddingArgs.cancel) {\n          _this.addingTabContent(items, index);\n        }\n      });\n    } else {\n      this.addingTabContent(items, index);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n\n  Tab.prototype.addingTabContent = function (items, index) {\n    var _this = this;\n\n    var lastEleIndex = 0;\n    this.hdrEle = select('.' + CLS_HEADER$1, this.element);\n\n    if (isNullOrUndefined(this.hdrEle)) {\n      this.items = items;\n      this.reRenderItems();\n      this.bindDraggable();\n    } else {\n      var itemsCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n\n      if (itemsCount !== 0) {\n        lastEleIndex = this.lastIndex + 1;\n      }\n\n      if (isNullOrUndefined(index)) {\n        index = itemsCount - 1;\n      }\n\n      if (itemsCount < index || index < 0 || isNaN(index)) {\n        return;\n      }\n\n      if (itemsCount === 0 && !isNullOrUndefined(this.hdrEle)) {\n        this.hdrEle.style.display = '';\n      }\n\n      if (!isNullOrUndefined(this.bdrLine)) {\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n      }\n\n      this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n      this.isAdd = true;\n      var tabItems_2 = this.parseObject(items, index);\n      this.isAdd = false;\n      var i_1 = 0;\n      var textValue_1;\n      items.forEach(function (item, place) {\n        textValue_1 = item.headerTemplate || item.header.text;\n\n        if (!(isNullOrUndefined(item.headerTemplate || item.header) || isNullOrUndefined(textValue_1) || textValue_1.length === 0 && !isNullOrUndefined(item.header) && isNullOrUndefined(item.header.iconCss))) {\n          if (tabItems_2[place]) {\n            if (isNullOrUndefined(item.id)) {\n              item.id = CLS_ITEM$2 + _this.tabId + '_' + TABITEMPREFIX + (lastEleIndex + place).toString();\n            }\n\n            tabItems_2[place].htmlAttributes['data-id'] = item.id;\n          }\n\n          _this.items.splice(index + i_1, 0, item);\n\n          i_1++;\n        }\n\n        if (_this.isTemplate && !isNullOrUndefined(item.header) && !isNullOrUndefined(item.header.text)) {\n          var no = lastEleIndex + place;\n\n          var ele = _this.createElement('div', {\n            id: CLS_CONTENT$1 + _this.tabId + '_' + no,\n            className: CLS_ITEM$2,\n            attrs: {\n              role: 'tabpanel',\n              'aria-labelledby': CLS_ITEM$2 + '_' + no\n            }\n          });\n\n          _this.cntEle.insertBefore(ele, _this.cntEle.children[index + place]);\n\n          var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n\n          _this.getContent(eleTrg, item.content, 'render', index);\n        }\n      });\n      this.tbObj.addItems(tabItems_2, index);\n\n      if (!this.isReplace) {\n        this.trigger('added', {\n          addedItems: items\n        });\n      }\n\n      if (this.selectedItem === index) {\n        this.select(index);\n      } else {\n        this.setActiveBorder();\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n      }\n\n      this.bindDraggable();\n    }\n  };\n  /**\n   * Removes the items in the Tab from the specified index.\n   *\n   * @param {number} index - Index of target item that is going to be removed.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.removeTab = function (index) {\n    var _this = this;\n\n    var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNullOrUndefined(trg)) {\n      return;\n    }\n\n    var removeArgs = {\n      removedItem: trg,\n      removedIndex: index,\n      cancel: false\n    };\n    this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n      if (!tabRemovingArgs.cancel) {\n        var header = select('#' + CLS_ITEM$2 + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_TB_ITEMS, _this.element));\n\n        if (!isNullOrUndefined(header)) {\n          _this.clearTabTemplate(header, 'headerTemplate', CLS_TB_ITEM);\n        }\n\n        _this.tbObj.removeItems(index);\n\n        if (_this.allowDragAndDrop && index !== Array.prototype.indexOf.call(_this.itemIndexArray, trg.id)) {\n          index = Array.prototype.indexOf.call(_this.itemIndexArray, trg.id);\n        }\n\n        var targetEleIndex = _this.itemIndexArray.indexOf(trg.id);\n\n        _this.items.splice(targetEleIndex, 1);\n\n        _this.itemIndexArray.splice(targetEleIndex, 1);\n\n        _this.refreshActiveBorder();\n\n        var cntTrg = select('#' + CLS_CONTENT$1 + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT$1, _this.element));\n\n        if (!isNullOrUndefined(cntTrg)) {\n          _this.clearTabTemplate(cntTrg, 'content', CLS_ITEM$2);\n\n          detach(cntTrg);\n        }\n\n        _this.trigger('removed', tabRemovingArgs);\n\n        if (_this.draggableItems && _this.draggableItems.length > 0) {\n          _this.draggableItems[index].destroy();\n\n          _this.draggableItems[index] = null;\n\n          _this.draggableItems.splice(index, 1);\n        }\n\n        if (trg.classList.contains(CLS_ACTIVE$1)) {\n          index = index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1 ? index - 1 : index;\n          _this.enableAnimation = false;\n          _this.selectedItem = index;\n\n          _this.select(index);\n        } else if (index !== _this.selectedItem) {\n          if (index < _this.selectedItem) {\n            index = _this.itemIndexArray.indexOf(_this.tbItem[_this.selectedItem].id);\n\n            _this.setProperties({\n              selectedItem: index > -1 ? index : _this.selectedItem\n            }, true);\n\n            _this.prevIndex = _this.selectedItem;\n          }\n\n          _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n        }\n\n        if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n          _this.hdrEle.style.display = 'none';\n        }\n\n        _this.enableAnimation = true;\n      }\n    });\n  };\n  /**\n   * Shows or hides the Tab that is in the specified index.\n   *\n   * @param {number} index - Index value of target item.\n   * @param {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.hideTab = function (index, value) {\n    var items;\n    var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n\n    if (isNullOrUndefined(item)) {\n      return;\n    }\n\n    if (isNullOrUndefined(value)) {\n      value = true;\n    }\n\n    this.bdrLine.classList.add(CLS_HIDDEN$1);\n\n    if (value === true) {\n      item.classList.add(CLS_HIDDEN$1);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n\n      if (items.length !== 0 && item.classList.contains(CLS_ACTIVE$1)) {\n        if (index !== 0) {\n          for (var i = index - 1; i >= 0; i--) {\n            if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n              this.select(i);\n              break;\n            } else if (i === 0) {\n              for (var k = index + 1; k < this.tbItem.length; k++) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                  this.select(k);\n                  break;\n                }\n              }\n            }\n          }\n        } else {\n          for (var k = index + 1; k < this.tbItem.length; k++) {\n            if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n              this.select(k);\n              break;\n            }\n          }\n        }\n      } else if (items.length === 0) {\n        this.element.classList.add(CLS_HIDDEN$1);\n      }\n    } else {\n      this.element.classList.remove(CLS_HIDDEN$1);\n      items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n      item.classList.remove(CLS_HIDDEN$1);\n\n      if (items.length === 0) {\n        this.select(index);\n      }\n    }\n\n    this.setActiveBorder();\n    item.setAttribute('aria-hidden', '' + value);\n\n    if (this.overflowMode === 'Popup' && this.tbObj) {\n      this.tbObj.refreshOverflow();\n    }\n  };\n\n  Tab.prototype.selectTab = function (args, event, isInteracted) {\n    if (event === void 0) {\n      event = null;\n    }\n\n    if (isInteracted === void 0) {\n      isInteracted = false;\n    }\n\n    this.isInteracted = isInteracted;\n    this.select(args, event);\n  };\n  /**\n   * Specifies the index or HTMLElement to select an item from the Tab.\n   *\n   * @param {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n   * @param {Event} event - An event which takes place in DOM.\n   * @returns {void}\n   */\n\n\n  Tab.prototype.select = function (args, event) {\n    var _this = this;\n\n    var tabHeader = this.getTabHeader();\n    this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n    this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n    this.content = select('.' + CLS_CONTENT$1, this.element);\n    this.prevItem = this.tbItem[this.prevIndex];\n\n    if (isNullOrUndefined(this.selectedItem) || this.selectedItem < 0 || this.tbItem.length <= this.selectedItem || isNaN(this.selectedItem)) {\n      this.selectedItem = 0;\n    } else {\n      this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n    }\n\n    var trg = this.tbItem[args];\n\n    if (isNullOrUndefined(trg)) {\n      this.selectedID = '0';\n    } else {\n      this.selectingID = this.extIndex(trg.id);\n    }\n\n    if (!isNullOrUndefined(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE$4)) {\n      this.prevItem.children.item(0).setAttribute('tabindex', this.prevItem.firstElementChild.getAttribute('tabindex'));\n    }\n\n    var eventArg = {\n      event: event,\n      previousItem: this.prevItem,\n      previousIndex: this.prevIndex,\n      selectedItem: this.tbItem[this.selectedItem],\n      selectedIndex: this.selectedItem,\n      selectedContent: !isNullOrUndefined(this.content) ? select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectedID, this.content) : null,\n      selectingItem: trg,\n      selectingIndex: args,\n      selectingContent: !isNullOrUndefined(this.content) ? select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content) : null,\n      isSwiped: this.isSwipeed,\n      isInteracted: this.isInteracted,\n      cancel: false\n    };\n\n    if (!this.initRender) {\n      this.trigger('selecting', eventArg, function (selectArgs) {\n        if (!selectArgs.cancel) {\n          _this.selectingContent(args, _this.isInteracted);\n        }\n      });\n    } else {\n      this.selectingContent(args, this.isInteracted);\n    }\n\n    this.isInteracted = false;\n  };\n\n  Tab.prototype.selectingContent = function (args, isInteracted) {\n    if (typeof args === 'number') {\n      if (!isNullOrUndefined(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE$4) || this.tbItem[args].classList.contains(CLS_HIDDEN$1))) {\n        for (var i = args + 1; i < this.items.length; i++) {\n          if (this.items[i].disabled === false && this.items[i].visible === true) {\n            args = i;\n            break;\n          } else {\n            args = 0;\n          }\n        }\n      }\n\n      if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n        this.prevIndex = this.selectedItem;\n        this.prevItem = this.tbItem[this.prevIndex];\n\n        if (this.tbItem[args].classList.contains(CLS_TB_POPUP) && this.reorderActiveTab) {\n          this.setActive(this.popupHandler(this.tbItem[args]), null, isInteracted);\n\n          if (!isNullOrUndefined(this.items) && this.items.length > 0 && this.allowDragAndDrop) {\n            this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n            var item = this.items[args];\n            this.items.splice(args, 1);\n            this.items.splice(this.tbItem.length - 1, 0, item);\n            var itemId = this.itemIndexArray[args];\n            this.itemIndexArray.splice(args, 1);\n            this.itemIndexArray.splice(this.tbItem.length - 1, 0, itemId);\n          }\n        } else {\n          this.setActive(args, null, isInteracted);\n        }\n      } else {\n        this.setActive(0, null, isInteracted);\n      }\n    } else if (args instanceof HTMLElement) {\n      this.setActive(this.getEleIndex(args), null, isInteracted);\n    }\n  };\n  /**\n   * Gets the item index from the Tab.\n   *\n   * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n   * @returns {number} - It returns item index.\n   */\n\n\n  Tab.prototype.getItemIndex = function (tabItemId) {\n    var tabIndex;\n\n    for (var i = 0; i < this.tbItem.length; i++) {\n      var value = this.tbItem[i].getAttribute('data-id');\n\n      if (tabItemId === value) {\n        tabIndex = i;\n        break;\n      }\n    }\n\n    return tabIndex;\n  };\n  /**\n   * Specifies the value to disable/enable the Tab component.\n   * When set to `true`, the component will be disabled.\n   *\n   * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n   * @returns {void}.\n   */\n\n\n  Tab.prototype.disable = function (value) {\n    this.setCssClass(this.element, CLS_DISABLE$4, value);\n    this.element.setAttribute('aria-disabled', '' + value);\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - It returns the persisted state.\n   */\n\n\n  Tab.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedItem', 'actEleId']);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - It returns the current module name.\n   * @private\n   */\n\n\n  Tab.prototype.getModuleName = function () {\n    return 'tab';\n  };\n  /**\n   * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n   *\n   * @param  {TabModel} newProp - It contains the new value of data.\n   * @param  {TabModel} oldProp - It contains the old value of data.\n   * @returns {void}\n   * @private\n   */\n\n\n  Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var _this = this;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            width: formatUnit(newProp.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            height: formatUnit(newProp.height)\n          });\n          this.setContentHeight(false);\n          break;\n\n        case 'cssClass':\n          var headerEle = this.element.querySelector('.' + CLS_HEADER$1);\n\n          if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n            this.setCssClass(this.element, oldProp.cssClass, false);\n            this.setCssClass(this.element, newProp.cssClass, true);\n\n            if (!isNullOrUndefined(headerEle)) {\n              this.setCssClass(headerEle, oldProp.cssClass, false);\n              this.setCssClass(headerEle, newProp.cssClass, true);\n            }\n          } else {\n            this.setCssClass(this.element, newProp.cssClass, true);\n\n            if (!isNullOrUndefined(headerEle)) {\n              this.setCssClass(headerEle, newProp.cssClass, true);\n            }\n          }\n\n          break;\n\n        case 'items':\n          this.evalOnPropertyChangeItems(newProp, oldProp);\n          break;\n\n        case 'showCloseButton':\n          this.setCloseButton(newProp.showCloseButton);\n          break;\n\n        case 'reorderActiveTab':\n          this.refreshActiveTabBorder();\n          break;\n\n        case 'selectedItem':\n          this.selectedItem = oldProp.selectedItem;\n          this.select(newProp.selectedItem);\n          break;\n\n        case 'headerPlacement':\n          this.changeOrientation(newProp.headerPlacement);\n          break;\n\n        case 'enableRtl':\n          this.setRTL(newProp.enableRtl);\n          break;\n\n        case 'overflowMode':\n          this.tbObj.overflowMode = newProp.overflowMode;\n          this.tbObj.dataBind();\n          this.refreshActiveTabBorder();\n          break;\n\n        case 'heightAdjustMode':\n          this.setContentHeight(false);\n          this.select(this.selectedItem);\n          break;\n\n        case 'scrollStep':\n          if (this.tbObj) {\n            this.tbObj.scrollStep = this.scrollStep;\n          }\n\n          break;\n\n        case 'allowDragAndDrop':\n          this.bindDraggable();\n          break;\n\n        case 'dragArea':\n          if (this.allowDragAndDrop) {\n            this.draggableItems.forEach(function (item) {\n              item.dragArea = _this.dragArea;\n            });\n            this.refresh();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * To refresh the active tab contents.\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.refreshActiveTab = function () {\n    if (this.isReact && this.isTemplate) {\n      this.clearTemplate();\n    }\n\n    if (!this.isTemplate) {\n      if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1)) {\n        detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).children[0]);\n        detach(this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0]);\n        var item = this.items[this.selectedItem];\n        var pos = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition) ? '' : item.header.iconPosition;\n        var css = isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss) ? '' : item.header.iconCss;\n        var text = item.headerTemplate || item.header.text;\n        var txtWrap = this.createElement('div', {\n          className: CLS_TEXT,\n          attrs: {\n            'role': 'presentation'\n          }\n        });\n\n        if (!isNullOrUndefined(text.tagName)) {\n          txtWrap.appendChild(text);\n        } else {\n          this.headerTextCompile(txtWrap, text, this.selectedItem);\n        }\n\n        var tEle = void 0;\n        var icon = this.createElement('span', {\n          className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n        });\n        var tConts = this.createElement('div', {\n          className: CLS_TEXT_WRAP\n        });\n        tConts.appendChild(txtWrap);\n\n        if (text !== '' && text !== undefined && css !== '') {\n          if (pos === 'left' || pos === 'top') {\n            tConts.insertBefore(icon, tConts.firstElementChild);\n          } else {\n            tConts.appendChild(icon);\n          }\n\n          tEle = txtWrap;\n          this.isIconAlone = false;\n        } else {\n          tEle = css === '' ? txtWrap : icon;\n\n          if (tEle === icon) {\n            detach(txtWrap);\n            tConts.appendChild(icon);\n            this.isIconAlone = true;\n          }\n        }\n\n        var tabIndex = isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString();\n        var wrapAtt = item.disabled ? {} : {\n          tabIndex: tabIndex,\n          'data-tabindex': tabIndex,\n          role: 'tab',\n          'aria-selected': 'true',\n          'aria-disabled': 'false'\n        };\n        tConts.appendChild(this.btnCls.cloneNode(true));\n        var wraper = this.createElement('div', {\n          className: CLS_WRAP,\n          attrs: wrapAtt\n        });\n        wraper.appendChild(tConts);\n\n        if (pos === 'top' || pos === 'bottom') {\n          this.element.classList.add('e-vertical-icon');\n        }\n\n        this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wraper);\n        var crElem = this.createElement('div');\n        var cnt = item.content;\n        var eleStr = void 0;\n\n        if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n          if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n            cnt = SanitizeHtmlHelper.sanitize(cnt);\n          }\n\n          if (cnt[0] === '.' || cnt[0] === '#') {\n            if (document.querySelectorAll(cnt).length) {\n              var eleVal = document.querySelector(cnt);\n              eleStr = eleVal.outerHTML.trim();\n              crElem.appendChild(eleVal);\n              eleVal.style.display = '';\n            } else {\n              this.compileElement(crElem, cnt, 'content', this.selectedItem);\n            }\n          } else {\n            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n          }\n        } else {\n          crElem.appendChild(cnt);\n        }\n\n        if (!isNullOrUndefined(eleStr)) {\n          if (this.templateEle.indexOf(cnt.toString()) === -1) {\n            this.templateEle.push(cnt.toString());\n          }\n        }\n\n        this.element.querySelector('.' + CLS_ITEM$2 + '.' + CLS_ACTIVE$1).appendChild(crElem);\n      }\n    } else {\n      var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n      var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1);\n      var index = this.getIndexFromEle(element.id);\n      var header = element.innerText;\n      var detachContent = this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0];\n      var mainContents = detachContent.innerHTML;\n      detach(element);\n      detach(detachContent);\n      var attr = {\n        className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE$1 + ' ' + CLS_ACTIVE$1,\n        id: CLS_ITEM$2 + this.tabId + '_' + index\n      };\n      var txtString = this.createElement('span', {\n        className: CLS_TEXT,\n        innerHTML: header,\n        attrs: {\n          'role': 'presentation'\n        }\n      }).outerHTML;\n      var conte = this.createElement('div', {\n        className: CLS_TEXT_WRAP,\n        innerHTML: txtString + this.btnCls.outerHTML\n      }).outerHTML;\n      var tabIndex = element.firstElementChild.getAttribute('data-tabindex');\n      var wrap = this.createElement('div', {\n        className: CLS_WRAP,\n        innerHTML: conte,\n        attrs: {\n          tabIndex: tabIndex,\n          'data-tabindex': tabIndex,\n          role: 'tab',\n          'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index,\n          'aria-selected': 'true',\n          'aria-disabled': 'false'\n        }\n      });\n      tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n      this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wrap);\n      var crElem = this.createElement('div', {\n        innerHTML: mainContents\n      });\n      this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).appendChild(crElem);\n    }\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * To refresh the active tab indicator.\n   *\n   * @returns {void}\n   */\n\n\n  Tab.prototype.refreshActiveTabBorder = function () {\n    var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE$1, this.element);\n\n    if (!isNullOrUndefined(activeEle) && this.reorderActiveTab) {\n      this.select(this.getEleIndex(activeEle));\n    }\n\n    this.refreshActiveBorder();\n  };\n\n  __decorate$7([Collection([], TabItem)], Tab.prototype, \"items\", void 0);\n\n  __decorate$7([Property('100%')], Tab.prototype, \"width\", void 0);\n\n  __decorate$7([Property('auto')], Tab.prototype, \"height\", void 0);\n\n  __decorate$7([Property('')], Tab.prototype, \"cssClass\", void 0);\n\n  __decorate$7([Property(0)], Tab.prototype, \"selectedItem\", void 0);\n\n  __decorate$7([Property('Top')], Tab.prototype, \"headerPlacement\", void 0);\n\n  __decorate$7([Property('Content')], Tab.prototype, \"heightAdjustMode\", void 0);\n\n  __decorate$7([Property('Scrollable')], Tab.prototype, \"overflowMode\", void 0);\n\n  __decorate$7([Property('Dynamic')], Tab.prototype, \"loadOn\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"enablePersistence\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"showCloseButton\", void 0);\n\n  __decorate$7([Property(true)], Tab.prototype, \"reorderActiveTab\", void 0);\n\n  __decorate$7([Property()], Tab.prototype, \"scrollStep\", void 0);\n\n  __decorate$7([Property()], Tab.prototype, \"dragArea\", void 0);\n\n  __decorate$7([Property(false)], Tab.prototype, \"allowDragAndDrop\", void 0);\n\n  __decorate$7([Complex({}, TabAnimationSettings)], Tab.prototype, \"animation\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"created\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"adding\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"added\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"selecting\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"selected\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"removing\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"removed\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"onDragStart\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"dragging\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"dragged\", void 0);\n\n  __decorate$7([Event()], Tab.prototype, \"destroyed\", void 0);\n\n  Tab = __decorate$7([NotifyPropertyChanges], Tab);\n  return Tab;\n}(Component);\n/**\n * Tab modules\n */\n\n\nvar __extends$8 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$8 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar LISTWRAP = 'e-text-wrap';\nvar IELISTWRAP = 'e-ie-wrap';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL$1 = 'e-rtl';\nvar INTERACTION = 'e-interaction';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED$1 = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar RIPPLE = 'e-ripple';\nvar RIPPLEELMENT = 'e-ripple-element';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar CHILD = 'e-has-child';\nvar ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nvar DISABLED$1 = 'e-disabled';\nvar PREVENTSELECT = 'e-prevent';\nvar treeAriaAttr = {\n  treeRole: 'group',\n  itemRole: 'treeitem',\n  listRole: 'group',\n  itemText: '',\n  wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\n\nvar FieldsSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(FieldsSettings, _super);\n\n  function FieldsSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$8([Property('child')], FieldsSettings.prototype, \"child\", void 0);\n\n  __decorate$8([Property([])], FieldsSettings.prototype, \"dataSource\", void 0);\n\n  __decorate$8([Property('expanded')], FieldsSettings.prototype, \"expanded\", void 0);\n\n  __decorate$8([Property('hasChildren')], FieldsSettings.prototype, \"hasChildren\", void 0);\n\n  __decorate$8([Property('htmlAttributes')], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$8([Property('iconCss')], FieldsSettings.prototype, \"iconCss\", void 0);\n\n  __decorate$8([Property('id')], FieldsSettings.prototype, \"id\", void 0);\n\n  __decorate$8([Property('imageUrl')], FieldsSettings.prototype, \"imageUrl\", void 0);\n\n  __decorate$8([Property('isChecked')], FieldsSettings.prototype, \"isChecked\", void 0);\n\n  __decorate$8([Property('parentID')], FieldsSettings.prototype, \"parentID\", void 0);\n\n  __decorate$8([Property(null)], FieldsSettings.prototype, \"query\", void 0);\n\n  __decorate$8([Property('selectable')], FieldsSettings.prototype, \"selectable\", void 0);\n\n  __decorate$8([Property('selected')], FieldsSettings.prototype, \"selected\", void 0);\n\n  __decorate$8([Property(null)], FieldsSettings.prototype, \"tableName\", void 0);\n\n  __decorate$8([Property('text')], FieldsSettings.prototype, \"text\", void 0);\n\n  __decorate$8([Property('tooltip')], FieldsSettings.prototype, \"tooltip\", void 0);\n\n  __decorate$8([Property('navigateUrl')], FieldsSettings.prototype, \"navigateUrl\", void 0);\n\n  return FieldsSettings;\n}(ChildProperty);\n/**\n * Configures animation settings for the TreeView component.\n */\n\n\nvar ActionSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(ActionSettings, _super);\n\n  function ActionSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$8([Property('SlideDown')], ActionSettings.prototype, \"effect\", void 0);\n\n  __decorate$8([Property(400)], ActionSettings.prototype, \"duration\", void 0);\n\n  __decorate$8([Property('linear')], ActionSettings.prototype, \"easing\", void 0);\n\n  return ActionSettings;\n}(ChildProperty);\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\n\n\nvar NodeAnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(NodeAnimationSettings, _super);\n\n  function NodeAnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$8([Complex({\n    effect: 'SlideUp',\n    duration: 400,\n    easing: 'linear'\n  }, ActionSettings)], NodeAnimationSettings.prototype, \"collapse\", void 0);\n\n  __decorate$8([Complex({\n    effect: 'SlideDown',\n    duration: 400,\n    easing: 'linear'\n  }, ActionSettings)], NodeAnimationSettings.prototype, \"expand\", void 0);\n\n  return NodeAnimationSettings;\n}(ChildProperty);\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n * <div id=\"tree\"></div>\n * ```\n * ```typescript\n * let treeObj: TreeView = new TreeView();\n * treeObj.appendTo('#tree');\n * ```\n */\n\n\nvar TreeView =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$8(TreeView, _super);\n\n  function TreeView(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isRefreshed = false;\n    _this.preventExpand = false;\n    _this.checkedElement = [];\n    _this.disableNode = []; // eslint-disable-next-line\n\n    _this.validArr = [];\n    _this.validNodes = [];\n    _this.expandChildren = [];\n    _this.isFieldChange = false;\n    _this.changeDataSource = false;\n    _this.hasTemplate = false;\n    _this.isFirstRender = false; // Specifies whether the node is dropped or not\n\n    _this.isNodeDropped = false;\n    _this.isInteracted = false;\n    _this.isRightClick = false;\n    _this.mouseDownStatus = false;\n    return _this;\n  }\n\n  TreeView_1 = TreeView;\n  /**\n   * Get component name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   */\n\n  TreeView.prototype.getModuleName = function () {\n    return 'treeview';\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   */\n\n\n  TreeView.prototype.preRender = function () {\n    var _this = this;\n\n    this.checkActionNodes = [];\n    this.parentNodeCheck = [];\n    this.dragStartAction = false;\n    this.isAnimate = false;\n    this.keyConfigs = {\n      escape: 'escape',\n      end: 'end',\n      enter: 'enter',\n      f2: 'f2',\n      home: 'home',\n      moveDown: 'downarrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      ctrlDown: 'ctrl+downarrow',\n      ctrlUp: 'ctrl+uparrow',\n      ctrlEnter: 'ctrl+enter',\n      ctrlHome: 'ctrl+home',\n      ctrlEnd: 'ctrl+end',\n      ctrlA: 'ctrl+A',\n      shiftDown: 'shift+downarrow',\n      shiftUp: 'shift+uparrow',\n      shiftEnter: 'shift+enter',\n      shiftHome: 'shift+home',\n      shiftEnd: 'shift+end',\n      csDown: 'ctrl+shift+downarrow',\n      csUp: 'ctrl+shift+uparrow',\n      csEnter: 'ctrl+shift+enter',\n      csHome: 'ctrl+shift+home',\n      csEnd: 'ctrl+shift+end',\n      space: 'space',\n      shiftSpace: 'shift+space',\n      ctrlSpace: 'ctrl+space'\n    };\n    this.listBaseOption = {\n      expandCollapse: true,\n      showIcon: true,\n      expandIconClass: EXPANDABLE,\n      ariaAttributes: treeAriaAttr,\n      expandIconPosition: 'Left',\n      itemCreated: function (e) {\n        _this.beforeNodeCreate(e);\n      },\n      enableHtmlSanitizer: this.enableHtmlSanitizer,\n      itemNavigable: this.fullRowNavigable\n    };\n    this.updateListProp(this.fields);\n    this.aniObj = new Animation({});\n    this.treeList = [];\n    this.isLoaded = false;\n    this.isInitalExpand = false;\n    this.expandChildren = [];\n    this.index = 0;\n    this.setTouchClass();\n\n    if (isNullOrUndefined(this.selectedNodes)) {\n      this.setProperties({\n        selectedNodes: []\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.checkedNodes)) {\n      this.setProperties({\n        checkedNodes: []\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.expandedNodes)) {\n      this.setProperties({\n        expandedNodes: []\n      }, true);\n    } else {\n      this.isInitalExpand = true;\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - returns the persisted data\n   * @hidden\n   */\n\n\n  TreeView.prototype.getPersistData = function () {\n    var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  TreeView.prototype.render = function () {\n    this.initialRender = true;\n    this.initialize();\n    this.setDataBinding(false);\n    this.setDisabledMode();\n    this.setExpandOnType();\n\n    if (!this.disabled) {\n      this.setRipple();\n    }\n\n    this.wireEditingEvents(this.allowEditing);\n    this.setDragAndDrop(this.allowDragAndDrop);\n\n    if (!this.disabled) {\n      this.wireEvents();\n    }\n\n    this.initialRender = false;\n    this.renderComplete();\n  };\n\n  TreeView.prototype.initialize = function () {\n    this.element.setAttribute('role', 'tree');\n    this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    this.setCssClass(null, this.cssClass);\n    this.setEnableRtl();\n    this.setFullRow(this.fullRowSelect);\n    this.setTextWrap();\n    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n  };\n\n  TreeView.prototype.setDisabledMode = function () {\n    if (this.disabled) {\n      this.element.classList.add(DISABLED$1);\n    } else {\n      this.element.classList.remove(DISABLED$1);\n    }\n  };\n\n  TreeView.prototype.setEnableRtl = function () {\n    (this.enableRtl ? addClass : removeClass)([this.element], RTL$1);\n  };\n\n  TreeView.prototype.setRipple = function () {\n    var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n    var rippleModel = {\n      selector: tempStr,\n      ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n    };\n    this.rippleFn = rippleEffect(this.element, rippleModel);\n    var iconModel = {\n      selector: '.' + TEXTWRAP + ' > .' + ICON,\n      isCenterRipple: true\n    };\n    this.rippleIconFn = rippleEffect(this.element, iconModel);\n  };\n\n  TreeView.prototype.setFullRow = function (isEnabled) {\n    (isEnabled ? addClass : removeClass)([this.element], FULLROWWRAP);\n  };\n\n  TreeView.prototype.setMultiSelect = function (isEnabled) {\n    var firstUl = select('.' + PARENTITEM, this.element);\n\n    if (isEnabled) {\n      firstUl.setAttribute('aria-multiselectable', 'true');\n    } else {\n      firstUl.removeAttribute('aria-multiselectable');\n    }\n  }; // eslint-disable-next-line\n\n\n  TreeView.prototype.templateComplier = function (template) {\n    if (template) {\n      this.hasTemplate = true; // eslint-disable-next-line\n\n      this.element.classList.add(INTERACTION);\n\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (e) {\n        return compile(template);\n      }\n    }\n\n    this.element.classList.remove(INTERACTION);\n    return undefined;\n  };\n\n  TreeView.prototype.setDataBinding = function (changeDataSource) {\n    var _this = this;\n\n    this.treeList.push('false');\n\n    if (this.fields.dataSource instanceof DataManager) {\n      /* eslint-disable */\n      this.isOffline = this.fields.dataSource.dataSource.offline;\n\n      if (this.fields.dataSource.ready) {\n        this.fields.dataSource.ready.then(function (e) {\n          /* eslint-disable */\n          _this.isOffline = _this.fields.dataSource.dataSource.offline;\n\n          if (_this.fields.dataSource instanceof DataManager && _this.isOffline) {\n            _this.treeList.pop();\n\n            _this.treeData = e.result;\n            _this.isNumberTypeId = _this.getType();\n\n            _this.setRootData();\n\n            _this.renderItems(true);\n\n            if (_this.treeList.length === 0 && !_this.isLoaded) {\n              _this.finalize();\n            }\n          }\n        }).catch(function (e) {\n          _this.trigger('actionFailure', {\n            error: e\n          });\n        });\n      } else {\n        this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n          _this.treeList.pop();\n\n          _this.treeData = e.result;\n          _this.isNumberTypeId = _this.getType();\n\n          _this.setRootData();\n\n          if (changeDataSource) {\n            _this.changeDataSource = true;\n          }\n\n          _this.renderItems(true);\n\n          _this.changeDataSource = false;\n\n          if (_this.treeList.length === 0 && !_this.isLoaded) {\n            _this.finalize();\n          }\n        }).catch(function (e) {\n          _this.trigger('actionFailure', {\n            error: e\n          });\n        });\n      }\n    } else {\n      this.treeList.pop();\n\n      if (isNullOrUndefined(this.fields.dataSource)) {\n        this.rootData = this.treeData = [];\n      } else {\n        this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n        this.setRootData();\n      }\n\n      this.isNumberTypeId = this.getType();\n      this.renderItems(false);\n    }\n\n    if (this.treeList.length === 0 && !this.isLoaded) {\n      this.finalize();\n    }\n  };\n\n  TreeView.prototype.getQuery = function (mapper, value) {\n    if (value === void 0) {\n      value = null;\n    }\n\n    var columns = [];\n    var query;\n\n    if (!mapper.query) {\n      query = new Query();\n      var prop = this.getActualProperties(mapper);\n\n      for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n        var col = _a[_i];\n\n        if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col] && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n          columns.push(mapper[col]);\n        }\n      }\n\n      query.select(columns);\n\n      if (prop.hasOwnProperty('tableName')) {\n        query.from(mapper.tableName);\n      }\n    } else {\n      query = mapper.query.clone();\n    }\n\n    ListBase.addSorting(this.sortOrder, mapper.text, query);\n\n    if (!isNullOrUndefined(value) && !isNullOrUndefined(mapper.parentID)) {\n      query.where(mapper.parentID, 'equal', this.isNumberTypeId ? parseFloat(value) : value);\n    }\n\n    return query;\n  };\n\n  TreeView.prototype.getType = function () {\n    return this.treeData[0] ? typeof getValue(this.fields.id, this.treeData[0]) === 'number' ? true : false : false;\n  };\n\n  TreeView.prototype.setRootData = function () {\n    this.dataType = this.getDataType(this.treeData, this.fields);\n\n    if (this.dataType === 1) {\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n      var rootItems = this.getChildNodes(this.treeData, undefined, true);\n\n      if (isNullOrUndefined(rootItems)) {\n        this.rootData = [];\n      } else {\n        this.rootData = rootItems;\n      }\n    } else {\n      this.rootData = this.treeData;\n    }\n  };\n\n  TreeView.prototype.renderItems = function (isSorted) {\n    /* eslint-disable */\n    this.listBaseOption.ariaAttributes.level = 1;\n    var sortedData = this.getSortedData(this.rootData);\n    this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n    this.element.appendChild(this.ulElement);\n    var rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n\n    if (this.loadOnDemand === false) {\n      var i = 0;\n\n      while (i < rootNodes.length) {\n        this.renderChildNodes(rootNodes[i], true, null, true);\n        i++;\n      }\n    }\n\n    var parentEle = selectAll('.' + PARENTITEM, this.element);\n\n    if (parentEle.length === 1 && rootNodes && rootNodes.length !== 0 || this.loadOnDemand) {\n      this.finalizeNode(this.element);\n    }\n\n    this.parentNodeCheck = [];\n    this.parentCheckData = [];\n    this.updateCheckedStateFromDS();\n\n    if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n      this.updateParentCheckState();\n    }\n  };\n  /**\n   * Update the checkedNodes from datasource at initial rendering\n   */\n\n\n  TreeView.prototype.updateCheckedStateFromDS = function (id) {\n    this.validNodes = [];\n\n    if (this.treeData && this.showCheckBox) {\n      if (this.dataType === 1) {\n        var mapper = this.fields;\n        var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n\n        for (var i = 0; i < resultData.length; i++) {\n          var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n          var resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n\n          if (this.checkedNodes.indexOf(resultId) === -1 && !this.isLoaded) {\n            this.checkedNodes.push(resultId);\n          }\n\n          if (resultData[i][this.fields.hasChildren]) {\n            var id_1 = resultData[i][this.fields.id];\n            var childData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', id_1, false));\n\n            for (var child = 0; child < childData.length; child++) {\n              var childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n\n              if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                this.checkedNodes.push(childId);\n              }\n            }\n          }\n        }\n\n        for (var i = 0; i < this.checkedNodes.length; i++) {\n          var mapper_1 = this.fields;\n          var checkState = new DataManager(this.treeData).executeLocal(new Query().where(mapper_1.id, 'equal', this.checkedNodes[i], true));\n\n          if (checkState[0] && this.autoCheck) {\n            this.getCheckedNodeDetails(mapper_1, checkState);\n            this.checkIndeterminateState(checkState[0]);\n          }\n\n          if (checkState.length > 0) {\n            var checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n              this.validNodes.push(checkedId);\n            }\n          }\n\n          var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper_1.parentID, 'equal', this.checkedNodes[i], true));\n\n          for (var index = 0; index < checkedData.length; index++) {\n            var checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(checkedId) === -1 && this.autoCheck) {\n              this.checkedNodes.push(checkedId);\n            }\n\n            if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n              this.validNodes.push(checkedId);\n            }\n          }\n        }\n      } else if (this.dataType === 2 || this.fields.dataSource instanceof DataManager && this.isOffline) {\n        for (var index = 0; index < this.treeData.length; index++) {\n          var fieldId = this.treeData[index][this.fields.id] ? this.treeData[index][this.fields.id].toString() : '';\n\n          if (this.treeData[index][this.fields.isChecked] && !this.isLoaded && this.checkedNodes.indexOf(fieldId) === -1) {\n            this.checkedNodes.push(fieldId);\n          }\n\n          if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n            this.validNodes.push(fieldId);\n          }\n\n          var childItems = getValue(this.fields.child.toString(), this.treeData[index]);\n\n          if (childItems) {\n            this.updateChildCheckState(childItems, this.treeData[index]);\n          }\n        }\n\n        this.validNodes = this.enablePersistence ? this.checkedNodes : this.validNodes;\n      }\n\n      this.setProperties({\n        checkedNodes: this.validNodes\n      }, true);\n    }\n  };\n  /**\n   * To check whether the list data has sub child and to change the parent check state accordingly\n   */\n\n\n  TreeView.prototype.getCheckedNodeDetails = function (mapper, checkNodes) {\n    var id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n    var count = 0;\n    var element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n    var parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n\n    if (!element && !parentEle) {\n      var len = this.parentNodeCheck.length;\n\n      if (this.parentNodeCheck.indexOf(id) === -1) {\n        this.parentNodeCheck.push(id);\n      }\n\n      var childNodes = this.getChildNodes(this.treeData, id);\n\n      for (var i = 0; i < childNodes.length; i++) {\n        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n        if (this.checkedNodes.indexOf(childId) !== -1) {\n          count++;\n        }\n\n        if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n          this.checkedNodes.push(id);\n        }\n      }\n\n      var preElement = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', id, true));\n      this.getCheckedNodeDetails(mapper, preElement);\n    } else if (parentEle) {\n      var check = select('.' + CHECK, parentEle);\n\n      if (!check) {\n        this.changeState(parentEle, 'indeterminate', null, true, true);\n      }\n    }\n  };\n  /**\n   * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n   */\n\n\n  TreeView.prototype.updateParentCheckState = function () {\n    var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n    var childCheckedElement;\n\n    for (var i = 0; i < indeterminate.length; i++) {\n      var node = closest(indeterminate[i], '.' + LISTITEM);\n      var nodeId = node.getAttribute('data-uid').toString();\n\n      if (this.dataType === 1) {\n        childCheckedElement = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n      } else {\n        childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n      }\n\n      var count = 0;\n\n      if (childCheckedElement) {\n        for (var j = 0; j < childCheckedElement.length; j++) {\n          var childId = childCheckedElement[j][this.fields.id].toString();\n\n          if (this.checkedNodes.indexOf(childId) !== -1) {\n            count++;\n          }\n        }\n\n        if (count === childCheckedElement.length) {\n          var nodeCheck = node.getAttribute('data-uid');\n\n          if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n            this.checkedNodes.push(nodeCheck);\n          }\n\n          this.changeState(node, 'check', null, true, true);\n        } else if (count === 0 && this.checkedNodes.length === 0) {\n          this.changeState(node, 'uncheck', null, true, true);\n        }\n      }\n    }\n  };\n  /**\n   * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n   */\n\n\n  TreeView.prototype.checkIndeterminateState = function (data) {\n    var element;\n\n    if (this.dataType === 1) {\n      element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n    } else {\n      element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n    }\n\n    if (element) {\n      var ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n\n      if (ariaChecked !== 'true') {\n        this.changeState(element, 'indeterminate', null, true, true);\n      }\n    } else if (this.dataType === 2) {\n      var len = this.parentNodeCheck.length;\n\n      if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n        this.parentNodeCheck.push(data[this.fields.id].toString());\n      }\n    }\n  };\n  /**\n   * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n   */\n\n\n  TreeView.prototype.updateChildCheckState = function (childItems, treeData) {\n    var count = 0;\n    var checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n\n    for (var index = 0; index < childItems.length; index++) {\n      var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n\n      if (childItems[index][this.fields.isChecked] && !this.isLoaded && this.checkedNodes.indexOf(checkedChild) === -1) {\n        this.checkedNodes.push(checkedChild);\n      }\n\n      if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n        this.checkedNodes.push(checkedChild);\n      }\n\n      if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n        count++;\n      }\n\n      if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n        this.validNodes.push(checkedChild);\n      }\n\n      var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n\n      if (subChildItems && subChildItems.length) {\n        if (this.parentCheckData.indexOf(treeData) === -1) this.parentCheckData.push(treeData);\n        this.updateChildCheckState(subChildItems, childItems[index]);\n      }\n\n      if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n        this.checkedNodes.push(checkedParent);\n      }\n    }\n\n    if (count !== 0 && this.autoCheck) {\n      this.checkIndeterminateState(treeData);\n\n      for (var len = 0; len < this.parentCheckData.length; len++) {\n        if (treeData !== this.parentCheckData[len] && this.parentCheckData[len]) {\n          this.checkIndeterminateState(this.parentCheckData[len]);\n        }\n      }\n    }\n\n    this.parentCheckData = [];\n  };\n\n  TreeView.prototype.beforeNodeCreate = function (e) {\n    if (this.showCheckBox) {\n      var checkboxEle = createCheckBox(this.createElement, true, {\n        cssClass: this.touchClass\n      });\n      checkboxEle.setAttribute('role', 'checkbox');\n      checkboxEle.setAttribute('aria-label', 'checkbox');\n      var icon = select('div.' + ICON, e.item);\n      var id = e.item.getAttribute('data-uid');\n      e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n      var checkValue = getValue(e.fields.isChecked, e.curData);\n\n      if (this.checkedNodes.indexOf(id) > -1) {\n        select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n        checkboxEle.setAttribute('aria-checked', 'true');\n        this.addCheck(e.item);\n      } else if (!isNullOrUndefined(checkValue) && checkValue.toString() === 'true') {\n        select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n        checkboxEle.setAttribute('aria-checked', 'true');\n        this.addCheck(e.item);\n      } else {\n        checkboxEle.setAttribute('aria-checked', 'false');\n      }\n\n      var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n      EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n      EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n    }\n\n    if (this.fullRowSelect) {\n      this.createFullRow(e.item);\n    }\n\n    if (this.allowMultiSelection && !e.item.classList.contains(SELECTED$1)) {\n      e.item.setAttribute('aria-selected', 'false');\n    }\n\n    var fields = e.fields;\n    this.addActionClass(e, fields.selected, SELECTED$1);\n    this.addActionClass(e, fields.expanded, EXPANDED);\n    e.item.setAttribute(\"tabindex\", \"-1\");\n    EventHandler.add(e.item, 'focus', this.focusIn, this);\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      var textEle = e.item.querySelector('.' + LISTTEXT);\n      var dataId = e.item.getAttribute('data-uid');\n      textEle.innerHTML = '';\n      this.renderNodeTemplate(e.curData, textEle, dataId);\n    }\n\n    var eventArgs = {\n      node: e.item,\n      nodeData: e.curData,\n      text: e.text\n    };\n\n    if (!this.isRefreshed) {\n      this.trigger('drawNode', eventArgs);\n\n      if (e.curData[this.fields.selectable] === false && !this.showCheckBox) {\n        e.item.classList.add(PREVENTSELECT);\n        e.item.firstElementChild.setAttribute('style', 'cursor: not-allowed');\n      }\n    }\n  };\n\n  TreeView.prototype.frameMouseHandler = function (e) {\n    var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n    rippleMouseHandler(e, rippleSpan);\n  };\n\n  TreeView.prototype.addActionClass = function (e, action, cssClass) {\n    var data = e.curData;\n    var actionValue = getValue(action, data);\n\n    if (!isNullOrUndefined(actionValue) && actionValue.toString() !== 'false') {\n      e.item.classList.add(cssClass);\n    }\n  };\n\n  TreeView.prototype.getDataType = function (ds, mapper) {\n    if (this.fields.dataSource instanceof DataManager) {\n      for (var i = 0; i < ds.length; i++) {\n        if (this.isOffline) {\n          if (typeof mapper.child === 'string' && isNullOrUndefined(getValue(mapper.child, ds[i])) && !isNullOrUndefined(getValue(mapper.parentID, ds[i]))) {\n            return 1;\n          }\n        } else if (typeof mapper.child === 'string' && isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n          return 1;\n        }\n      }\n\n      return 2;\n    }\n\n    for (var i = 0, len = ds.length; i < len; i++) {\n      if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n        return 2;\n      }\n\n      if (!isNullOrUndefined(getValue(mapper.parentID, ds[i])) || !isNullOrUndefined(getValue(mapper.hasChildren, ds[i]))) {\n        return 1;\n      }\n    }\n\n    return 1;\n  };\n\n  TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n    var cusQuery = new Query().group(groupBy);\n    var ds = ListBase.getDataSource(dataSource, cusQuery);\n    var grpItem = [];\n\n    for (var j = 0; j < ds.length; j++) {\n      var itemObj = ds[j].items;\n      grpItem.push(itemObj);\n    }\n\n    return grpItem;\n  };\n\n  TreeView.prototype.getSortedData = function (list) {\n    if (list && this.sortOrder !== 'None') {\n      list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n    }\n\n    return list;\n  };\n\n  TreeView.prototype.finalizeNode = function (element) {\n    var iNodes = selectAll('.' + IMAGE, element);\n\n    for (var k = 0; k < iNodes.length; k++) {\n      iNodes[k].setAttribute('alt', IMAGE);\n    }\n\n    if (this.isLoaded) {\n      var sNodes = selectAll('.' + SELECTED$1, element);\n\n      for (var i = 0; i < sNodes.length; i++) {\n        this.selectNode(sNodes[i], null);\n        break;\n      }\n\n      removeClass(sNodes, SELECTED$1);\n    }\n\n    var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n\n    for (var j = 0; j < cNodes.length; j++) {\n      var icon = select('div.' + ICON, cNodes[j]);\n\n      if (icon && icon.classList.contains(EXPANDABLE)) {\n        this.disableExpandAttr(cNodes[j]);\n      }\n    }\n\n    var eNodes = selectAll('.' + EXPANDED, element);\n\n    if (!this.isInitalExpand) {\n      for (var i = 0; i < eNodes.length; i++) {\n        this.renderChildNodes(eNodes[i]);\n      }\n    }\n\n    removeClass(eNodes, EXPANDED);\n    this.updateList();\n\n    if (this.isLoaded) {\n      this.updateCheckedProp();\n    }\n  };\n\n  TreeView.prototype.updateCheckedProp = function () {\n    if (this.showCheckBox) {\n      var nodes = [].concat([], this.checkedNodes);\n      this.setProperties({\n        checkedNodes: nodes\n      }, true);\n    }\n  };\n\n  TreeView.prototype.ensureIndeterminate = function () {\n    if (this.autoCheck) {\n      var liElement = selectAll('li', this.element);\n      var ulElement = void 0;\n\n      for (var i = 0; i < liElement.length; i++) {\n        if (liElement[i].classList.contains(LISTITEM)) {\n          ulElement = select('.' + PARENTITEM, liElement[i]);\n\n          if (ulElement) {\n            this.ensureParentCheckState(liElement[i]);\n          } else {\n            this.ensureChildCheckState(liElement[i]);\n          }\n        }\n      }\n    } else {\n      var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n\n      for (var i = 0; i < indeterminate.length; i++) {\n        indeterminate[i].classList.remove(INDETERMINATE);\n      }\n    }\n  };\n\n  TreeView.prototype.ensureParentCheckState = function (element) {\n    if (!isNullOrUndefined(element)) {\n      if (element.classList.contains(ROOT)) {\n        return;\n      }\n\n      var ulElement = element;\n\n      if (element.classList.contains(LISTITEM)) {\n        ulElement = select('.' + PARENTITEM, element);\n      }\n\n      var checkedNodes = selectAll('.' + CHECK, ulElement);\n      var indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n      var nodes = selectAll('.' + LISTITEM, ulElement);\n      var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n\n      if (nodes.length === checkedNodes.length) {\n        this.changeState(checkBoxEle, 'check', null, true, true);\n      } else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n        this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n      } else if (checkedNodes.length === 0) {\n        this.changeState(checkBoxEle, 'uncheck', null, true, true);\n      }\n\n      var parentUL = closest(element, '.' + PARENTITEM);\n\n      if (!isNullOrUndefined(parentUL)) {\n        var currentParent = closest(parentUL, '.' + LISTITEM);\n        this.ensureParentCheckState(currentParent);\n      }\n    }\n  };\n\n  TreeView.prototype.ensureChildCheckState = function (element, e) {\n    if (!isNullOrUndefined(element)) {\n      var childElement = select('.' + PARENTITEM, element);\n      var checkBoxes = void 0;\n\n      if (!isNullOrUndefined(childElement)) {\n        checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n        var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n        var parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n        var childCheck = childElement.querySelectorAll('li');\n        var expandState = childElement.parentElement.getAttribute('aria-expanded');\n        var checkedState = void 0;\n\n        for (var index = 0; index < checkBoxes.length; index++) {\n          var childId = childCheck[index].getAttribute('data-uid');\n\n          if (!isNullOrUndefined(this.currentLoadData) && !isNullOrUndefined(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n            checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n\n            if (this.ele !== -1) {\n              checkedState = isChecked ? 'check' : 'uncheck';\n            }\n\n            if (checkedState === 'uncheck' && !isUndefined(this.parentNodeCheck) && this.autoCheck && this.parentNodeCheck.indexOf(childId) !== -1) {\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n              checkedState = 'indeterminate';\n            }\n          } else {\n            var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n\n            if (isChecked) {\n              checkedState = 'check';\n            } else if (isNodeChecked && !this.isLoaded) {\n              checkedState = 'check';\n            } else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n              checkedState = 'check';\n            } else if (childCheck[index].classList.contains(CHILD) && !isUndefined(this.parentNodeCheck) && this.autoCheck && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1) {\n              checkedState = 'indeterminate';\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n            } else if (this.dataType === 1 && !isUndefined(this.parentNodeCheck) && this.autoCheck && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1) {\n              checkedState = 'indeterminate';\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n            } else {\n              checkedState = 'uncheck';\n            }\n          }\n\n          this.changeState(checkBoxes[index], checkedState, e, true, true);\n        }\n      }\n\n      if (this.autoCheck && this.isLoaded) {\n        this.updateParentCheckState();\n      }\n    }\n  };\n\n  TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n    var li = selectAll('.' + LISTITEM, this.element);\n\n    if (!isNullOrUndefined(nodes)) {\n      for (var len = nodes.length; len >= 0; len--) {\n        var liEle = void 0;\n\n        if (nodes.length === 1) {\n          liEle = this.getElement(nodes[len - 1]);\n        } else {\n          liEle = this.getElement(nodes[len]);\n        }\n\n        if (isNullOrUndefined(liEle)) {\n          var node = void 0;\n          node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n\n          if (node !== '' && doCheck && node) {\n            this.setValidCheckedNode(node);\n            this.dynamicCheckState(node, doCheck);\n          } else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n            var childItems = this.getChildNodes(this.treeData, node);\n\n            if (childItems) {\n              for (var i = 0; i < childItems.length; i++) {\n                var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n\n                if (this.checkedNodes.indexOf(id) !== -1) {\n                  this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                  var ele = this.element.querySelector('[data-uid=\"' + id + '\"]');\n\n                  if (ele) {\n                    this.changeState(ele, 'uncheck', null);\n                  }\n                }\n              }\n\n              if (this.parentNodeCheck.indexOf(node) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n              }\n            }\n\n            if (node) {\n              this.dynamicCheckState(node, doCheck);\n            }\n\n            this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n          }\n\n          continue;\n        }\n\n        var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n        this.validateCheckNode(checkBox, !doCheck, liEle, null);\n      }\n    } else {\n      var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n\n      if (this.loadOnDemand) {\n        for (var index = 0; index < checkBoxes.length; index++) {\n          this.updateFieldChecked(checkBoxes[index], doCheck);\n          this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n        }\n      } else {\n        for (var index = 0; index < checkBoxes.length; index++) {\n          this.updateFieldChecked(checkBoxes[index], doCheck);\n          this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n        }\n      }\n    }\n\n    if (nodes) {\n      for (var j = 0; j < nodes.length; j++) {\n        var node = nodes[j] ? nodes[j].toString() : '';\n\n        if (!doCheck) {\n          this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n        }\n      }\n    }\n\n    if (this.autoCheck) {\n      this.updateParentCheckState();\n    }\n  };\n\n  TreeView.prototype.updateFieldChecked = function (checkbox, doCheck) {\n    var currLi = closest(checkbox, '.' + LISTITEM);\n    var id = currLi.getAttribute('data-uid');\n    var nodeDetails = this.getNodeData(currLi);\n\n    if (nodeDetails.isChecked === 'true' && !doCheck) {\n      this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n    }\n  };\n  /**\n   * Changes the parent and child  check state while changing the checkedNodes via setmodel\n   */\n\n\n  TreeView.prototype.dynamicCheckState = function (node, doCheck) {\n    if (this.dataType === 1) {\n      var count = 0;\n      var resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n\n      if (resultId[0]) {\n        var id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n        var parent_1 = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n        var parentElement = this.element.querySelector('[data-uid=\"' + parent_1 + '\"]');\n        var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n        var check = parentElement ? select('.' + CHECK, parentElement) : null;\n        var element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n        var childNodes = this.getChildNodes(this.treeData, parent_1);\n\n        if (childNodes) {\n          for (var i = 0; i < childNodes.length; i++) {\n            var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n            if (this.checkedNodes.indexOf(childId) !== -1) {\n              count++;\n            }\n          }\n        }\n\n        if (this.checkedNodes.indexOf(node) !== -1 && parentElement && id === node && this.autoCheck) {\n          this.changeState(parentElement, 'indeterminate', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && element && id === node && !doCheck) {\n          this.changeState(element, 'uncheck', null);\n        } else if (this.checkedNodes.indexOf(node) !== -1 && element && id === node && doCheck) {\n          this.changeState(element, 'check', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && id === node && this.autoCheck && count !== 0) {\n          this.changeState(parentElement, 'indeterminate', null);\n        } else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && id === node && this.autoCheck && count === 0) {\n          this.changeState(parentElement, 'uncheck', null);\n        } else if (!element && !parentElement && id === node && this.autoCheck) {\n          this.updateIndeterminate(node, doCheck);\n        }\n      }\n    } else if (this.dataType === 2 || this.fields.dataSource instanceof DataManager && this.isOffline) {\n      var id = void 0;\n      var parentElement = void 0;\n      var check = void 0;\n\n      for (var i = 0; i < this.treeData.length; i++) {\n        id = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : '';\n        parentElement = this.element.querySelector('[data-uid=\"' + id + '\"]');\n        check = parentElement ? select('.' + CHECK, parentElement) : null;\n\n        if (this.checkedNodes.indexOf(id) === -1 && parentElement && check && !doCheck) {\n          this.changeState(parentElement, 'uncheck', null);\n        }\n\n        var subChild = getValue(this.fields.child.toString(), this.treeData[i]);\n\n        if (subChild) {\n          this.updateChildIndeterminate(subChild, id, node, doCheck, id);\n        }\n      }\n    }\n  };\n  /**\n   * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n   */\n\n\n  TreeView.prototype.updateIndeterminate = function (node, doCheck) {\n    var indeterminateData = this.getTreeData(node);\n    var count = 0;\n    var parent;\n\n    if (this.dataType === 1) {\n      parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n    }\n\n    var childNodes = this.getChildNodes(this.treeData, parent);\n\n    if (childNodes) {\n      for (var i = 0; i < childNodes.length; i++) {\n        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n\n        if (this.checkedNodes.indexOf(childId) !== -1) {\n          count++;\n        }\n      }\n    }\n\n    var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n\n    if (parentElement && doCheck) {\n      this.changeState(parentElement, 'indeterminate', null);\n    } else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n      this.changeState(parentElement, 'indeterminate', null);\n    } else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n      this.changeState(parentElement, 'uncheck', null);\n    } else if (!parentElement) {\n      if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n      } else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n        this.parentNodeCheck.push(parent);\n      } else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n        this.parentNodeCheck.push(parent);\n      }\n\n      this.updateIndeterminate(parent, doCheck);\n\n      if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n        this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n      }\n    }\n  };\n  /**\n   * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n   */\n\n\n  TreeView.prototype.updateChildIndeterminate = function (subChild, parent, node, doCheck, child) {\n    var count = 0;\n\n    for (var j = 0; j < subChild.length; j++) {\n      var subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n\n      if (this.checkedNodes.indexOf(subId) !== -1) {\n        count++;\n      }\n\n      var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n      var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n      var check = parentElement ? select('.' + CHECK, parentElement) : null;\n      var element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n      var childElementCheck = element ? select('.' + CHECK, element) : null;\n\n      if (this.checkedNodes.indexOf(node) !== -1 && parentElement && subId === node && this.autoCheck) {\n        this.changeState(parentElement, 'indeterminate', null);\n      } else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && subId === node && !doCheck) {\n        if (this.autoCheck) {\n          this.changeState(parentElement, 'uncheck', null);\n        } else {\n          if (count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n          } else {\n            this.changeState(parentElement, 'uncheck', null);\n          }\n        }\n      } else if (this.checkedNodes.indexOf(node) === -1 && element && subId === node && !doCheck) {\n        this.changeState(element, 'uncheck', null);\n      } else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && subId === node && this.autoCheck && count === 0 && !doCheck) {\n        indeterminate.classList.remove(INDETERMINATE);\n      } else if (this.checkedNodes.indexOf(node) === -1 && !element && check && subId === node && count === 0) {\n        this.changeState(parentElement, 'uncheck', null);\n      } else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n        this.changeState(element, 'uncheck', null);\n      } else if (!element && !parentElement && subId === node || this.parentNodeCheck.indexOf(parent) !== -1 && this.autoCheck) {\n        var childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n\n        if (doCheck && count !== 0) {\n          this.changeState(childElement, 'indeterminate', null);\n        } else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n          this.checkedNodes.push(parent);\n        } else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n          this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n        }\n\n        if (this.parentNodeCheck.indexOf(parent) === -1) {\n          this.parentNodeCheck.push(parent);\n        }\n      }\n\n      var innerChild = getValue(this.fields.child.toString(), subChild[j]);\n\n      if (innerChild) {\n        this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n      }\n    }\n  };\n\n  TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd, doCheck) {\n    var _this = this;\n\n    var eventArgs;\n    var currLi = closest(wrapper, '.' + LISTITEM);\n\n    if (wrapper === currLi) {\n      wrapper = select('.' + CHECKBOXWRAP, currLi);\n    }\n\n    if (!isPrevent) {\n      this.checkActionNodes = [];\n      eventArgs = this.getCheckEvent(currLi, state, e);\n      this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n        }\n      });\n    } else {\n      this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n    }\n  };\n\n  TreeView.prototype.nodeCheckAction = function (wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n    var ariaState;\n    var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n\n    if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n      frameSpan.classList.remove(INDETERMINATE);\n      frameSpan.classList.add(CHECK);\n      this.addCheck(currLi);\n      ariaState = 'true';\n    } else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n      removeClass([frameSpan], [CHECK, INDETERMINATE]);\n      this.removeCheck(currLi);\n      ariaState = 'false';\n    } else if (state === 'indeterminate' && this.autoCheck) {\n      frameSpan.classList.remove(CHECK);\n      frameSpan.classList.add(INDETERMINATE);\n      this.removeCheck(currLi);\n      ariaState = 'mixed';\n    }\n\n    ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n\n    if (!isNullOrUndefined(ariaState)) {\n      wrapper.setAttribute('aria-checked', ariaState);\n    }\n\n    if (isAdd) {\n      var data = [].concat([], this.checkActionNodes);\n      eventArgs = this.getCheckEvent(currLi, state, e);\n\n      if (isUndefined(isPrevent)) {\n        eventArgs.data = data;\n      }\n    }\n\n    if (doCheck !== undefined) {\n      this.ensureStateChange(currLi, doCheck);\n    }\n\n    if (!isPrevent) {\n      if (!isNullOrUndefined(ariaState)) {\n        wrapper.setAttribute('aria-checked', ariaState);\n        eventArgs.data[0].checked = ariaState;\n        this.trigger('nodeChecked', eventArgs);\n        this.checkActionNodes = [];\n      }\n    }\n  };\n\n  TreeView.prototype.addCheck = function (liEle) {\n    var id = liEle.getAttribute('data-uid');\n\n    if (!isNullOrUndefined(id) && this.checkedNodes.indexOf(id) === -1) {\n      this.checkedNodes.push(id);\n    }\n  };\n\n  TreeView.prototype.removeCheck = function (liEle) {\n    var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n    if (index > -1) {\n      this.checkedNodes.splice(index, 1);\n    }\n  };\n\n  TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n    this.checkActionNodes.push(this.getNodeData(currLi));\n    var nodeData = this.checkActionNodes;\n    return {\n      action: action,\n      cancel: false,\n      isInteracted: isNullOrUndefined(e) ? false : true,\n      node: currLi,\n      data: nodeData\n    };\n  };\n\n  TreeView.prototype.finalize = function () {\n    var firstUl = select('.' + PARENTITEM, this.element);\n\n    if (!isNullOrUndefined(firstUl)) {\n      firstUl.setAttribute('role', treeAriaAttr.treeRole);\n      this.setMultiSelect(this.allowMultiSelection);\n      var firstNode = select('.' + LISTITEM, this.element);\n\n      if (firstNode) {\n        firstNode.setAttribute('tabindex', '0');\n        this.updateIdAttr(null, firstNode);\n      }\n\n      if (this.allowTextWrap) {\n        this.updateWrap();\n      }\n\n      this.renderReactTemplates();\n      this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n      this.doExpandAction();\n    }\n  };\n\n  TreeView.prototype.setTextWrap = function () {\n    (this.allowTextWrap ? addClass : removeClass)([this.element], LISTWRAP);\n\n    if (Browser.isIE) {\n      (this.allowTextWrap ? addClass : removeClass)([this.element], IELISTWRAP);\n    }\n  };\n\n  TreeView.prototype.updateWrap = function (ulEle) {\n    if (!this.fullRowSelect) {\n      return;\n    }\n\n    var liEle = ulEle ? selectAll('.' + LISTITEM, ulEle) : this.liList;\n    var length = liEle.length;\n\n    for (var i = 0; i < length; i++) {\n      this.calculateWrap(liEle[i]);\n    }\n  };\n\n  TreeView.prototype.calculateWrap = function (liEle) {\n    var element = select('.' + FULLROW, liEle);\n\n    if (element && element.nextElementSibling) {\n      element.style.height = this.allowTextWrap ? element.nextElementSibling.offsetHeight + 'px' : '';\n    }\n  };\n\n  TreeView.prototype.doExpandAction = function () {\n    var eUids = this.expandedNodes;\n\n    if (this.isInitalExpand && eUids.length > 0) {\n      this.setProperties({\n        expandedNodes: []\n      }, true);\n      /* eslint-disable */\n\n      if (this.fields.dataSource instanceof DataManager) {\n        this.expandGivenNodes(eUids);\n      } else {\n        for (var i = 0; i < eUids.length; i++) {\n          var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n\n          if (!isNullOrUndefined(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n\n            if (!isNullOrUndefined(icon)) {\n              this.expandAction(eNode, icon, null);\n            }\n          } else {\n            if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n              this.expandChildren.push(eUids[i].toString());\n            }\n\n            continue;\n          }\n        }\n\n        this.afterFinalized();\n      }\n    } else {\n      this.afterFinalized();\n    }\n  };\n\n  TreeView.prototype.expandGivenNodes = function (arr) {\n    var proxy = this;\n    this.expandCallback(arr[this.index], function () {\n      proxy.index++;\n\n      if (proxy.index < arr.length) {\n        proxy.expandGivenNodes(arr);\n      } else {\n        proxy.afterFinalized();\n      }\n    });\n  };\n\n  TreeView.prototype.expandCallback = function (eUid, callback) {\n    var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n\n    if (!isNullOrUndefined(eNode)) {\n      var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n\n      if (!isNullOrUndefined(icon)) {\n        this.expandAction(eNode, icon, null, false, callback);\n      } else {\n        callback();\n      }\n    } else {\n      callback();\n    }\n  };\n\n  TreeView.prototype.afterFinalized = function () {\n    this.doSelectionAction();\n    this.updateCheckedProp();\n    this.isAnimate = true;\n    this.isInitalExpand = false;\n\n    if ((!this.isLoaded || this.isFieldChange) && !this.isNodeDropped) {\n      var eventArgs = {\n        data: this.treeData\n      };\n      this.trigger('dataBound', eventArgs);\n    }\n\n    this.isLoaded = true;\n    this.isNodeDropped = false;\n  };\n\n  TreeView.prototype.doSelectionAction = function () {\n    var sNodes = selectAll('.' + SELECTED$1, this.element);\n    var sUids = this.selectedNodes;\n\n    if (sUids.length > 0) {\n      this.setProperties({\n        selectedNodes: []\n      }, true);\n\n      for (var i = 0; i < sUids.length; i++) {\n        var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n\n        if (sNode && !sNode.classList.contains('e-active')) {\n          this.selectNode(sNode, null, true);\n        } else {\n          this.selectedNodes.push(sUids[i]);\n        }\n\n        if (!this.allowMultiSelection) {\n          break;\n        }\n      }\n    } else {\n      this.selectGivenNodes(sNodes);\n    }\n\n    removeClass(sNodes, SELECTED$1);\n  };\n\n  TreeView.prototype.selectGivenNodes = function (sNodes) {\n    for (var i = 0; i < sNodes.length; i++) {\n      if (!sNodes[i].classList.contains('e-disable')) {\n        this.selectNode(sNodes[i], null, true);\n      }\n\n      if (!this.allowMultiSelection) {\n        break;\n      }\n    }\n  };\n\n  TreeView.prototype.clickHandler = function (event) {\n    var target = Browser.isDevice && !Browser.isIos ? document.elementFromPoint(event.originalEvent.changedTouches[0].clientX, event.originalEvent.changedTouches[0].clientY) : event.originalEvent.target;\n    EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n\n    if (!target || this.dragStartAction) {\n      return;\n    } else {\n      var classList$$1 = target.classList;\n      var li = closest(target, '.' + LISTITEM);\n\n      if (!li || li.classList.contains(PREVENTSELECT) && !(classList$$1.contains(EXPANDABLE) || classList$$1.contains(COLLAPSIBLE))) {\n        return;\n      } else if (event.originalEvent.which !== 3) {\n        var rippleElement = select('.' + RIPPLEELMENT, li);\n        var rippleIcons = select('.' + ICON, li);\n        this.removeHover();\n        this.setFocusElement(li);\n\n        if (this.showCheckBox && !li.classList.contains('e-disable')) {\n          var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n\n          if (!isNullOrUndefined(checkWrapper)) {\n            var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n            this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n            this.triggerClickEvent(event.originalEvent, li);\n            return;\n          }\n        }\n\n        if (classList$$1.contains(EXPANDABLE)) {\n          this.expandAction(li, target, event);\n        } else if (classList$$1.contains(COLLAPSIBLE)) {\n          this.collapseNode(li, target, event);\n        } else if (rippleElement && rippleIcons) {\n          if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n            this.expandAction(li, rippleIcons, event);\n          } else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n            this.collapseNode(li, rippleIcons, event);\n          } else if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n            this.toggleSelect(li, event.originalEvent, false);\n          }\n        } else {\n          if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n            this.toggleSelect(li, event.originalEvent, false);\n          }\n        }\n      }\n\n      if (event.originalEvent.which === 3) {\n        this.isRightClick = true;\n      }\n\n      this.triggerClickEvent(event.originalEvent, li);\n    }\n  };\n\n  TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n    var currLi = closest(wrapper, '.' + LISTITEM);\n    var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n    eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n    this.trigger('nodeChecked', eventArgs);\n  };\n\n  TreeView.prototype.triggerClickEvent = function (e, li) {\n    var eventArgs = {\n      event: e,\n      node: li\n    };\n    this.trigger('nodeClicked', eventArgs);\n  };\n\n  TreeView.prototype.expandNode = function (currLi, icon, loaded) {\n    var _this = this;\n\n    this.renderReactTemplates();\n\n    if (icon.classList.contains(LOAD)) {\n      this.hideSpinner(icon);\n    }\n\n    if (!this.initialRender) {\n      icon.classList.add('interaction');\n    }\n\n    if (loaded !== true || loaded === true && currLi.classList.contains('e-expanded')) {\n      if (this.preventExpand !== true) {\n        removeClass([icon], EXPANDABLE);\n        addClass([icon], COLLAPSIBLE);\n        var start_1 = 0;\n        var end_1 = 0;\n        var proxy_1 = this;\n        var ul_1 = select('.' + PARENTITEM, currLi);\n        var liEle_1 = currLi;\n        this.setHeight(liEle_1, ul_1);\n        var activeElement_1 = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n\n        if (this.isAnimate && !this.isRefreshed) {\n          this.aniObj.animate(ul_1, {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing,\n            begin: function (args) {\n              liEle_1.style.overflow = 'hidden';\n\n              if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                activeElement_1.classList.add(ITEM_ANIMATION_ACTIVE);\n              }\n\n              start_1 = liEle_1.offsetHeight;\n              end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n            },\n            progress: function (args) {\n              args.element.style.display = 'block';\n              proxy_1.animateHeight(args, start_1, end_1);\n            },\n            end: function (args) {\n              args.element.style.display = 'block';\n\n              if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                activeElement_1.classList.remove(ITEM_ANIMATION_ACTIVE);\n              }\n\n              _this.expandedNode(liEle_1, ul_1, icon);\n            }\n          });\n        } else {\n          this.expandedNode(liEle_1, ul_1, icon);\n        }\n      }\n    } else {\n      var ul = select('.' + PARENTITEM, currLi);\n      ul.style.display = 'none';\n\n      if (this.fields.dataSource instanceof DataManager === true) {\n        this.preventExpand = false;\n      }\n    }\n\n    if (this.initialRender) {\n      icon.classList.add('interaction');\n    }\n  };\n\n  TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n    ul.style.display = 'block';\n    currLi.style.display = 'block';\n    currLi.style.overflow = '';\n    currLi.style.height = '';\n    removeClass([icon], PROCESS);\n    this.addExpand(currLi);\n\n    if (this.allowTextWrap && this.isLoaded && this.isFirstRender) {\n      this.updateWrap(currLi);\n      this.isFirstRender = false;\n    }\n\n    if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n      this.expandArgs = this.getExpandEvent(currLi, null);\n      this.expandArgs.isInteracted = this.isInteracted;\n      this.trigger('nodeExpanded', this.expandArgs);\n    }\n  };\n\n  TreeView.prototype.addExpand = function (liEle) {\n    liEle.setAttribute('aria-expanded', 'true');\n    removeClass([liEle], NODECOLLAPSED);\n    var id = liEle.getAttribute('data-uid');\n\n    if (!isNullOrUndefined(id) && this.expandedNodes.indexOf(id) === -1) {\n      this.expandedNodes.push(id);\n    }\n  };\n\n  TreeView.prototype.collapseNode = function (currLi, icon, e) {\n    var _this = this;\n\n    if (icon.classList.contains(PROCESS)) {\n      return;\n    } else {\n      addClass([icon], PROCESS);\n    }\n\n    var colArgs;\n\n    if (this.isLoaded) {\n      colArgs = this.getExpandEvent(currLi, e);\n      this.isInteracted = colArgs.isInteracted;\n      this.trigger('nodeCollapsing', colArgs, function (observedArgs) {\n        if (observedArgs.cancel) {\n          removeClass([icon], PROCESS);\n        } else {\n          _this.nodeCollapseAction(currLi, icon, observedArgs);\n        }\n      });\n    } else {\n      this.nodeCollapseAction(currLi, icon, colArgs);\n    }\n  };\n\n  TreeView.prototype.nodeCollapseAction = function (currLi, icon, colArgs) {\n    var _this = this;\n\n    removeClass([icon], COLLAPSIBLE);\n    addClass([icon], EXPANDABLE);\n    var start = 0;\n    var end = 0;\n    var proxy = this;\n    var ul = select('.' + PARENTITEM, currLi);\n    var liEle = currLi;\n    var activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n\n    if (this.isAnimate) {\n      this.aniObj.animate(ul, {\n        name: this.animation.collapse.effect,\n        duration: this.animation.collapse.duration,\n        timingFunction: this.animation.collapse.easing,\n        begin: function (args) {\n          liEle.style.overflow = 'hidden';\n\n          if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n            activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n          }\n\n          start = select('.' + TEXTWRAP, currLi).offsetHeight;\n          end = liEle.offsetHeight;\n        },\n        progress: function (args) {\n          proxy.animateHeight(args, start, end);\n        },\n        end: function (args) {\n          args.element.style.display = 'none';\n\n          if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n            activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n          }\n\n          _this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n      });\n    } else {\n      this.collapsedNode(liEle, ul, icon, colArgs);\n    }\n  };\n\n  TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n    ul.style.display = 'none';\n    liEle.style.overflow = '';\n    liEle.style.height = '';\n    removeClass([icon], PROCESS);\n    this.removeExpand(liEle);\n\n    if (this.isLoaded) {\n      colArgs = this.getExpandEvent(liEle, null);\n      colArgs.isInteracted = this.isInteracted;\n      this.trigger('nodeCollapsed', colArgs);\n    }\n  };\n\n  TreeView.prototype.removeExpand = function (liEle, toRemove) {\n    if (toRemove) {\n      liEle.removeAttribute('aria-expanded');\n    } else {\n      this.disableExpandAttr(liEle);\n    }\n\n    var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n    if (index > -1) {\n      this.expandedNodes.splice(index, 1);\n    }\n  };\n\n  TreeView.prototype.disableExpandAttr = function (liEle) {\n    liEle.setAttribute('aria-expanded', 'false');\n    addClass([liEle], NODECOLLAPSED);\n  };\n\n  TreeView.prototype.setHeight = function (currLi, ul) {\n    ul.style.display = 'block';\n    ul.style.visibility = 'hidden';\n    currLi.style.height = currLi.offsetHeight + 'px';\n    ul.style.display = 'none';\n    ul.style.visibility = '';\n  };\n\n  TreeView.prototype.animateHeight = function (args, start, end) {\n    var remaining = (args.duration - args.timeStamp) / args.duration;\n    var currentHeight = (end - start) * remaining + start;\n    args.element.parentElement.style.height = currentHeight + 'px';\n  };\n\n  TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback, loaded) {\n    var _this = this;\n\n    var eicon = select('div.' + ICON, parentLi);\n\n    if (isNullOrUndefined(eicon)) {\n      return;\n    }\n\n    this.showSpinner(eicon);\n    var childItems;\n    /* eslint-disable */\n\n    if (this.fields.dataSource instanceof DataManager) {\n      var level = this.parents(parentLi, '.' + PARENTITEM).length;\n      var mapper_2 = this.getChildFields(this.fields, level, 1);\n\n      if (isNullOrUndefined(mapper_2) || isNullOrUndefined(mapper_2.dataSource)) {\n        detach(eicon);\n        this.removeExpand(parentLi, true);\n        return;\n      }\n\n      this.treeList.push('false');\n\n      if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n        this.treeList.pop();\n        childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n        this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n      } else {\n        mapper_2.dataSource.executeQuery(this.getQuery(mapper_2, parentLi.getAttribute('data-uid'))).then(function (e) {\n          _this.treeList.pop();\n\n          childItems = e.result;\n\n          if (_this.dataType === 1) {\n            _this.dataType = 2;\n          }\n\n          _this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n        }).catch(function (e) {\n          _this.trigger('actionFailure', {\n            error: e\n          });\n        });\n      }\n    } else {\n      childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n      this.currentLoadData = this.getSortedData(childItems);\n\n      if (isNullOrUndefined(childItems) || childItems.length === 0) {\n        detach(eicon);\n        this.removeExpand(parentLi, true);\n        return;\n      } else {\n        this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n        parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n        this.expandNode(parentLi, eicon, loaded);\n        this.setSelectionForChildNodes(childItems);\n        this.ensureCheckNode(parentLi);\n        this.finalizeNode(parentLi);\n        this.disableTreeNodes(childItems);\n        this.renderSubChild(parentLi, expandChild, loaded);\n      }\n    }\n  };\n\n  TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n    this.currentLoadData = childItems;\n\n    if (isNullOrUndefined(childItems) || childItems.length === 0) {\n      detach(eicon);\n      this.removeExpand(parentLi, true);\n    } else {\n      this.updateListProp(mapper);\n\n      if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n        var id = parentLi.getAttribute('data-uid');\n        var nodeData = this.getNodeObject(id);\n        setValue('child', childItems, nodeData);\n      }\n\n      this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n      parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n      this.expandNode(parentLi, eicon, loaded);\n      this.setSelectionForChildNodes(childItems);\n      this.ensureCheckNode(parentLi);\n      this.finalizeNode(parentLi);\n      this.disableTreeNodes(childItems);\n      this.renderSubChild(parentLi, expandChild, loaded);\n    }\n\n    if (callback) {\n      callback();\n    }\n\n    if (this.treeList.length === 0 && !this.isLoaded) {\n      this.finalize();\n    }\n  };\n\n  TreeView.prototype.disableTreeNodes = function (childItems) {\n    var i = 0;\n\n    while (i < childItems.length) {\n      var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n\n      if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n        this.doDisableAction([id]);\n      }\n\n      i++;\n    }\n  };\n  /**\n   * Sets the child Item in selectedState while rendering the child node\n   */\n\n\n  TreeView.prototype.setSelectionForChildNodes = function (nodes) {\n    var i;\n\n    for (i = 0; i < nodes.length; i++) {\n      var id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n\n      if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n        this.doSelectionAction();\n      }\n    }\n  };\n\n  TreeView.prototype.ensureCheckNode = function (element) {\n    if (this.showCheckBox) {\n      this.ele = this.checkedElement ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n\n      if (this.autoCheck) {\n        this.ensureChildCheckState(element);\n        this.ensureParentCheckState(element);\n      }\n    }\n\n    this.currentLoadData = null;\n  };\n\n  TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n    if (nodeLevel === dataLevel) {\n      return mapper;\n    } else {\n      return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n    }\n  };\n\n  TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n    if (nodeLevel === dataLevel) {\n      return this.getChildMapper(mapper);\n    } else {\n      return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n    }\n  };\n\n  TreeView.prototype.getChildMapper = function (mapper) {\n    return typeof mapper.child === 'string' || isNullOrUndefined(mapper.child) ? mapper : mapper.child;\n  };\n\n  TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n    var _this = this;\n\n    if (isRoot === void 0) {\n      isRoot = false;\n    }\n\n    var childNodes;\n\n    if (isNullOrUndefined(obj)) {\n      return childNodes;\n    } else if (this.dataType === 1) {\n      return this.getChildGroup(this.groupedData, parentId, isRoot);\n    } else {\n      if (typeof this.fields.child === 'string') {\n        var index = obj.findIndex(function (data) {\n          return data[_this.fields.id] && data[_this.fields.id].toString() === parentId;\n        });\n\n        if (index !== -1) {\n          return getValue(this.fields.child, obj[index]);\n        }\n\n        if (index === -1) {\n          for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var tempArray = getValue(this.fields.child, obj[i]);\n            var childIndex = !isNullOrUndefined(tempArray) ? tempArray.findIndex(function (data) {\n              return data[_this.fields.id] && data[_this.fields.id].toString() === parentId;\n            }) : -1;\n\n            if (childIndex !== -1) {\n              return getValue(this.fields.child, tempArray[childIndex]);\n            } else if (!isNullOrUndefined(tempArray)) {\n              childNodes = this.getChildNodes(tempArray, parentId);\n\n              if (childNodes !== undefined) {\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return childNodes;\n  };\n\n  TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n    var childNodes;\n\n    if (isNullOrUndefined(data)) {\n      return childNodes;\n    }\n\n    for (var i = 0, objlen = data.length; i < objlen; i++) {\n      if (!isNullOrUndefined(data[i][0]) && !isNullOrUndefined(getValue(this.fields.parentID, data[i][0]))) {\n        if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n          return data[i];\n        }\n      } else if (isRoot) {\n        return data[i];\n      } else {\n        return [];\n      }\n    }\n\n    return childNodes;\n  };\n\n  TreeView.prototype.renderSubChild = function (element, expandChild, loaded) {\n    if (expandChild) {\n      var cIcons = selectAll('.' + EXPANDABLE, element);\n\n      for (var i = 0, len = cIcons.length; i < len; i++) {\n        var icon = cIcons[i];\n\n        if (element.querySelector('.e-icons') !== cIcons[i]) {\n          var curLi = closest(icon, '.' + LISTITEM);\n          this.expandArgs = this.getExpandEvent(curLi, null);\n\n          if (loaded !== true) {\n            this.trigger('nodeExpanding', this.expandArgs);\n          }\n\n          this.renderChildNodes(curLi, expandChild, null, loaded);\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n    if (!li.classList.contains('e-disable')) {\n      if (this.allowMultiSelection && (e && e.ctrlKey || multiSelect) && this.isActive(li)) {\n        this.unselectNode(li, e);\n      } else {\n        this.selectNode(li, e, multiSelect);\n      }\n    }\n  };\n\n  TreeView.prototype.isActive = function (li) {\n    return li.classList.contains(ACTIVE) ? true : false;\n  };\n\n  TreeView.prototype.selectNode = function (li, e, multiSelect) {\n    var _this = this;\n\n    if (isNullOrUndefined(li) || !this.allowMultiSelection && this.isActive(li) && !isNullOrUndefined(e)) {\n      this.setFocusElement(li);\n      return;\n    }\n\n    var eventArgs;\n\n    if (this.isLoaded) {\n      eventArgs = this.getSelectEvent(li, 'select', e);\n      this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel && !observedArgs.node.classList.contains(PREVENTSELECT)) {\n          _this.nodeSelectAction(li, e, observedArgs, multiSelect);\n        }\n      });\n    } else {\n      this.nodeSelectAction(li, e, eventArgs, multiSelect);\n    }\n  };\n\n  TreeView.prototype.nodeSelectAction = function (li, e, eventArgs, multiSelect) {\n    if (!this.allowMultiSelection || !multiSelect && (!e || e && !e.ctrlKey)) {\n      this.removeSelectAll();\n    }\n\n    if (this.allowMultiSelection && e && e.shiftKey) {\n      if (!this.startNode) {\n        this.startNode = li;\n      }\n\n      var startIndex = this.liList.indexOf(this.startNode);\n      var endIndex = this.liList.indexOf(li);\n\n      if (startIndex > endIndex) {\n        var temp = startIndex;\n        startIndex = endIndex;\n        endIndex = temp;\n      }\n\n      for (var i = startIndex; i <= endIndex; i++) {\n        var currNode = this.liList[i];\n\n        if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n          this.addSelect(currNode);\n        }\n      }\n    } else {\n      this.startNode = li;\n      this.addSelect(li);\n    }\n\n    if (this.isLoaded) {\n      eventArgs.nodeData = this.getNodeData(li);\n      this.trigger('nodeSelected', eventArgs);\n      this.isRightClick = false;\n    }\n\n    this.isRightClick = false;\n  };\n\n  TreeView.prototype.unselectNode = function (li, e) {\n    var _this = this;\n\n    var eventArgs;\n\n    if (this.isLoaded) {\n      eventArgs = this.getSelectEvent(li, 'un-select', e);\n      this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n        if (!observedArgs.cancel) {\n          _this.nodeUnselectAction(li, observedArgs);\n        }\n      });\n    } else {\n      this.nodeUnselectAction(li, eventArgs);\n    }\n  };\n\n  TreeView.prototype.nodeUnselectAction = function (li, eventArgs) {\n    this.removeSelect(li);\n    this.setFocusElement(li);\n\n    if (this.isLoaded) {\n      eventArgs.nodeData = this.getNodeData(li);\n      this.trigger('nodeSelected', eventArgs);\n    }\n  };\n\n  TreeView.prototype.setFocusElement = function (li) {\n    if (!isNullOrUndefined(li)) {\n      var focusedNode = this.getFocusedNode();\n\n      if (focusedNode) {\n        removeClass([focusedNode], FOCUS);\n        focusedNode.setAttribute(\"tabindex\", \"-1\");\n      }\n\n      addClass([li], FOCUS);\n      li.setAttribute('tabindex', '0');\n      EventHandler.add(li, 'blur', this.focusOut, this);\n      this.updateIdAttr(focusedNode, li);\n    }\n  };\n\n  TreeView.prototype.addSelect = function (liEle) {\n    liEle.setAttribute('aria-selected', 'true');\n    addClass([liEle], ACTIVE);\n    var id = liEle.getAttribute('data-uid');\n\n    if (!isNullOrUndefined(id) && this.selectedNodes.indexOf(id) === -1) {\n      this.selectedNodes.push(id);\n    }\n  };\n\n  TreeView.prototype.removeSelect = function (liEle) {\n    if (this.allowMultiSelection) {\n      liEle.setAttribute('aria-selected', 'false');\n    } else {\n      liEle.removeAttribute('aria-selected');\n    }\n\n    removeClass([liEle], ACTIVE);\n    var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n\n    if (index > -1) {\n      this.selectedNodes.splice(index, 1);\n    }\n  };\n\n  TreeView.prototype.removeSelectAll = function () {\n    var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n\n    for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n      var ele = selectedLI_1[_i];\n\n      if (this.allowMultiSelection) {\n        ele.setAttribute('aria-selected', 'false');\n      } else {\n        ele.removeAttribute('aria-selected');\n      }\n    }\n\n    removeClass(selectedLI, ACTIVE);\n    this.setProperties({\n      selectedNodes: []\n    }, true);\n  };\n\n  TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n    var nodeData = this.getNodeData(currLi);\n    return {\n      action: action,\n      cancel: false,\n      isInteracted: isNullOrUndefined(e) ? false : true,\n      node: currLi,\n      nodeData: nodeData\n    };\n  };\n\n  TreeView.prototype.setExpandOnType = function () {\n    this.expandOnType = this.expandOn === 'Auto' ? Browser.isDevice ? 'Click' : 'DblClick' : this.expandOn;\n  };\n\n  TreeView.prototype.expandHandler = function (e) {\n    var target = e.originalEvent.target;\n\n    if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) || target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n      return;\n    } else {\n      this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n    }\n  };\n\n  TreeView.prototype.expandCollapseAction = function (currLi, e) {\n    var icon = select('div.' + ICON, currLi);\n\n    if (!icon || icon.classList.contains(PROCESS)) {\n      return;\n    } else {\n      var classList$$1 = icon.classList;\n\n      if (classList$$1.contains(EXPANDABLE)) {\n        this.expandAction(currLi, icon, e);\n      } else if (classList$$1.contains(COLLAPSIBLE)) {\n        this.collapseNode(currLi, icon, e);\n      }\n    }\n  };\n\n  TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n    var _this = this;\n\n    if (icon.classList.contains(PROCESS)) {\n      return;\n    } else {\n      addClass([icon], PROCESS);\n    }\n\n    if (this.isLoaded && !this.isRefreshed) {\n      this.expandArgs = this.getExpandEvent(currLi, e);\n      this.isInteracted = this.expandArgs.isInteracted;\n      this.trigger('nodeExpanding', this.expandArgs, function (observedArgs) {\n        if (observedArgs.cancel) {\n          removeClass([icon], PROCESS);\n        } else {\n          _this.nodeExpandAction(currLi, icon, expandChild, callback);\n        }\n      });\n    } else {\n      this.nodeExpandAction(currLi, icon, expandChild, callback);\n    }\n  };\n\n  TreeView.prototype.nodeExpandAction = function (currLi, icon, expandChild, callback) {\n    var ul = select('.' + PARENTITEM, currLi);\n\n    if (ul && ul.nodeName === 'UL') {\n      this.expandNode(currLi, icon);\n    } else {\n      this.isFirstRender = true;\n      this.renderChildNodes(currLi, expandChild, callback);\n      var liEles = selectAll('.' + LISTITEM, currLi);\n\n      for (var i = 0; i < liEles.length; i++) {\n        var id = this.getId(liEles[i]);\n\n        if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n          var icon_1 = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEles[i]));\n\n          if (!isNullOrUndefined(icon_1)) {\n            this.expandAction(liEles[i], icon_1, null);\n          }\n\n          this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.keyActionHandler = function (e) {\n    var _this = this;\n\n    var target = e.target;\n    var focusedNode = this.getFocusedNode();\n\n    if (target && target.classList.contains(INPUT)) {\n      var inpEle = target;\n\n      if (e.action === 'enter') {\n        inpEle.blur();\n      } else if (e.action === 'escape') {\n        inpEle.value = this.oldText;\n        inpEle.blur();\n      }\n\n      return;\n    }\n\n    e.preventDefault();\n    var eventArgs = {\n      cancel: false,\n      event: e,\n      node: focusedNode\n    };\n    this.trigger('keyPress', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        switch (e.action) {\n          case 'space':\n            if (_this.showCheckBox) {\n              _this.checkNode(e);\n            } else {\n              _this.toggleSelect(focusedNode, e);\n            }\n\n            break;\n\n          case 'moveRight':\n            _this.openNode(_this.enableRtl ? false : true, e);\n\n            break;\n\n          case 'moveLeft':\n            _this.openNode(_this.enableRtl ? true : false, e);\n\n            break;\n\n          case 'shiftDown':\n            _this.shiftKeySelect(true, e);\n\n            break;\n\n          case 'moveDown':\n          case 'ctrlDown':\n          case 'csDown':\n            _this.navigateNode(true);\n\n            break;\n\n          case 'shiftUp':\n            _this.shiftKeySelect(false, e);\n\n            break;\n\n          case 'moveUp':\n          case 'ctrlUp':\n          case 'csUp':\n            _this.navigateNode(false);\n\n            break;\n\n          case 'home':\n          case 'shiftHome':\n          case 'ctrlHome':\n          case 'csHome':\n            _this.navigateRootNode(true);\n\n            break;\n\n          case 'end':\n          case 'shiftEnd':\n          case 'ctrlEnd':\n          case 'csEnd':\n            _this.navigateRootNode(false);\n\n            break;\n\n          case 'enter':\n          case 'ctrlEnter':\n          case 'shiftEnter':\n          case 'csEnter':\n          case 'shiftSpace':\n          case 'ctrlSpace':\n            _this.toggleSelect(focusedNode, e);\n\n            break;\n\n          case 'f2':\n            if (_this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n              _this.createTextbox(focusedNode, e);\n            }\n\n            break;\n\n          case 'ctrlA':\n            if (_this.allowMultiSelection) {\n              var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', _this.element);\n\n              _this.selectGivenNodes(sNodes);\n            }\n\n            break;\n        }\n      }\n    });\n  };\n\n  TreeView.prototype.navigateToFocus = function (isUp) {\n    var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n    var pos = focusNode.getBoundingClientRect();\n    var parent = this.getScrollParent(this.element);\n\n    if (!isNullOrUndefined(parent)) {\n      var parentPos = parent.getBoundingClientRect();\n\n      if (pos.bottom > parentPos.bottom) {\n        parent.scrollTop += pos.bottom - parentPos.bottom;\n      } else if (pos.top < parentPos.top) {\n        parent.scrollTop -= parentPos.top - pos.top;\n      }\n    }\n\n    var isVisible$$1 = this.isVisibleInViewport(focusNode);\n\n    if (!isVisible$$1) {\n      focusNode.scrollIntoView(isUp);\n    }\n  };\n\n  TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n    var pos = txtWrap.getBoundingClientRect();\n    return pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) && pos.right <= (window.innerWidth || document.documentElement.clientWidth);\n  };\n\n  TreeView.prototype.getScrollParent = function (node) {\n    if (isNullOrUndefined(node)) {\n      return null;\n    }\n\n    return node.scrollHeight > node.clientHeight ? node : this.getScrollParent(node.parentElement);\n  };\n\n  TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n    if (this.allowMultiSelection) {\n      var focusedNode = this.getFocusedNode();\n      var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n      this.removeHover();\n      this.setFocusElement(nextNode);\n      this.toggleSelect(nextNode, e, false);\n      this.navigateToFocus(!isTowards);\n    } else {\n      this.navigateNode(isTowards);\n    }\n  };\n\n  TreeView.prototype.checkNode = function (e) {\n    var focusedNode = this.getFocusedNode();\n    var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n    var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n\n    if (!focusedNode.classList.contains('e-disable')) {\n      if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n        this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n      }\n    }\n  };\n\n  TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n    var _this = this;\n\n    var currLi = closest(checkWrap, '.' + LISTITEM);\n    this.checkActionNodes = [];\n    var ariaState = !isCheck ? 'true' : 'false';\n\n    if (!isNullOrUndefined(ariaState)) {\n      checkWrap.setAttribute('aria-checked', ariaState);\n    }\n\n    var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n    this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        _this.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n      }\n    });\n  };\n\n  TreeView.prototype.nodeCheckingAction = function (checkWrap, isCheck, li, eventArgs, e) {\n    if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n      this.checkedElement.push(li.getAttribute('data-uid'));\n\n      if (this.autoCheck) {\n        var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n        child !== null ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n      }\n    }\n\n    this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n\n    if (this.autoCheck) {\n      this.ensureChildCheckState(li);\n      this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n      var doCheck = void 0;\n\n      if (eventArgs.action === 'check') {\n        doCheck = true;\n      } else if (eventArgs.action === 'uncheck') {\n        doCheck = false;\n      }\n\n      this.ensureStateChange(li, doCheck);\n    }\n\n    this.nodeCheckedEvent(checkWrap, isCheck, e);\n  };\n  /**\n   * Update checkedNodes when UI interaction happens before the child node renders in DOM\n   */\n\n\n  TreeView.prototype.ensureStateChange = function (li, doCheck) {\n    var childElement = select('.' + PARENTITEM, li);\n    var parentIndex = li.getAttribute('data-uid');\n    var mapper = this.fields;\n\n    if (this.dataType === 1 && this.autoCheck) {\n      var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n\n      for (var i = 0; i < resultData.length; i++) {\n        var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n        var isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n\n        if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n          this.checkedNodes.push(resultId);\n          var childItems = this.getChildNodes(this.treeData, resultId);\n          this.getChildItems(childItems, doCheck);\n\n          if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n          }\n        } else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null && this.checkedNodes.indexOf(resultId) !== -1) {\n          this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n\n          if (isCheck === 'true') {\n            this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n          }\n\n          if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null || this.parentNodeCheck.indexOf(resultId) !== -1) {\n            var childNodes = this.getChildNodes(this.treeData, resultId);\n            this.getChildItems(childNodes, doCheck);\n\n            if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n              this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n            }\n          }\n        } else {\n          var childItems = this.getChildNodes(this.treeData, resultId);\n          this.getChildItems(childItems, doCheck);\n        }\n      }\n    } else if (this.dataType === 1 && !this.autoCheck) {\n      if (!doCheck) {\n        var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n\n        for (var i = 0; i < checkedData.length; i++) {\n          var id = checkedData[i][this.fields.id] ? checkedData[i][this.fields.id].toString() : null;\n\n          if (this.checkedNodes.indexOf(id) !== -1) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n          }\n\n          this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n        }\n\n        this.checkedNodes = [];\n      } else {\n        for (var i = 0; i < this.treeData.length; i++) {\n          var checkedId = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : null;\n\n          if (this.checkedNodes.indexOf(checkedId) === -1) {\n            this.checkedNodes.push(checkedId);\n          }\n        }\n      }\n    } else {\n      var childItems = this.getChildNodes(this.treeData, parentIndex);\n\n      if (childItems) {\n        this.childStateChange(childItems, parentIndex, childElement, doCheck);\n      }\n    }\n  };\n\n  TreeView.prototype.getChildItems = function (childItems, doCheck) {\n    for (var i = 0; i < childItems.length; i++) {\n      var childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n      var childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n\n      if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n        this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n      }\n\n      if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n        this.checkedNodes.push(childId);\n      }\n\n      if (childIsCheck === 'true' && !doCheck) {\n        this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n      }\n\n      var subChildItems = this.getChildNodes(this.treeData, childId);\n\n      if (subChildItems.length > 0) {\n        this.getChildItems(subChildItems, doCheck);\n      }\n    }\n  };\n  /**\n   * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n   */\n\n\n  TreeView.prototype.childStateChange = function (childItems, parent, childElement, doCheck) {\n    for (var i = 0; i < childItems.length; i++) {\n      var checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n      var isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n\n      if (this.autoCheck) {\n        if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n          this.checkedNodes.push(checkedChild);\n\n          if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n          }\n        } else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n          this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n\n          if (isCheck === 'true') {\n            this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n          }\n        }\n      } else if (!this.autoCheck) {\n        if (!doCheck) {\n          if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n            this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n          }\n\n          this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n          this.checkedNodes = [];\n        } else {\n          if (this.checkedNodes.indexOf(checkedChild) === -1) {\n            this.checkedNodes.push(checkedChild);\n          }\n        }\n      }\n\n      var subChild = this.getChildNodes([childItems[i]], checkedChild);\n\n      if (subChild) {\n        this.childStateChange(subChild, parent, childElement, doCheck);\n      }\n    }\n  }; //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n\n\n  TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n    if (child) {\n      for (var length_1 = 0; length_1 < child.length; length_1++) {\n        var childId = getValue(this.fields.id, child[length_1]);\n        var check = this.element.querySelector('[data-uid=\"' + childId + '\"]'); //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n\n        if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n          if (check === null && !isNullOrUndefined(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1 || childCheck === 0 || checked === 2) {\n            child[length_1][this.fields.isChecked] !== false || checked === 2 ? newCheck.push(childId.toString()) : childCheck = null;\n            childCheck = child[length_1][this.fields.isChecked] !== false || checked === 2 ? 0 : null;\n          }\n        } //Pushes child checked node done thro' UI interaction\n\n\n        if (newCheck.indexOf(childId.toString()) === -1 && isNullOrUndefined(checked)) {\n          newCheck.push(childId.toString());\n        }\n\n        var hierChildId = getValue(this.fields.child.toString(), child[length_1]); //Gets if any next level children are available for child nodes\n\n        if (getValue(this.fields.hasChildren, child[length_1]) === true || hierChildId) {\n          var id = getValue(this.fields.id, child[length_1]);\n          var childId_1 = void 0;\n\n          if (this.dataType === 1) {\n            childId_1 = this.getChildNodes(this.treeData, id.toString());\n          } else {\n            childId_1 = hierChildId;\n          }\n\n          if (childId_1) {\n            isNullOrUndefined(validateCheck) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) : this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n            childCheck = null;\n          }\n        }\n\n        childCheck = null;\n      }\n    }\n  };\n\n  TreeView.prototype.openNode = function (toBeOpened, e) {\n    var focusedNode = this.getFocusedNode();\n    var icon = select('div.' + ICON, focusedNode);\n\n    if (toBeOpened) {\n      if (!icon) {\n        return;\n      } else if (icon.classList.contains(EXPANDABLE)) {\n        this.expandAction(focusedNode, icon, e);\n      } else {\n        this.focusNextNode(focusedNode, true);\n      }\n    } else {\n      if (icon && icon.classList.contains(COLLAPSIBLE)) {\n        this.collapseNode(focusedNode, icon, e);\n      } else {\n        var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n\n        if (!parentLi) {\n          return;\n        } else {\n          if (!parentLi.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, parentLi);\n            this.navigateToFocus(true);\n          }\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.navigateNode = function (isTowards) {\n    var focusedNode = this.getFocusedNode();\n    this.focusNextNode(focusedNode, isTowards);\n  };\n\n  TreeView.prototype.navigateRootNode = function (isBackwards) {\n    var focusedNode = this.getFocusedNode();\n    var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n\n    if (!rootNode.classList.contains('e-disable')) {\n      this.setFocus(focusedNode, rootNode);\n      this.navigateToFocus(isBackwards);\n    }\n  };\n\n  TreeView.prototype.getFocusedNode = function () {\n    var selectedItem;\n    var fNode = select('.' + LISTITEM + '[tabindex=\"0\"]', this.element);\n\n    if (isNullOrUndefined(fNode)) {\n      selectedItem = select('.' + LISTITEM, this.element);\n    }\n\n    return isNullOrUndefined(fNode) ? isNullOrUndefined(selectedItem) ? this.element.firstElementChild : selectedItem : fNode;\n  };\n\n  TreeView.prototype.focusNextNode = function (li, isTowards) {\n    var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n    this.setFocus(li, nextNode);\n    this.navigateToFocus(!isTowards);\n\n    if (nextNode.classList.contains('e-disable')) {\n      var lastChild = nextNode.lastChild;\n\n      if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n        this.focusNextNode(nextNode, true);\n      } else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n        this.focusNextNode(nextNode, false);\n      } else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n        this.focusNextNode(nextNode, false);\n      } else {\n        this.focusNextNode(nextNode, isTowards);\n      }\n    }\n  };\n\n  TreeView.prototype.getNextNode = function (li) {\n    var index = this.liList.indexOf(li);\n    var nextNode;\n\n    do {\n      index++;\n      nextNode = this.liList[index];\n\n      if (isNullOrUndefined(nextNode)) {\n        return li;\n      }\n    } while (!isVisible(nextNode));\n\n    return nextNode;\n  };\n\n  TreeView.prototype.getPrevNode = function (li) {\n    var index = this.liList.indexOf(li);\n    var prevNode;\n\n    do {\n      index--;\n      prevNode = this.liList[index];\n\n      if (isNullOrUndefined(prevNode)) {\n        return li;\n      }\n    } while (!isVisible(prevNode));\n\n    return prevNode;\n  };\n\n  TreeView.prototype.getRootNode = function () {\n    var index = 0;\n    var rootNode;\n\n    do {\n      rootNode = this.liList[index];\n      index++;\n    } while (!isVisible(rootNode));\n\n    return rootNode;\n  };\n\n  TreeView.prototype.getEndNode = function () {\n    var index = this.liList.length - 1;\n    var endNode;\n\n    do {\n      endNode = this.liList[index];\n      index--;\n    } while (!isVisible(endNode));\n\n    return endNode;\n  };\n\n  TreeView.prototype.setFocus = function (preNode, nextNode) {\n    removeClass([preNode], FOCUS);\n    preNode.setAttribute(\"tabindex\", \"-1\");\n\n    if (!nextNode.classList.contains('e-disable') && !nextNode.classList.contains(PREVENTSELECT)) {\n      addClass([nextNode], FOCUS);\n      nextNode.setAttribute('tabindex', '0');\n      nextNode.focus();\n      EventHandler.add(nextNode, 'blur', this.focusOut, this);\n      this.updateIdAttr(preNode, nextNode);\n    }\n  };\n\n  TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n    this.element.removeAttribute('aria-activedescendant');\n\n    if (preNode) {\n      preNode.removeAttribute('id');\n    }\n\n    nextNode.setAttribute('id', this.element.id + '_active');\n    this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n  };\n\n  TreeView.prototype.focusIn = function () {\n    if (!this.mouseDownStatus) {\n      var focusedElement = this.getFocusedNode();\n      focusedElement.setAttribute(\"tabindex\", \"0\");\n      addClass([focusedElement], FOCUS);\n      EventHandler.add(focusedElement, 'blur', this.focusOut, this);\n    }\n\n    this.mouseDownStatus = false;\n  };\n\n  TreeView.prototype.focusOut = function (event) {\n    var focusedElement = this.getFocusedNode();\n\n    if (event.target == focusedElement) {\n      removeClass([focusedElement], FOCUS);\n      EventHandler.remove(focusedElement, 'blur', this.focusOut);\n    }\n  };\n\n  TreeView.prototype.onMouseOver = function (e) {\n    var target = e.target;\n    var classList$$1 = target.classList;\n    var currentLi = closest(target, '.' + LISTITEM);\n\n    if (!currentLi || classList$$1.contains(PARENTITEM) || classList$$1.contains(LISTITEM)) {\n      this.removeHover();\n      return;\n    } else {\n      if (currentLi && !currentLi.classList.contains('e-disable')) {\n        this.setHover(currentLi);\n      }\n    }\n  };\n\n  TreeView.prototype.setHover = function (li) {\n    if (!li.classList.contains(HOVER) && !li.classList.contains(PREVENTSELECT)) {\n      this.removeHover();\n      addClass([li], HOVER);\n    }\n  };\n\n  TreeView.prototype.onMouseLeave = function (e) {\n    this.removeHover();\n  };\n\n  TreeView.prototype.removeHover = function () {\n    var hoveredNode = selectAll('.' + HOVER, this.element);\n\n    if (hoveredNode && hoveredNode.length) {\n      removeClass(hoveredNode, HOVER);\n    }\n  };\n\n  TreeView.prototype.getNodeData = function (currLi, fromDS) {\n    if (!isNullOrUndefined(currLi) && currLi.classList.contains(LISTITEM) && !isNullOrUndefined(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n      var id = currLi.getAttribute('data-uid');\n      var text = this.getText(currLi, fromDS);\n      var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n      var pid = pNode ? pNode.getAttribute('data-uid') : null;\n      var selected = currLi.classList.contains(ACTIVE);\n      var selectable = currLi.classList.contains(PREVENTSELECT) ? false : true;\n      var expanded = currLi.getAttribute('aria-expanded') === 'true' ? true : false;\n      var hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (select('.' + EXPANDABLE, currLi) || select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n      var checked = null;\n      var checkboxElement = select('.' + CHECKBOXWRAP, currLi);\n\n      if (this.showCheckBox && checkboxElement) {\n        checked = checkboxElement.getAttribute('aria-checked');\n      }\n\n      return {\n        id: id,\n        text: text,\n        parentID: pid,\n        selected: selected,\n        selectable: selectable,\n        expanded: expanded,\n        isChecked: checked,\n        hasChildren: hasChildren\n      };\n    }\n\n    return {\n      id: '',\n      text: '',\n      parentID: '',\n      selected: false,\n      expanded: false,\n      isChecked: '',\n      hasChildren: false\n    };\n  };\n\n  TreeView.prototype.getText = function (currLi, fromDS) {\n    if (fromDS) {\n      var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n      var level = parseFloat(currLi.getAttribute('aria-level'));\n      var nodeFields = this.getFields(this.fields, level, 1);\n      return getValue(nodeFields.text, nodeData);\n    }\n\n    return select('.' + LISTTEXT, currLi).textContent;\n  };\n\n  TreeView.prototype.getExpandEvent = function (currLi, e) {\n    var nodeData = this.getNodeData(currLi);\n    return {\n      cancel: false,\n      isInteracted: isNullOrUndefined(e) ? false : true,\n      node: currLi,\n      nodeData: nodeData,\n      event: e\n    };\n  };\n\n  TreeView.prototype.renderNodeTemplate = function (data, textEle, dataId) {\n    var tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle, this.root);\n\n    if (tempArr) {\n      tempArr = Array.prototype.slice.call(tempArr);\n      append(tempArr, textEle);\n    }\n  };\n\n  TreeView.prototype.destroyTemplate = function (liEle) {\n    this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n  };\n\n  TreeView.prototype.reRenderNodes = function () {\n    this.updateListProp(this.fields);\n\n    if (Browser.isIE) {\n      this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n      this.ulElement.parentElement.removeChild(this.ulElement);\n    } else {\n      this.element.innerHTML = '';\n    }\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      this.clearTemplate();\n    }\n\n    this.setTouchClass();\n    this.setProperties({\n      selectedNodes: [],\n      checkedNodes: [],\n      expandedNodes: []\n    }, true);\n    this.checkedElement = [];\n    this.isLoaded = false;\n    this.setDataBinding(true);\n  };\n\n  TreeView.prototype.setCssClass = function (oldClass, newClass) {\n    if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n      removeClass([this.element], oldClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(newClass) && newClass !== '') {\n      addClass([this.element], newClass.split(' '));\n    }\n  };\n\n  TreeView.prototype.editingHandler = function (e) {\n    var target = e.target;\n\n    if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) || target.classList.contains(ICON) || target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n      return;\n    } else {\n      var liEle = closest(target, '.' + LISTITEM);\n      this.createTextbox(liEle, e);\n    }\n  };\n\n  TreeView.prototype.createTextbox = function (liEle, e) {\n    var _this = this;\n\n    var oldInpEle = select('.' + TREEINPUT, this.element);\n\n    if (oldInpEle) {\n      oldInpEle.blur();\n    }\n\n    var textEle = select('.' + LISTTEXT, liEle);\n    this.updateOldText(liEle);\n    var innerEle = this.createElement('input', {\n      className: TREEINPUT,\n      attrs: {\n        value: this.oldText\n      }\n    });\n    var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n    this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        var inpWidth = textEle.offsetWidth + 5;\n        var style_1 = 'width:' + inpWidth + 'px';\n        addClass([liEle], EDITING);\n\n        if (!isNullOrUndefined(_this.nodeTemplateFn)) {\n          _this.destroyTemplate(liEle);\n        }\n\n        if (_this.isReact) {\n          setTimeout(function () {\n            _this.renderTextBox(eventArgs, textEle, style_1);\n          }, 5);\n        } else {\n          _this.renderTextBox(eventArgs, textEle, style_1);\n        }\n      }\n    });\n  };\n\n  TreeView.prototype.renderTextBox = function (eventArgs, textEle, style) {\n    textEle.innerHTML = eventArgs.innerHtml;\n    var inpEle = select('.' + TREEINPUT, textEle);\n    this.inputObj = Input.createInput({\n      element: inpEle,\n      properties: {\n        enableRtl: this.enableRtl\n      }\n    }, this.createElement);\n    this.inputObj.container.setAttribute('style', style);\n    inpEle.focus();\n    var inputEle = inpEle;\n    inputEle.setSelectionRange(0, inputEle.value.length);\n    this.wireInputEvents(inpEle);\n  };\n\n  TreeView.prototype.updateOldText = function (liEle) {\n    var id = liEle.getAttribute('data-uid');\n    this.editData = this.getNodeObject(id);\n    var level = parseFloat(liEle.getAttribute('aria-level'));\n    this.editFields = this.getFields(this.fields, level, 1);\n    this.oldText = getValue(this.editFields.text, this.editData);\n  };\n\n  TreeView.prototype.inputFocusOut = function (e) {\n    if (!select('.' + TREEINPUT, this.element)) {\n      return;\n    }\n\n    var target = e.target;\n    var newText = target.value;\n    var txtEle = closest(target, '.' + LISTTEXT);\n    var liEle = closest(target, '.' + LISTITEM);\n    detach(this.inputObj.container);\n\n    if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n      this.crudOperation('update', null, liEle, newText, null, null, true);\n    } else {\n      this.appendNewText(liEle, txtEle, newText, true);\n    }\n  };\n\n  TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n    var _this = this;\n\n    var eventArgs = this.getEditEvent(liEle, newText, null);\n    this.trigger('nodeEdited', eventArgs, function (observedArgs) {\n      newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n\n      _this.updateText(liEle, txtEle, newText, isInput);\n\n      if (observedArgs.oldText !== newText) {\n        _this.triggerEvent('nodeEdited', [_this.getNode(liEle)]);\n      }\n    });\n  };\n\n  TreeView.prototype.updateText = function (liEle, txtEle, newText, isInput) {\n    var newData = setValue(this.editFields.text, newText, this.editData);\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      txtEle.innerText = '';\n      var dataId = liEle.getAttribute('data-uid');\n      this.renderNodeTemplate(newData, txtEle, dataId);\n      this.renderReactTemplates();\n    } else {\n      this.enableHtmlSanitizer ? txtEle.innerText = newText : txtEle.innerHTML = newText;\n    }\n\n    if (isInput) {\n      removeClass([liEle], EDITING);\n      liEle.focus();\n      EventHandler.add(liEle, 'blur', this.focusOut, this);\n      addClass([liEle], FOCUS);\n    }\n\n    if (this.allowTextWrap) {\n      this.calculateWrap(liEle);\n    }\n  };\n\n  TreeView.prototype.getElement = function (ele) {\n    if (isNullOrUndefined(ele)) {\n      return null;\n    } else if (typeof ele === 'string') {\n      return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n    } else if (typeof ele === 'object') {\n      return getElement(ele);\n    } else {\n      return null;\n    }\n  };\n\n  TreeView.prototype.getId = function (ele) {\n    if (isNullOrUndefined(ele)) {\n      return null;\n    } else if (typeof ele === 'string') {\n      return ele;\n    } else if (typeof ele === 'object') {\n      return getElement(ele).getAttribute('data-uid');\n    } else {\n      return null;\n    }\n  };\n\n  TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n    var data = this.getNodeData(liEle);\n    return {\n      cancel: false,\n      newText: newText,\n      node: liEle,\n      nodeData: data,\n      oldText: this.oldText,\n      innerHtml: inpEle\n    };\n  };\n\n  TreeView.prototype.getNodeObject = function (id) {\n    var childNodes;\n\n    if (isNullOrUndefined(id)) {\n      return childNodes;\n    } else if (this.dataType === 1) {\n      for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n        var dataId = getValue(this.fields.id, this.treeData[i]);\n\n        if (!isNullOrUndefined(this.treeData[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n          return this.treeData[i];\n        }\n      }\n    } else {\n      return this.getChildNodeObject(this.treeData, this.fields, id);\n    }\n\n    return childNodes;\n  };\n\n  TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n    var newList;\n\n    if (isNullOrUndefined(obj)) {\n      return newList;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var dataId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && dataId && dataId.toString() === id) {\n        return obj[i];\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childData = getValue(mapper.child, obj[i]);\n        newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n\n        if (newList !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var child = 'child';\n        newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n\n        if (newList !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return newList;\n  };\n\n  TreeView.prototype.setDragAndDrop = function (toBind) {\n    if (toBind && !this.disabled) {\n      this.initializeDrag();\n    } else {\n      this.destroyDrag();\n    }\n  };\n\n  TreeView.prototype.initializeDrag = function () {\n    var _this = this;\n\n    var virtualEle;\n    var proxy = this;\n    this.dragObj = new Draggable(this.element, {\n      enableTailMode: true,\n      enableAutoScroll: true,\n      dragArea: this.dragArea,\n      dragTarget: '.' + TEXTWRAP,\n      enableTapHold: true,\n      tapHoldThreshold: 100,\n      helper: function (e) {\n        _this.dragTarget = e.sender.target;\n        var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n        var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n        _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n\n        if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n          dragWrap = _this.dragTarget.nextElementSibling;\n        }\n\n        if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap || _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) || _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n          return false;\n        }\n\n        var cloneEle = dragWrap.cloneNode(true);\n\n        if (isNullOrUndefined(select('div.' + ICON, cloneEle))) {\n          var icon = proxy.createElement('div', {\n            className: ICON + ' ' + EXPANDABLE\n          });\n          cloneEle.insertBefore(icon, cloneEle.children[0]);\n        }\n\n        var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL$1 : '');\n        virtualEle = proxy.createElement('div', {\n          className: cssClass\n        });\n        virtualEle.appendChild(cloneEle);\n        var nLen = _this.selectedNodes.length;\n\n        if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n          var cNode = proxy.createElement('span', {\n            className: DROPCOUNT,\n            innerHTML: '' + nLen\n          });\n          virtualEle.appendChild(cNode);\n        }\n\n        document.body.appendChild(virtualEle);\n        document.body.style.cursor = '';\n        _this.dragData = _this.getNodeData(_this.dragLi);\n        return virtualEle;\n      },\n      dragStart: function (e) {\n        addClass([_this.element], DRAGGING);\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n\n        if (listItem) {\n          level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n\n        var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n\n        if (eventArgs.draggedNode.classList.contains(EDITING)) {\n          _this.dragObj.intDestroy(e.event);\n\n          _this.dragCancelAction(virtualEle);\n        } else {\n          _this.trigger('nodeDragStart', eventArgs, function (observedArgs) {\n            if (observedArgs.cancel) {\n              _this.dragObj.intDestroy(e.event);\n\n              _this.dragCancelAction(virtualEle);\n            } else {\n              _this.dragStartAction = true;\n            }\n          });\n        }\n      },\n      drag: function (e) {\n        _this.dragObj.setProperties({\n          cursorAt: {\n            top: !isNullOrUndefined(e.event.targetTouches) || Browser.isDevice ? 60 : -20\n          }\n        });\n\n        _this.dragAction(e, virtualEle);\n      },\n      dragStop: function (e) {\n        removeClass([_this.element], DRAGGING);\n\n        _this.removeVirtualEle();\n\n        var dropTarget = e.target;\n        var preventTargetExpand = false;\n        var dropRoot = closest(dropTarget, '.' + DROPPABLE);\n\n        if (!dropTarget || !dropRoot) {\n          detach(e.helper);\n          document.body.style.cursor = '';\n        }\n\n        var listItem = closest(dropTarget, '.e-list-item');\n        var level;\n\n        if (listItem) {\n          level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n\n        var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n\n        eventArgs.preventTargetExpand = preventTargetExpand;\n\n        _this.trigger('nodeDragStop', eventArgs, function (observedArgs) {\n          _this.dragParent = observedArgs.draggedParentNode;\n          _this.preventExpand = observedArgs.preventTargetExpand;\n\n          if (observedArgs.cancel) {\n            if (e.helper.parentNode) {\n              detach(e.helper);\n            }\n\n            document.body.style.cursor = '';\n          }\n\n          _this.dragStartAction = false;\n        });\n      }\n    });\n    this.dropObj = new Droppable(this.element, {\n      out: function (e) {\n        if (!isNullOrUndefined(e) && !e.target.classList.contains(SIBLING) && _this.dropObj.dragData.default && _this.dropObj.dragData.default.helper.classList.contains(ROOT)) {\n          document.body.style.cursor = 'not-allowed';\n        }\n      },\n      over: function (e) {\n        document.body.style.cursor = '';\n      },\n      drop: function (e) {\n        _this.dropAction(e);\n      }\n    });\n  };\n\n  TreeView.prototype.dragCancelAction = function (virtualEle) {\n    detach(virtualEle);\n    removeClass([this.element], DRAGGING);\n    this.dragStartAction = false;\n  };\n\n  TreeView.prototype.dragAction = function (e, virtualEle) {\n    var dropRoot = closest(e.target, '.' + DROPPABLE);\n    var dropWrap = closest(e.target, '.' + TEXTWRAP);\n    var icon = select('div.' + ICON, virtualEle);\n    removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n    this.removeVirtualEle();\n    document.body.style.cursor = '';\n    var classList$$1 = e.target.classList;\n\n    if (this.fullRowSelect && !dropWrap && !isNullOrUndefined(classList$$1) && classList$$1.contains(FULLROW)) {\n      dropWrap = e.target.nextElementSibling;\n    }\n\n    if (dropRoot) {\n      var dropLi = closest(e.target, '.' + LISTITEM);\n      var checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n      var collapse = closest(e.target, '.' + COLLAPSIBLE);\n      var expand = closest(e.target, '.' + EXPANDABLE);\n\n      if (!dropRoot.classList.contains(ROOT) || dropWrap && !dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)) {\n        if (this.hasTemplate && dropLi) {\n          var templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n\n          if (e && !expand && !collapse && e.event.offsetY < 7 && !checkWrapper || expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3) {\n            var index = this.fullRowSelect ? 1 : 0;\n            this.appendIndicator(dropLi, icon, index);\n          } else if (e && !expand && !collapse && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10 || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19) {\n            var index = this.fullRowSelect ? 2 : 1;\n            this.appendIndicator(dropLi, icon, index);\n          } else {\n            addClass([icon], DROPIN);\n          }\n        } else {\n          if (dropLi && e && !expand && !collapse && e.event.offsetY < 7 && !checkWrapper || expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3) {\n            var index = this.fullRowSelect ? 1 : 0;\n            this.appendIndicator(dropLi, icon, index);\n          } else if (dropLi && e && !expand && !collapse && e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 10 && !checkWrapper || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19) {\n            var index = this.fullRowSelect ? 2 : 1;\n            this.appendIndicator(dropLi, icon, index);\n          } else {\n            addClass([icon], DROPIN);\n          }\n        }\n      } else if (e.target.nodeName === 'LI' && !dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)) {\n        addClass([icon], DROPNEXT);\n        this.renderVirtualEle(e);\n      } else if (e.target.classList.contains(SIBLING)) {\n        addClass([icon], DROPNEXT);\n      } else {\n        addClass([icon], DROPOUT);\n      }\n    } else {\n      addClass([icon], NODROP);\n      document.body.style.cursor = 'not-allowed';\n    }\n\n    var listItem = closest(e.target, '.e-list-item');\n    var level;\n\n    if (listItem) {\n      level = parseInt(listItem.getAttribute('aria-level'), 10);\n    }\n\n    var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n\n    if (eventArgs.dropIndicator) {\n      removeClass([icon], eventArgs.dropIndicator);\n    }\n\n    this.trigger('nodeDragging', eventArgs);\n\n    if (eventArgs.dropIndicator) {\n      addClass([icon], eventArgs.dropIndicator);\n    }\n  };\n\n  TreeView.prototype.appendIndicator = function (dropLi, icon, index) {\n    addClass([icon], DROPNEXT);\n    var virEle = this.createElement('div', {\n      className: SIBLING\n    });\n    dropLi.insertBefore(virEle, dropLi.children[index]);\n  };\n  /* eslint-disable */\n\n\n  TreeView.prototype.dropAction = function (e) {\n    var offsetY = e.event.offsetY;\n    var dropTarget = e.target;\n    var dragObj;\n    var level;\n    var drop = false;\n    var dragInstance;\n    var nodeData = [];\n    var liArray = [];\n    dragInstance = e.dragData.draggable;\n\n    for (var i_1 = 0; i_1 < dragInstance.ej2_instances.length; i_1++) {\n      if (dragInstance.ej2_instances[i_1] instanceof TreeView_1) {\n        dragObj = dragInstance.ej2_instances[i_1];\n        break;\n      }\n    }\n\n    if (dragObj && dragObj.dragTarget) {\n      var dragTarget = dragObj.dragTarget;\n      var dragLi = closest(dragTarget, '.' + LISTITEM);\n      var dropLi = closest(dropTarget, '.' + LISTITEM);\n      liArray.push(dragLi);\n\n      if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n        dropLi = dropTarget.firstElementChild;\n      }\n\n      detach(e.droppedElement);\n      document.body.style.cursor = '';\n\n      if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n        if (this.fields.dataSource instanceof DataManager === false) {\n          this.preventExpand = false;\n        }\n\n        return;\n      }\n\n      if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n        var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n        liArray = sNodes;\n\n        if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n          for (var i_2 = sNodes.length - 1; i_2 >= 0; i_2--) {\n            if (dropLi.isSameNode(sNodes[i_2]) || this.isDescendant(sNodes[i_2], dropLi)) {\n              continue;\n            }\n\n            this.appendNode(dropTarget, sNodes[i_2], dropLi, e, dragObj, offsetY);\n          }\n        } else {\n          for (var i_3 = 0; i_3 < sNodes.length; i_3++) {\n            if (dropLi.isSameNode(sNodes[i_3]) || this.isDescendant(sNodes[i_3], dropLi)) {\n              continue;\n            }\n\n            this.appendNode(dropTarget, sNodes[i_3], dropLi, e, dragObj, offsetY);\n          }\n        }\n      } else {\n        this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n      }\n\n      level = parseInt(dragLi.getAttribute('aria-level'), 10);\n      drop = true;\n    }\n\n    if (this.fields.dataSource instanceof DataManager === false) {\n      this.preventExpand = false;\n    }\n\n    for (var i = 0; i < liArray.length; i++) {\n      nodeData.push(this.getNode(liArray[i]));\n    }\n\n    this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n\n    if (dragObj.element.id !== this.element.id) {\n      dragObj.triggerEvent('nodeDropped', nodeData);\n      this.isNodeDropped = true;\n      this.fields.dataSource = this.treeData;\n    }\n\n    this.triggerEvent('nodeDropped', nodeData);\n  };\n\n  TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n    var checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n    var collapse = closest(e.target, '.' + COLLAPSIBLE);\n    var expand = closest(e.target, '.' + EXPANDABLE);\n\n    if (!dragLi.classList.contains('e-disable') && !checkWrapper && (expand && e.event.offsetY < 5 || collapse && e.event.offsetX < 3 || expand && e.event.offsetY > 19 || collapse && e.event.offsetX > 19 || !expand && !collapse)) {\n      if (dropTarget.nodeName === 'LI') {\n        this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n      } else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n        if (dropTarget.firstElementChild.nodeName === 'UL') {\n          this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n        }\n      } else if (dropTarget.classList.contains('e-icon-collapsible') || dropTarget.classList.contains('e-icon-expandable')) {\n        this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n      } else {\n        this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n      }\n    } else {\n      this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n    }\n  };\n\n  TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n    var dropUl = closest(dropLi, '.' + PARENTITEM);\n    var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n    var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n    var pre;\n\n    if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n      pre = false;\n    } else if (e.event.offsetY < 2) {\n      pre = true;\n    } else if (e.target.classList.contains('e-icon-expandable') || e.target.classList.contains('e-icon-collapsible')) {\n      if (e.event.offsetY < 5 || e.event.offsetX < 3) {\n        pre = true;\n      } else if (e.event.offsetY > 15 || e.event.offsetX > 17) {\n        pre = false;\n      }\n    }\n\n    if (e.target.classList.contains('e-icon-expandable') || e.target.classList.contains('e-icon-collapsible')) {\n      var target = e.target.closest('li');\n      dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n    } else {\n      dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n    }\n\n    this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n    this.updateElement(dragParentUl, dragParentLi);\n    this.updateAriaLevel(dragLi);\n\n    if (dragObj.element.id === this.element.id) {\n      this.updateList();\n    } else {\n      dragObj.updateInstance();\n      this.updateInstance();\n    }\n  };\n\n  TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n    var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n    var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n    var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n    var templateTarget;\n\n    if (e && e.target) {\n      templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n    }\n\n    if (e && pos < 7 && !isCheck) {\n      dropParentUl.insertBefore(dragLi, dropLi);\n      this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n    } else if (e && e.target.offsetHeight > 0 && pos > e.target.offsetHeight - 10 && !isCheck && !this.hasTemplate) {\n      dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n      this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n    } else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n      dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n      this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n    } else {\n      var dropUl = this.expandParent(dropLi);\n      var childLi = dropUl.childNodes[index];\n      dropUl.insertBefore(dragLi, childLi);\n      this.moveData(dragLi, childLi, dropUl, true, dragObj);\n    }\n\n    this.updateElement(dragParentUl, dragParentLi);\n    this.updateAriaLevel(dragLi);\n\n    if (dragObj.element.id === this.element.id) {\n      this.updateList();\n    } else {\n      dragObj.updateInstance();\n      this.updateInstance();\n    }\n  };\n\n  TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n    var dropParentLi = closest(dropUl, '.' + LISTITEM);\n    var id = this.getId(dragLi);\n    var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n    var refId = this.getId(dropLi);\n    var index = this.getDataPos(this.treeData, this.fields, refId);\n    var parentId = this.getId(dropParentLi);\n\n    if (this.dataType === 1) {\n      this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n      var pos = isNullOrUndefined(index) ? this.treeData.length : pre ? index : index + 1;\n\n      if (isNullOrUndefined(parentId) && !this.hasPid) {\n        delete removedData[0][this.fields.parentID];\n      } else {\n        var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n        setValue(this.fields.parentID, currPid, removedData[0]);\n      }\n\n      this.treeData.splice(pos, 0, removedData[0]);\n\n      if (dragObj.element.id !== this.element.id) {\n        var childData = dragObj.removeChildNodes(id);\n        pos++;\n\n        for (var i = 0, len = childData.length; i < len; i++) {\n          this.treeData.splice(pos, 0, childData[i]);\n          pos++;\n        }\n\n        dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n      }\n\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    } else {\n      this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n    }\n  };\n\n  TreeView.prototype.expandParent = function (dropLi) {\n    var dropIcon = select('div.' + ICON, dropLi);\n\n    if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n      this.expandAction(dropLi, dropIcon, null);\n    }\n\n    var dropUl = select('.' + PARENTITEM, dropLi);\n\n    if (this.preventExpand === true && !dropUl && dropIcon) {\n      this.renderChildNodes(dropLi);\n    }\n\n    dropUl = select('.' + PARENTITEM, dropLi);\n\n    if (!isNullOrUndefined(dropUl) && this.preventExpand === true) {\n      dropUl.style.display = 'none';\n    }\n\n    if (!isNullOrUndefined(dropUl) && this.preventExpand === false) {\n      dropUl.style.display = 'block';\n    }\n\n    if (isNullOrUndefined(dropUl) && this.preventExpand === true) {\n      if (isNullOrUndefined(dropIcon)) {\n        ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n      }\n\n      var icon = select('div.' + ICON, dropLi);\n\n      if (icon) {\n        icon.classList.add('e-icon-expandable');\n      }\n\n      dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n      dropLi.appendChild(dropUl);\n\n      if (icon) {\n        removeClass([icon], COLLAPSIBLE);\n      } else {\n        ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n      }\n\n      dropLi.setAttribute('aria-expanded', 'false');\n      dropUl.style.display = 'none';\n    }\n\n    if (isNullOrUndefined(dropUl)) {\n      var args = this.expandArgs;\n\n      if (isNullOrUndefined(args) || args.name != 'nodeExpanding') {\n        this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n      }\n\n      if (isNullOrUndefined(dropIcon)) {\n        ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n      }\n\n      var icon = select('div.' + ICON, dropLi);\n\n      if (icon) {\n        removeClass([icon], EXPANDABLE);\n      } else {\n        ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n        icon = select('div.' + ICON, dropLi);\n        removeClass([icon], EXPANDABLE);\n      }\n\n      dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n      dropLi.appendChild(dropUl);\n      this.addExpand(dropLi);\n      this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n    }\n\n    return dropUl;\n  };\n\n  TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n    if (dragParentLi && dragParentUl.childElementCount === 0) {\n      var dragIcon = select('div.' + ICON, dragParentLi);\n      detach(dragParentUl);\n      detach(dragIcon);\n      var parentId = this.getId(dragParentLi);\n      this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n      this.removeExpand(dragParentLi, true);\n    }\n  };\n\n  TreeView.prototype.updateAriaLevel = function (dragLi) {\n    var level = this.parents(dragLi, '.' + PARENTITEM).length;\n    dragLi.setAttribute('aria-level', '' + level);\n    this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n  };\n\n  TreeView.prototype.updateChildAriaLevel = function (element, level) {\n    if (!isNullOrUndefined(element)) {\n      var cNodes = element.childNodes;\n\n      for (var i = 0, len = cNodes.length; i < len; i++) {\n        var liEle = cNodes[i];\n        liEle.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n      }\n    }\n  };\n\n  TreeView.prototype.renderVirtualEle = function (e) {\n    var pre;\n\n    if (e.event.offsetY > e.target.offsetHeight - 2) {\n      pre = false;\n    } else if (e.event.offsetY < 2) {\n      pre = true;\n    }\n\n    var virEle = this.createElement('div', {\n      className: SIBLING\n    });\n    var index = this.fullRowSelect ? pre ? 1 : 2 : pre ? 0 : 1;\n    e.target.insertBefore(virEle, e.target.children[index]);\n  };\n\n  TreeView.prototype.removeVirtualEle = function () {\n    var sibEle = select('.' + SIBLING);\n\n    if (sibEle) {\n      detach(sibEle);\n    }\n  };\n\n  TreeView.prototype.destroyDrag = function () {\n    if (this.dragObj && this.dropObj) {\n      this.dragObj.destroy();\n      this.dropObj.destroy();\n    }\n  };\n\n  TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n    var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n    var dropData = dropLi ? this.getNodeData(dropLi) : null;\n    var draggedNode = obj ? obj.dragLi : dragNode;\n    var draggedNodeData = obj ? obj.dragData : null;\n    var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n    var dragLiParent = obj.dragLi.parentElement;\n    var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n    var targetParent = null;\n    var indexValue = null;\n    var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n    var iconClass = null;\n    var node = drop === true ? draggedNode : dropLi;\n    var index = node ? closest(node, '.e-list-parent') : null;\n    var i = 0;\n    var position = null;\n    dragParent = obj.dragLi && dragParent === null ? closest(dragLiParent, '.' + ROOT) : dragParent;\n    dragParent = drop === true ? this.dragParent : dragParent;\n\n    if (cloneEle) {\n      while (i < 4) {\n        if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n          iconClass = iconCss[i];\n          break;\n        }\n\n        i++;\n      }\n    }\n\n    if (index) {\n      var dropTar = 0;\n\n      for (i = 0; i < index.childElementCount; i++) {\n        dropTar = drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode ? ++dropTar : dropTar;\n\n        if (drop !== true && index.children[i].classList.contains('e-hover')) {\n          indexValue = event.offsetY >= 23 ? i + 1 : i;\n          break;\n        } else if (index.children[i] === node) {\n          indexValue = event.offsetY >= 23 ? i : i;\n          break;\n        }\n      }\n\n      indexValue = dropTar !== 0 ? --indexValue : indexValue;\n      position = iconClass == \"e-drop-in\" ? \"Inside\" : event.offsetY < 7 ? \"Before\" : \"After\";\n    }\n\n    if (dropTarget) {\n      if (newParent.length === 0) {\n        targetParent = null;\n      } else if (dropTarget.classList.contains(LISTITEM)) {\n        targetParent = newParent[0];\n      } else {\n        targetParent = newParent[1];\n      }\n    }\n\n    if (dropLi === draggedNode) {\n      targetParent = dropLi;\n    }\n\n    if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n      targetParent = dropLi;\n\n      if (drop !== true) {\n        level = ++level;\n        var parent_2 = targetParent ? select('.e-list-parent', targetParent) : null;\n        indexValue = parent_2 ? parent_2.children.length : 0;\n\n        if (!(this.fields.dataSource instanceof DataManager) && parent_2 === null && targetParent) {\n          var parent_3 = targetParent.hasAttribute('data-uid') ? this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n          indexValue = parent_3 ? parent_3.length : 0;\n        }\n      }\n    }\n\n    return {\n      cancel: false,\n      clonedNode: cloneEle,\n      event: event,\n      draggedNode: draggedNode,\n      draggedNodeData: draggedNodeData,\n      droppedNode: dropLi,\n      droppedNodeData: dropData,\n      dropIndex: indexValue,\n      dropLevel: level,\n      draggedParentNode: dragParent,\n      dropTarget: targetParent,\n      dropIndicator: iconClass,\n      target: target,\n      position: position\n    };\n  };\n\n  TreeView.prototype.addFullRow = function (toAdd) {\n    var len = this.liList.length;\n\n    if (toAdd) {\n      for (var i = 0; i < len; i++) {\n        this.createFullRow(this.liList[i]);\n      }\n    } else {\n      for (var i = 0; i < len; i++) {\n        var rowDiv = select('.' + FULLROW, this.liList[i]);\n        detach(rowDiv);\n      }\n    }\n  };\n\n  TreeView.prototype.createFullRow = function (item) {\n    var rowDiv = this.createElement('div', {\n      className: FULLROW\n    });\n    item.insertBefore(rowDiv, item.childNodes[0]);\n  };\n\n  TreeView.prototype.addMultiSelect = function (toAdd) {\n    if (toAdd) {\n      var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n\n      for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n        var ele = liEles_1[_i];\n        ele.setAttribute('aria-selected', 'false');\n      }\n    } else {\n      var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n\n      for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n        var ele = liEles_2[_a];\n        ele.removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n    if (level > 0 && !isNullOrUndefined(element)) {\n      var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n\n      for (var i = 0, len = cNodes.length; i < len; i++) {\n        var liEle = cNodes[i];\n        var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n\n        if (!isNullOrUndefined(icon)) {\n          this.collapseNode(liEle, icon, null);\n        }\n\n        this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n      }\n    }\n  };\n\n  TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n    var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n\n    for (var i = 0, len = cIcons.length; i < len; i++) {\n      var icon = cIcons[i];\n      var liEle = closest(icon, '.' + LISTITEM);\n      this.collapseNode(liEle, icon, null);\n    }\n  };\n\n  TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n    if (level > 0 && !isNullOrUndefined(element)) {\n      var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n\n      for (var i = 0, len = eNodes.length; i < len; i++) {\n        var liEle = eNodes[i];\n        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n\n        if (!isNullOrUndefined(icon)) {\n          this.expandAction(liEle, icon, null);\n        }\n\n        this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n      }\n    }\n  };\n\n  TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n    var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n\n    for (var i = 0, len = eIcons.length; i < len; i++) {\n      var icon = eIcons[i];\n      var liEle = closest(icon, '.' + LISTITEM);\n      this.expandAction(liEle, icon, null, true);\n    }\n  };\n\n  TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n    var vNodes = Array.prototype.slice.call(nodes);\n\n    if (excludeHiddenNodes) {\n      for (var i = 0; i < vNodes.length; i++) {\n        if (!isVisible(vNodes[i])) {\n          vNodes.splice(i, 1);\n          i--;\n        }\n      }\n    }\n\n    return vNodes;\n  };\n\n  TreeView.prototype.removeNode = function (node) {\n    var dragParentUl = closest(node, '.' + PARENTITEM);\n    var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n\n    if (!isNullOrUndefined(this.nodeTemplateFn)) {\n      this.destroyTemplate(node);\n    }\n\n    detach(node);\n    this.updateElement(dragParentUl, dragParentLi);\n    this.removeData(node);\n  };\n\n  TreeView.prototype.updateInstance = function () {\n    this.updateList();\n    this.updateSelectedNodes();\n    this.updateExpandedNodes();\n  };\n\n  TreeView.prototype.updateList = function () {\n    this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n  };\n\n  TreeView.prototype.updateSelectedNodes = function () {\n    this.setProperties({\n      selectedNodes: []\n    }, true);\n    var sNodes = selectAll('.' + ACTIVE, this.element);\n    this.selectGivenNodes(sNodes);\n  };\n\n  TreeView.prototype.updateExpandedNodes = function () {\n    this.setProperties({\n      expandedNodes: []\n    }, true);\n    var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n\n    for (var i = 0, len = eNodes.length; i < len; i++) {\n      this.addExpand(eNodes[i]);\n    }\n  };\n\n  TreeView.prototype.removeData = function (node) {\n    if (this.dataType === 1) {\n      var dm = new DataManager(this.treeData);\n      var id = this.getId(node);\n      var data = {};\n      var newId = this.isNumberTypeId ? parseFloat(id) : id;\n      data[this.fields.id] = newId;\n      dm.remove(this.fields.id, data);\n      this.removeChildNodes(id);\n    } else {\n      var id = this.getId(node);\n      this.updateChildField(this.treeData, this.fields, id, null, null, true);\n    }\n  };\n\n  TreeView.prototype.removeChildNodes = function (parentId) {\n    var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n    var childData = [];\n\n    if (cNodes) {\n      for (var i = 0, len = cNodes.length; i < len; i++) {\n        var dm = new DataManager(this.treeData);\n        var id = getValue(this.fields.id, cNodes[i]).toString();\n        var data = {};\n        var currId = this.isNumberTypeId ? parseFloat(id) : id;\n        data[this.fields.id] = currId;\n        var nodeData = dm.remove(this.fields.id, data);\n        childData.push(nodeData[0]);\n        this.removeChildNodes(id);\n      }\n    }\n\n    return childData;\n  };\n\n  TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      var liEle = this.getElement(nodes[i]);\n\n      if (isNullOrUndefined(liEle)) {\n        continue;\n      }\n\n      var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n\n      if (!isNullOrUndefined(icon)) {\n        toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n      }\n    }\n  };\n\n  TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n    if (nodes.length === 0) {\n      return;\n    }\n\n    var sNodes = this.getSortedData(nodes);\n    var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n\n    if (isRemote) {\n      this.updateMapper(level);\n    }\n\n    var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n    var id = this.getId(dropLi);\n    var refNode;\n    var dropIcon1;\n\n    if (!isNullOrUndefined(dropLi)) {\n      dropIcon1 = select('div.' + ICON, dropLi);\n    }\n\n    if (this.dataType === 1 && dropIcon1 && dropIcon1.classList.contains(EXPANDABLE) && !isNullOrUndefined(this.element.offsetParent) && !this.element.offsetParent.parentElement.classList.contains('e-filemanager')) {\n      this.preventExpand = true;\n    }\n\n    if (this.dataType !== 1) {\n      this.addChildData(this.treeData, this.fields, id, nodes, index);\n      this.isFirstRender = false;\n    }\n\n    var dropUl;\n\n    if (!dropEle) {\n      dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n    } else {\n      dropUl = dropEle;\n    }\n\n    refNode = dropUl.childNodes[index];\n\n    if (!this.isFirstRender || this.dataType === 1) {\n      var args = this.expandArgs;\n\n      if (refNode || this.sortOrder === 'None') {\n        for (var i = 0; i < li.length; i++) {\n          dropUl.insertBefore(li[i], refNode);\n        }\n\n        if (this.dataType === 1 && !isNullOrUndefined(dropLi) && !isNullOrUndefined(this.element.offsetParent) && !this.element.offsetParent.parentElement.classList.contains('e-filemanager')) {\n          this.preventExpand = false;\n          var dropIcon = select('div.' + ICON, dropLi);\n\n          if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && (isNullOrUndefined(args) || args.name != 'nodeExpanding')) {\n            this.expandAction(dropLi, dropIcon, null);\n          }\n        }\n      }\n\n      if (!refNode && (this.sortOrder === 'Ascending' || this.sortOrder === 'Descending')) {\n        if (dropUl.childNodes.length === 0) {\n          for (var i = 0; i < li.length; i++) {\n            dropUl.insertBefore(li[i], refNode);\n          }\n\n          if (this.dataType === 1 && !isNullOrUndefined(dropLi) && !isNullOrUndefined(this.element.offsetParent) && !this.element.offsetParent.parentElement.classList.contains('e-filemanager')) {\n            this.preventExpand = false;\n            var dropIcon = select('div.' + ICON, dropLi);\n\n            if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && (isNullOrUndefined(args) || args.name != 'nodeExpanding')) {\n              this.expandAction(dropLi, dropIcon, null);\n            }\n          }\n        } else {\n          var cNodes = dropUl.childNodes;\n\n          for (var i = 0; i < li.length; i++) {\n            for (var j = 0; j < cNodes.length; j++) {\n              var returnValue = this.sortOrder === 'Ascending' ? cNodes[j].textContent.toUpperCase() > li[i].innerText.toUpperCase() : cNodes[j].textContent.toUpperCase() < li[i].innerText.toUpperCase();\n\n              if (returnValue) {\n                dropUl.insertBefore(li[i], cNodes[j]);\n                break;\n              }\n\n              dropUl.insertBefore(li[i], cNodes[cNodes.length]);\n            }\n          }\n        }\n      }\n    }\n\n    if (this.dataType === 1) {\n      this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n      var refId = this.getId(refNode);\n      var pos = isNullOrUndefined(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n\n      for (var j = 0; j < nodes.length; j++) {\n        if (!isNullOrUndefined(id)) {\n          var currId = this.isNumberTypeId ? parseFloat(id) : id;\n          setValue(this.fields.parentID, currId, nodes[j]);\n        }\n\n        this.treeData.splice(pos, 0, nodes[j]);\n        pos++;\n      }\n    }\n\n    this.finalizeNode(dropUl);\n  };\n\n  TreeView.prototype.updateMapper = function (level) {\n    var mapper = level === 1 ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n    this.updateListProp(mapper);\n  };\n\n  TreeView.prototype.updateListProp = function (mapper) {\n    var prop = this.getActualProperties(mapper);\n    this.listBaseOption.fields = prop;\n    this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n  };\n\n  TreeView.prototype.getDataPos = function (obj, mapper, id) {\n    var pos = null;\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && nodeId && nodeId.toString() === id) {\n        return i;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var data = getValue(mapper.child, obj[i]);\n        pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n\n        if (pos !== null) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var items = getValue('child', obj[i]);\n        pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n\n        if (pos !== null) {\n          break;\n        }\n      }\n    }\n\n    return pos;\n  };\n\n  TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n    var updated;\n\n    if (isNullOrUndefined(id)) {\n      index = isNullOrUndefined(index) ? obj.length : index;\n\n      for (var k = 0, len = data.length; k < len; k++) {\n        obj.splice(index, 0, data[k]);\n        index++;\n      }\n\n      return updated;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && nodeId && nodeId.toString() === id) {\n        if (typeof mapper.child === 'string' && obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null || this.fields.dataSource instanceof DataManager && obj[i].hasOwnProperty('child')) {\n          var key = typeof mapper.child === 'string' ? mapper.child : 'child';\n          var childData = getValue(key, obj[i]);\n\n          if (isNullOrUndefined(childData)) {\n            childData = [];\n          }\n\n          index = isNullOrUndefined(index) ? childData.length : index;\n\n          for (var k = 0, len = data.length; k < len; k++) {\n            childData.splice(index, 0, data[k]);\n            index++;\n          }\n        } else {\n          var key = typeof mapper.child === 'string' ? mapper.child : 'child';\n          obj[i][key] = data;\n        }\n\n        return true;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childObj = getValue(mapper.child, obj[i]);\n        updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n\n        if (updated !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var childData = getValue('child', obj[i]);\n        updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n\n        if (updated !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return updated;\n  };\n\n  TreeView.prototype.doDisableAction = function (nodes) {\n    var validNodes = this.nodeType(nodes);\n    var validID = this.checkValidId(validNodes);\n    this.validArr = [];\n\n    for (var i = 0, len = validID.length; i < len; i++) {\n      var id = validID[i][this.fields.id].toString();\n\n      if (id && this.disableNode.indexOf(id) === -1) {\n        this.disableNode.push(id);\n      }\n\n      var liEle = this.getElement(id);\n\n      if (liEle) {\n        liEle.setAttribute('aria-disabled', 'true');\n        addClass([liEle], DISABLE);\n      }\n    }\n  };\n\n  TreeView.prototype.doEnableAction = function (nodes) {\n    var strNodes = this.nodeType(nodes);\n\n    for (var i = 0, len = strNodes.length; i < len; i++) {\n      var liEle = this.getElement(strNodes[i]);\n      var id = strNodes[i];\n\n      if (id && this.disableNode.indexOf(id) !== -1) {\n        this.disableNode.splice(this.disableNode.indexOf(id), 1);\n      }\n\n      if (liEle) {\n        liEle.removeAttribute('aria-disabled');\n        removeClass([liEle], DISABLE);\n      }\n    }\n  };\n\n  TreeView.prototype.nodeType = function (nodes) {\n    var validID = [];\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      var id = void 0;\n\n      if (typeof nodes[i] == \"string\") {\n        id = nodes[i] ? nodes[i].toString() : null;\n      } else if (typeof nodes[i] === \"object\") {\n        id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n      }\n\n      if (validID.indexOf(id) == -1) {\n        validID.push(id);\n      }\n    }\n\n    return validID;\n  };\n\n  TreeView.prototype.checkValidId = function (node) {\n    var _this = this;\n\n    if (this.dataType === 1) {\n      this.validArr = this.treeData.filter(function (data) {\n        return node.indexOf(data[_this.fields.id] ? data[_this.fields.id].toString() : null) !== -1;\n      });\n    } else if (this.dataType === 2) {\n      for (var k = 0; k < this.treeData.length; k++) {\n        var id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n\n        if (node.indexOf(id) !== -1) {\n          this.validArr.push(this.treeData[k]);\n        }\n\n        var childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n\n        if (childItems) {\n          this.filterNestedChild(childItems, node);\n        }\n      }\n    }\n\n    return this.validArr;\n  };\n\n  TreeView.prototype.filterNestedChild = function (treeData, nodes) {\n    for (var k = 0; k < treeData.length; k++) {\n      var id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n\n      if (nodes.indexOf(id) !== -1) {\n        this.validArr.push(treeData[k]);\n      }\n\n      var childItems = getValue(this.fields.child.toString(), treeData[k]);\n\n      if (childItems) {\n        this.filterNestedChild(childItems, nodes);\n      }\n    }\n  };\n\n  TreeView.prototype.setTouchClass = function () {\n    var ele = closest(this.element, '.' + BIGGER);\n    this.touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n  };\n\n  TreeView.prototype.updatePersistProp = function () {\n    this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n    var sleNodes = this.selectedNodes;\n\n    for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n      this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n    }\n\n    var enodes = this.expandedNodes;\n\n    for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n      this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n    }\n\n    if (this.showCheckBox) {\n      this.removeField(this.treeData, this.fields, ['isChecked']);\n      var cnodes = this.checkedNodes;\n\n      for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n        this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n      }\n    }\n  };\n\n  TreeView.prototype.removeField = function (obj, mapper, names) {\n    if (isNullOrUndefined(obj) || isNullOrUndefined(mapper)) {\n      return;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      for (var j = 0; j < names.length; j++) {\n        var field = this.getMapperProp(mapper, names[j]);\n\n        if (!isNullOrUndefined(obj[i][field])) {\n          delete obj[i][field];\n        }\n      }\n\n      if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n      }\n    }\n  };\n\n  TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n    switch (fieldName) {\n      case 'selected':\n        return !isNullOrUndefined(mapper.selected) ? mapper.selected : 'selected';\n\n      case 'expanded':\n        return !isNullOrUndefined(mapper.expanded) ? mapper.expanded : 'expanded';\n\n      case 'isChecked':\n        return !isNullOrUndefined(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n\n      case 'hasChildren':\n        return !isNullOrUndefined(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n\n      default:\n        return fieldName;\n    }\n  };\n\n  TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n    if (isNullOrUndefined(id)) {\n      return;\n    } else if (this.dataType === 1) {\n      var newId = this.isNumberTypeId ? parseFloat(id) : id;\n      var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n      setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n    } else {\n      this.updateChildField(obj, mapper, id, key, value);\n    }\n  };\n\n  TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove$$1) {\n    var removedData;\n\n    if (isNullOrUndefined(obj)) {\n      return removedData;\n    }\n\n    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, obj[i]);\n\n      if (obj[i] && nodeId && nodeId.toString() === id) {\n        if (remove$$1) {\n          removedData = obj.splice(i, 1);\n        } else {\n          setValue(this.getMapperProp(mapper, key), value, obj[i]);\n          removedData = [];\n        }\n\n        return removedData;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n        var childData = getValue(mapper.child, obj[i]);\n        removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove$$1);\n\n        if (removedData !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n        var childItems = getValue('child', obj[i]);\n        removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove$$1);\n\n        if (removedData !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return removedData;\n  };\n\n  TreeView.prototype.triggerEvent = function (action, node) {\n    this.renderReactTemplates();\n\n    if (action === 'addNodes') {\n      var nodeData = [];\n\n      for (var i = 0; i < node.length; i++) {\n        nodeData.push(this.getNode(this.getElement(isNullOrUndefined(node[i][this.fields.id]) ? getValue(this.fields.id, node[i]).toString() : null)));\n      }\n\n      node = nodeData;\n    }\n\n    var eventArgs = {\n      data: this.treeData,\n      action: action,\n      nodeData: node\n    };\n    this.trigger('dataSourceChanged', eventArgs);\n  };\n\n  TreeView.prototype.wireInputEvents = function (inpEle) {\n    EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n  };\n\n  TreeView.prototype.wireEditingEvents = function (toBind) {\n    var _this = this;\n\n    if (toBind && !this.disabled) {\n      var proxy_2 = this;\n      this.touchEditObj = new Touch(this.element, {\n        tap: function (e) {\n          if (_this.isDoubleTapped(e) && e.tapCount === 2) {\n            e.originalEvent.preventDefault();\n            proxy_2.editingHandler(e.originalEvent);\n          }\n        }\n      });\n    } else {\n      if (this.touchEditObj) {\n        this.touchEditObj.destroy();\n      }\n    }\n  };\n\n  TreeView.prototype.wireClickEvent = function (toBind) {\n    if (toBind) {\n      var proxy_3 = this;\n      this.touchClickObj = new Touch(this.element, {\n        tap: function (e) {\n          proxy_3.clickHandler(e);\n        }\n      });\n    } else {\n      if (this.touchClickObj) {\n        this.touchClickObj.destroy();\n      }\n    }\n  };\n\n  TreeView.prototype.wireExpandOnEvent = function (toBind) {\n    var _this = this;\n\n    if (toBind) {\n      var proxy_4 = this;\n      this.touchExpandObj = new Touch(this.element, {\n        tap: function (e) {\n          if ((_this.expandOnType === 'Click' || _this.expandOnType === 'DblClick' && _this.isDoubleTapped(e) && e.tapCount === 2) && e.originalEvent.which !== 3) {\n            proxy_4.expandHandler(e);\n          }\n        }\n      });\n    } else {\n      if (this.touchExpandObj) {\n        this.touchExpandObj.destroy();\n      }\n    }\n  };\n\n  TreeView.prototype.mouseDownHandler = function (e) {\n    this.mouseDownStatus = true;\n\n    if (e.shiftKey || e.ctrlKey) {\n      e.preventDefault();\n    }\n\n    if (e.ctrlKey && this.allowMultiSelection) {\n      EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n    }\n  };\n\n  TreeView.prototype.preventContextMenu = function (e) {\n    e.preventDefault();\n  };\n\n  TreeView.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n    this.wireClickEvent(true);\n\n    if (this.expandOnType !== 'None') {\n      this.wireExpandOnEvent(true);\n    }\n\n    EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n    EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n    this.keyboardModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  TreeView.prototype.unWireEvents = function () {\n    EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n    this.wireClickEvent(false);\n    this.wireExpandOnEvent(false);\n    EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n    EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n\n    if (!this.disabled) {\n      this.keyboardModule.destroy();\n    }\n  };\n\n  TreeView.prototype.parents = function (element, selector) {\n    var matched = [];\n    var el = element.parentNode;\n\n    while (!isNullOrUndefined(el)) {\n      if (matches(el, selector)) {\n        matched.push(el);\n      }\n\n      el = el.parentNode;\n    }\n\n    return matched;\n  };\n\n  TreeView.prototype.isDoubleTapped = function (e) {\n    var target = e.originalEvent.target;\n    var secondTap;\n\n    if (target && e.tapCount) {\n      if (e.tapCount === 1) {\n        this.firstTap = closest(target, '.' + LISTITEM);\n      } else if (e.tapCount === 2) {\n        secondTap = closest(target, '.' + LISTITEM);\n      }\n    }\n\n    return this.firstTap === secondTap;\n  };\n\n  TreeView.prototype.isDescendant = function (parent, child) {\n    var node = child.parentNode;\n\n    while (!isNullOrUndefined(node)) {\n      if (node === parent) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  };\n\n  TreeView.prototype.showSpinner = function (element) {\n    addClass([element], LOAD);\n    createSpinner({\n      target: element,\n      width: Browser.isDevice ? 16 : 14\n    }, this.createElement);\n    showSpinner(element);\n  };\n\n  TreeView.prototype.hideSpinner = function (element) {\n    hideSpinner(element);\n    element.innerHTML = '';\n    removeClass([element], LOAD);\n  };\n\n  TreeView.prototype.setCheckedNodes = function (nodes) {\n    nodes = JSON.parse(JSON.stringify(nodes));\n    this.uncheckAll(this.checkedNodes);\n    this.setIndeterminate(nodes);\n\n    if (nodes.length > 0) {\n      this.checkAll(nodes);\n    }\n  };\n  /**\n   * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n   */\n\n\n  TreeView.prototype.setValidCheckedNode = function (node) {\n    if (this.dataType === 1) {\n      var mapper = this.fields;\n      var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n\n      if (resultData[0]) {\n        this.setChildCheckState(resultData, node, resultData[0]);\n\n        if (this.autoCheck) {\n          var parent_4 = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n          var childNodes = this.getChildNodes(this.treeData, parent_4);\n          var count = 0;\n\n          for (var len = 0; len < childNodes.length; len++) {\n            var childId = childNodes[len][this.fields.id].toString();\n\n            if (this.checkedNodes.indexOf(childId) !== -1) {\n              count++;\n            }\n          }\n\n          if (count === childNodes.length && this.checkedNodes.indexOf(parent_4) === -1 && parent_4) {\n            this.checkedNodes.push(parent_4);\n          }\n        }\n      }\n    } else if (this.dataType === 2) {\n      for (var a = 0; a < this.treeData.length; a++) {\n        var index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n\n        if (index === node && this.checkedNodes.indexOf(node) === -1) {\n          this.checkedNodes.push(node);\n          break;\n        }\n\n        var childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n\n        if (childItems) {\n          this.setChildCheckState(childItems, node, this.treeData[a]);\n        }\n      }\n    }\n  };\n  /**\n   * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n   */\n\n\n  TreeView.prototype.setChildCheckState = function (childItems, node, treeData) {\n    var checkedParent;\n    var count = 0;\n\n    if (this.dataType === 1) {\n      if (treeData) {\n        checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n      }\n\n      for (var index = 0; index < childItems.length; index++) {\n        var checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n\n        if (treeData && checkedParent && this.autoCheck) {\n          if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n            this.checkedNodes.push(checkNode);\n          }\n        }\n\n        if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n          this.checkedNodes.push(node);\n        }\n\n        var subChildItems = this.getChildNodes(this.treeData, checkNode);\n\n        if (subChildItems) {\n          this.setChildCheckState(subChildItems, node, treeData);\n        }\n      }\n    } else {\n      if (treeData) {\n        checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n      }\n\n      for (var index = 0; index < childItems.length; index++) {\n        var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n\n        if (treeData && checkedParent && this.autoCheck) {\n          if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n            this.checkedNodes.push(checkedChild);\n          }\n        }\n\n        if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n          this.checkedNodes.push(node);\n        }\n\n        var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n\n        if (subChildItems) {\n          this.setChildCheckState(subChildItems, node, childItems[index]);\n        }\n\n        if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n          count++;\n        }\n\n        if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n          this.checkedNodes.push(checkedParent);\n        }\n      }\n    }\n  };\n\n  TreeView.prototype.setIndeterminate = function (nodes) {\n    for (var i = 0; i < nodes.length; i++) {\n      this.setValidCheckedNode(nodes[i]);\n    }\n  };\n\n  TreeView.prototype.updatePosition = function (id, newData, isRefreshChild, childValue) {\n    if (this.dataType === 1) {\n      var pos = this.getDataPos(this.treeData, this.fields, id);\n      this.treeData.splice(pos, 1, newData);\n\n      if (isRefreshChild) {\n        this.removeChildNodes(id);\n\n        for (var j = 0; j < childValue.length; j++) {\n          this.treeData.splice(pos, 0, childValue[j]);\n          pos++;\n        }\n      }\n\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    } else {\n      this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n    }\n  };\n\n  TreeView.prototype.updateChildPosition = function (treeData, mapper, currID, newData, index) {\n    var found;\n\n    for (var i = 0, objlen = treeData.length; i < objlen; i++) {\n      var nodeId = getValue(mapper.id, treeData[i]);\n\n      if (treeData[i] && nodeId && nodeId.toString() === currID) {\n        treeData[i] = newData[0];\n        return true;\n      } else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, treeData[i]))) {\n        var childObj = getValue(mapper.child, treeData[i]);\n        found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n\n        if (found !== undefined) {\n          break;\n        }\n      } else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', treeData[i]))) {\n        var childData = getValue('child', treeData[i]);\n        found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n\n        if (found !== undefined) {\n          break;\n        }\n      }\n    }\n\n    return found;\n  };\n\n  TreeView.prototype.dynamicState = function () {\n    this.setDragAndDrop(this.allowDragAndDrop);\n    this.wireEditingEvents(this.allowEditing);\n\n    if (!this.disabled) {\n      this.wireEvents();\n      this.setRipple();\n    } else {\n      this.unWireEvents();\n      this.rippleFn();\n      this.rippleIconFn();\n    }\n  };\n\n  TreeView.prototype.crudOperation = function (operation, nodes, target, newText, newNode, index, prevent) {\n    var _this = this;\n\n    var data = this.fields.dataSource;\n    var matchedArr = [];\n    var query = this.getQuery(this.fields);\n    var key = this.fields.id;\n    var crud;\n    var changes = {\n      addedRecords: [],\n      deletedRecords: [],\n      changedRecords: []\n    };\n    var nodesID = [];\n\n    if (nodes) {\n      nodesID = this.nodeType(nodes);\n    } else if (target) {\n      if (typeof target == \"string\") {\n        nodesID[0] = target.toString();\n      } else if (typeof target === \"object\") {\n        nodesID[0] = target.getAttribute(\"data-uid\").toString();\n      }\n    }\n\n    for (var i = 0, len = nodesID.length; i < len; i++) {\n      var liEle = this.getElement(nodesID[i]);\n\n      if (isNullOrUndefined(liEle)) {\n        continue;\n      }\n\n      var removedData = this.getNodeObject(nodesID[i]);\n      matchedArr.push(removedData);\n    }\n\n    switch (operation) {\n      case 'delete':\n        if (nodes.length == 1) {\n          crud = data.remove(key, matchedArr[0], query.fromTable, query);\n        } else {\n          changes.deletedRecords = matchedArr;\n          crud = data.saveChanges(changes, key, query.fromTable, query);\n        }\n\n        crud.then(function (e) {\n          return _this.deleteSuccess(nodesID);\n        }).catch(function (e) {\n          return _this.dmFailure(e);\n        });\n        break;\n\n      case 'update':\n        matchedArr[0][this.fields.text] = newText;\n        crud = data.update(key, matchedArr[0], query.fromTable, query);\n        crud.then(function (e) {\n          return _this.editSucess(target, newText, prevent);\n        }).catch(function (e) {\n          return _this.dmFailure(e, target, prevent);\n        });\n        break;\n\n      case 'insert':\n        if (newNode.length == 1) {\n          crud = data.insert(newNode[0], query.fromTable, query);\n        } else {\n          var arr = [];\n\n          for (var i = 0, len = newNode.length; i < len; i++) {\n            arr.push(newNode[i]);\n          }\n\n          changes.addedRecords = arr;\n          crud = data.saveChanges(changes, key, query.fromTable, query);\n        }\n\n        crud.then(function (e) {\n          var dropLi = _this.getElement(target);\n\n          _this.addSuccess(newNode, dropLi, index);\n\n          _this.preventExpand = false;\n        }).catch(function (e) {\n          return _this.dmFailure(e);\n        });\n        break;\n    }\n  };\n\n  TreeView.prototype.deleteSuccess = function (nodes) {\n    var nodeData = [];\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      var liEle = this.getElement(nodes[i]);\n      nodeData.push(this.getNode(liEle));\n\n      if (isNullOrUndefined(liEle)) {\n        continue;\n      }\n\n      this.removeNode(liEle);\n    }\n\n    this.updateInstance();\n\n    if (this.dataType === 1) {\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    }\n\n    this.triggerEvent('removeNode', nodeData);\n  };\n\n  TreeView.prototype.editSucess = function (target, newText, prevent) {\n    var liEle = this.getElement(target);\n    var txtEle = select('.' + LISTTEXT, liEle);\n    this.appendNewText(liEle, txtEle, newText, prevent);\n  };\n\n  TreeView.prototype.addSuccess = function (nodes, dropLi, index) {\n    var dropUl;\n    var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n    var proxy = this;\n\n    if (dropLi && icon && icon.classList.contains(EXPANDABLE) && dropLi.querySelector('.' + PARENTITEM) === null) {\n      proxy.renderChildNodes(dropLi, null, function () {\n        dropUl = dropLi.querySelector('.' + PARENTITEM);\n        proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n        proxy.triggerEvent('addNodes', nodes);\n      });\n    } else {\n      this.addGivenNodes(nodes, dropLi, index, true);\n      this.triggerEvent('addNodes', nodes);\n    }\n  };\n\n  TreeView.prototype.dmFailure = function (e, target, prevent) {\n    if (target) {\n      this.updatePreviousText(target, prevent);\n    }\n\n    this.trigger('actionFailure', {\n      error: e\n    });\n  };\n\n  TreeView.prototype.updatePreviousText = function (target, prevent) {\n    var liEle = this.getElement(target);\n    var txtEle = select('.' + LISTTEXT, liEle);\n    this.updateText(liEle, txtEle, this.oldText, prevent);\n  };\n\n  TreeView.prototype.getHierarchicalParentId = function (node, data, parentsID) {\n    var _this = this;\n\n    var index = data.findIndex(function (data) {\n      return data[_this.fields.id] && data[_this.fields.id].toString() === node;\n    });\n\n    if (index == -1) {\n      for (var i = 0; i < data.length; i++) {\n        var childItems = getValue(this.fields.child.toString(), data[i]);\n\n        if (!isNullOrUndefined(childItems)) {\n          index = childItems.findIndex(function (data) {\n            return data[_this.fields.id] && data[_this.fields.id].toString() === node;\n          });\n\n          if (index == -1) {\n            this.getHierarchicalParentId(node, childItems, parentsID);\n          } else {\n            parentsID.push(data[i][this.fields.id].toString());\n            this.getHierarchicalParentId(data[i][this.fields.id].toString(), this.treeData, parentsID);\n            break;\n          }\n        }\n      }\n    }\n\n    return parentsID;\n  };\n  /**\n   * Called internally if any of the property value changed.\n   * @param  {TreeView} newProp\n   * @param  {TreeView} oldProp\n   * @returns void\n   * @private\n   */\n\n\n  TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.setDragAndDrop(this.allowDragAndDrop);\n          break;\n\n        case 'dragArea':\n          if (this.allowDragAndDrop) {\n            this.dragObj.dragArea = this.dragArea;\n          }\n\n          break;\n\n        case 'allowEditing':\n          this.wireEditingEvents(this.allowEditing);\n          break;\n\n        case 'allowMultiSelection':\n          if (this.selectedNodes.length > 1) {\n            var sNode = this.getElement(this.selectedNodes[0]);\n            this.isLoaded = false;\n            this.removeSelectAll();\n            this.selectNode(sNode, null);\n            this.isLoaded = true;\n          }\n\n          this.setMultiSelect(this.allowMultiSelection);\n          this.addMultiSelect(this.allowMultiSelection);\n          break;\n\n        case 'allowTextWrap':\n          this.setTextWrap();\n          this.updateWrap();\n          break;\n\n        case 'checkedNodes':\n          if (this.showCheckBox) {\n            this.checkedNodes = oldProp.checkedNodes;\n            this.setCheckedNodes(newProp.checkedNodes);\n          }\n\n          break;\n\n        case 'autoCheck':\n          if (this.showCheckBox) {\n            this.autoCheck = newProp.autoCheck;\n            this.ensureIndeterminate();\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCssClass(oldProp.cssClass, newProp.cssClass);\n          break;\n\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n\n        case 'expandedNodes':\n          this.isAnimate = false;\n          this.setProperties({\n            expandedNodes: []\n          }, true);\n          this.collapseAll();\n          this.isInitalExpand = true;\n          this.setProperties({\n            expandedNodes: isNullOrUndefined(newProp.expandedNodes) ? [] : newProp.expandedNodes\n          }, true);\n          this.doExpandAction();\n          this.isInitalExpand = false;\n          this.isAnimate = true;\n          break;\n\n        case 'expandOn':\n          this.wireExpandOnEvent(false);\n          this.setExpandOnType();\n\n          if (this.expandOnType !== 'None' && !this.disabled) {\n            this.wireExpandOnEvent(true);\n          }\n\n          break;\n\n        case 'disabled':\n          this.setDisabledMode();\n          this.dynamicState();\n          break;\n\n        case 'fields':\n          this.isAnimate = false;\n          this.isFieldChange = true;\n          this.initialRender = true;\n          this.reRenderNodes();\n          this.initialRender = false;\n          this.isAnimate = true;\n          this.isFieldChange = false;\n          break;\n\n        case 'fullRowSelect':\n          this.setFullRow(this.fullRowSelect);\n          this.addFullRow(this.fullRowSelect);\n\n          if (this.allowTextWrap) {\n            this.setTextWrap();\n            this.updateWrap();\n          }\n\n          break;\n\n        case 'loadOnDemand':\n          if (this.loadOnDemand === false && !this.onLoaded) {\n            var nodes = this.element.querySelectorAll('li');\n            var i = 0;\n\n            while (i < nodes.length) {\n              if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                this.renderChildNodes(nodes[i], true, null, true);\n              }\n\n              i++;\n            }\n\n            this.onLoaded = true;\n          }\n\n          break;\n\n        case 'nodeTemplate':\n          this.hasTemplate = false;\n          this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n          this.reRenderNodes();\n          break;\n\n        case 'selectedNodes':\n          this.removeSelectAll();\n          this.setProperties({\n            selectedNodes: newProp.selectedNodes\n          }, true);\n          this.doSelectionAction();\n          break;\n\n        case 'showCheckBox':\n          this.reRenderNodes();\n          break;\n\n        case 'sortOrder':\n          this.reRenderNodes();\n          break;\n\n        case 'fullRowNavigable':\n          this.setProperties({\n            fullRowNavigable: newProp.fullRowNavigable\n          }, true);\n          this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n          this.reRenderNodes();\n          break;\n      }\n    }\n  };\n  /**\n   * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n   */\n\n\n  TreeView.prototype.destroy = function () {\n    this.clearTemplate();\n    this.element.removeAttribute('aria-activedescendant');\n    this.unWireEvents();\n    this.wireEditingEvents(false);\n\n    if (!this.disabled) {\n      this.rippleFn();\n      this.rippleIconFn();\n    }\n\n    this.setCssClass(this.cssClass, null);\n    this.setDragAndDrop(false);\n    this.setFullRow(false);\n\n    if (this.ulElement && this.ulElement.parentElement) {\n      this.ulElement.parentElement.removeChild(this.ulElement);\n    }\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n   * then the nodes are added as children of the given parentID or in the root level of TreeView.\n   * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n   * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n   * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n   * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n   */\n\n\n  TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n    if (isNullOrUndefined(nodes)) {\n      return;\n    }\n\n    nodes = JSON.parse(JSON.stringify(nodes));\n    var dropLi = this.getElement(target);\n    this.preventExpand = preventTargetExpand;\n\n    if (this.fields.dataSource instanceof DataManager) {\n      if (!this.isOffline) {\n        this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n      } else {\n        this.addSuccess(nodes, dropLi, index);\n      }\n    } else if (this.dataType === 2) {\n      this.addGivenNodes(nodes, dropLi, index);\n    } else {\n      if (dropLi) {\n        this.addGivenNodes(nodes, dropLi, index);\n      } else {\n        nodes = this.getSortedData(nodes);\n\n        for (var i = 0; i < nodes.length; i++) {\n          var pid = getValue(this.fields.parentID, nodes[i]);\n          dropLi = pid ? this.getElement(pid.toString()) : pid;\n          this.addGivenNodes([nodes[i]], dropLi, index);\n        }\n      }\n\n      this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n    }\n\n    this.updateCheckedStateFromDS();\n\n    if (this.showCheckBox && dropLi) {\n      this.ensureParentCheckState(dropLi);\n    }\n\n    if (this.fields.dataSource instanceof DataManager === false) {\n      this.preventExpand = false;\n      this.triggerEvent('addNodes', nodes);\n    }\n  };\n  /**\n   * Editing can also be enabled by using the `beginEdit` property, instead of clicking on the\n   * TreeView node. On passing the node ID or element through this property, the edit textBox\n   * will be created for the particular node thus allowing us to edit it.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n   */\n\n\n  TreeView.prototype.beginEdit = function (node) {\n    var ele = this.getElement(node);\n\n    if (isNullOrUndefined(ele) || this.disabled) {\n      return;\n    }\n\n    this.createTextbox(ele, null);\n  };\n  /**\n   * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n   * as argument to this method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   */\n\n\n  TreeView.prototype.checkAll = function (nodes) {\n    if (this.showCheckBox) {\n      this.doCheckBoxAction(nodes, true);\n    }\n  };\n  /**\n   * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n   * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n   * a specific level of nodes, set **level** as argument to collapseAll method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n   * @param  {number} level - TreeView nodes will collapse up to the given level.\n   * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n   */\n\n\n  TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doGivenAction(nodes, COLLAPSIBLE, false);\n    } else {\n      if (level > 0) {\n        this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n      } else {\n        this.collapseAllNodes(excludeHiddenNodes);\n      }\n    }\n  };\n  /**\n   * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n   */\n\n\n  TreeView.prototype.disableNodes = function (nodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doDisableAction(nodes);\n    }\n  };\n  /**\n   * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n   */\n\n\n  TreeView.prototype.enableNodes = function (nodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doEnableAction(nodes);\n    }\n  };\n  /**\n   * Ensures visibility of the TreeView node by using node ID or node element.\n   * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n   * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n   */\n\n\n  TreeView.prototype.ensureVisible = function (node) {\n    var parentsId = [];\n\n    if (this.dataType == 1) {\n      var nodeData = this.getTreeData(node);\n\n      while (nodeData.length != 0 && !isNullOrUndefined(nodeData[0][this.fields.parentID])) {\n        parentsId.push(nodeData[0][this.fields.parentID].toString());\n        nodeData = this.getTreeData(nodeData[0][this.fields.parentID].toString());\n      }\n    } else if (this.dataType == 2) {\n      parentsId = this.getHierarchicalParentId(node, this.treeData, parentsId).reverse();\n    }\n\n    this.expandAll(parentsId);\n    var liEle = this.getElement(node);\n\n    if (!isNullOrUndefined(liEle)) {\n      if (typeof node == 'object') {\n        var parents = this.parents(liEle, '.' + LISTITEM);\n        this.expandAll(parents);\n      }\n\n      setTimeout(function () {\n        liEle.scrollIntoView({\n          behavior: \"smooth\"\n        });\n      }, 450);\n    }\n  };\n  /**\n   * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n   * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n   * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n   * @param  {number} level - TreeView nodes will expand up to the given level.\n   * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n   */\n\n\n  TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n    if (!isNullOrUndefined(nodes)) {\n      this.doGivenAction(nodes, EXPANDABLE, true);\n    } else {\n      if (level > 0) {\n        this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n      } else {\n        this.expandAllNodes(excludeHiddenNodes);\n      }\n    }\n  };\n  /**\n   * Gets all the checked nodes including child, whether it is loaded or not.\n   */\n\n\n  TreeView.prototype.getAllCheckedNodes = function () {\n    var checkNodes = this.checkedNodes;\n    return checkNodes;\n  };\n  /**\n  * Gets all the disabled nodes including child, whether it is loaded or not.\n  */\n\n\n  TreeView.prototype.getDisabledNodes = function () {\n    var disabledNodes = this.disableNode;\n    return disabledNodes;\n  };\n  /**\n   * Gets the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n   */\n\n\n  TreeView.prototype.getNode = function (node) {\n    var ele = this.getElement(node);\n    return this.getNodeData(ele, true);\n  };\n  /**\n   * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n   * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n   * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n   * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n   * * The updated data source also contains custom attributes if you specified in data source.\n   * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n   * @isGenericType true\n   */\n\n\n  TreeView.prototype.getTreeData = function (node) {\n    var id = this.getId(node);\n    this.updatePersistProp();\n\n    if (isNullOrUndefined(id)) {\n      return this.treeData;\n    } else {\n      var data = this.getNodeObject(id);\n      return isNullOrUndefined(data) ? [] : [data];\n    }\n  };\n  /**\n   * Moves the collection of nodes within the same TreeView based on target or its index position.\n   * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n   * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n   * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n   */\n\n\n  TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n    var dropLi = this.getElement(target);\n    var nodeData = [];\n\n    if (isNullOrUndefined(dropLi)) {\n      return;\n    }\n\n    for (var i = 0; i < sourceNodes.length; i++) {\n      var dragLi = this.getElement(sourceNodes[i]);\n      nodeData.push(this.getNode(dragLi));\n\n      if (isNullOrUndefined(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n        continue;\n      }\n\n      this.preventExpand = preventTargetExpand;\n      this.dropAsChildNode(dragLi, dropLi, this, index);\n    }\n\n    if (this.fields.dataSource instanceof DataManager === false) {\n      this.preventExpand = false;\n    }\n\n    this.triggerEvent('moveNodes', nodeData);\n  };\n  /**\n   * Refreshes a particular node of the TreeView.\n   * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n   * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n   */\n\n\n  TreeView.prototype.refreshNode = function (target, newData) {\n    if (isNullOrUndefined(target) || isNullOrUndefined(newData)) {\n      return;\n    }\n\n    var id;\n    var isRefreshChild = false;\n\n    if (this.dataType == 1 && newData.length > 1) {\n      isRefreshChild = true;\n    } else if (this.dataType == 2 && newData.length === 1) {\n      var updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n\n      if (!isNullOrUndefined(updatedChildValue)) {\n        isRefreshChild = true;\n      }\n    }\n\n    var liEle = this.getElement(target);\n    id = liEle ? liEle.getAttribute('data-uid') : target ? target.toString() : null;\n    this.refreshData = this.getNodeObject(id);\n    newData = JSON.parse(JSON.stringify(newData));\n    /* eslint-disable */\n\n    var newNodeData;\n    var parentData;\n\n    if (this.dataType == 1 && isRefreshChild) {\n      for (var k = 0; k < newData.length; k++) {\n        if (isNullOrUndefined(newData[k][this.fields.parentID])) {\n          parentData = newData[k];\n          newData.splice(k, 1);\n          break;\n        }\n      }\n\n      newNodeData = extend({}, this.refreshData, parentData);\n    } else {\n      newNodeData = extend({}, this.refreshData, newData[0]);\n    }\n\n    if (isNullOrUndefined(liEle)) {\n      this.updatePosition(id, newNodeData, isRefreshChild, newData);\n      return;\n    }\n\n    this.isRefreshed = true;\n    var level = parseFloat(liEle.getAttribute('aria-level'));\n    var newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n    var ul = select('.' + PARENTITEM, liEle);\n    var childItems = getValue(this.fields.child.toString(), newNodeData);\n\n    if (isRefreshChild && ul || isRefreshChild && !isNullOrUndefined(childItems)) {\n      var parentEle = liEle.parentElement;\n      var index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n      remove(liEle);\n      parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n      this.updatePosition(id, newNodeData, isRefreshChild, newData);\n\n      if (isRefreshChild && ul) {\n        this.expandAll([id]);\n      }\n    } else {\n      var txtEle = select('.' + TEXTWRAP, liEle);\n      var newTextEle = select('.' + TEXTWRAP, newliEle[0]);\n      var icon = select('div.' + ICON, txtEle);\n      var newIcon = select('div.' + ICON, newTextEle);\n\n      if (icon && newIcon) {\n        if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n          removeClass([newIcon], EXPANDABLE);\n          addClass([newIcon], COLLAPSIBLE);\n        } else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n          removeClass([newIcon], COLLAPSIBLE);\n          addClass([newIcon], EXPANDABLE);\n        } else if (icon.classList.contains('interaction')) {\n          addClass([newIcon], 'interaction');\n        }\n      }\n\n      remove(txtEle);\n      var fullEle = select('.' + FULLROW, liEle);\n      fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n      this.updatePosition(id, newNodeData, isRefreshChild, newData);\n    }\n\n    liEle = this.getElement(target);\n\n    if (newNodeData[this.fields.tooltip]) {\n      liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n    }\n\n    if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n      var attr = {};\n      merge(attr, newNodeData[this.fields.htmlAttributes]);\n\n      if (attr.class) {\n        addClass([liEle], attr.class.split(' '));\n        delete attr.class;\n      } else {\n        attributes(liEle, attr);\n      }\n    }\n\n    if (this.selectedNodes.indexOf(id) !== -1) {\n      liEle.setAttribute('aria-selected', 'true');\n      addClass([liEle], ACTIVE);\n    }\n\n    this.isRefreshed = false;\n    this.triggerEvent('refreshNode', [this.getNode(liEle)]);\n  };\n  /**\n   * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   */\n\n\n  TreeView.prototype.removeNodes = function (nodes) {\n    if (!isNullOrUndefined(nodes)) {\n      if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n        this.crudOperation('delete', nodes);\n      } else {\n        this.deleteSuccess(nodes);\n      }\n    }\n  };\n  /**\n   * Replaces the text of the TreeView node with the given text.\n   * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n   * @param  {string} newText - Specifies the new text of TreeView node.\n   */\n\n\n  TreeView.prototype.updateNode = function (target, newText) {\n    var _this = this;\n\n    if (isNullOrUndefined(target) || isNullOrUndefined(newText) || !this.allowEditing) {\n      return;\n    }\n\n    var liEle = this.getElement(target);\n\n    if (isNullOrUndefined(liEle)) {\n      return;\n    }\n\n    var txtEle = select('.' + LISTTEXT, liEle);\n    this.updateOldText(liEle);\n    var eventArgs = this.getEditEvent(liEle, null, null);\n    this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        if (_this.fields.dataSource instanceof DataManager && !_this.isOffline) {\n          _this.crudOperation('update', null, target, newText, null, null, false);\n        } else {\n          _this.appendNewText(liEle, txtEle, newText, false);\n        }\n      }\n    });\n  };\n  /**\n   * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n   * as argument to this method.\n   * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n   */\n\n\n  TreeView.prototype.uncheckAll = function (nodes) {\n    if (this.showCheckBox) {\n      this.doCheckBoxAction(nodes, false);\n    }\n  };\n\n  var TreeView_1;\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowDragAndDrop\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowEditing\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowMultiSelection\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"allowTextWrap\", void 0);\n\n  __decorate$8([Complex({}, NodeAnimationSettings)], TreeView.prototype, \"animation\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"checkedNodes\", void 0);\n\n  __decorate$8([Property('')], TreeView.prototype, \"cssClass\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"disabled\", void 0);\n\n  __decorate$8([Property(null)], TreeView.prototype, \"dragArea\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"enablePersistence\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"expandedNodes\", void 0);\n\n  __decorate$8([Property('Auto')], TreeView.prototype, \"expandOn\", void 0);\n\n  __decorate$8([Complex({}, FieldsSettings)], TreeView.prototype, \"fields\", void 0);\n\n  __decorate$8([Property(true)], TreeView.prototype, \"fullRowSelect\", void 0);\n\n  __decorate$8([Property(true)], TreeView.prototype, \"loadOnDemand\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"locale\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"nodeTemplate\", void 0);\n\n  __decorate$8([Property()], TreeView.prototype, \"selectedNodes\", void 0);\n\n  __decorate$8([Property('None')], TreeView.prototype, \"sortOrder\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"showCheckBox\", void 0);\n\n  __decorate$8([Property(true)], TreeView.prototype, \"autoCheck\", void 0);\n\n  __decorate$8([Property(false)], TreeView.prototype, \"fullRowNavigable\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"actionFailure\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"created\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"dataBound\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"dataSourceChanged\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"drawNode\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"destroyed\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"keyPress\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeChecked\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeChecking\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeClicked\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeCollapsed\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeCollapsing\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDragging\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDragStart\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDragStop\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeDropped\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeEdited\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeEditing\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeExpanded\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeExpanding\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeSelected\", void 0);\n\n  __decorate$8([Event()], TreeView.prototype, \"nodeSelecting\", void 0);\n\n  TreeView = TreeView_1 = __decorate$8([NotifyPropertyChanges], TreeView);\n  return TreeView;\n}(Component);\n/**\n * TreeView modules\n */\n\n\nvar __extends$9 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$9 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar CONTROL$1 = 'e-control';\nvar ROOT$1 = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar RTL$2 = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar DISPLAY = 'e-sidebar-display';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\n\nvar Sidebar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$9(Sidebar, _super);\n  /* eslint-enable */\n\n\n  function Sidebar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n\n  Sidebar.prototype.preRender = function () {\n    this.setWidth();\n  };\n\n  Sidebar.prototype.render = function () {\n    this.initialize();\n    this.wireEvents();\n    this.renderComplete();\n  };\n\n  Sidebar.prototype.initialize = function () {\n    this.setTarget();\n    this.addClass();\n    this.setZindex();\n\n    if (this.enableDock) {\n      this.setDock();\n    }\n\n    if (this.isOpen) {\n      this.show();\n      this.firstRender = true;\n    } else {\n      this.setMediaQuery();\n    }\n\n    this.checkType(true);\n    this.setType(this.type);\n    this.setCloseOnDocumentClick();\n    this.setEnableRTL();\n\n    if (Browser.isDevice) {\n      this.windowWidth = window.innerWidth;\n    }\n  };\n\n  Sidebar.prototype.setEnableRTL = function () {\n    (this.enableRtl ? addClass : removeClass)([this.element], RTL$2);\n  };\n\n  Sidebar.prototype.setTarget = function () {\n    this.targetEle = this.element.nextElementSibling;\n    this.sidebarEleCopy = this.element.cloneNode(true);\n\n    if (typeof this.target === 'string') {\n      this.setProperties({\n        target: document.querySelector(this.target)\n      }, true);\n    }\n\n    if (this.target) {\n      this.target.insertBefore(this.element, this.target.children[0]);\n      addClass([this.element], SIDEBARABSOLUTE);\n      addClass([this.target], CONTEXT);\n      this.targetEle = this.getTargetElement();\n    }\n  };\n\n  Sidebar.prototype.getTargetElement = function () {\n    var siblingElement = this.element.nextElementSibling;\n\n    while (!isNullOrUndefined(siblingElement)) {\n      if (!siblingElement.classList.contains(ROOT$1)) {\n        break;\n      }\n\n      siblingElement = siblingElement.nextElementSibling;\n    }\n\n    return siblingElement;\n  };\n\n  Sidebar.prototype.setCloseOnDocumentClick = function () {\n    if (this.closeOnDocumentClick) {\n      EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n    } else {\n      EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n    }\n  };\n\n  Sidebar.prototype.setWidth = function () {\n    if (this.enableDock && this.position === 'Left') {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.dockSize)\n      });\n    } else if (this.enableDock && this.position === 'Right') {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.dockSize)\n      });\n    } else if (!this.enableDock) {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.width)\n      });\n    }\n  };\n\n  Sidebar.prototype.setDimension = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  Sidebar.prototype.setZindex = function () {\n    setStyleAttribute(this.element, {\n      'z-index': '' + this.zIndex\n    });\n  };\n\n  Sidebar.prototype.addClass = function () {\n    if (this.element.tagName === 'EJS-SIDEBAR') {\n      addClass([this.element], DISPLAY);\n    }\n\n    var classELement = document.querySelector('.e-main-content');\n\n    if (!isNullOrUndefined(classELement || this.targetEle)) {\n      addClass([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n    }\n\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : null;\n\n    if (!this.enableDock && this.type !== 'Auto') {\n      addClass([this.element], [VISIBILITY]);\n    }\n\n    removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n    this.element.classList.add(ROOT$1);\n    addClass([this.element], this.position === 'Right' ? RIGHT : LEFT);\n\n    if (this.enableDock) {\n      addClass([this.element], DOCKER);\n    }\n\n    if (!isNullOrUndefined(this.tabIndex)) {\n      this.element.setAttribute('tabindex', this.tabIndex);\n    }\n\n    if (this.type === 'Auto' && !Browser.isDevice) {\n      this.show();\n    } else if (!this.isOpen) {\n      addClass([this.element], CLOSE);\n    }\n  };\n\n  Sidebar.prototype.checkType = function (val) {\n    if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n      this.type = 'Auto';\n    } else {\n      if (!this.element.classList.contains(CLOSE) && !val) {\n        this.hide();\n      }\n    }\n  };\n\n  Sidebar.prototype.transitionEnd = function (e) {\n    this.setDock();\n\n    if (!isNullOrUndefined(e) && !this.firstRender) {\n      this.triggerChange();\n    }\n\n    this.firstRender = false;\n    EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n  };\n\n  Sidebar.prototype.destroyBackDrop = function () {\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n    if (this.target && this.showBackdrop && sibling && !isNullOrUndefined(this.defaultBackdropDiv)) {\n      removeClass([this.defaultBackdropDiv], DEFAULTBACKDROP);\n    } else if (this.showBackdrop && this.modal) {\n      this.modal.style.display = 'none';\n      this.modal.outerHTML = '';\n      this.modal = null;\n    }\n  };\n  /* eslint-disable */\n\n  /**\n   * Hide the Sidebar component, if it is in an open state.\n   *\n   * @returns {void}\n   *\n   */\n\n\n  Sidebar.prototype.hide = function (e) {\n    var _this = this;\n\n    var closeArguments = {\n      model: this,\n      element: this.element,\n      cancel: false,\n      isInteracted: !isNullOrUndefined(e),\n      event: e || null\n    };\n    this.trigger('close', closeArguments, function (observedcloseArgs) {\n      if (!observedcloseArgs.cancel) {\n        if (_this.element.classList.contains(CLOSE)) {\n          return;\n        }\n\n        if (_this.element.classList.contains(OPEN) && !_this.animate) {\n          _this.triggerChange();\n        }\n\n        addClass([_this.element], CLOSE);\n        removeClass([_this.element], OPEN);\n        setStyleAttribute(_this.element, {\n          'width': formatUnit(_this.enableDock ? _this.dockSize : _this.width)\n        });\n\n        _this.setType(_this.type);\n\n        var sibling = document.querySelector('.e-main-content') || _this.targetEle;\n\n        if (!_this.enableDock && sibling) {\n          sibling.style.transform = 'translateX(' + 0 + 'px)';\n          sibling.style[_this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n        }\n\n        _this.destroyBackDrop();\n\n        _this.setAnimation();\n\n        if (_this.type === 'Slide') {\n          document.body.classList.remove('e-sidebar-overflow');\n        }\n\n        _this.setProperties({\n          isOpen: false\n        }, true);\n\n        if (_this.enableDock) {\n          setTimeout(function () {\n            return _this.setTimeOut();\n          }, 50);\n        }\n\n        EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n      }\n    });\n  };\n\n  Sidebar.prototype.setTimeOut = function () {\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n    var elementWidth = this.element.getBoundingClientRect().width;\n\n    if (this.element.classList.contains(OPEN) && sibling && !(this.type === 'Over' && this.enableDock)) {\n      if (this.position === 'Left') {\n        sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n      } else {\n        sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n      }\n    } else if (this.element.classList.contains(CLOSE) && sibling) {\n      if (this.position === 'Left') {\n        sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n      } else {\n        sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n      }\n    }\n  };\n  /* eslint-disable */\n\n  /**\n   * Shows the Sidebar component, if it is in closed state.\n   *\n   * @returns {void}\n   */\n\n\n  Sidebar.prototype.show = function (e) {\n    var _this = this;\n\n    var openArguments = {\n      model: this,\n      element: this.element,\n      cancel: false,\n      isInteracted: !isNullOrUndefined(e),\n      event: e || null\n    };\n    this.trigger('open', openArguments, function (observedopenArgs) {\n      if (!observedopenArgs.cancel) {\n        removeClass([_this.element], VISIBILITY);\n\n        if (_this.element.classList.contains(OPEN)) {\n          return;\n        }\n\n        if (_this.element.classList.contains(CLOSE) && !_this.animate) {\n          _this.triggerChange();\n        }\n\n        addClass([_this.element], [OPEN, TRASITION]);\n        setStyleAttribute(_this.element, {\n          'transform': ''\n        });\n        removeClass([_this.element], CLOSE);\n        setStyleAttribute(_this.element, {\n          'width': formatUnit(_this.width)\n        });\n\n        _this.setType(_this.type);\n\n        _this.createBackDrop();\n\n        _this.setAnimation();\n\n        if (_this.type === 'Slide') {\n          document.body.classList.add('e-sidebar-overflow');\n        }\n\n        _this.setProperties({\n          isOpen: true\n        }, true);\n\n        EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n      }\n    });\n  };\n\n  Sidebar.prototype.setAnimation = function () {\n    if (this.animate) {\n      removeClass([this.element], DISABLEANIMATION);\n    } else {\n      addClass([this.element], DISABLEANIMATION);\n    }\n  };\n\n  Sidebar.prototype.triggerChange = function () {\n    var changeArguments = {\n      name: 'change',\n      element: this.element\n    };\n    this.trigger('change', changeArguments);\n  };\n\n  Sidebar.prototype.setDock = function () {\n    if (this.enableDock && this.position === 'Left' && !this.getState()) {\n      setStyleAttribute(this.element, {\n        'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')'\n      });\n    } else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n      setStyleAttribute(this.element, {\n        'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')'\n      });\n    }\n\n    if (this.element.classList.contains(CLOSE) && this.enableDock) {\n      setStyleAttribute(this.element, {\n        'width': this.setDimension(this.dockSize)\n      });\n    }\n  };\n\n  Sidebar.prototype.createBackDrop = function () {\n    if (this.target && this.showBackdrop && this.getState()) {\n      var targetString = this.target;\n      var sibling = document.querySelector('.e-main-content') || this.targetEle;\n      this.defaultBackdropDiv = this.createElement('div');\n      addClass([this.defaultBackdropDiv], DEFAULTBACKDROP);\n      setStyleAttribute(this.defaultBackdropDiv, {\n        height: targetString.style.height\n      });\n      sibling.appendChild(this.defaultBackdropDiv);\n    } else if (this.showBackdrop && !this.modal && this.getState()) {\n      this.modal = this.createElement('div');\n      this.modal.className = DEFAULTBACKDROP;\n      this.modal.style.display = 'block';\n      document.body.appendChild(this.modal);\n    }\n  };\n\n  Sidebar.prototype.getPersistData = function () {\n    return this.addOnPersist(['type', 'position', 'isOpen']);\n  };\n  /**\n   * Returns the current module name.\n   *\n   * @returns {string} - returns module name.\n   * @private\n   *\n   */\n\n\n  Sidebar.prototype.getModuleName = function () {\n    return 'sidebar';\n  };\n  /**\n   * Shows or hides the Sidebar based on the current state.\n   *\n   * @returns {void}\n   */\n\n\n  Sidebar.prototype.toggle = function () {\n    if (this.element.classList.contains(OPEN)) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  };\n\n  Sidebar.prototype.getState = function () {\n    return this.element.classList.contains(OPEN) ? true : false;\n  };\n\n  Sidebar.prototype.setMediaQuery = function () {\n    if (this.mediaQuery) {\n      var media = false;\n\n      if (typeof this.mediaQuery === 'string') {\n        media = window.matchMedia(this.mediaQuery).matches;\n      } else {\n        media = this.mediaQuery.matches;\n      }\n\n      if (media && this.windowWidth !== window.innerWidth) {\n        this.show();\n      } else if (this.getState() && this.windowWidth !== window.innerWidth) {\n        this.hide();\n      }\n    }\n  };\n\n  Sidebar.prototype.resize = function () {\n    if (this.type === 'Auto') {\n      if (Browser.isDevice) {\n        addClass([this.element], OVER);\n      } else {\n        addClass([this.element], PUSH);\n      }\n    }\n\n    this.setMediaQuery();\n\n    if (Browser.isDevice) {\n      this.windowWidth = window.innerWidth;\n    }\n  };\n\n  Sidebar.prototype.documentclickHandler = function (e) {\n    if (closest(e.target, '.' + CONTROL$1 + '' + '.' + ROOT$1)) {\n      return;\n    }\n\n    this.hide(e);\n  };\n\n  Sidebar.prototype.enableGestureHandler = function (args) {\n    if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' && args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5) {\n      this.show();\n    } else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n      this.hide();\n    } else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n      this.hide();\n    } else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left' && window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5) {\n      this.show();\n    }\n  };\n\n  Sidebar.prototype.setEnableGestures = function () {\n    if (this.enableGestures) {\n      this.mainContentEle = new Touch(document.body, {\n        swipe: this.enableGestureHandler.bind(this)\n      });\n      this.sidebarEle = new Touch(this.element, {\n        swipe: this.enableGestureHandler.bind(this)\n      });\n    } else {\n      if (this.mainContentEle && this.sidebarEle) {\n        this.mainContentEle.destroy();\n        this.sidebarEle.destroy();\n      }\n    }\n  };\n\n  Sidebar.prototype.wireEvents = function () {\n    this.setEnableGestures();\n    EventHandler.add(window, 'resize', this.resize, this);\n  };\n\n  Sidebar.prototype.unWireEvents = function () {\n    EventHandler.remove(window, 'resize', this.resize);\n    EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n\n    if (this.mainContentEle) {\n      this.mainContentEle.destroy();\n    }\n\n    if (this.sidebarEle) {\n      this.sidebarEle.destroy();\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {SidebarModel} newProp - specifies newProp value.\n   * @param {SidebarModel} oldProp - specifies oldProp value.\n   * @returns {void}\n   * @private\n   *\n   */\n\n\n  Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n    var isRendered = this.isServerRendered;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'isOpen':\n          if (this.isOpen) {\n            this.show();\n          } else {\n            this.hide();\n          }\n\n          break;\n\n        case 'width':\n          this.setWidth();\n\n          if (!this.getState()) {\n            this.setDock();\n          }\n\n          break;\n\n        case 'animate':\n          this.setAnimation();\n          break;\n\n        case 'type':\n          this.checkType(false);\n          removeClass([this.element], [VISIBILITY]);\n          this.addClass();\n          addClass([this.element], this.type === 'Auto' ? Browser.isDevice ? ['e-over'] : ['e-push'] : ['e-' + this.type.toLowerCase()]);\n          break;\n\n        case 'position':\n          this.element.style.transform = '';\n          this.setDock();\n\n          if (sibling) {\n            sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n          }\n\n          if (this.position === 'Right') {\n            removeClass([this.element], LEFT);\n            addClass([this.element], RIGHT);\n          } else {\n            removeClass([this.element], RIGHT);\n            addClass([this.element], LEFT);\n          }\n\n          this.setType(this.type);\n          break;\n\n        case 'showBackdrop':\n          if (this.showBackdrop) {\n            this.createBackDrop();\n          } else {\n            if (this.modal) {\n              this.modal.style.display = 'none';\n              this.modal.outerHTML = '';\n              this.modal = null;\n            }\n          }\n\n          break;\n\n        case 'target':\n          if (typeof this.target === 'string') {\n            this.setProperties({\n              target: document.querySelector(this.target)\n            }, true);\n          }\n\n          if (isNullOrUndefined(this.target)) {\n            removeClass([this.element], SIDEBARABSOLUTE);\n            removeClass([oldProp.target], CONTEXT);\n            setStyleAttribute(sibling, {\n              'margin-left': 0,\n              'margin-right': 0\n            });\n            document.body.insertAdjacentElement('afterbegin', this.element);\n          }\n\n          this.isServerRendered = false;\n\n          _super.prototype.refresh.call(this);\n\n          this.isServerRendered = isRendered;\n          break;\n\n        case 'closeOnDocumentClick':\n          this.setCloseOnDocumentClick();\n          break;\n\n        case 'enableDock':\n          if (!this.getState()) {\n            this.setDock();\n          }\n\n          break;\n\n        case 'zIndex':\n          this.setZindex();\n          break;\n\n        case 'mediaQuery':\n          this.setMediaQuery();\n          break;\n\n        case 'enableGestures':\n          this.setEnableGestures();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n      }\n    }\n  };\n\n  Sidebar.prototype.setType = function (type) {\n    var elementWidth = this.element.getBoundingClientRect().width;\n    this.setZindex();\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n    if (sibling) {\n      sibling.style.transform = 'translateX(' + 0 + 'px)';\n\n      if (!Browser.isDevice && this.type !== 'Auto' && !(this.type === 'Over' && this.enableDock)) {\n        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n      }\n    }\n\n    var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n    var eleWidth = this.position === 'Left' ? elementWidth : -elementWidth;\n    removeClass([this.element], [PUSH, OVER, SLIDE]);\n\n    switch (type) {\n      case 'Push':\n        addClass([this.element], [PUSH]);\n\n        if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n          sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n        }\n\n        break;\n\n      case 'Slide':\n        addClass([this.element], [SLIDE]);\n\n        if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n          sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n        }\n\n        break;\n\n      case 'Over':\n        addClass([this.element], [OVER]);\n\n        if (this.enableDock && (this.element.classList.contains(CLOSE) || this.isOpen)) {\n          if (sibling) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = this.setDimension(this.dockSize);\n          }\n        }\n\n        break;\n\n      case 'Auto':\n        addClass([this.element], [TRASITION]);\n\n        if (Browser.isDevice) {\n          if (sibling && this.enableDock && !this.getState()) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n            addClass([this.element], PUSH);\n          } else {\n            addClass([this.element], OVER);\n          }\n        } else {\n          addClass([this.element], PUSH);\n\n          if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n            sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n          }\n        }\n\n        this.createBackDrop();\n    }\n  };\n  /**\n   * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n   *\n   * @returns {void}\n   *\n   */\n\n\n  Sidebar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.target) {\n      removeClass([this.target], CONTEXT);\n    }\n\n    this.destroyBackDrop();\n\n    if (this.element) {\n      removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n      removeClass([this.element], SIDEBARABSOLUTE);\n      this.element.style.width = '';\n      this.element.style.zIndex = '';\n      this.element.style.transform = '';\n\n      if (!isNullOrUndefined(this.sidebarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n\n    this.windowWidth = null;\n    var sibling = document.querySelector('.e-main-content') || this.targetEle;\n\n    if (!isNullOrUndefined(sibling)) {\n      sibling.style.margin = '';\n      sibling.style.transform = '';\n    }\n\n    this.unWireEvents();\n  };\n\n  __decorate$9([Property('auto')], Sidebar.prototype, \"dockSize\", void 0);\n\n  __decorate$9([Property(null)], Sidebar.prototype, \"mediaQuery\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"enableDock\", void 0);\n\n  __decorate$9([Property('en-US')], Sidebar.prototype, \"locale\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"enablePersistence\", void 0);\n\n  __decorate$9([Property(true)], Sidebar.prototype, \"enableGestures\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"isOpen\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"enableRtl\", void 0);\n\n  __decorate$9([Property(true)], Sidebar.prototype, \"animate\", void 0);\n\n  __decorate$9([Property('auto')], Sidebar.prototype, \"height\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n\n  __decorate$9([Property('Left')], Sidebar.prototype, \"position\", void 0);\n\n  __decorate$9([Property(null)], Sidebar.prototype, \"target\", void 0);\n\n  __decorate$9([Property(false)], Sidebar.prototype, \"showBackdrop\", void 0);\n\n  __decorate$9([Property('Auto')], Sidebar.prototype, \"type\", void 0);\n\n  __decorate$9([Property('auto')], Sidebar.prototype, \"width\", void 0);\n\n  __decorate$9([Property(1000)], Sidebar.prototype, \"zIndex\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"created\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"close\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"open\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"change\", void 0);\n\n  __decorate$9([Event()], Sidebar.prototype, \"destroyed\", void 0);\n\n  Sidebar = __decorate$9([NotifyPropertyChanges], Sidebar);\n  return Sidebar;\n}(Component);\n/**\n * Sidebar modules\n */\n\n\nvar __extends$10 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$10 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\n/**\n * Defines the Breadcrumb overflow modes.\n */\n\nvar BreadcrumbOverflowMode;\n\n(function (BreadcrumbOverflowMode) {\n  /**\n   * Hidden mode shows the maximum number of items possible in the container space and hides the remaining items.\n   * Clicking on a previous item will make the hidden item visible.\n   */\n  BreadcrumbOverflowMode[\"Hidden\"] = \"Hidden\";\n  /**\n   * Collapsed mode shows the first and last Breadcrumb items and hides the remaining items with a collapsed icon.\n   * When the collapsed icon is clicked, all items become visible and navigable.\n   */\n\n  BreadcrumbOverflowMode[\"Collapsed\"] = \"Collapsed\";\n  /**\n   * Menu mode shows the number of Breadcrumb items that can be accommodated within the container space and creates a submenu with the remaining items.\n   */\n\n  BreadcrumbOverflowMode[\"Menu\"] = \"Menu\";\n  /**\n   * Wrap mode wraps the items to multiple lines when the Breadcrumbs width exceeds the container space.\n   */\n\n  BreadcrumbOverflowMode[\"Wrap\"] = \"Wrap\";\n  /**\n   * Scroll mode shows an HTML scroll bar when the Breadcrumbs width exceeds the container space.\n   */\n\n  BreadcrumbOverflowMode[\"Scroll\"] = \"Scroll\";\n  /**\n   * None mode shows all the items in a single line.\n   */\n\n  BreadcrumbOverflowMode[\"None\"] = \"None\";\n})(BreadcrumbOverflowMode || (BreadcrumbOverflowMode = {}));\n\nvar BreadcrumbItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$10(BreadcrumbItem, _super);\n\n  function BreadcrumbItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$10([Property('')], BreadcrumbItem.prototype, \"text\", void 0);\n\n  __decorate$10([Property('')], BreadcrumbItem.prototype, \"url\", void 0);\n\n  __decorate$10([Property(null)], BreadcrumbItem.prototype, \"iconCss\", void 0);\n\n  __decorate$10([Property(false)], BreadcrumbItem.prototype, \"disabled\", void 0);\n\n  return BreadcrumbItem;\n}(ChildProperty);\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\n\n\nvar Breadcrumb =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$10(Breadcrumb, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @private\n   * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n   * @param {string | HTMLElement} element - Specifies the element.\n   */\n\n\n  function Breadcrumb(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isPopupCreated = false;\n    return _this;\n  }\n  /**\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.preRender = function () {// pre render code\n  };\n  /**\n   * Initialize the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.render = function () {\n    this.initialize();\n    this.renderItems(this.items);\n    this.wireEvents();\n  };\n\n  Breadcrumb.prototype.initialize = function () {\n    this._maxItems = this.maxItems;\n    this.element.setAttribute('aria-label', 'breadcrumb');\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n    }\n\n    if (this.enableRtl) {\n      this.element.classList.add('e-rtl');\n    }\n\n    if (this.disabled) {\n      this.element.classList.add(DISABLEDCLASS);\n      this.element.setAttribute(ARIADISABLED, 'true');\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      this.element.classList.add(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      this.element.classList.add(SCROLLMODECLASS);\n    }\n\n    this.initItems();\n    this.initPvtProps();\n  };\n\n  Breadcrumb.prototype.initPvtProps = function () {\n    if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n      this.endIndex = this.getEndIndex();\n      this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n    }\n\n    if (this.overflowMode === 'Menu') {\n      if (this._maxItems >= 0) {\n        this.startIndex = this._maxItems > 1 ? 1 : 0;\n        this.endIndex = this.getEndIndex();\n        this.popupUl = this.createElement('ul', {\n          attrs: {\n            TABINDEX: '0',\n            'role': 'menu'\n          }\n        });\n      } else {\n        this.startIndex = this.endIndex = null;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.getEndIndex = function () {\n    var _this = this;\n\n    var endIndex;\n\n    if (this.activeItem) {\n      this.items.forEach(function (item, idx) {\n        if (item.url === _this.activeItem || item.text === _this.activeItem) {\n          endIndex = idx;\n        }\n      });\n    } else {\n      endIndex = this.items.length - 1;\n    }\n\n    return endIndex;\n  };\n\n  Breadcrumb.prototype.initItems = function () {\n    if (!this.items.length) {\n      var baseUri = void 0;\n      var uri = void 0;\n      var items = [];\n\n      if (this.url) {\n        var url = new URL(this.url, window.location.origin);\n        baseUri = url.origin + '/';\n        uri = url.href.split(baseUri)[1].split('/');\n      } else {\n        baseUri = window.location.origin + '/';\n        uri = window.location.href.split(baseUri)[1].split('/');\n      }\n\n      items.push({\n        iconCss: 'e-icons e-home',\n        url: baseUri\n      });\n\n      for (var i = 0; i < uri.length; i++) {\n        if (uri[i]) {\n          items.push({\n            text: uri[i],\n            url: baseUri + uri[i]\n          });\n          baseUri += uri[i] + '/';\n        }\n      }\n\n      this.setProperties({\n        items: items\n      }, true);\n    }\n  };\n\n  Breadcrumb.prototype.renderItems = function (items) {\n    var _this = this;\n\n    var item;\n    var isSingleLevel;\n    var isIconRight = this.element.classList.contains(ICONRIGHT);\n    var itemsLength = items.length;\n\n    if (itemsLength) {\n      var isActiveItem = void 0;\n      var isLastItem = void 0;\n      var isLastItemInPopup_1;\n      var j_1 = 0;\n      var wrapDiv = void 0;\n      var len = itemsLength * 2 - 1;\n      var isItemCancelled_1 = false;\n      var ol = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : ''\n      });\n      var firstOl = this.createElement('ol', {\n        className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : ''\n      });\n      var showIcon = this.hasField(items, 'iconCss');\n      var isCollasped = this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded;\n      var isDefaultOverflowMode_1 = this.overflowMode === 'Hidden' && this._maxItems > 0;\n\n      if (this.overflowMode === 'Menu' && this.popupUl) {\n        this.popupUl.innerHTML = '';\n      }\n\n      var listBaseOptions = {\n        moduleName: this.getModuleName(),\n        showIcon: showIcon,\n        itemNavigable: true,\n        itemCreated: function (args) {\n          var isLastItem = args.curData.isLastItem;\n\n          if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n            delete args.curData.isLastItem;\n\n            if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n              args.item.innerHTML = _this.createElement('span', {\n                className: ITEMTEXTCLASS,\n                innerHTML: args.item.children[0].innerHTML\n              }).outerHTML;\n            }\n          }\n\n          if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n            args.item.classList.add('e-icon-item');\n          }\n\n          if (isDefaultOverflowMode_1) {\n            args.item.setAttribute('item-index', j_1.toString());\n          }\n\n          var eventArgs = {\n            item: extend({}, args.curData.properties ? args.curData.properties : args.curData),\n            element: args.item,\n            cancel: false\n          };\n\n          _this.trigger('beforeItemRender', eventArgs);\n\n          isItemCancelled_1 = eventArgs.cancel;\n          var containsRightIcon = isIconRight || eventArgs.element.classList.contains(ICONRIGHT);\n\n          if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n            args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n          }\n\n          if (eventArgs.item.disabled) {\n            args.item.setAttribute(ARIADISABLED, 'true');\n            args.item.classList.add(DISABLEDCLASS);\n          }\n\n          if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n            args.item.children[0].setAttribute(TABINDEX, '-1');\n          }\n\n          if (args.curData.isEmptyUrl) {\n            args.item.children[0].removeAttribute('href');\n\n            if ((!isLastItem || isLastItem && _this.enableActiveItemNavigation) && !(eventArgs.item.disabled || _this.disabled)) {\n              args.item.children[0].setAttribute(TABINDEX, '0');\n              EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n            }\n          }\n\n          args.item.removeAttribute('role');\n\n          if (isLastItem) {\n            args.item.setAttribute('data-active-item', '');\n          }\n\n          if (!_this.itemTemplate) {\n            _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n          }\n        }\n      };\n\n      for (var i = 0; i < len; i % 2 && j_1++, i++) {\n        isActiveItem = this.activeItem && (this.activeItem === items[j_1].url || this.activeItem === items[j_1].text);\n\n        if (isCollasped && i > 1 && i < len - 2) {\n          continue;\n        } else if (isDefaultOverflowMode_1 && (j_1 < this.startIndex || j_1 > this.endIndex) && (i % 2 ? j_1 !== this.startIndex - 1 : true) && j_1 !== 0) {\n          continue;\n        }\n\n        if (i % 2) {\n          // separator item\n          wrapDiv = this.createElement('div', {\n            className: 'e-breadcrumb-item-wrapper'\n          });\n          listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n          listBaseOptions.itemClass = 'e-breadcrumb-separator';\n          isSingleLevel = false;\n          item = [{\n            previousItem: items[j_1],\n            nextItem: items[j_1 + 1]\n          }];\n        } else {\n          // list item\n          listBaseOptions.itemClass = '';\n\n          if (this.itemTemplate) {\n            listBaseOptions.template = this.itemTemplate;\n            isSingleLevel = false;\n          } else {\n            isSingleLevel = true;\n          }\n\n          item = [extend({}, items[j_1].properties ? items[j_1].properties : items[j_1])];\n\n          if (!item[0].url && !this.itemTemplate) {\n            item = [extend({}, item[0], {\n              isEmptyUrl: true,\n              url: '#'\n            })];\n          }\n\n          isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && j_1 === this.endIndex;\n\n          if ((i === len - 1 || isLastItem) && !this.itemTemplate || isActiveItem) {\n            item[0].isLastItem = true;\n          }\n        }\n\n        var parent_1 = ol;\n        var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n\n        if (this.overflowMode === 'Menu' && (j_1 >= this.startIndex && j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true) && this.endIndex >= this._maxItems && this._maxItems > 0 || this._maxItems === 0)) {\n          if (i % 2) {\n            continue;\n          } else {\n            parent_1 = this.popupUl;\n\n            if (isLastItem) {\n              isLastItemInPopup_1 = true;\n            }\n          }\n        } else if (this.overflowMode === 'Wrap') {\n          if (i === 0) {\n            parent_1 = firstOl;\n          } else {\n            parent_1 = wrapDiv;\n          }\n        }\n\n        var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n\n        if (!isItemCancelled_1) {\n          append(li, parent_1);\n        } else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n          items.splice(j_1, 1);\n          this.initPvtProps();\n          return this.reRenderItems();\n        } else if (i === len - 1 || isLastItem) {\n          remove(parent_1.lastElementChild);\n        }\n\n        if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n          ol.appendChild(wrapDiv);\n        }\n\n        if (isCollasped && i === 1) {\n          var li_1 = this.createElement('li', {\n            className: 'e-icons e-breadcrumb-collapsed',\n            attrs: {\n              TABINDEX: '0'\n            }\n          });\n          EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n          ol.appendChild(li_1);\n        }\n\n        if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n          var menu = this.getMenuElement();\n          EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n          ol.appendChild(menu);\n        }\n\n        if (isActiveItem || isLastItem) {\n          break;\n        }\n\n        if (isItemCancelled_1) {\n          i++;\n        }\n      }\n\n      if (this.isReact) {\n        this.renderReactTemplates();\n      }\n\n      if (this.overflowMode === 'Wrap') {\n        this.element.appendChild(firstOl);\n      }\n\n      this.element.appendChild(ol);\n      this.calculateMaxItems();\n    }\n  };\n\n  Breadcrumb.prototype.calculateMaxItems = function () {\n    if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n      var maxItems = void 0;\n      var width = this.element.offsetWidth;\n      var liElems = [].slice.call(this.element.children[0].children).reverse();\n      var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n\n      if (this.overflowMode === 'Menu') {\n        var menuEle = this.getMenuElement();\n        this.element.appendChild(menuEle);\n        liWidth += menuEle.offsetWidth;\n        remove(menuEle);\n      }\n\n      for (var i = 0; i < liElems.length - 2; i++) {\n        if (liWidth > width) {\n          maxItems = Math.ceil((i - 1) / 2) + (this.overflowMode === 'Menu' && i <= 2 ? 0 : 1);\n\n          if ((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems === -1) || this.maxItems === -1) && this._maxItems !== maxItems) {\n            this._maxItems = maxItems;\n            this.initPvtProps();\n            return this.reRenderItems();\n          } else {\n            break;\n          }\n        } else {\n          if (this.overflowMode === 'Menu' && i === 2) {\n            liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n\n            if (liWidth > width) {\n              this._maxItems = 1;\n              this.initPvtProps();\n              return this.reRenderItems();\n            }\n          }\n\n          if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n            liWidth += liElems[i].offsetWidth;\n          }\n        }\n      }\n    } else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n      var width = 0;\n      var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n\n      if (liElems.length > this._maxItems + this._maxItems - 1) {\n        for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n          width += liElems[i].offsetWidth;\n        }\n\n        width = width + 5 + parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2;\n\n        if (this.overflowMode === 'Wrap') {\n          this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n        } else {\n          this.element.style.width = width + 'px';\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.hasField = function (items, field) {\n    for (var i = 0, len = items.length; i < len; i++) {\n      if (items[i][\"\" + field]) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Breadcrumb.prototype.getMenuElement = function () {\n    return this.createElement('li', {\n      className: 'e-icons e-breadcrumb-menu',\n      attrs: {\n        TABINDEX: '0'\n      }\n    });\n  };\n\n  Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n    var wrapElem = elem.querySelector('.e-anchor-wrap');\n\n    if (currItem.text !== prevItem.text) {\n      wrapElem.childNodes.forEach(function (child) {\n        if (child.nodeType === Node.TEXT_NODE) {\n          child.textContent = currItem.text;\n        }\n      });\n    }\n\n    if (currItem.iconCss !== prevItem.iconCss && wrapElem) {\n      // wrapElem - for checking it is item not a separator\n      var iconElem = elem.querySelector(DOT + ICONCLASS);\n\n      if (iconElem) {\n        if (currItem.iconCss) {\n          removeClass([iconElem], prevItem.iconCss.split(' '));\n          addClass([iconElem], currItem.iconCss.split(' '));\n        } else {\n          remove(iconElem);\n        }\n      } else if (currItem.iconCss) {\n        var iconElem_1 = this.createElement('span', {\n          className: ICONCLASS + ' ' + currItem.iconCss\n        });\n\n        if (isRightIcon) {\n          append([iconElem_1], wrapElem);\n        } else {\n          wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n        }\n      }\n    }\n\n    if (currItem.url !== prevItem.url && this.enableNavigation) {\n      var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n\n      if (anchor) {\n        if (currItem.url) {\n          anchor.setAttribute('href', currItem.url);\n        } else {\n          anchor.removeAttribute('href');\n        }\n      }\n    }\n  };\n\n  Breadcrumb.prototype.reRenderItems = function () {\n    this.element.innerHTML = '';\n    this.renderItems(this.items);\n  };\n\n  Breadcrumb.prototype.clickHandler = function (e) {\n    var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n\n    if (!this.enableNavigation) {\n      e.preventDefault();\n    }\n\n    if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n      var idx = void 0;\n\n      if (this.overflowMode === 'Wrap') {\n        idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n      } else {\n        idx = [].slice.call(li.parentElement.children).indexOf(li);\n      }\n\n      if (this.overflowMode === 'Menu') {\n        if (closest(e.target, DOT + POPUPCLASS)) {\n          idx += this.startIndex;\n          this.endIndex = idx;\n\n          if (e.type === 'keydown') {\n            this.documentClickHandler(e);\n          }\n        } else if (this.element.querySelector(DOT + MENUCLASS)) {\n          if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n            idx += this.popupUl.childElementCount * 2 - 2;\n            idx = Math.floor(idx / 2);\n            this.endIndex = idx;\n          } else {\n            this.startIndex = this.endIndex = idx;\n          }\n        } else {\n          idx = Math.floor(idx / 2);\n          this.startIndex = this.endIndex = idx;\n        }\n      } else {\n        idx = Math.floor(idx / 2);\n      }\n\n      if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n        idx = parseInt(li.getAttribute('item-index'), 10);\n\n        if (this.startIndex > 1) {\n          this.startIndex -= this.endIndex - idx;\n        }\n\n        this.endIndex = idx;\n      }\n\n      this.trigger('itemClick', {\n        element: li,\n        item: this.items[idx],\n        event: e\n      });\n      this.activeItem = this.items[idx].url || this.items[idx].text;\n      this.dataBind();\n    }\n\n    if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n\n    if (e.target.classList.contains(MENUCLASS) && !this.isPopupCreated) {\n      this.renderPopup();\n    }\n  };\n\n  Breadcrumb.prototype.renderPopup = function () {\n    var _this = this;\n\n    var wrapper = this.createElement('div', {\n      className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '')\n    });\n    document.body.appendChild(wrapper);\n    this.isPopupCreated = true;\n    this.popupObj = new Popup(wrapper, {\n      content: this.popupUl,\n      relateTo: this.element.querySelector(DOT + MENUCLASS),\n      enableRtl: this.enableRtl,\n      position: {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: {\n        X: 'fit',\n        Y: 'flip'\n      },\n      open: function () {\n        _this.popupUl.focus();\n      }\n    });\n    this.popupWireEvents();\n    this.popupObj.show();\n  };\n\n  Breadcrumb.prototype.documentClickHandler = function (e) {\n    if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n      this.popupObj.hide();\n      this.popupObj.destroy();\n      this.isPopupCreated = false;\n      detach(this.popupObj.element);\n    }\n  };\n\n  Breadcrumb.prototype.resize = function () {\n    this._maxItems = this.maxItems;\n    this.initPvtProps();\n    this.reRenderItems();\n  };\n\n  Breadcrumb.prototype.expandHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.isExpanded = true;\n      this.reRenderItems();\n    }\n  };\n\n  Breadcrumb.prototype.keyDownHandler = function (e) {\n    if (e.key === 'Enter') {\n      this.clickHandler(e);\n    }\n  };\n\n  Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n    if (e.key === 'Escape') {\n      this.documentClickHandler(e);\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @private\n   * @param {BreadcrumbModel} newProp - Specifies the new properties.\n   * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'items':\n        case 'enableActiveItemNavigation':\n          this.reRenderItems();\n          break;\n\n        case 'activeItem':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n          break;\n\n        case 'overflowMode':\n        case 'maxItems':\n          this._maxItems = this.maxItems;\n          this.initPvtProps();\n          this.reRenderItems();\n\n          if (oldProp.overflowMode === 'Wrap') {\n            this.element.classList.remove(WRAPMODECLASS);\n          } else if (newProp.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n          }\n\n          if (oldProp.overflowMode === 'Scroll') {\n            this.element.classList.remove(SCROLLMODECLASS);\n          } else if (newProp.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n          }\n\n          break;\n\n        case 'url':\n          this.initItems();\n          this.reRenderItems();\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n          }\n\n          if (oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1 && !(newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1) {\n            this.reRenderItems();\n          }\n\n          break;\n\n        case 'enableRtl':\n          this.element.classList.toggle('e-rtl');\n          break;\n\n        case 'disabled':\n          this.element.classList.toggle(DISABLEDCLASS);\n          this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n          break;\n      }\n    }\n  };\n\n  Breadcrumb.prototype.wireEvents = function () {\n    this.delegateClickHanlder = this.documentClickHandler.bind(this);\n    EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n    EventHandler.add(this.element, 'click', this.clickHandler, this);\n    window.addEventListener('resize', this.resize.bind(this));\n  };\n\n  Breadcrumb.prototype.popupWireEvents = function () {\n    EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n    EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n  };\n\n  Breadcrumb.prototype.unWireEvents = function () {\n    EventHandler.remove(document, 'click', this.delegateClickHanlder);\n    EventHandler.remove(this.element, 'click', this.clickHandler);\n    window.removeEventListener('resize', this.resize.bind(this));\n\n    if (this.popupObj) {\n      EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n      EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n    }\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {string} - Persist data\n   */\n\n\n  Breadcrumb.prototype.getPersistData = function () {\n    return this.addOnPersist(['activeItem']);\n  };\n  /**\n   * Get module name.\n   *\n   * @private\n   * @returns {string} - Module Name\n   */\n\n\n  Breadcrumb.prototype.getModuleName = function () {\n    return 'breadcrumb';\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  Breadcrumb.prototype.destroy = function () {\n    var _this = this;\n\n    var classes = [];\n    var attributes$$1 = ['aria-label'];\n\n    if (this.cssClass) {\n      classes.concat(this.cssClass.split(' '));\n    }\n\n    if (this.enableRtl) {\n      classes.push('e-rtl');\n    }\n\n    if (this.disabled) {\n      classes.push(DISABLEDCLASS);\n      attributes$$1.push(ARIADISABLED);\n    }\n\n    if (this.overflowMode === 'Wrap') {\n      classes.push(WRAPMODECLASS);\n    } else if (this.overflowMode === 'Scroll') {\n      classes.push(SCROLLMODECLASS);\n    }\n\n    this.unWireEvents();\n    this.element.innerHTML = '';\n    removeClass([this.element], classes);\n    attributes$$1.forEach(function (attribute) {\n      _this.element.removeAttribute(attribute);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"url\", void 0);\n\n  __decorate$10([Collection([], BreadcrumbItem)], Breadcrumb.prototype, \"items\", void 0);\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"activeItem\", void 0);\n\n  __decorate$10([Property(-1)], Breadcrumb.prototype, \"maxItems\", void 0);\n\n  __decorate$10([Property('Menu')], Breadcrumb.prototype, \"overflowMode\", void 0);\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"cssClass\", void 0);\n\n  __decorate$10([Property(null)], Breadcrumb.prototype, \"itemTemplate\", void 0);\n\n  __decorate$10([Property('/')], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n\n  __decorate$10([Property(true)], Breadcrumb.prototype, \"enableNavigation\", void 0);\n\n  __decorate$10([Property(false)], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n\n  __decorate$10([Property(false)], Breadcrumb.prototype, \"disabled\", void 0);\n\n  __decorate$10([Property('')], Breadcrumb.prototype, \"locale\", void 0);\n\n  __decorate$10([Event()], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n\n  __decorate$10([Event()], Breadcrumb.prototype, \"itemClick\", void 0);\n\n  __decorate$10([Event()], Breadcrumb.prototype, \"created\", void 0);\n\n  Breadcrumb = __decorate$10([NotifyPropertyChanges], Breadcrumb);\n  return Breadcrumb;\n}(Component);\n/**\n * Breadcrumb modules\n */\n\n\nvar __extends$11 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$11 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Constant variables\n\n\nvar CLS_CAROUSEL = 'e-carousel';\nvar CLS_ACTIVE$2 = 'e-active';\nvar CLS_RTL$5 = 'e-rtl';\nvar CLS_PARTIAL = 'e-partial';\nvar CLS_SLIDE_CONTAINER = 'e-carousel-slide-container';\nvar CLS_ITEMS$2 = 'e-carousel-items';\nvar CLS_CLONED = 'e-cloned';\nvar CLS_ITEM$3 = 'e-carousel-item';\nvar CLS_PREVIOUS = 'e-previous';\nvar CLS_NEXT = 'e-next';\nvar CLS_PREV_ICON = 'e-previous-icon';\nvar CLS_NEXT_ICON = 'e-next-icon';\nvar CLS_NAVIGATORS = 'e-carousel-navigators';\nvar CLS_INDICATORS = 'e-carousel-indicators';\nvar CLS_INDICATOR_BARS = 'e-indicator-bars';\nvar CLS_INDICATOR_BAR = 'e-indicator-bar';\nvar CLS_INDICATOR$1 = 'e-indicator';\nvar CLS_ICON$1 = 'e-icons';\nvar CLS_PLAY_PAUSE = 'e-play-pause';\nvar CLS_PLAY_ICON = 'e-play-icon';\nvar CLS_PAUSE_ICON = 'e-pause-icon';\nvar CLS_PREV_BUTTON = 'e-previous-button';\nvar CLS_NEXT_BUTTON = 'e-next-button';\nvar CLS_PLAY_BUTTON = 'e-play-button';\nvar CLS_FLAT = 'e-flat';\nvar CLS_ROUND = 'e-round';\nvar CLS_HOVER_ARROWS = 'e-hover-arrows';\nvar CLS_HOVER = 'e-carousel-hover';\nvar CLS_TEMPLATE$2 = 'e-template';\nvar CLS_SLIDE_ANIMATION = 'e-carousel-slide-animation';\nvar CLS_FADE_ANIMATION = 'e-carousel-fade-animation';\nvar CLS_CUSTOM_ANIMATION = 'e-carousel-custom-animation';\nvar CLS_ANIMATION_NONE = 'e-carousel-animation-none';\nvar CLS_PREV_SLIDE = 'e-prev';\nvar CLS_NEXT_SLIDE = 'e-next';\nvar CLS_TRANSITION_START = 'e-transition-start';\nvar CLS_TRANSITION_END = 'e-transition-end';\n/** Specifies the carousel individual item. */\n\nvar CarouselItem =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$11(CarouselItem, _super);\n\n  function CarouselItem() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$11([Property()], CarouselItem.prototype, \"cssClass\", void 0);\n\n  __decorate$11([Property()], CarouselItem.prototype, \"interval\", void 0);\n\n  __decorate$11([Property()], CarouselItem.prototype, \"template\", void 0);\n\n  __decorate$11([Property()], CarouselItem.prototype, \"htmlAttributes\", void 0);\n\n  return CarouselItem;\n}(ChildProperty);\n\nvar Carousel =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$11(Carousel, _super);\n  /**\n   * Constructor for creating the Carousel widget\n   *\n   * @param {CarouselModel} options Accepts the carousel model properties to initiate the rendering\n   * @param {string | HTMLElement} element Accepts the DOM element reference\n   */\n\n\n  function Carousel(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n\n  Carousel.prototype.getModuleName = function () {\n    return CLS_CAROUSEL.replace('e-', '');\n  };\n\n  Carousel.prototype.getPersistData = function () {\n    return this.addOnPersist(['selectedIndex']);\n  };\n\n  Carousel.prototype.preRender = function () {\n    this.keyConfigs = {\n      home: 'home',\n      end: 'end',\n      space: 'space',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow'\n    };\n    var defaultLocale = {\n      nextSlide: 'Next slide',\n      of: 'of',\n      pauseSlideTransition: 'Pause slide transition',\n      playSlideTransition: 'Play slide transition',\n      previousSlide: 'Previous slide',\n      slide: 'Slide',\n      slideShow: 'Slide show'\n    };\n    this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n  };\n\n  Carousel.prototype.render = function () {\n    this.initialize();\n    this.renderSlides();\n    this.renderNavigators();\n    this.renderPlayButton();\n    this.renderIndicators();\n    this.applyAnimation();\n    this.wireEvents();\n  };\n\n  Carousel.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var target;\n    var rtlElement;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'animationEffect':\n          this.applyAnimation();\n          break;\n\n        case 'cssClass':\n          classList(this.element, [newProp.cssClass], [oldProp.cssClass]);\n          break;\n\n        case 'selectedIndex':\n          this.setActiveSlide(this.selectedIndex, oldProp.selectedIndex > this.selectedIndex ? 'Previous' : 'Next');\n          this.autoSlide();\n          break;\n\n        case 'htmlAttributes':\n          if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n          }\n\n          break;\n\n        case 'enableTouchSwipe':\n          if (!this.enableTouchSwipe && this.touchModule) {\n            this.touchModule.destroy();\n          }\n\n          if (this.element.querySelector(\".\" + CLS_ITEMS$2)) {\n            this.renderTouchActions();\n          }\n\n          break;\n\n        case 'loop':\n          if (this.loop && isNullOrUndefined(this.autoSlideInterval)) {\n            this.applySlideInterval();\n          }\n\n          this.handleNavigatorsActions(this.selectedIndex);\n\n          if (this.partialVisible) {\n            this.reRenderSlides();\n          }\n\n          break;\n\n        case 'enableRtl':\n          rtlElement = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREV_BUTTON + \",\\n                .\" + CLS_NEXT_BUTTON + \", .\" + CLS_PLAY_BUTTON));\n          rtlElement.push(this.element);\n\n          if (this.enableRtl) {\n            addClass(rtlElement, CLS_RTL$5);\n          } else {\n            removeClass(rtlElement, CLS_RTL$5);\n          }\n\n          if (this.partialVisible) {\n            var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n            var cloneCount = this.loop ? 2 : 0;\n            var slideWidth = itemsContainer.firstElementChild.clientWidth;\n            itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n          }\n\n          break;\n\n        case 'buttonsVisibility':\n          target = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n\n          if (target) {\n            switch (this.buttonsVisibility) {\n              case 'Hidden':\n                this.resetTemplates(['previousButtonTemplate', 'nextButtonTemplate']);\n                remove(target);\n                break;\n\n              case 'VisibleOnHover':\n                addClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                break;\n\n              case 'Visible':\n                removeClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                break;\n            }\n          } else {\n            this.renderNavigators();\n            this.renderPlayButton();\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(this.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(this.height)\n          });\n          break;\n\n        case 'autoPlay':\n          if (this.showPlayButton && isNullOrUndefined(this.playButtonTemplate)) {\n            this.playButtonClickHandler(null, true);\n          }\n\n          this.autoSlide();\n          break;\n\n        case 'interval':\n          this.autoSlide();\n          break;\n\n        case 'showIndicators':\n          target = this.element.querySelector(\".\" + CLS_INDICATORS);\n\n          if (!this.showIndicators && target) {\n            this.resetTemplates(['indicatorsTemplate']);\n            remove(target);\n          }\n\n          this.renderIndicators();\n          break;\n\n        case 'showPlayButton':\n          target = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n\n          if (!this.showPlayButton && target) {\n            remove(target);\n            this.resetTemplates(['playButtonTemplate']);\n          }\n\n          this.renderPlayButton();\n          break;\n\n        case 'items':\n        case 'dataSource':\n          this.reRenderSlides();\n          break;\n\n        case 'partialVisible':\n          if (this.partialVisible) {\n            addClass([this.element], CLS_PARTIAL);\n          } else {\n            removeClass([this.element], CLS_PARTIAL);\n          }\n\n          this.reRenderSlides();\n          break;\n      }\n    }\n  };\n\n  Carousel.prototype.reRenderSlides = function () {\n    var target = this.element.querySelector(\".\" + CLS_ITEMS$2);\n\n    if (target) {\n      this.resetTemplates(['itemTemplate']);\n      remove(target);\n    }\n\n    this.renderSlides();\n  };\n\n  Carousel.prototype.initialize = function () {\n    var carouselClasses = [];\n\n    if (this.cssClass) {\n      carouselClasses.push(this.cssClass);\n    }\n\n    if (this.enableRtl) {\n      carouselClasses.push(CLS_RTL$5);\n    }\n\n    if (this.partialVisible) {\n      carouselClasses.push(CLS_PARTIAL);\n    }\n\n    addClass([this.element], carouselClasses);\n    setStyleAttribute(this.element, {\n      'width': formatUnit(this.width),\n      'height': formatUnit(this.height)\n    });\n    attributes(this.element, {\n      'tabindex': '0',\n      'aria-roledescription': 'carousel',\n      'aria-label': this.localeObj.getConstant('slideShow')\n    });\n\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      this.setHtmlAttributes(this.htmlAttributes, this.element);\n    }\n  };\n\n  Carousel.prototype.renderSlides = function () {\n    var _this = this;\n\n    var slideContainer = this.element.querySelector('.' + CLS_SLIDE_CONTAINER);\n\n    if (!slideContainer) {\n      slideContainer = this.createElement('div', {\n        className: CLS_SLIDE_CONTAINER\n      });\n      this.element.appendChild(slideContainer);\n    }\n\n    var itemsContainer = this.createElement('div', {\n      className: CLS_ITEMS$2,\n      attrs: {\n        'aria-live': this.autoPlay ? 'off' : 'polite'\n      }\n    });\n    slideContainer.appendChild(itemsContainer);\n\n    if (this.partialVisible && this.loop) {\n      if (this.items.length > 0) {\n        this.items.slice(-2).forEach(function (item, index) {\n          _this.renderSlide(item, item.template, index, itemsContainer, true);\n        });\n      } else if (this.dataSource.length > 0) {\n        this.dataSource.slice(-2).forEach(function (item, index) {\n          _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n        });\n      }\n    }\n\n    if (this.items.length > 0) {\n      this.slideItems = this.items;\n      this.items.forEach(function (item, index) {\n        _this.renderSlide(item, item.template, index, itemsContainer);\n      });\n    } else if (this.dataSource.length > 0) {\n      this.slideItems = this.dataSource;\n      this.dataSource.forEach(function (item, index) {\n        _this.renderSlide(item, _this.itemTemplate, index, itemsContainer);\n      });\n    }\n\n    if (this.partialVisible && this.loop) {\n      if (this.items.length > 0) {\n        this.items.slice(0, 2).forEach(function (item, index) {\n          _this.renderSlide(item, item.template, index, itemsContainer, true);\n        });\n      } else if (this.dataSource.length > 0) {\n        this.dataSource.slice(0, 2).forEach(function (item, index) {\n          _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n        });\n      }\n    }\n\n    this.renderTemplates();\n\n    if (this.partialVisible) {\n      itemsContainer.style.setProperty('--carousel-items-count', \"\" + itemsContainer.children.length);\n      var slideWidth = itemsContainer.firstElementChild.clientWidth;\n      var cloneCount = this.loop ? 2 : 0;\n      itemsContainer.style.transitionProperty = 'none';\n      itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n    }\n\n    this.autoSlide();\n    this.renderTouchActions();\n    this.renderKeyboardActions();\n  };\n\n  Carousel.prototype.getTranslateX = function (slideWidth, count) {\n    if (count === void 0) {\n      count = 1;\n    }\n\n    return this.enableRtl ? \"translateX(\" + slideWidth * count + \"px)\" : \"translateX(\" + -slideWidth * count + \"px)\";\n  };\n\n  Carousel.prototype.renderSlide = function (item, itemTemplate, index, container, isClone) {\n    if (isClone === void 0) {\n      isClone = false;\n    }\n\n    var itemEle = this.createElement('div', {\n      id: getUniqueID('carousel_item'),\n      className: CLS_ITEM$3 + \" \" + (item.cssClass ? item.cssClass : '') + \" \" + (this.selectedIndex === index && !isClone ? CLS_ACTIVE$2 : ''),\n      attrs: {\n        'aria-hidden': this.selectedIndex === index && !isClone ? 'false' : 'true',\n        'data-index': index.toString(),\n        'aria-role': 'group',\n        'aria-roledescription': 'slide'\n      }\n    });\n\n    if (isClone) {\n      itemEle.classList.add(CLS_CLONED);\n    }\n\n    if (!isNullOrUndefined(item.htmlAttributes)) {\n      this.setHtmlAttributes(item.htmlAttributes, itemEle);\n    }\n\n    var templateId = this.element.id + '_template';\n    var template = this.templateParser(itemTemplate)(item, this, 'itemTemplate', templateId, false);\n    append(template, itemEle);\n    container.appendChild(itemEle);\n  };\n\n  Carousel.prototype.renderNavigators = function () {\n    if (this.buttonsVisibility === 'Hidden') {\n      return;\n    }\n\n    var navigators = this.createElement('div', {\n      className: CLS_NAVIGATORS\n    });\n    var itemsContainer = this.element.querySelector(\".\" + CLS_SLIDE_CONTAINER);\n    itemsContainer.insertAdjacentElement('afterend', navigators);\n\n    if (!isNullOrUndefined(this.slideItems) && this.slideItems.length > 1) {\n      this.renderNavigatorButton('Previous');\n      this.renderNavigatorButton('Next');\n    }\n\n    this.renderTemplates();\n  };\n\n  Carousel.prototype.renderNavigatorButton = function (direction) {\n    var buttonContainer = this.createElement('div', {\n      className: (direction === 'Previous' ? CLS_PREVIOUS : CLS_NEXT) + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n    });\n\n    if (direction === 'Previous' && this.previousButtonTemplate) {\n      addClass([buttonContainer], CLS_TEMPLATE$2);\n      var templateId = this.element.id + '_previousButtonTemplate';\n      var template = this.templateParser(this.previousButtonTemplate)({\n        type: 'Previous'\n      }, this, 'previousButtonTemplate', templateId, false);\n      append(template, buttonContainer);\n    } else if (direction === 'Next' && this.nextButtonTemplate) {\n      addClass([buttonContainer], CLS_TEMPLATE$2);\n      var templateId = this.element.id + '_nextButtonTemplate';\n      var template = this.templateParser(this.nextButtonTemplate)({\n        type: 'Next'\n      }, this, 'nextButtonTemplate', templateId, false);\n      append(template, buttonContainer);\n    } else {\n      var button = this.createElement('button', {\n        attrs: {\n          'aria-label': this.localeObj.getConstant(direction === 'Previous' ? 'previousSlide' : 'nextSlide'),\n          'type': 'button'\n        }\n      });\n      var buttonObj = new Button({\n        cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + (direction === 'Previous' ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON),\n        iconCss: CLS_ICON$1 + ' ' + (direction === 'Previous' ? CLS_PREV_ICON : CLS_NEXT_ICON),\n        enableRtl: this.enableRtl,\n        disabled: !this.loop && this.selectedIndex === (direction === 'Previous' ? 0 : this.slideItems.length - 1)\n      });\n      buttonObj.appendTo(button);\n      buttonContainer.appendChild(button);\n    }\n\n    this.element.querySelector('.' + CLS_NAVIGATORS).appendChild(buttonContainer);\n    EventHandler.add(buttonContainer, 'click', this.navigatorClickHandler, this);\n  };\n\n  Carousel.prototype.renderPlayButton = function () {\n    if (isNullOrUndefined(this.slideItems) || this.buttonsVisibility === 'Hidden' || !this.showPlayButton || this.slideItems.length <= 1) {\n      return;\n    }\n\n    var playPauseWrap = this.createElement('div', {\n      className: CLS_PLAY_PAUSE + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n    });\n\n    if (this.playButtonTemplate) {\n      addClass([playPauseWrap], CLS_TEMPLATE$2);\n      var templateId = this.element.id + '_playButtonTemplate';\n      var template = this.templateParser(this.playButtonTemplate)({}, this, 'playButtonTemplate', templateId, false);\n      append(template, playPauseWrap);\n    } else {\n      var playButton = this.createElement('button', {\n        attrs: {\n          'aria-label': this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'),\n          'type': 'button'\n        }\n      });\n      var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n      var buttonObj = new Button({\n        cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + CLS_PLAY_BUTTON,\n        iconCss: CLS_ICON$1 + ' ' + (this.autoPlay && !isLastSlide ? CLS_PAUSE_ICON : CLS_PLAY_ICON),\n        isToggle: true,\n        enableRtl: this.enableRtl\n      });\n\n      if (isLastSlide) {\n        this.setProperties({\n          autoPlay: false\n        }, true);\n        playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', 'polite');\n      }\n\n      buttonObj.appendTo(playButton);\n      playPauseWrap.appendChild(playButton);\n    }\n\n    var navigators = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n    navigators.insertBefore(playPauseWrap, navigators.lastElementChild);\n    this.renderTemplates();\n    EventHandler.add(playPauseWrap, 'click', this.playButtonClickHandler, this);\n  };\n\n  Carousel.prototype.renderIndicators = function () {\n    var _this = this;\n\n    if (!this.showIndicators) {\n      return;\n    }\n\n    var indicatorWrap = this.createElement('div', {\n      className: CLS_INDICATORS\n    });\n    var indicatorBars = this.createElement('div', {\n      className: CLS_INDICATOR_BARS\n    });\n    indicatorWrap.appendChild(indicatorBars);\n\n    if (this.slideItems) {\n      this.slideItems.forEach(function (item, index) {\n        var indicatorBar = _this.createElement('div', {\n          className: CLS_INDICATOR_BAR + ' ' + (_this.selectedIndex === index ? CLS_ACTIVE$2 : ''),\n          attrs: {\n            'data-index': index.toString(),\n            'aria-current': _this.selectedIndex === index ? 'true' : 'false'\n          }\n        });\n\n        if (_this.indicatorsTemplate) {\n          addClass([indicatorBar], CLS_TEMPLATE$2);\n          var templateId = _this.element.id + '_indicatorsTemplate';\n\n          var template = _this.templateParser(_this.indicatorsTemplate)({\n            index: index,\n            selectedIndex: _this.selectedIndex\n          }, _this, 'indicatorsTemplate', templateId, false);\n\n          append(template, indicatorBar);\n        } else {\n          var indicator = _this.createElement('button', {\n            className: CLS_INDICATOR$1,\n            attrs: {\n              'type': 'button',\n              'aria-label': _this.localeObj.getConstant('slide') + ' ' + (index + 1) + ' ' + _this.localeObj.getConstant('of') + ' ' + _this.slideItems.length\n            }\n          });\n\n          indicatorBar.appendChild(indicator);\n          indicator.appendChild(_this.createElement('div', {}));\n          var buttonObj = new Button({\n            cssClass: 'e-flat e-small'\n          });\n          buttonObj.appendTo(indicator);\n        }\n\n        indicatorBars.appendChild(indicatorBar);\n        EventHandler.add(indicatorBar, 'click', _this.indicatorClickHandler, _this);\n      });\n    }\n\n    this.element.appendChild(indicatorWrap);\n  };\n\n  Carousel.prototype.renderKeyboardActions = function () {\n    this.keyModule = new KeyboardEvents(this.element, {\n      keyAction: this.keyHandler.bind(this),\n      keyConfigs: this.keyConfigs\n    });\n  };\n\n  Carousel.prototype.renderTouchActions = function () {\n    if (!this.enableTouchSwipe) {\n      return;\n    }\n\n    this.touchModule = new Touch(this.element, {\n      swipe: this.swipeHandler.bind(this)\n    });\n  };\n\n  Carousel.prototype.applyAnimation = function () {\n    removeClass([this.element], [CLS_CUSTOM_ANIMATION, CLS_FADE_ANIMATION, CLS_SLIDE_ANIMATION, CLS_ANIMATION_NONE]);\n\n    switch (this.animationEffect) {\n      case 'Slide':\n        addClass([this.element], CLS_SLIDE_ANIMATION);\n        break;\n\n      case 'Fade':\n        addClass([this.element], CLS_FADE_ANIMATION);\n        break;\n\n      case 'None':\n        addClass([this.element], CLS_ANIMATION_NONE);\n        break;\n\n      case 'Custom':\n        addClass([this.element], CLS_CUSTOM_ANIMATION);\n        break;\n    }\n  };\n\n  Carousel.prototype.autoSlide = function () {\n    if (isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n      return;\n    }\n\n    this.resetSlideInterval();\n    this.applySlideInterval();\n  };\n\n  Carousel.prototype.autoSlideChange = function () {\n    var activeSlide = this.element.querySelector(\".\" + CLS_ACTIVE$2);\n\n    if (isNullOrUndefined(activeSlide)) {\n      return;\n    }\n\n    var activeIndex = parseInt(activeSlide.dataset.index, 10);\n\n    if (!this.loop && activeIndex === this.slideItems.length - 1) {\n      this.resetSlideInterval();\n    } else {\n      var index = (activeIndex + 1) % this.slideItems.length;\n\n      if (!this.element.classList.contains(CLS_HOVER)) {\n        this.setActiveSlide(index, 'Next');\n      }\n\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.applySlideInterval = function () {\n    var _this = this;\n\n    if (!this.autoPlay || this.element.classList.contains(CLS_HOVER)) {\n      return;\n    }\n\n    var itemInterval = this.interval;\n\n    if (this.items.length > 0 && !isNullOrUndefined(this.items[this.selectedIndex].interval)) {\n      itemInterval = this.items[this.selectedIndex].interval;\n    }\n\n    this.autoSlideInterval = setInterval(function () {\n      return _this.autoSlideChange();\n    }, itemInterval);\n  };\n\n  Carousel.prototype.resetSlideInterval = function () {\n    clearInterval(this.autoSlideInterval);\n    this.autoSlideInterval = null;\n  };\n\n  Carousel.prototype.getSlideIndex = function (direction) {\n    var currentIndex = this.selectedIndex;\n\n    if (direction === 'Previous') {\n      currentIndex--;\n\n      if (currentIndex < 0) {\n        currentIndex = this.slideItems.length - 1;\n      }\n    } else {\n      currentIndex++;\n\n      if (currentIndex === this.slideItems.length) {\n        currentIndex = 0;\n      }\n    }\n\n    return currentIndex;\n  };\n\n  Carousel.prototype.setActiveSlide = function (currentIndex, direction, isSwiped) {\n    var _this = this;\n\n    if (isSwiped === void 0) {\n      isSwiped = false;\n    }\n\n    if (this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \".\" + CLS_PREV_SLIDE + \",.\" + CLS_ITEM$3 + \".\" + CLS_NEXT_SLIDE).length > 0) {\n      return;\n    }\n\n    var allSlides = [].slice.call(this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \":not(.e-cloned)\"));\n    var activeSlide = this.element.querySelector(\".\" + CLS_ITEM$3 + \".\" + CLS_ACTIVE$2);\n\n    if (isNullOrUndefined(activeSlide) && this.showIndicators) {\n      var activeIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BAR + \".\" + CLS_ACTIVE$2);\n      var activeIndex_1 = parseInt(activeIndicator.dataset.index, 10);\n      addClass([allSlides[parseInt(activeIndex_1.toString(), 10)]], CLS_ACTIVE$2);\n      return;\n    } else if (isNullOrUndefined(activeSlide)) {\n      addClass([allSlides[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE$2);\n      return;\n    }\n\n    var activeIndex = parseInt(activeSlide.dataset.index, 10);\n    var currentSlide = allSlides[parseInt(currentIndex.toString(), 10)];\n    var eventArgs = {\n      currentIndex: activeIndex,\n      nextIndex: currentIndex,\n      currentSlide: activeSlide,\n      nextSlide: currentSlide,\n      slideDirection: direction,\n      isSwiped: isSwiped,\n      cancel: false\n    };\n    this.trigger('slideChanging', eventArgs, function (args) {\n      if (args.cancel) {\n        return;\n      }\n\n      _this.setProperties({\n        selectedIndex: currentIndex\n      }, true);\n\n      attributes(args.currentSlide, {\n        'aria-hidden': 'true'\n      });\n      attributes(args.nextSlide, {\n        'aria-hidden': 'false'\n      });\n      var slideIndicators = [].slice.call(_this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n\n      if (slideIndicators.length > 0) {\n        attributes(slideIndicators[parseInt(activeIndex.toString(), 10)], {\n          'aria-current': 'false'\n        });\n        attributes(slideIndicators[parseInt(currentIndex.toString(), 10)], {\n          'aria-current': 'true'\n        });\n        removeClass(slideIndicators, CLS_ACTIVE$2);\n        addClass([slideIndicators[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE$2);\n      }\n\n      _this.slideChangedEventArgs = {\n        currentIndex: args.nextIndex,\n        previousIndex: args.currentIndex,\n        currentSlide: args.nextSlide,\n        previousSlide: args.currentSlide,\n        slideDirection: direction,\n        isSwiped: isSwiped\n      };\n\n      if (_this.partialVisible) {\n        var container = _this.element.querySelector('.' + CLS_ITEMS$2);\n\n        var slideWidth = allSlides[parseInt(currentIndex.toString(), 10)].clientWidth;\n        container.style.transitionProperty = 'transform';\n\n        if (_this.loop) {\n          if (_this.slideChangedEventArgs.currentIndex === 0 && _this.slideChangedEventArgs.slideDirection === 'Next') {\n            container.style.transform = _this.getTranslateX(slideWidth, allSlides.length + 2);\n          } else if (_this.slideChangedEventArgs.currentIndex === _this.slideItems.length - 1 && _this.slideChangedEventArgs.slideDirection === 'Previous') {\n            container.style.transform = _this.getTranslateX(slideWidth);\n          } else {\n            container.style.transform = _this.getTranslateX(slideWidth, currentIndex + 2);\n          }\n        } else {\n          container.style.transform = _this.getTranslateX(slideWidth, currentIndex);\n        }\n      }\n\n      if (_this.animationEffect === 'Slide') {\n        if (direction === 'Previous') {\n          addClass([args.nextSlide], CLS_PREV_SLIDE);\n          args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n          addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_END);\n        } else {\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n          args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n          addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_START);\n        }\n      } else if (_this.animationEffect === 'Fade') {\n        removeClass([args.currentSlide], CLS_ACTIVE$2);\n        addClass([args.nextSlide], CLS_ACTIVE$2);\n      } else if (_this.animationEffect === 'Custom') {\n        if (direction === 'Previous') {\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n          addClass([args.currentSlide], CLS_PREV_SLIDE);\n        } else {\n          addClass([args.currentSlide], CLS_PREV_SLIDE);\n          addClass([args.nextSlide], CLS_NEXT_SLIDE);\n        }\n      } else {\n        _this.onTransitionEnd();\n      }\n\n      _this.handleNavigatorsActions(currentIndex);\n    });\n  };\n\n  Carousel.prototype.onTransitionEnd = function () {\n    var _this = this;\n\n    if (this.slideChangedEventArgs) {\n      if (this.partialVisible && this.loop && (this.slideChangedEventArgs.currentIndex === 0 && this.slideChangedEventArgs.slideDirection === 'Next' || this.slideChangedEventArgs.currentIndex === this.slideItems.length - 1 && this.slideChangedEventArgs.slideDirection === 'Previous')) {\n        var container = this.element.querySelector('.' + CLS_ITEMS$2);\n        var slideWidth = this.slideChangedEventArgs.currentSlide.clientWidth;\n        container.style.transitionProperty = 'none';\n        container.style.transform = this.getTranslateX(slideWidth, this.slideChangedEventArgs.currentIndex + 2);\n      }\n\n      addClass([this.slideChangedEventArgs.currentSlide], CLS_ACTIVE$2);\n      removeClass([this.slideChangedEventArgs.previousSlide], CLS_ACTIVE$2);\n      this.trigger('slideChanged', this.slideChangedEventArgs, function () {\n        removeClass(_this.element.querySelectorAll(\".\" + CLS_ITEM$3), [CLS_PREV_SLIDE, CLS_NEXT_SLIDE, CLS_TRANSITION_START, CLS_TRANSITION_END]);\n        _this.slideChangedEventArgs = null;\n      });\n    }\n  };\n\n  Carousel.prototype.setHtmlAttributes = function (attribute, element) {\n    var keys = Object.keys(attribute);\n\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n      var key = keys_1[_i];\n\n      if (key === 'class') {\n        addClass([element], attribute[\"\" + key]);\n      } else {\n        element.setAttribute(key, attribute[\"\" + key]);\n      }\n    }\n  };\n\n  Carousel.prototype.templateParser = function (template) {\n    if (template) {\n      try {\n        if (document.querySelectorAll(template).length) {\n          return compile(document.querySelector(template).innerHTML.trim());\n        } else {\n          return compile(template);\n        }\n      } catch (error) {\n        return compile(template);\n      }\n    }\n\n    return undefined;\n  };\n\n  Carousel.prototype.getNavigatorState = function (target, isPrevious) {\n    var button = target.querySelector(\".\" + (isPrevious ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON));\n\n    if (button) {\n      var buttonObj = getInstance(button, Button);\n      return buttonObj.disabled;\n    }\n\n    return false;\n  };\n\n  Carousel.prototype.navigatorClickHandler = function (e) {\n    var target = e.currentTarget;\n    var isDisabled = this.getNavigatorState(target, target.classList.contains(CLS_PREVIOUS));\n\n    if (isDisabled) {\n      return;\n    }\n\n    var direction = target.classList.contains(CLS_PREVIOUS) ? 'Previous' : 'Next';\n    this.setActiveSlide(this.getSlideIndex(direction), direction);\n    this.autoSlide();\n  };\n\n  Carousel.prototype.indicatorClickHandler = function (e) {\n    var target = closest(e.target, \".\" + CLS_INDICATOR_BAR);\n    var index = parseInt(target.dataset.index, 10);\n\n    if (this.selectedIndex !== index) {\n      this.setActiveSlide(index, this.selectedIndex > index ? 'Previous' : 'Next');\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.playButtonClickHandler = function (e, isPropertyChange) {\n    if (isPropertyChange === void 0) {\n      isPropertyChange = false;\n    }\n\n    var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n\n    if (playButton) {\n      var buttonObj = getInstance(playButton, Button);\n\n      if (!isPropertyChange) {\n        this.setProperties({\n          autoPlay: !this.autoPlay\n        }, true);\n      }\n\n      playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n      buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n      buttonObj.dataBind();\n      var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n      itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n\n      if (this.autoPlay && !this.loop && this.selectedIndex === this.slideItems.length - 1) {\n        this.setActiveSlide(0, 'Next');\n      }\n\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.keyHandler = function (e) {\n    var direction;\n    var slideIndex;\n    var isSlideTransition = false;\n    var target = e.target;\n    e.preventDefault();\n\n    switch (e.action) {\n      case 'space':\n        if (this.showIndicators && target.classList.contains(CLS_INDICATOR$1)) {\n          target.click();\n        } else if (target.classList.contains(CLS_CAROUSEL) || target.classList.contains(CLS_PLAY_BUTTON)) {\n          this.playButtonClickHandler(e);\n        } else if (target.classList.contains(CLS_NEXT_BUTTON)) {\n          this.next();\n        } else if (target.classList.contains(CLS_PREV_BUTTON)) {\n          this.prev();\n        }\n\n        break;\n\n      case 'end':\n        slideIndex = this.slideItems.length - 1;\n        direction = 'Next';\n        isSlideTransition = true;\n        break;\n\n      case 'home':\n        slideIndex = 0;\n        direction = 'Previous';\n        isSlideTransition = true;\n        break;\n\n      case 'moveUp':\n      case 'moveLeft':\n      case 'moveDown':\n      case 'moveRight':\n        if (this.showIndicators && isNullOrUndefined(this.indicatorsTemplate)) {\n          this.element.focus();\n        }\n\n        direction = e.action === 'moveUp' || e.action === 'moveLeft' ? 'Previous' : 'Next';\n        slideIndex = this.getSlideIndex(direction);\n        isSlideTransition = !this.isSuspendSlideTransition(slideIndex, direction);\n        break;\n    }\n\n    if (isSlideTransition) {\n      this.setActiveSlide(slideIndex, direction);\n      this.autoSlide();\n      isSlideTransition = false;\n    }\n  };\n\n  Carousel.prototype.swipeHandler = function (e) {\n    if (this.element.classList.contains(CLS_HOVER) || isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n      return;\n    }\n\n    var direction = e.swipeDirection === 'Right' ? 'Previous' : 'Next';\n    var slideIndex = this.getSlideIndex(direction);\n\n    if (!this.isSuspendSlideTransition(slideIndex, direction)) {\n      this.setActiveSlide(slideIndex, direction, true);\n      this.autoSlide();\n    }\n  };\n\n  Carousel.prototype.isSuspendSlideTransition = function (index, direction) {\n    return !this.loop && (direction === 'Next' && index === 0 || direction === 'Previous' && index === this.slideItems.length - 1);\n  };\n\n  Carousel.prototype.handleNavigatorsActions = function (index) {\n    if (this.buttonsVisibility === 'Hidden') {\n      return;\n    }\n\n    if (this.showPlayButton) {\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n      var isButtonUpdate = isNullOrUndefined(this.playButtonTemplate) && playButton && isLastSlide;\n\n      if (isNullOrUndefined(this.playButtonTemplate) && playButton && !isLastSlide) {\n        isButtonUpdate = !playButton.classList.contains(CLS_ACTIVE$2);\n      }\n\n      if (isButtonUpdate) {\n        this.setProperties({\n          autoPlay: !isLastSlide\n        }, true);\n        playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n        var buttonObj = getInstance(playButton, Button);\n        buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n        buttonObj.dataBind();\n      }\n    }\n\n    var prevButton = this.element.querySelector(\".\" + CLS_PREV_BUTTON);\n\n    if (prevButton && isNullOrUndefined(this.previousButtonTemplate)) {\n      var buttonObj = getInstance(prevButton, Button);\n      buttonObj.disabled = !this.loop && index === 0;\n      buttonObj.dataBind();\n    }\n\n    var nextButton = this.element.querySelector(\".\" + CLS_NEXT_BUTTON);\n\n    if (nextButton && isNullOrUndefined(this.nextButtonTemplate)) {\n      var buttonObj = getInstance(nextButton, Button);\n      buttonObj.disabled = !this.loop && index === this.slideItems.length - 1;\n      buttonObj.dataBind();\n    }\n  };\n\n  Carousel.prototype.onHoverActions = function (e) {\n    var navigator = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n\n    switch (e.type) {\n      case 'mouseenter':\n        if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n          removeClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n        }\n\n        if (this.pauseOnHover) {\n          addClass([this.element], CLS_HOVER);\n        }\n\n        break;\n\n      case 'mouseleave':\n        if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n          addClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n        }\n\n        removeClass([this.element], CLS_HOVER);\n        break;\n    }\n\n    this.autoSlide();\n  };\n\n  Carousel.prototype.onFocusActions = function (e) {\n    switch (e.type) {\n      case 'focusin':\n        addClass([this.element], CLS_HOVER);\n        break;\n\n      case 'focusout':\n        removeClass([this.element], CLS_HOVER);\n        break;\n    }\n\n    this.autoSlide();\n  };\n\n  Carousel.prototype.destroyButtons = function () {\n    var buttonCollections = [].slice.call(this.element.querySelectorAll('.e-control.e-btn'));\n\n    for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n      var button = buttonCollections_1[_i];\n      var instance = getInstance(button, Button);\n\n      if (instance) {\n        instance.destroy();\n      }\n    }\n  };\n\n  Carousel.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'focusin focusout', this.onFocusActions, this);\n    EventHandler.add(this.element, 'mouseenter mouseleave', this.onHoverActions, this);\n    EventHandler.add(this.element.firstElementChild, 'animationend', this.onTransitionEnd, this);\n    EventHandler.add(this.element.firstElementChild, 'transitionend', this.onTransitionEnd, this);\n  };\n\n  Carousel.prototype.unWireEvents = function () {\n    var _this = this;\n\n    var indicators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n    indicators.forEach(function (indicator) {\n      EventHandler.remove(indicator, 'click', _this.indicatorClickHandler);\n    });\n    var navigators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREVIOUS + \",.\" + CLS_NEXT));\n    navigators.forEach(function (navigator) {\n      EventHandler.remove(navigator, 'click', _this.navigatorClickHandler);\n    });\n    var playIcon = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n\n    if (playIcon) {\n      EventHandler.remove(playIcon, 'click', this.playButtonClickHandler);\n    }\n\n    EventHandler.remove(this.element.firstElementChild, 'animationend', this.onTransitionEnd);\n    EventHandler.remove(this.element.firstElementChild, 'transitionend', this.onTransitionEnd);\n    EventHandler.clearEvents(this.element);\n  };\n  /**\n   * Method to transit from the current slide to the previous slide.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.prev = function () {\n    if (!this.loop && this.selectedIndex === 0) {\n      return;\n    }\n\n    var index = this.selectedIndex === 0 ? this.slideItems.length - 1 : this.selectedIndex - 1;\n    this.setActiveSlide(index, 'Previous');\n    this.autoSlide();\n  };\n  /**\n   * Method to transit from the current slide to the next slide.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.next = function () {\n    if (!this.loop && this.selectedIndex === this.slideItems.length - 1) {\n      return;\n    }\n\n    var index = this.selectedIndex === this.slideItems.length - 1 ? 0 : this.selectedIndex + 1;\n    this.setActiveSlide(index, 'Next');\n    this.autoSlide();\n  };\n  /**\n   * Method to play the slides programmatically.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.play = function () {\n    var playIcon = this.element.querySelector(\".\" + CLS_PLAY_ICON);\n\n    if (this.showPlayButton && playIcon) {\n      classList(playIcon, [CLS_PAUSE_ICON], [CLS_PLAY_ICON]);\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      playButton.setAttribute('aria-label', this.localeObj.getConstant('pauseSlideTransition'));\n    }\n\n    this.setProperties({\n      autoPlay: true\n    }, true);\n    var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n    itemsContainer.setAttribute('aria-live', 'off');\n    this.applySlideInterval();\n  };\n  /**\n   * Method to pause the slides programmatically.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.pause = function () {\n    var pauseIcon = this.element.querySelector(\".\" + CLS_PAUSE_ICON);\n\n    if (this.showPlayButton && pauseIcon) {\n      var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n      playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n      classList(pauseIcon, [CLS_PLAY_ICON], [CLS_PAUSE_ICON]);\n    }\n\n    this.setProperties({\n      autoPlay: false\n    }, true);\n    var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n    itemsContainer.setAttribute('aria-live', 'off');\n    this.resetSlideInterval();\n  };\n  /**\n   * Method to render react and angular templates\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Carousel.prototype.renderTemplates = function () {\n    if (this.isAngular || this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Method to reset react and angular templates\n   *\n   * @param {string[]} templates Accepts the template ID\n   * @returns {void}\n   * @private\n   */\n\n\n  Carousel.prototype.resetTemplates = function (templates) {\n    if (this.isAngular || this.isReact) {\n      this.clearTemplate(templates);\n    }\n  };\n  /**\n   * Method for destroy the carousel component.\n   *\n   * @returns {void}\n   */\n\n\n  Carousel.prototype.destroy = function () {\n    var _this = this;\n\n    this.resetTemplates();\n\n    if (this.touchModule) {\n      this.touchModule.destroy();\n      this.touchModule = null;\n    }\n\n    this.keyModule.destroy();\n    this.keyModule = null;\n    this.resetSlideInterval();\n    this.destroyButtons();\n    this.unWireEvents();\n    [].slice.call(this.element.children).forEach(function (ele) {\n      _this.element.removeChild(ele);\n    });\n    removeClass([this.element], [CLS_CAROUSEL, this.cssClass, CLS_RTL$5]);\n    ['tabindex', 'role', 'style'].forEach(function (attr) {\n      _this.element.removeAttribute(attr);\n    });\n\n    _super.prototype.destroy.call(this);\n  };\n\n  __decorate$11([Collection([], CarouselItem)], Carousel.prototype, \"items\", void 0);\n\n  __decorate$11([Property('Slide')], Carousel.prototype, \"animationEffect\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"previousButtonTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"nextButtonTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"indicatorsTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"playButtonTemplate\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"cssClass\", void 0);\n\n  __decorate$11([Property([])], Carousel.prototype, \"dataSource\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"itemTemplate\", void 0);\n\n  __decorate$11([Property(0)], Carousel.prototype, \"selectedIndex\", void 0);\n\n  __decorate$11([Property('100%')], Carousel.prototype, \"width\", void 0);\n\n  __decorate$11([Property('100%')], Carousel.prototype, \"height\", void 0);\n\n  __decorate$11([Property(5000)], Carousel.prototype, \"interval\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"autoPlay\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"pauseOnHover\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"loop\", void 0);\n\n  __decorate$11([Property(false)], Carousel.prototype, \"showPlayButton\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"enableTouchSwipe\", void 0);\n\n  __decorate$11([Property(true)], Carousel.prototype, \"showIndicators\", void 0);\n\n  __decorate$11([Property('Visible')], Carousel.prototype, \"buttonsVisibility\", void 0);\n\n  __decorate$11([Property(false)], Carousel.prototype, \"partialVisible\", void 0);\n\n  __decorate$11([Property()], Carousel.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$11([Event()], Carousel.prototype, \"slideChanging\", void 0);\n\n  __decorate$11([Event()], Carousel.prototype, \"slideChanged\", void 0);\n\n  Carousel = __decorate$11([NotifyPropertyChanges], Carousel);\n  return Carousel;\n}(Component);\n/** Carousel export modules */\n\n\nvar __extends$12 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$12 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // Constant variables\n\n\nvar CLS_APPBAR = 'e-appbar';\nvar CLS_HORIZONTAL_BOTTOM = 'e-horizontal-bottom';\nvar CLS_STICKY = 'e-sticky';\nvar CLS_PROMINENT = 'e-prominent';\nvar CLS_DENSE = 'e-dense';\nvar CLS_RTL$6 = 'e-rtl';\nvar CLS_LIGHT = 'e-light';\nvar CLS_DARK = 'e-dark';\nvar CLS_PRIMARY = 'e-primary';\nvar CLS_INHERIT = 'e-inherit';\n/**\n * The AppBar displays the information and actions related to the current application screen. It is used to show branding, screen titles, navigation, and actions.\n * Support to inherit colors from AppBar provided to <c>Button</c>, <c>DropDownButton</c>, <c>Menu</c> and <c>TextBox</c>.\n * Set <c>CssClass</c> property with <code>e-inherit</code> CSS class to inherit the background and color from AppBar.\n */\n\nvar AppBar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$12(AppBar, _super);\n  /**\n   * Constructor for creating the AppBar widget\n   *\n   * @param {AppBarModel} options Accepts the AppBar model properties to initiate the rendering\n   * @param {string | HTMLElement} element Accepts the DOM element reference\n   */\n\n\n  function AppBar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Removes the control from the DOM and also removes all its related events.\n   *\n   * @returns {void}\n   */\n\n\n  AppBar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    this.element.classList.remove(CLS_APPBAR);\n    this.element.removeAttribute('style');\n    this.element.removeAttribute('role');\n  };\n\n  AppBar.prototype.getModuleName = function () {\n    return 'appbar';\n  };\n\n  AppBar.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n\n  AppBar.prototype.preRender = function () {// pre render code\n  };\n\n  AppBar.prototype.render = function () {\n    if (this.element.tagName !== 'HEADER') {\n      this.element.setAttribute('role', 'header');\n    }\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (this.position === 'Bottom') {\n      this.element.classList.add(CLS_HORIZONTAL_BOTTOM);\n    }\n\n    if (this.isSticky) {\n      this.element.classList.add(CLS_STICKY);\n    }\n\n    if (this.enableRtl) {\n      this.element.classList.add(CLS_RTL$6);\n    }\n\n    this.setHeightMode();\n    this.setColorMode();\n\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      this.setHtmlAttributes(this.htmlAttributes, this.element);\n    }\n  };\n\n  AppBar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'mode':\n          removeClass([this.element], [CLS_DENSE, CLS_PROMINENT]);\n          this.setHeightMode();\n          break;\n\n        case 'position':\n          if (this.position === 'Bottom') {\n            addClass([this.element], CLS_HORIZONTAL_BOTTOM);\n          } else {\n            removeClass([this.element], CLS_HORIZONTAL_BOTTOM);\n          }\n\n          break;\n\n        case 'cssClass':\n          if (oldProp.cssClass) {\n            removeClass([this.element], oldProp.cssClass.split(' '));\n          }\n\n          if (newProp.cssClass) {\n            addClass([this.element], newProp.cssClass.split(' '));\n          }\n\n          break;\n\n        case 'isSticky':\n          if (this.isSticky) {\n            addClass([this.element], CLS_STICKY);\n          } else {\n            removeClass([this.element], CLS_STICKY);\n          }\n\n          break;\n\n        case 'htmlAttributes':\n          if (!isNullOrUndefined(this.htmlAttributes)) {\n            if (!isNullOrUndefined(oldProp.htmlAttributes)) {\n              var keys = Object.keys(oldProp.htmlAttributes);\n\n              for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                var key = keys_1[_b];\n\n                if (key === 'class') {\n                  removeClass([this.element], oldProp.htmlAttributes[\"\" + key]);\n                } else {\n                  this.element.removeAttribute(key);\n                }\n              }\n            }\n\n            this.setHtmlAttributes(newProp.htmlAttributes, this.element);\n          }\n\n          break;\n\n        case 'colorMode':\n          removeClass([this.element], [CLS_DARK, CLS_PRIMARY, CLS_INHERIT, CLS_LIGHT]);\n          this.setColorMode();\n          break;\n\n        case 'enableRtl':\n          if (this.enableRtl) {\n            addClass([this.element], CLS_RTL$6);\n          } else {\n            removeClass([this.element], CLS_RTL$6);\n          }\n\n          break;\n      }\n    }\n  };\n\n  AppBar.prototype.setHtmlAttributes = function (attribute, element) {\n    var keys = Object.keys(attribute);\n\n    for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n      var key = keys_2[_i];\n\n      if (key === 'class') {\n        addClass([element], attribute[\"\" + key]);\n      } else {\n        element.setAttribute(key, attribute[\"\" + key]);\n      }\n    }\n  };\n\n  AppBar.prototype.setHeightMode = function () {\n    if (this.mode === 'Prominent') {\n      this.element.classList.add(CLS_PROMINENT);\n    } else if (this.mode === 'Dense') {\n      this.element.classList.add(CLS_DENSE);\n    }\n  };\n\n  AppBar.prototype.setColorMode = function () {\n    switch (this.colorMode) {\n      case 'Light':\n        this.element.classList.add(CLS_LIGHT);\n        break;\n\n      case 'Dark':\n        this.element.classList.add(CLS_DARK);\n        break;\n\n      case 'Primary':\n        this.element.classList.add(CLS_PRIMARY);\n        break;\n\n      case 'Inherit':\n        this.element.classList.add(CLS_INHERIT);\n        break;\n    }\n  };\n\n  __decorate$12([Property('Regular')], AppBar.prototype, \"mode\", void 0);\n\n  __decorate$12([Property('Top')], AppBar.prototype, \"position\", void 0);\n\n  __decorate$12([Property()], AppBar.prototype, \"cssClass\", void 0);\n\n  __decorate$12([Property(false)], AppBar.prototype, \"isSticky\", void 0);\n\n  __decorate$12([Property()], AppBar.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$12([Property('Light')], AppBar.prototype, \"colorMode\", void 0);\n\n  __decorate$12([Event()], AppBar.prototype, \"created\", void 0);\n\n  __decorate$12([Event()], AppBar.prototype, \"destroyed\", void 0);\n\n  AppBar = __decorate$12([NotifyPropertyChanges], AppBar);\n  return AppBar;\n}(Component);\n/** AppBar export modules */\n\n/**\n * Navigation all modules\n */\n\n\nexport { MenuAnimationSettings, MenuItem, FieldSettings, HScroll, VScroll, addScrolling, destroyScroll, Item, Toolbar, AccordionActionSettings, AccordionAnimationSettings, AccordionItem, Accordion, ContextMenu, Menu, TabActionSettings, TabAnimationSettings, Header, TabItem, Tab, FieldsSettings, ActionSettings, NodeAnimationSettings, TreeView, Sidebar, BreadcrumbOverflowMode, BreadcrumbItem, Breadcrumb, CarouselItem, Carousel, AppBar };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Complex","Component","Draggable","Droppable","Event","EventHandler","KeyboardEvents","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","detach","extend","formatUnit","getElement","getInstance","getRandomId","getUniqueID","getValue","isBlazor","isNullOrUndefined","isRippleEnabled","isUndefined","isVisible","matches","merge","remove","removeClass","rippleEffect","select","selectAll","setStyleAttribute","setValue","ListBase","Popup","calculatePosition","createSpinner","fit","getScrollableParent","getZindexPartial","hideSpinner","isCollide","showSpinner","Button","createCheckBox","rippleMouseHandler","DataManager","Query","Input","__extends","undefined","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","CLS_ROOT","CLS_RTL","CLS_DISABLE","CLS_HSCROLLBAR","CLS_HSCROLLCON","CLS_NAVARROW","CLS_NAVRIGHTARROW","CLS_NAVLEFTARROW","CLS_HSCROLLNAV","CLS_HSCROLLNAVRIGHT","CLS_HSCROLLNAVLEFT","CLS_DEVICE","CLS_OVERLAY","CLS_RIGHTOVERLAY","CLS_LEFTOVERLAY","OVERLAY_MAXWID","HScroll","_super","options","element","call","preRender","browser","info","name","browserCheck","isDevice","customStep","ieCheck","initialize","id","uniqueId","style","display","enableRtl","add","render","touchModule","scroll","touchHandler","bind","swipe","swipeHandler","scrollEle","scrollHandler","createNavIcon","createOverlay","setScrollState","scrollStep","offsetWidth","className","scrollDiv","setAttribute","ele","innerEle","slice","children","_i","innerEle_1","ele_1","appendChild","overflowX","scrollItems","getPersistData","keyEntity","addOnPersist","getModuleName","destroy","nav","overlay","forEach","_a","elem","removeAttribute","disable","value","navEles","el","concat","rightOverlayEle","clsRight","rightEle","navItem","leftEle","insertBefore","firstChild","eventBinding","rightAttributes","attrs","clsLeft","leftAttributes","navEle","navLeftItem","onKeyPress","e","_this","timeoutFun_1","keyTimeout","eleScrolling","keyTimer","window","setTimeout","onKeyUp","click","clearTimeout","tapHold","tabHoldHandler","tapHoldThreshold","addEventListener","repeatScroll","preventDefault","clickEventHandler","clearInterval","timeout","trgt","originalEvent","contains","firstElementChild","scrollDis","timeoutFun","setInterval","isContinuous","rootEle","classList$$1","querySelector","frameScrollRequest","swipeEle","distance","velocity","distanceX","start","animate","step","Math","sin","cancelAnimationFrame","swipeDirection","scrollLeft","requestAnimationFrame","scrollUpdating","scrollVal","action","scrollValue","scrollDirection","arrowDisabling","addDisable","removeDisable","arrowEle","arrowIcon","width","navLeftEle","navRightEle","leftOverlay","rightOverlay","scrollWidth","ceil","disEle","onPropertyChanged","newProp","oldProp","keys","prop","__extends$1","__decorate$1","CLS_ROOT$1","CLS_RTL$1","CLS_DISABLE$1","CLS_VSCROLLBAR","CLS_VSCROLLCON","CLS_NAVARROW$1","CLS_NAVUPARROW","CLS_NAVDOWNARROW","CLS_VSCROLLNAV","CLS_VSCROLLNAVUP","CLS_VSCROLLNAVDOWN","CLS_DEVICE$1","CLS_OVERLAY$1","CLS_UPOVERLAY","CLS_DOWNOVERLAY","OVERLAY_MAXWID$1","VScroll","scrollEventHandler","createOverlayElement","wheelEventHandler","offsetHeight","scrollCnt","scrollBar","overflow","navs","overlays","downOverlayEle","clsDown","downEle","upEle","clsUp","navElement","navUpItem","ev","scrollDistance","event","deltaY","swipeElement","distanceY","scrollTop","addDisableCls","removeDisableCls","height","navUpEle","navDownEle","upOverlay","downOverlay","scrollHeight","addScrolling","createElement$$1","container","content","scrollType","offset","containerOffset","contentOffset","parentElem","parentElement","getBoundingClientRect","createScrollbar","maxWidth","maxHeight","scrollObj","destroyScroll","skipEle","menu","__extends$2","__decorate$2","ENTER","ESCAPE","FOCUSED","HEADER","SELECTED","SEPARATOR","UPARROW","DOWNARROW","LEFTARROW","RIGHTARROW","HOME","END","TAB","CARET","ITEM","DISABLED","HIDE","ICONS","RTL","POPUP","TEMPLATE_PROPERTY","FieldSettings","apply","MenuItem","MenuAnimationSettings","MenuBase","navIdx","animation","isTapHold","tempItem","showSubMenuOn","isMenu","ul","tagName","ejInst","clonedElement","cloneNode","refEle","nextElementSibling","ejInstance","wrapper","idx","len","nodeName","nodeValue","parentNode","renderItems","wireEvents","renderComplete","getWrapper","template","enableScrolling","isReact","isAngular","document","body","cssClass","replace","trim","split","hamburgerMode","createHeaderContainer","defaultOption","showItemOnClick","items","createJsonFromElement","fields","child","setProperties","removeChildElement","innerHTML","createItems","setBlankIconStyle","targetElems","menuHeaderClickHandler","isIos","cmenuHandler","targetElement","parent_1","delegateMoverHandler","moverHandler","delegateMouseDownHandler","mouseDownHandler","delegateClickHandler","clickHandler","wireKeyboardEvent","rippleFn","selector","keyConfigs","downarrow","uparrow","enter","leftarrow","rightarrow","escape","home","end","tab","keyAction","keyBoardHandler","closeMenu","keyHandler","keyCode","actionName","actionNeeded","removeLIStateByClass","upDownKeyHandler","rightEnterKeyHandler","leftEscKeyHandler","cul","getUlByNavIdx","defaultIdx","childElementCount","fliIdx","fli","getLIByClass","getIdx","cli","isValidLI","focus","index","navIdxLen","popups_1","allPopup","push","popup","eventArgs","item","getItem","keyType","openMenu","trigger","currentTarget","isCMenu","pageX","changedTouches","pageY","canOpen","ulIndex","isIterated","isMenuVisible","sli","item_1","wrapper_1","beforeCloseArgs","items_1","popups","getPopups","isClose","cnt","ul_1","liElem_1","getLI","parentItem","cancel","isFocused","observedCloseArgs","popupEle","closeArgs","popupId","popupObj","isOpen","minHeight","unWireKeyboardEvent","hide","toggleAnimation","pop","updateReactTemplate","trgtliId","closedLi","trgtLi","trgtpopUp","RegExp","exec","submenus","querySelectorAll","afterCloseMenu","getIndex","isMenusClosed","which","sli_1","getAttribute","cliIdx","item_2","removeStateWrapper","portals","splice","clearTemplate","renderReactTemplates","getMenuItemModel","level","getFields","text","separator","iconCss","url","valueOf","filter","li","top","left","lItem","elemId","uList","getField","lastChild","data","toString","hdata","hli","popupWrapper","isNestedOrVertical","generatePopup","calculateIndentSize","hoverDelay","timer","triggerBeforeOpen","zIndex","createEvent","initEvent","targetEvent","copyObject","srcElement","source","destination","liStyle","getComputedStyle","liIndent","parseInt","textIndent","blankIconElem","menuIconElem","menuIconElemStyle","blankIconIndent","marginRight","actionOnScroll","relateTo","collision","X","Y","position","targetType","open","triggerOpen","spanElem","tempTitle","enableHtmlSanitizer","sanitize","title","spanTitle","spanIcon","openHamburgerMenu","closeHamburgerMenu","observedHamburgerCloseArgs","callFit","x","y","type","menuType","observedOpenArgs","checkScrollOffset","refreshPosition","indexOf","animationOptions","animationSettings","effect","duration","timingFunction","easing","show","setPosition","eventArgs_1","collide","offWidth","blankIconList","getElementsByClassName","iconLi","icon","cssProp","padding","margin","iconCssProps","iconSize","fontSize","size","offsetEle","offsetLeft","offsetRight","px","toggleVisiblity","newTop","pageYOffset","documentElement","clientHeight","Number","xCollision","isVisible$$1","visibility","showIcon","hasField","listBaseOptions","moduleName","itemNavigable","itemCreating","args","curData","htmlAttributes","assign","role","tabindex","itemCreated","span","templateID","createList","liTrgt","hdrWrapper","regex","ulId","isDifferentElem","isClosed","_loop_1","propName","fieldName","field","cliWrapper","isInstLI","cliWrapperId","setLISelected","showSubMenu","culIdx","cIdx","isHeader","classname","getItemIndex","isUniqueId","isText","setItem","newItem","getItems","setItems","newItems","skipHdr","updateItemsByNavIdx","count","updateItem","removeChild","_loop_2","toggle","this_1","unWireEvents","ul_2","ul_3","lastElementChild","getChangedItemIndex","insertAfter","removeItem","wrapper1","ul1","lis","popStr","uls","targetSelctor","parent_2","keyboardModule","isMenuOpen","pUlHeight","pElement","begin","progress","nIndex","isCallBack","unshift","enableItems","enable","disabled","skipItem","i_1","showItems","showHideItems","hideItems","ishide","validUl","textContent","removeItems","iitems","insertItems","isAfter","menuitem","removeAttributes","removeProperty","refreshing","getElementById","itemId","parentId","__extends$3","__decorate$3","CLS_VERTICAL","CLS_ITEMS","CLS_ITEM","CLS_RTL$2","CLS_SEPARATOR","CLS_POPUPICON","CLS_POPUPDOWN","CLS_POPUPOPEN","CLS_TEMPLATE","CLS_DISABLE$2","CLS_POPUPTEXT","CLS_TBARTEXT","CLS_TBAROVERFLOW","CLS_POPOVERFLOW","CLS_TBARBTN","CLS_TBARNAV","CLS_TBARSCRLNAV","CLS_TBARRIGHT","CLS_TBARLEFT","CLS_TBARCENTER","CLS_TBARPOS","CLS_HSCROLLCNT","CLS_VSCROLLCNT","CLS_HSCROLLBAR$1","CLS_POPUPNAV","CLS_POPUPCLASS","CLS_POPUP","CLS_TBARBTNTEXT","CLS_TBARNAVACT","CLS_TBARIGNORE","CLS_POPPRI","CLS_HIDDEN","CLS_MULTIROW","CLS_MULTIROWPOS","CLS_MULTIROW_SEPARATOR","CLS_EXTENDABLE_SEPARATOR","CLS_EXTEANDABLE_TOOLBAR","CLS_EXTENDABLECLASS","CLS_EXTENDPOPUP","CLS_EXTENDEDPOPOPEN","Item","Toolbar","resizeContext","resize","moveLeft","moveRight","moveUp","moveDown","popupOpen","popupClose","btnItems","ej2_instances","isDestroyed","unwireEvents","tempId","destroyItems","trgtEle","ctrlTem","popObj","activeEle","tbarAlign","tbarItemsCol","attrb","enableCollision","scrollModule","isVertical","isExtendedOpen","popupPriCount","allowKeyboard","keyModule","keyActionHandler","docKeyDown","updateTabIndex","tabIndex","dataTabIndex","unwireKeyboardEvent","popCheck","overflowMode","keyCheck","removeEventListener","docEvent","clearProperty","tbarEle","tbarAlgEle","lefts","centers","rights","popEle","tbarItems","destroyMode","tempEle","popupRefresh","val","elementFocus","fChild","activeEleSwitch","clstElement","tbrNavChk","clst","keyHandling","navChk","scrollChk","popAnimate","nodes","eleFocus","popupCheck","extendedPopup","focusFirstVisibleEle","focusLastVisibleEle","popFrstEle","activeEleRemove","tbarScrollChk","eleContains","closest$$1","pos","sib","tbrItems","isPopupElement","clsList","popupNav","popupClickHandler","itemObj","clickedArgs","offsetX","dataBind","getElementOffsetY","renderControl","ariaAttr","renderLayout","renderOverflowMode","itemPositioning","checkPopupRefresh","itemsAlign","itemEleDom","innerItem","innerPos","renderSubComponent","tbarItemAlign","align","toLowerCase","showAlwaysInPopup","notify","changeOrientation","refreshOverflow","initScroll","innerItems","checkOverflow","itemWidthCal","parseFloat","marginTop","marginBottom","marginLeft","getScrollCntEle","trgClass","eleWidth","itemWidth","popNav","scrollNav","navEleWidth","toolbarAlign","priorityCheck","offsetWid","removePositioning","setOverflowAttributes","createPopupEle","eleItem","multiVar","extendVar","eleInlineItem","innerNav","vertical","createPopupIcon","innerNavDom","direction","checkPriority","createPopup","pushingPoppedEle","tbarObj","popupPri","eleHeight","sepHeight","poppedEle","nodeIndex","nodePri","tbResize","childNodes","tbarElement","sepItem","extendEle","popupInit","getPropertyValue","eleStyles","offsetY","close","borderRightWidth","appendTo","tbarPopupHandler","toolEle","popupElePos","offsetTop","popIcon","scrollY","innerHeight","overflowHeight","tbEleData","bottom","popupOffset","right","clientWidth","inEle","pre","popPriority","eleWid","eleOffset","checkoffset","sepCheck","itemCount","itemPopCount","checkClass","rVal","cls","mrgn","compuStyle","fstEleCheck","tbarEleMrgn","eleWid_1","minWidth","sepEle","popedEle","tbarPriRef","indx","sepPri","des","elWid","wid","ig","ignoreCount","query","priEleCnt","eleSep","ignoreCheck","sepDisplay","eleSepWidth","prevSep","previousElementSibling","isVer","dimension","popupEleWidth","popupEleRefresh","ignoreEleFetch","ignoreEle","ignoreInx","root","tbarWidth","tbarItemsWid","elWidth","btnText","btn","eleSplice","sepBeforePri_1","state_1","refreshPositioning","tbarWid","popWid","itemEle","alignDiv","alignEle","leftAlign_1","ctrlTemplate","setAttr","attr","keyVal","isEnable","elements","a","itemElement","getElementByIndex","addItems","extendedOpen","itemsDiv","itemsRerender","itemAgn","algIndex","removeItemByIndex","eleIdx","indexAgn","btnItem","templateRender","templateProp","itemType","eleObj","isComponent","templateFn","regEx","test","tempStr","outerHTML","tempArray","toolbarTemplateID","isStringTemplate","buttonRendering","dom","textStr","iconPos","btnTxt","prefixIcon","suffixIcon","btnObj","iconPosition","tempDom","tooltipText","itemClick","showTextOn","sTxt","visible","getDataTabindex","curEle","multirowele","updateHideEleTabIndex","isHidden","isElement","eleIndex","nextEle","tEle","changedProb","property","newProperty","refresh","popupPriCheck","booleanCheck","itemCol","hideItem","innerItems_1","__extends$4","__decorate$4","CLS_ACRDN_ROOT","CLS_ROOT$2","CLS_ITEM$1","CLS_ITEMFOCUS","CLS_ITEMHIDE","CLS_HEADER","CLS_HEADERICN","CLS_HEADERCTN","CLS_CONTENT","CLS_CTENT","CLS_TOOGLEICN","CLS_COLLAPSEICN","CLS_EXPANDICN","CLS_RTL$3","CLS_CTNHIDE","CLS_SLCT","CLS_SLCTED","CLS_ACTIVE","CLS_ANIMATE","CLS_DISABLE$3","CLS_TOGANIMATE","CLS_NEST","CLS_EXPANDSTATE","CLS_CONTAINER","AccordionActionSettings","AccordionAnimationSettings","AccordionItem","Accordion","space","isVue","isDestroy","restoreContent","isNested","removeRippleEffect","nested","templateEle","initializeHeaderTemplate","initializeItemTemplate","initExpand","expandedIndices","initItemExpand","wireFocusEvents","acrdItem","acrdItem_1","headerEle","clearEvents","focusIn","focusOut","eventName","templateParser","error","headerTemplate","headerTemplateFn","itemTemplate","itemTemplateFn","getHeaderTemplate","getItemTemplate","innerEles","header","toggleIconGenerate","tglIcon","hdrColIcon","expandMode","expandItem","innerDataSourceItem","dataSource","renderInnerItem","acrdEle","acrdnItem","acrdnHdr","acrdnCtn","acrdnCtnItem","getIndexByItem","ctnCheck","contentRendering","ariaAttrUpdate","afterContentRender","acrdActive","cntclkCheck","inlineAcrdnSel","inlineEleAcrdn","nestContCheck","acrdcontainer","acrdnchild","acrdAniEle","acrdAniEle_1","sameContentCheck","sameHeader","acrdnCtn_1","acrdnRoot","expandState","collapse","expand","eleMoveFocus","clstItem","headerEleGenerate","ctnEle","hdrEle","angularnativeCondiCheck","fetchElement","hdr","expanded","enablePersistence","hdrIcnEle","hdrIcon","elementRef","nativeElement","parseddata","JSON","parse","temString","eleVal","HTMLElement","templateProps","templateName","itemcnt","ctn","trgtItemEle","isExpanded","expandArgs","expandedItemsPush","expandProgress","expandAnimation","ef","icn","lastActiveItemId","temp","getItemElements","itemCollection","expandedItemsPop","collapseProgress","collapseAnimation","trgtItEl","trgtHeight","itemHeight","remain","addItem","itemIndex","innerItemEle","expandedItemRefresh","enableItem","eleHeader","isExpand","itemExpand","expandedItem","ctnElePos","eleStr","clearAccordionTemplate","setTemplate","toElement","templateCompile","childEle","registeredTemplate","registeredTemplates","registeredItem","rootNodes","closestItem","containerInfo","portalItem","acrdn","isRefresh","changedProp","j","k","oldVal","newVal","activeContent","__extends$5","__decorate$5","ContextMenu","__extends$6","__decorate$6","VMENU","SCROLLABLE","HAMBURGER","Menu","tempItems","clearChanges","updateMenuItems","orientation","map","createMenuItems","pIdField","__extends$7","__decorate$7","CLS_TAB","CLS_HEADER$1","CLS_BLA_TEM","CLS_CONTENT$1","CLS_NEST$1","CLS_ITEMS$1","CLS_ITEM$2","CLS_TEMPLATE$1","CLS_RTL$4","CLS_ACTIVE$1","CLS_DISABLE$4","CLS_HIDDEN$1","CLS_FOCUS","CLS_ICONS","CLS_ICON","CLS_ICON_TAB","CLS_ICON_CLOSE","CLS_CLOSE_SHOW","CLS_TEXT","CLS_INDICATOR","CLS_WRAP","CLS_TEXT_WRAP","CLS_TAB_ICON","CLS_TB_ITEMS","CLS_TB_ITEM","CLS_TB_POP","CLS_TB_POPUP","CLS_HOR_NAV","CLS_POPUP_OPEN","CLS_POPUP_CLOSE","CLS_PROGRESS","CLS_IGNORE","CLS_OVERLAY$2","CLS_HSCRCNT","CLS_VSCRCNT","CLS_VTAB","CLS_VERTICAL$1","CLS_VLEFT","CLS_VRIGHT","CLS_HBOTTOM","CLS_FILL","TABITEMPREFIX","CLS_REORDER_ACTIVE_ITEM","TabActionSettings","TabAnimationSettings","Header","TabItem","Tab","isInteracted","lastIndex","isAdd","isIconAlone","draggableItems","refreshActiveTabBorder","delete","tbObj","expTemplateContent","isTemplate","cntEle","btnCls","tbItems","tbItem","tbPop","prevItem","bdrLine","dragItem","cloneElement","draggingItems","prevIndex","isPopup","initRender","isSwipeed","itemIndexArray","allowDragAndDrop","dragArea","css","setCssClass","updatePopAnimationConfig","tabId","renderContainer","setOrientation","headerPlacement","renderHeader","renderContent","scrCnt","scrCntClass","setContentHeight","selectedItem","setRTL","hdrPlace","tabItems","getTabHeader","addVerticalClass","parseObject","hdrItems","tabItems_1","txt","cont","wrap","clicked","setCloseButton","showCloseButton","toolbarHeader","hdrItem","contents","reRenderItems","maxId","isReplace","idList_1","getIndexFromEle","max","tItems","txtWrapEle","spliceArray","tbId","substring","lastIndexOf","hidden","tHtml","txtEmpty","headerTextCompile","tCont","wrapAttrs","attrObj","tItem","spliceItemIndex","removeActiveClass","tabHeader","node","checkPopupOverflow","isOverflow","popupHandler","ripEle","actEleId","prevEle","trg","prevCtnAnimation","prev","current","checkRTL","previous","next","triggerPrevAnimation","oldCnt","animateObj","triggerAnimation","prevActiveEle","newCnt","getTrgContent","extIndex","idNo","isPrevent","openEff","clsEff","setActiveBorder","keyPressed","trgParent","trgIndex","getEleIndex","selectTab","headers","compileElement","templateFUN","getContent","callType","no","findEle","tbPos","place","activeTab","changeToolbarOrientation","focusItem","curActItem","headerPos","contentPos","list","heightAdjustMode","getHeight","cs","trgHdrEle","reorderActiveTab","bar","tbHeight","top_1","tbWidth","setActive","skipDataBind","isNaN","allowServerDataBinding","serverDataBind","trg_1","enableAnimation","eleTrg","refreshItemVisibility","eventArg","previousItem","previousIndex","selectedIndex","selectedContent","selectingID","isSwiped","refreshActiveBorder","showPopup","config","tbPopObj","bindDraggable","initializeDrag","hoverHandler","spaceKeyDown","tabKeyModule","openPopup","shiftTab","removeTab","nestedTab","clstHead","actEle","activeElement","nxtSib","nextSibling","scrBar","scrStart","scrEnd","eleStart","eleEnd","eleViewRange","closeButtonTitle","locale","getConstant","evalOnPropertyChangeItems","properties","cntItem","textVal","clearTabTemplate","arr","isHiddenEle","addTab","hideTab","strVal","enableTab","selectElement","dragObj","dragTarget","clone","helper","dragStart","itemDragStart","drag","dragIndex","dropIndex","dropItem","dragArgs","draggedItem","droppedItem","isEqualNode","cursor","scrollRightNavEle","scrollLeftNavEle","hscrollBar","abs","pointerEvents","scrollContentWidth","isSameNode","dragAction","droppedIndex","dragStop","itemDragStop","tabitemDragArgs","intDestroy","dragsIndex","popupContainer","lastEle","dragStopArgs","tabItemDropArgs","addArgs","addedItems","tabAddingArgs","addingTabContent","lastEleIndex","itemsCount","tabItems_2","textValue_1","removeArgs","removedItem","removedIndex","tabRemovingArgs","targetEleIndex","cntTrg","selectedID","selectingItem","selectingIndex","selectingContent","selectArgs","tabItemId","refreshActiveTab","txtWrap","tConts","wrapAtt","wraper","crElem","innerText","detachContent","mainContents","txtString","conte","__extends$8","__decorate$8","ROOT","CONTROL","COLLAPSIBLE","EXPANDABLE","LISTITEM","LISTTEXT","LISTWRAP","IELISTWRAP","PARENTITEM","HOVER","ACTIVE","LOAD","PROCESS","ICON","TEXTWRAP","INPUT","INPUTGROUP","TREEINPUT","EDITING","RTL$1","INTERACTION","DRAGITEM","DROPPABLE","DRAGGING","SIBLING","DROPIN","DROPNEXT","DROPOUT","NODROP","FULLROWWRAP","FULLROW","SELECTED$1","EXPANDED","NODECOLLAPSED","DISABLE","DROPCOUNT","CHECK","INDETERMINATE","CHECKBOXWRAP","CHECKBOXFRAME","CHECKBOXRIPPLE","RIPPLE","RIPPLEELMENT","FOCUS","IMAGE","BIGGER","SMALL","CHILD","ITEM_ANIMATION_ACTIVE","DISABLED$1","PREVENTSELECT","treeAriaAttr","treeRole","itemRole","listRole","itemText","wrapperRole","FieldsSettings","ActionSettings","NodeAnimationSettings","TreeView","isRefreshed","preventExpand","checkedElement","disableNode","validArr","validNodes","expandChildren","isFieldChange","changeDataSource","hasTemplate","isFirstRender","isNodeDropped","isRightClick","mouseDownStatus","TreeView_1","checkActionNodes","parentNodeCheck","dragStartAction","isAnimate","f2","ctrlDown","ctrlUp","ctrlEnter","ctrlHome","ctrlEnd","ctrlA","shiftDown","shiftUp","shiftEnter","shiftHome","shiftEnd","csDown","csUp","csEnter","csHome","csEnd","shiftSpace","ctrlSpace","listBaseOption","expandCollapse","expandIconClass","ariaAttributes","expandIconPosition","beforeNodeCreate","fullRowNavigable","updateListProp","aniObj","treeList","isLoaded","isInitalExpand","setTouchClass","selectedNodes","checkedNodes","expandedNodes","initialRender","setDataBinding","setDisabledMode","setExpandOnType","setRipple","wireEditingEvents","allowEditing","setDragAndDrop","setEnableRtl","setFullRow","fullRowSelect","setTextWrap","nodeTemplateFn","templateComplier","nodeTemplate","rippleModel","ignore","iconModel","isCenterRipple","rippleIconFn","isEnabled","setMultiSelect","firstUl","isOffline","offline","ready","then","treeData","result","isNumberTypeId","getType","setRootData","finalize","catch","executeQuery","getQuery","rootData","stringify","mapper","columns","getActualProperties","col","from","tableName","addSorting","sortOrder","parentID","where","dataType","getDataType","groupedData","getGroupedData","rootItems","getChildNodes","isSorted","sortedData","getSortedData","ulElement","loadOnDemand","renderChildNodes","parentEle","finalizeNode","parentCheckData","updateCheckedStateFromDS","autoCheck","showCheckBox","updateParentCheckState","resultData","executeLocal","isChecked","resultId","resultPId","hasChildren","id_1","childData","childId","mapper_1","checkState","getCheckedNodeDetails","checkIndeterminateState","checkedId","checkedData","fieldId","childItems","updateChildCheckState","checkNodes","preElement","check","changeState","indeterminate","childCheckedElement","nodeId","nodeCheck","ariaChecked","checkedParent","checkedChild","subChildItems","checkboxEle","touchClass","checkValue","addCheck","frame","frameMouseHandler","createFullRow","allowMultiSelection","addActionClass","selected","textEle","dataId","renderNodeTemplate","nodeData","selectable","rippleSpan","actionValue","ds","groupBy","cusQuery","group","getDataSource","grpItem","iNodes","sNodes","selectNode","cNodes","disableExpandAttr","eNodes","updateList","updateCheckedProp","ensureIndeterminate","liElement","ensureParentCheckState","ensureChildCheckState","indeterminateNodes","checkBoxEle","parentUL","currentParent","childElement","checkBoxes","parentCheck","childCheck","checkedState","currentLoadData","isNodeChecked","doCheckBoxAction","doCheck","liEle","setValidCheckedNode","dynamicCheckState","updateField","checkBox","validateCheckNode","updateFieldChecked","checkbox","currLi","nodeDetails","getNodeData","updateIndeterminate","subChild","updateChildIndeterminate","indeterminateData","getTreeData","parent","subId","childElementCheck","innerChild","state","getCheckEvent","observedArgs","nodeCheckAction","ariaState","frameSpan","removeCheck","ensureStateChange","checked","firstNode","updateIdAttr","allowTextWrap","updateWrap","hasPid","doExpandAction","isIE","ulEle","liList","calculateWrap","eUids","expandGivenNodes","eNode","expandAction","afterFinalized","proxy","expandCallback","eUid","callback","doSelectionAction","sUids","sNode","selectGivenNodes","elementFromPoint","clientX","clientY","preventContextMenu","rippleElement","rippleIcons","removeHover","setFocusElement","checkWrapper","checkElement","triggerClickEvent","collapseNode","toggleSelect","nodeCheckedEvent","isCheck","expandNode","loaded","start_1","end_1","proxy_1","liEle_1","setHeight","activeElement_1","animateHeight","expandedNode","addExpand","getExpandEvent","colArgs","nodeCollapseAction","collapsedNode","removeExpand","toRemove","remaining","timeStamp","currentHeight","parentLi","expandChild","eicon","parents","mapper_2","getChildFields","loadChild","setSelectionForChildNodes","ensureCheckNode","disableTreeNodes","renderSubChild","getNodeObject","doDisableAction","nodeLevel","dataLevel","getChildMapper","obj","isRoot","getChildGroup","findIndex","objlen","childIndex","cIcons","curLi","multiSelect","ctrlKey","isActive","unselectNode","getSelectEvent","nodeSelectAction","removeSelectAll","shiftKey","startNode","startIndex","endIndex","currNode","addSelect","nodeUnselectAction","removeSelect","focusedNode","getFocusedNode","selectedLI","selectedLI_1","expandOnType","expandOn","expandHandler","expandCollapseAction","nodeExpandAction","liEles","getId","icon_1","inpEle","blur","oldText","checkNode","openNode","shiftKeySelect","navigateNode","navigateRootNode","createTextbox","navigateToFocus","isUp","focusNode","getScrollParent","parentPos","isVisibleInViewport","scrollIntoView","innerWidth","isTowards","nextNode","getNextNode","getPrevNode","checkWrap","nodeCheckingAction","allCheckNode","parentIndex","getChildItems","childStateChange","childIsCheck","newCheck","validateCheck","length_1","hierChildId","childId_1","toBeOpened","focusNextNode","setFocus","isBackwards","rootNode","getRootNode","getEndNode","fNode","previousSibling","prevNode","endNode","preNode","focusedElement","onMouseOver","currentLi","setHover","onMouseLeave","hoveredNode","fromDS","getText","pNode","pid","checkboxElement","nodeFields","tempArr","destroyTemplate","reRenderNodes","oldClass","newClass","editingHandler","oldInpEle","updateOldText","getEditEvent","inpWidth","style_1","renderTextBox","innerHtml","inputObj","createInput","inputEle","setSelectionRange","wireInputEvents","editData","editFields","inputFocusOut","newText","txtEle","crudOperation","appendNewText","isInput","updateText","triggerEvent","getNode","newData","getChildNodeObject","newList","toBind","destroyDrag","virtualEle","enableTailMode","enableAutoScroll","enableTapHold","sender","dragRoot","dragWrap","dragLi","cloneEle","nLen","cNode","dragData","listItem","getDragEvent","draggedNode","dragCancelAction","cursorAt","targetTouches","removeVirtualEle","dropTarget","preventTargetExpand","dropRoot","dragParent","draggedParentNode","dropObj","out","default","over","drop","dropAction","dropWrap","dropLi","isDescendant","templateTarget","appendIndicator","renderVirtualEle","dropIndicator","virEle","dragInstance","liArray","draggable","droppedElement","i_2","appendNode","i_3","draggedElement","dropAsSiblingNode","dropAsChildNode","dropUl","dragParentUl","dragParentLi","moveData","updateElement","updateAriaLevel","updateInstance","dropParentUl","expandParent","childLi","dropParentLi","removedData","updateChildField","refId","getDataPos","currPid","removeChildNodes","addChildData","dropIcon","generateIcon","generateUL","dragIcon","updateChildAriaLevel","sibEle","dragNode","dropData","draggedNodeData","newParent","dragLiParent","targetParent","indexValue","iconClass","dropTar","parent_3","hasAttribute","clonedNode","droppedNode","droppedNodeData","dropLevel","addFullRow","toAdd","rowDiv","addMultiSelect","liEles_1","liEles_2","collapseByLevel","excludeHiddenNodes","getVisibleNodes","collapseAllNodes","expandByLevel","expandAllNodes","eIcons","vNodes","removeNode","removeData","updateSelectedNodes","updateExpandedNodes","dm","newId","currId","doGivenAction","toExpand","addGivenNodes","isRemote","dropEle","updateMapper","createListItemFromJson","refNode","dropIcon1","offsetParent","returnValue","toUpperCase","navigateUrl","updated","childObj","nodeType","validID","checkValidId","doEnableAction","strNodes","filterNestedChild","updatePersistProp","removeField","sleNodes","l","slelen","enodes","nodelen","cnodes","m","names","getMapperProp","remove$$1","proxy_2","touchEditObj","tap","isDoubleTapped","tapCount","wireClickEvent","proxy_3","touchClickObj","wireExpandOnEvent","proxy_4","touchExpandObj","matched","secondTap","firstTap","setCheckedNodes","uncheckAll","setIndeterminate","checkAll","setChildCheckState","parent_4","updatePosition","isRefreshChild","childValue","updateChildPosition","currID","found","dynamicState","operation","newNode","prevent","matchedArr","crud","changes","addedRecords","deletedRecords","changedRecords","nodesID","fromTable","saveChanges","deleteSuccess","dmFailure","update","editSucess","insert","addSuccess","updatePreviousText","getHierarchicalParentId","parentsID","collapseAll","onLoaded","addNodes","beginEdit","disableNodes","enableNodes","ensureVisible","parentsId","reverse","expandAll","behavior","getAllCheckedNodes","getDisabledNodes","disabledNodes","moveNodes","sourceNodes","refreshNode","updatedChildValue","refreshData","newNodeData","parentData","newliEle","newTextEle","newIcon","fullEle","tooltip","class","removeNodes","updateNode","__extends$9","__decorate$9","CONTROL$1","ROOT$1","DOCKER","CLOSE","OPEN","TRASITION","DEFAULTBACKDROP","RTL$2","RIGHT","LEFT","OVER","PUSH","SLIDE","VISIBILITY","DISPLAY","MAINCONTENTANIMATION","DISABLEANIMATION","CONTEXT","SIDEBARABSOLUTE","Sidebar","setWidth","setTarget","setZindex","enableDock","setDock","firstRender","setMediaQuery","checkType","setType","setCloseOnDocumentClick","setEnableRTL","windowWidth","targetEle","sidebarEleCopy","getTargetElement","siblingElement","closeOnDocumentClick","documentclickHandler","setDimension","dockSize","match","classELement","transitionEnd","triggerChange","destroyBackDrop","sibling","showBackdrop","defaultBackdropDiv","modal","closeArguments","model","observedcloseArgs","transform","setAnimation","setTimeOut","elementWidth","openArguments","observedopenArgs","createBackDrop","changeArguments","getState","targetString","mediaQuery","media","matchMedia","enableGestureHandler","startX","setEnableGestures","enableGestures","mainContentEle","sidebarEle","isRendered","isServerRendered","insertAdjacentElement","__extends$10","__decorate$10","ICONRIGHT","ITEMTEXTCLASS","ICONCLASS","MENUCLASS","ITEMCLASS","POPUPCLASS","WRAPMODECLASS","SCROLLMODECLASS","TABINDEX","DISABLEDCLASS","ARIADISABLED","DOT","BreadcrumbOverflowMode","BreadcrumbItem","Breadcrumb","isPopupCreated","_maxItems","maxItems","initItems","initPvtProps","getEndIndex","popupUl","activeItem","baseUri","uri","URL","location","origin","href","isSingleLevel","isIconRight","itemsLength","isActiveItem","isLastItem","isLastItemInPopup_1","j_1","wrapDiv","isItemCancelled_1","ol","firstOl","isCollasped","isDefaultOverflowMode_1","enableActiveItemNavigation","containsRightIcon","isEmptyUrl","keyDownHandler","beforeItemRenderChanges","separatorTemplate","itemClass","nextItem","lastPopupItemIdx","li_1","getMenuElement","calculateMaxItems","liElems","liWidth","menuEle","paddingLeft","currItem","isRightIcon","wrapElem","Node","TEXT_NODE","iconElem","iconElem_1","enableNavigation","anchor","documentClickHandler","floor","renderPopup","popupWireEvents","popupKeyDownHandler","delegateClickHanlder","classes","attributes$$1","attribute","__extends$11","__decorate$11","CLS_CAROUSEL","CLS_ACTIVE$2","CLS_RTL$5","CLS_PARTIAL","CLS_SLIDE_CONTAINER","CLS_ITEMS$2","CLS_CLONED","CLS_ITEM$3","CLS_PREVIOUS","CLS_NEXT","CLS_PREV_ICON","CLS_NEXT_ICON","CLS_NAVIGATORS","CLS_INDICATORS","CLS_INDICATOR_BARS","CLS_INDICATOR_BAR","CLS_INDICATOR$1","CLS_ICON$1","CLS_PLAY_PAUSE","CLS_PLAY_ICON","CLS_PAUSE_ICON","CLS_PREV_BUTTON","CLS_NEXT_BUTTON","CLS_PLAY_BUTTON","CLS_FLAT","CLS_ROUND","CLS_HOVER_ARROWS","CLS_HOVER","CLS_TEMPLATE$2","CLS_SLIDE_ANIMATION","CLS_FADE_ANIMATION","CLS_CUSTOM_ANIMATION","CLS_ANIMATION_NONE","CLS_PREV_SLIDE","CLS_NEXT_SLIDE","CLS_TRANSITION_START","CLS_TRANSITION_END","CarouselItem","Carousel","defaultLocale","nextSlide","of","pauseSlideTransition","playSlideTransition","previousSlide","slide","slideShow","localeObj","renderSlides","renderNavigators","renderPlayButton","renderIndicators","applyAnimation","rtlElement","setActiveSlide","autoSlide","setHtmlAttributes","enableTouchSwipe","renderTouchActions","loop","autoSlideInterval","applySlideInterval","handleNavigatorsActions","partialVisible","reRenderSlides","itemsContainer","cloneCount","slideWidth","getTranslateX","buttonsVisibility","resetTemplates","showPlayButton","playButtonTemplate","playButtonClickHandler","showIndicators","carouselClasses","slideContainer","autoPlay","renderSlide","slideItems","renderTemplates","setProperty","transitionProperty","renderKeyboardActions","isClone","templateId","navigators","renderNavigatorButton","buttonContainer","previousButtonTemplate","nextButtonTemplate","button","buttonObj","navigatorClickHandler","playPauseWrap","playButton","isLastSlide","isToggle","indicatorWrap","indicatorBars","indicatorBar","indicatorsTemplate","indicator","indicatorClickHandler","animationEffect","resetSlideInterval","autoSlideChange","activeSlide","activeIndex","dataset","itemInterval","interval","getSlideIndex","currentIndex","allSlides","activeIndicator","activeIndex_1","currentSlide","nextIndex","slideDirection","slideIndicators","slideChangedEventArgs","onTransitionEnd","keys_1","getNavigatorState","isPrevious","isDisabled","isPropertyChange","slideIndex","isSlideTransition","isSuspendSlideTransition","isButtonUpdate","prevButton","nextButton","onHoverActions","navigator","pauseOnHover","onFocusActions","destroyButtons","buttonCollections","buttonCollections_1","instance","indicators","playIcon","play","pause","pauseIcon","templates","__extends$12","__decorate$12","CLS_APPBAR","CLS_HORIZONTAL_BOTTOM","CLS_STICKY","CLS_PROMINENT","CLS_DENSE","CLS_RTL$6","CLS_LIGHT","CLS_DARK","CLS_PRIMARY","CLS_INHERIT","AppBar","isSticky","setHeightMode","setColorMode","_b","keys_2","mode","colorMode"],"sources":["E:/Hims UI/node_modules/@syncfusion/ej2-navigations/dist/es6/ej2-navigations.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Droppable, Event, EventHandler, KeyboardEvents, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getElement, getInstance, getRandomId, getUniqueID, getValue, isBlazor, isNullOrUndefined, isRippleEnabled, isUndefined, isVisible, matches, merge, remove, removeClass, rippleEffect, select, selectAll, setStyleAttribute, setValue } from '@syncfusion/ej2-base';\nimport { ListBase } from '@syncfusion/ej2-lists';\nimport { Popup, calculatePosition, createSpinner, fit, getScrollableParent, getZindexPartial, hideSpinner, isCollide, showSpinner } from '@syncfusion/ej2-popups';\nimport { Button, createCheckBox, rippleMouseHandler } from '@syncfusion/ej2-buttons';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { Input } from '@syncfusion/ej2-inputs';\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CLS_ROOT = 'e-hscroll';\nvar CLS_RTL = 'e-rtl';\nvar CLS_DISABLE = 'e-overlay';\nvar CLS_HSCROLLBAR = 'e-hscroll-bar';\nvar CLS_HSCROLLCON = 'e-hscroll-content';\nvar CLS_NAVARROW = 'e-nav-arrow';\nvar CLS_NAVRIGHTARROW = 'e-nav-right-arrow';\nvar CLS_NAVLEFTARROW = 'e-nav-left-arrow';\nvar CLS_HSCROLLNAV = 'e-scroll-nav';\nvar CLS_HSCROLLNAVRIGHT = 'e-scroll-right-nav';\nvar CLS_HSCROLLNAVLEFT = 'e-scroll-left-nav';\nvar CLS_DEVICE = 'e-scroll-device';\nvar CLS_OVERLAY = 'e-scroll-overlay';\nvar CLS_RIGHTOVERLAY = 'e-scroll-right-overlay';\nvar CLS_LEFTOVERLAY = 'e-scroll-left-overlay';\nvar OVERLAY_MAXWID = 40;\n/**\n * HScroll module is introduces horizontal scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs horizontal scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new HScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar HScroll = /** @__PURE__ @class */ (function (_super) {\n    __extends(HScroll, _super);\n    /**\n     * Initializes a new instance of the HScroll class.\n     *\n     * @param {HScrollModel} options  - Specifies HScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which horizontal scrolling applies.\n     */\n    function HScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var element = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (element.id === '') {\n            element.id = getUniqueID('hscroll');\n            this.uniqueId = true;\n        }\n        element.style.display = 'block';\n        if (this.enableRtl) {\n            element.classList.add(CLS_RTL);\n        }\n    };\n    /**\n     * To Initialize the horizontal scroll  rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    HScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE);\n            this.createOverlay(this.element);\n        }\n        this.setScrollState();\n    };\n    HScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetWidth;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    HScroll.prototype.initialize = function () {\n        var scrollEle = this.createElement('div', { className: CLS_HSCROLLCON });\n        var scrollDiv = this.createElement('div', { className: CLS_HSCROLLBAR });\n        scrollDiv.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollEle.appendChild(ele_1);\n        }\n        scrollDiv.appendChild(scrollEle);\n        ele.appendChild(scrollDiv);\n        scrollDiv.style.overflowX = 'hidden';\n        this.scrollEle = scrollDiv;\n        this.scrollItems = scrollEle;\n    };\n    HScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    HScroll.prototype.getModuleName = function () {\n        return 'hScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    HScroll.prototype.destroy = function () {\n        var ele = this.element;\n        ele.style.display = '';\n        ele.classList.remove(CLS_ROOT);\n        ele.classList.remove(CLS_DEVICE);\n        ele.classList.remove(CLS_RTL);\n        var nav = selectAll('.e-' + ele.id + '_nav.' + CLS_HSCROLLNAV, ele);\n        var overlay = selectAll('.' + CLS_OVERLAY, ele);\n        [].slice.call(overlay).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            ele.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (nav.length > 0) {\n            detach(nav[0]);\n            if (!isNullOrUndefined(nav[1])) {\n                detach(nav[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the HScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, HScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    HScroll.prototype.disable = function (value) {\n        var navEles = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE);\n        }\n        [].slice.call(navEles).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    HScroll.prototype.createOverlay = function (element) {\n        var id = element.id.concat('_nav');\n        var rightOverlayEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_RIGHTOVERLAY });\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightEle = this.createElement('div', { id: id.concat('_right'), className: clsRight });\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        rightEle.appendChild(navItem);\n        var leftEle = this.createElement('div', { className: CLS_OVERLAY + ' ' + CLS_LEFTOVERLAY });\n        if (this.ieCheck) {\n            rightEle.classList.add('e-ie-align');\n        }\n        element.appendChild(rightOverlayEle);\n        element.appendChild(rightEle);\n        element.insertBefore(leftEle, element.firstChild);\n        this.eventBinding([rightEle]);\n    };\n    HScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsRight = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVRIGHT);\n        var rightAttributes = { 'role': 'button', 'id': id.concat('_right'), 'aria-label': 'Scroll right' };\n        var nav = this.createElement('div', { className: clsRight, attrs: rightAttributes });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = this.createElement('div', { className: CLS_NAVRIGHTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        var clsLeft = 'e-' + element.id.concat('_nav ' + CLS_HSCROLLNAV + ' ' + CLS_HSCROLLNAVLEFT);\n        var leftAttributes = { 'role': 'button', 'id': id.concat('_left'), 'aria-label': 'Scroll left' };\n        var navEle = this.createElement('div', { className: clsLeft + ' ' + CLS_DISABLE, attrs: leftAttributes });\n        navEle.setAttribute('aria-disabled', 'true');\n        var navLeftItem = this.createElement('div', { className: CLS_NAVLEFTARROW + ' ' + CLS_NAVARROW + ' e-icons' });\n        navEle.appendChild(navLeftItem);\n        nav.appendChild(navItem);\n        element.appendChild(nav);\n        element.insertBefore(navEle, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navEle.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navEle]);\n    };\n    HScroll.prototype.onKeyPress = function (e) {\n        var _this = this;\n        if (e.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, e.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    HScroll.prototype.onKeyUp = function (e) {\n        if (e.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            e.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    HScroll.prototype.eventBinding = function (ele) {\n        var _this = this;\n        [].slice.call(ele).forEach(function (el) {\n            new Touch(el, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            el.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            el.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            el.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            el.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            el.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(el, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    HScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    HScroll.prototype.tabHoldHandler = function (e) {\n        var _this = this;\n        var trgt = e.originalEvent.target;\n        trgt = this.contains(trgt, CLS_HSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDis = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDis, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    HScroll.prototype.contains = function (ele, className) {\n        return ele.classList.contains(className);\n    };\n    HScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var rootEle = this.element;\n        var classList$$1 = trgt.classList;\n        if (classList$$1.contains(CLS_HSCROLLNAV)) {\n            classList$$1 = trgt.querySelector('.' + CLS_NAVARROW).classList;\n        }\n        if (this.contains(rootEle, CLS_RTL) && this.browserCheck) {\n            scrollDis = -scrollDis;\n        }\n        if ((!this.contains(rootEle, CLS_RTL) || this.browserCheck) || this.ieCheck) {\n            if (classList$$1.contains(CLS_NAVRIGHTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n        else {\n            if (classList$$1.contains(CLS_NAVLEFTARROW)) {\n                this.frameScrollRequest(scrollDis, 'add', isContinuous);\n            }\n            else {\n                this.frameScrollRequest(scrollDis, '', isContinuous);\n            }\n        }\n    };\n    HScroll.prototype.clickEventHandler = function (e) {\n        this.eleScrolling(this.scrollStep, e.target, false);\n    };\n    HScroll.prototype.swipeHandler = function (e) {\n        var swipeEle = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceX / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceX / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Left') {\n                    swipeEle.scrollLeft += distance * step;\n                }\n                else if (e.swipeDirection === 'Right') {\n                    swipeEle.scrollLeft -= distance * step;\n                }\n                start -= 0.5;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollLeft += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollLeft -= scrollVal;\n        }\n        if (this.enableRtl && this.scrollEle.scrollLeft > 0) {\n            this.scrollEle.scrollLeft = 0;\n        }\n    };\n    HScroll.prototype.frameScrollRequest = function (scrollVal, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollVal, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY, this.element)).forEach(function (el) {\n                scrollVal -= el.offsetWidth;\n            });\n        }\n        var animate = function () {\n            var scrollValue;\n            var scrollStep;\n            if (_this.contains(_this.element, CLS_RTL) && _this.browserCheck) {\n                scrollValue = -scrollVal;\n                scrollStep = -step;\n            }\n            else {\n                scrollValue = scrollVal;\n                scrollStep = step;\n            }\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(scrollStep);\n            }\n            else {\n                _this.scrollUpdating(scrollStep, action);\n                scrollVal -= scrollStep;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    HScroll.prototype.touchHandler = function (e) {\n        var ele = this.scrollEle;\n        var distance = e.distanceX;\n        if ((this.ieCheck) && this.contains(this.element, CLS_RTL)) {\n            distance = -distance;\n        }\n        if (e.scrollDirection === 'Left') {\n            ele.scrollLeft = ele.scrollLeft + distance;\n        }\n        else if (e.scrollDirection === 'Right') {\n            ele.scrollLeft = ele.scrollLeft - distance;\n        }\n    };\n    HScroll.prototype.arrowDisabling = function (addDisable, removeDisable) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisable) ? removeDisable : addDisable;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW);\n            if (isNullOrUndefined(addDisable)) {\n                classList(arrowIcon, [CLS_NAVRIGHTARROW], [CLS_NAVLEFTARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVLEFTARROW], [CLS_NAVRIGHTARROW]);\n            }\n        }\n        else if (addDisable && removeDisable) {\n            addDisable.classList.add(CLS_DISABLE);\n            addDisable.setAttribute('aria-disabled', 'true');\n            addDisable.removeAttribute('tabindex');\n            removeDisable.classList.remove(CLS_DISABLE);\n            removeDisable.setAttribute('aria-disabled', 'false');\n            removeDisable.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    HScroll.prototype.scrollHandler = function (e) {\n        var target = e.target;\n        var width = target.offsetWidth;\n        var rootEle = this.element;\n        var navLeftEle = this.element.querySelector('.' + CLS_HSCROLLNAVLEFT);\n        var navRightEle = this.element.querySelector('.' + CLS_HSCROLLNAVRIGHT);\n        var leftOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n        var rightOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n        var scrollLeft = target.scrollLeft;\n        if (scrollLeft <= 0) {\n            scrollLeft = -scrollLeft;\n        }\n        if (this.isDevice) {\n            if (this.enableRtl && !(this.browserCheck || this.ieCheck)) {\n                leftOverlay = this.element.querySelector('.' + CLS_RIGHTOVERLAY);\n                rightOverlay = this.element.querySelector('.' + CLS_LEFTOVERLAY);\n            }\n            if (scrollLeft < OVERLAY_MAXWID) {\n                leftOverlay.style.width = scrollLeft + 'px';\n            }\n            else {\n                leftOverlay.style.width = '40px';\n            }\n            if ((target.scrollWidth - Math.ceil(width + scrollLeft)) < OVERLAY_MAXWID) {\n                rightOverlay.style.width = (target.scrollWidth - Math.ceil(width + scrollLeft)) + 'px';\n            }\n            else {\n                rightOverlay.style.width = '40px';\n            }\n        }\n        if (scrollLeft === 0) {\n            this.arrowDisabling(navLeftEle, navRightEle);\n        }\n        else if (Math.ceil(width + scrollLeft + .1) >= target.scrollWidth) {\n            this.arrowDisabling(navRightEle, navLeftEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_HSCROLLNAV + '.' + CLS_DISABLE);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {HScrollModel} newProp - It contains the new value of data.\n     * @param  {HScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    HScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    newProp.enableRtl ? this.element.classList.add(CLS_RTL) : this.element.classList.remove(CLS_RTL);\n                    break;\n            }\n        }\n    };\n    __decorate([\n        Property(null)\n    ], HScroll.prototype, \"scrollStep\", void 0);\n    HScroll = __decorate([\n        NotifyPropertyChanges\n    ], HScroll);\n    return HScroll;\n}(Component));\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CLS_ROOT$1 = 'e-vscroll';\nvar CLS_RTL$1 = 'e-rtl';\nvar CLS_DISABLE$1 = 'e-overlay';\nvar CLS_VSCROLLBAR = 'e-vscroll-bar';\nvar CLS_VSCROLLCON = 'e-vscroll-content';\nvar CLS_NAVARROW$1 = 'e-nav-arrow';\nvar CLS_NAVUPARROW = 'e-nav-up-arrow';\nvar CLS_NAVDOWNARROW = 'e-nav-down-arrow';\nvar CLS_VSCROLLNAV = 'e-scroll-nav';\nvar CLS_VSCROLLNAVUP = 'e-scroll-up-nav';\nvar CLS_VSCROLLNAVDOWN = 'e-scroll-down-nav';\nvar CLS_DEVICE$1 = 'e-scroll-device';\nvar CLS_OVERLAY$1 = 'e-scroll-overlay';\nvar CLS_UPOVERLAY = 'e-scroll-up-overlay';\nvar CLS_DOWNOVERLAY = 'e-scroll-down-overlay';\nvar OVERLAY_MAXWID$1 = 40;\n/**\n * VScroll module is introduces vertical scroller when content exceeds the current viewing area.\n * It can be useful for the components like Toolbar, Tab which needs vertical scrolling alone.\n * Hidden content can be view by touch moving or icon click.\n * ```html\n * <div id=\"scroll\"/>\n * <script>\n *   var scrollObj = new VScroll();\n *   scrollObj.appendTo(\"#scroll\");\n * </script>\n * ```\n */\nvar VScroll = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(VScroll, _super);\n    /**\n     * Initializes a new instance of the VScroll class.\n     *\n     * @param {VScrollModel} options  - Specifies VScroll model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element for which vertical scrolling applies.\n     */\n    function VScroll(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.preRender = function () {\n        this.browser = Browser.info.name;\n        this.browserCheck = this.browser === 'mozilla';\n        this.isDevice = Browser.isDevice;\n        this.customStep = true;\n        var ele = this.element;\n        this.ieCheck = this.browser === 'edge' || this.browser === 'msie';\n        this.initialize();\n        if (ele.id === '') {\n            ele.id = getUniqueID('vscroll');\n            this.uniqueId = true;\n        }\n        ele.style.display = 'block';\n        if (this.enableRtl) {\n            ele.classList.add(CLS_RTL$1);\n        }\n    };\n    /**\n     * To Initialize the vertical scroll rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    VScroll.prototype.render = function () {\n        this.touchModule = new Touch(this.element, { scroll: this.touchHandler.bind(this), swipe: this.swipeHandler.bind(this) });\n        EventHandler.add(this.scrollEle, 'scroll', this.scrollEventHandler, this);\n        if (!this.isDevice) {\n            this.createNavIcon(this.element);\n        }\n        else {\n            this.element.classList.add(CLS_DEVICE$1);\n            this.createOverlayElement(this.element);\n        }\n        this.setScrollState();\n        EventHandler.add(this.element, 'wheel', this.wheelEventHandler, this);\n    };\n    VScroll.prototype.setScrollState = function () {\n        if (isNullOrUndefined(this.scrollStep) || this.scrollStep < 0) {\n            this.scrollStep = this.scrollEle.offsetHeight;\n            this.customStep = false;\n        }\n        else {\n            this.customStep = true;\n        }\n    };\n    VScroll.prototype.initialize = function () {\n        var scrollCnt = createElement('div', { className: CLS_VSCROLLCON });\n        var scrollBar = createElement('div', { className: CLS_VSCROLLBAR });\n        scrollBar.setAttribute('tabindex', '-1');\n        var ele = this.element;\n        var innerEle = [].slice.call(ele.children);\n        for (var _i = 0, innerEle_1 = innerEle; _i < innerEle_1.length; _i++) {\n            var ele_1 = innerEle_1[_i];\n            scrollCnt.appendChild(ele_1);\n        }\n        scrollBar.appendChild(scrollCnt);\n        ele.appendChild(scrollBar);\n        scrollBar.style.overflow = 'hidden';\n        this.scrollEle = scrollBar;\n        this.scrollItems = scrollCnt;\n    };\n    VScroll.prototype.getPersistData = function () {\n        var keyEntity = ['scrollStep'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    VScroll.prototype.getModuleName = function () {\n        return 'vScroll';\n    };\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    VScroll.prototype.destroy = function () {\n        var el = this.element;\n        el.style.display = '';\n        removeClass([this.element], [CLS_ROOT$1, CLS_DEVICE$1, CLS_RTL$1]);\n        var navs = selectAll('.e-' + el.id + '_nav.' + CLS_VSCROLLNAV, el);\n        var overlays = selectAll('.' + CLS_OVERLAY$1, el);\n        [].slice.call(overlays).forEach(function (ele) {\n            detach(ele);\n        });\n        for (var _i = 0, _a = [].slice.call(this.scrollItems.children); _i < _a.length; _i++) {\n            var elem = _a[_i];\n            el.appendChild(elem);\n        }\n        if (this.uniqueId) {\n            this.element.removeAttribute('id');\n        }\n        detach(this.scrollEle);\n        if (navs.length > 0) {\n            detach(navs[0]);\n            if (!isNullOrUndefined(navs[1])) {\n                detach(navs[1]);\n            }\n        }\n        EventHandler.remove(this.scrollEle, 'scroll', this.scrollEventHandler);\n        this.touchModule.destroy();\n        this.touchModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Specifies the value to disable/enable the VScroll component.\n     * When set to `true` , the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, VScroll will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    VScroll.prototype.disable = function (value) {\n        var navEle = selectAll('.e-scroll-nav:not(.' + CLS_DISABLE$1 + ')', this.element);\n        if (value) {\n            this.element.classList.add(CLS_DISABLE$1);\n        }\n        else {\n            this.element.classList.remove(CLS_DISABLE$1);\n        }\n        [].slice.call(navEle).forEach(function (el) {\n            el.setAttribute('tabindex', !value ? '0' : '-1');\n        });\n    };\n    VScroll.prototype.createOverlayElement = function (element) {\n        var id = element.id.concat('_nav');\n        var downOverlayEle = createElement('div', { className: CLS_OVERLAY$1 + ' ' + CLS_DOWNOVERLAY });\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var downEle = createElement('div', { id: id.concat('down'), className: clsDown });\n        var navItem = createElement('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        downEle.appendChild(navItem);\n        var upEle = createElement('div', { className: CLS_OVERLAY$1 + ' ' + CLS_UPOVERLAY });\n        if (this.ieCheck) {\n            downEle.classList.add('e-ie-align');\n        }\n        element.appendChild(downOverlayEle);\n        element.appendChild(downEle);\n        element.insertBefore(upEle, element.firstChild);\n        this.eventBinding([downEle]);\n    };\n    VScroll.prototype.createNavIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var clsDown = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVDOWN);\n        var nav = createElement('div', { id: id.concat('_down'), className: clsDown });\n        nav.setAttribute('aria-disabled', 'false');\n        var navItem = createElement('div', { className: CLS_NAVDOWNARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        var clsUp = 'e-' + element.id.concat('_nav ' + CLS_VSCROLLNAV + ' ' + CLS_VSCROLLNAVUP);\n        var navElement = createElement('div', { id: id.concat('_up'), className: clsUp + ' ' + CLS_DISABLE$1 });\n        navElement.setAttribute('aria-disabled', 'true');\n        var navUpItem = createElement('div', { className: CLS_NAVUPARROW + ' ' + CLS_NAVARROW$1 + ' e-icons' });\n        navElement.appendChild(navUpItem);\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        element.appendChild(nav);\n        element.insertBefore(navElement, element.firstChild);\n        if (this.ieCheck) {\n            nav.classList.add('e-ie-align');\n            navElement.classList.add('e-ie-align');\n        }\n        this.eventBinding([nav, navElement]);\n    };\n    VScroll.prototype.onKeyPress = function (ev) {\n        var _this = this;\n        if (ev.key === 'Enter') {\n            var timeoutFun_1 = function () {\n                _this.keyTimeout = true;\n                _this.eleScrolling(10, ev.target, true);\n            };\n            this.keyTimer = window.setTimeout(function () {\n                timeoutFun_1();\n            }, 100);\n        }\n    };\n    VScroll.prototype.onKeyUp = function (ev) {\n        if (ev.key !== 'Enter') {\n            return;\n        }\n        if (this.keyTimeout) {\n            this.keyTimeout = false;\n        }\n        else {\n            ev.target.click();\n        }\n        clearTimeout(this.keyTimer);\n    };\n    VScroll.prototype.eventBinding = function (element) {\n        var _this = this;\n        [].slice.call(element).forEach(function (ele) {\n            new Touch(ele, { tapHold: _this.tabHoldHandler.bind(_this), tapHoldThreshold: 500 });\n            ele.addEventListener('keydown', _this.onKeyPress.bind(_this));\n            ele.addEventListener('keyup', _this.onKeyUp.bind(_this));\n            ele.addEventListener('mouseup', _this.repeatScroll.bind(_this));\n            ele.addEventListener('touchend', _this.repeatScroll.bind(_this));\n            ele.addEventListener('contextmenu', function (e) {\n                e.preventDefault();\n            });\n            EventHandler.add(ele, 'click', _this.clickEventHandler, _this);\n        });\n    };\n    VScroll.prototype.repeatScroll = function () {\n        clearInterval(this.timeout);\n    };\n    VScroll.prototype.tabHoldHandler = function (ev) {\n        var _this = this;\n        var trgt = ev.originalEvent.target;\n        trgt = this.contains(trgt, CLS_VSCROLLNAV) ? trgt.firstElementChild : trgt;\n        var scrollDistance = 10;\n        var timeoutFun = function () {\n            _this.eleScrolling(scrollDistance, trgt, true);\n        };\n        this.timeout = window.setInterval(function () {\n            timeoutFun();\n        }, 50);\n    };\n    VScroll.prototype.contains = function (element, className) {\n        return element.classList.contains(className);\n    };\n    VScroll.prototype.eleScrolling = function (scrollDis, trgt, isContinuous) {\n        var classList$$1 = trgt.classList;\n        if (classList$$1.contains(CLS_VSCROLLNAV)) {\n            classList$$1 = trgt.querySelector('.' + CLS_NAVARROW$1).classList;\n        }\n        if (classList$$1.contains(CLS_NAVDOWNARROW)) {\n            this.frameScrollRequest(scrollDis, 'add', isContinuous);\n        }\n        else if (classList$$1.contains(CLS_NAVUPARROW)) {\n            this.frameScrollRequest(scrollDis, '', isContinuous);\n        }\n    };\n    VScroll.prototype.clickEventHandler = function (event) {\n        this.eleScrolling(this.scrollStep, event.target, false);\n    };\n    VScroll.prototype.wheelEventHandler = function (e) {\n        e.preventDefault();\n        this.frameScrollRequest(this.scrollStep, (e.deltaY > 0 ? 'add' : ''), false);\n    };\n    VScroll.prototype.swipeHandler = function (e) {\n        var swipeElement = this.scrollEle;\n        var distance;\n        if (e.velocity <= 1) {\n            distance = e.distanceY / (e.velocity * 10);\n        }\n        else {\n            distance = e.distanceY / e.velocity;\n        }\n        var start = 0.5;\n        var animate = function () {\n            var step = Math.sin(start);\n            if (step <= 0) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                if (e.swipeDirection === 'Up') {\n                    swipeElement.scrollTop += distance * step;\n                }\n                else if (e.swipeDirection === 'Down') {\n                    swipeElement.scrollTop -= distance * step;\n                }\n                start -= 0.02;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.scrollUpdating = function (scrollVal, action) {\n        if (action === 'add') {\n            this.scrollEle.scrollTop += scrollVal;\n        }\n        else {\n            this.scrollEle.scrollTop -= scrollVal;\n        }\n    };\n    VScroll.prototype.frameScrollRequest = function (scrollValue, action, isContinuous) {\n        var _this = this;\n        var step = 10;\n        if (isContinuous) {\n            this.scrollUpdating(scrollValue, action);\n            return;\n        }\n        if (!this.customStep) {\n            [].slice.call(selectAll('.' + CLS_OVERLAY$1, this.element)).forEach(function (el) {\n                scrollValue -= el.offsetHeight;\n            });\n        }\n        var animate = function () {\n            if (scrollValue < step) {\n                window.cancelAnimationFrame(step);\n            }\n            else {\n                _this.scrollUpdating(step, action);\n                scrollValue -= step;\n                window.requestAnimationFrame(animate);\n            }\n        };\n        animate();\n    };\n    VScroll.prototype.touchHandler = function (e) {\n        var el = this.scrollEle;\n        var distance = e.distanceY;\n        if (e.scrollDirection === 'Up') {\n            el.scrollTop = el.scrollTop + distance;\n        }\n        else if (e.scrollDirection === 'Down') {\n            el.scrollTop = el.scrollTop - distance;\n        }\n    };\n    VScroll.prototype.arrowDisabling = function (addDisableCls, removeDisableCls) {\n        if (this.isDevice) {\n            var arrowEle = isNullOrUndefined(addDisableCls) ? removeDisableCls : addDisableCls;\n            var arrowIcon = arrowEle.querySelector('.' + CLS_NAVARROW$1);\n            if (isNullOrUndefined(addDisableCls)) {\n                classList(arrowIcon, [CLS_NAVDOWNARROW], [CLS_NAVUPARROW]);\n            }\n            else {\n                classList(arrowIcon, [CLS_NAVUPARROW], [CLS_NAVDOWNARROW]);\n            }\n        }\n        else {\n            addDisableCls.classList.add(CLS_DISABLE$1);\n            addDisableCls.setAttribute('aria-disabled', 'true');\n            addDisableCls.removeAttribute('tabindex');\n            removeDisableCls.classList.remove(CLS_DISABLE$1);\n            removeDisableCls.setAttribute('aria-disabled', 'false');\n            removeDisableCls.setAttribute('tabindex', '0');\n        }\n        this.repeatScroll();\n    };\n    VScroll.prototype.scrollEventHandler = function (e) {\n        var target = e.target;\n        var height = target.offsetHeight;\n        var navUpEle = this.element.querySelector('.' + CLS_VSCROLLNAVUP);\n        var navDownEle = this.element.querySelector('.' + CLS_VSCROLLNAVDOWN);\n        var upOverlay = this.element.querySelector('.' + CLS_UPOVERLAY);\n        var downOverlay = this.element.querySelector('.' + CLS_DOWNOVERLAY);\n        var scrollTop = target.scrollTop;\n        if (scrollTop <= 0) {\n            scrollTop = -scrollTop;\n        }\n        if (this.isDevice) {\n            if (scrollTop < OVERLAY_MAXWID$1) {\n                upOverlay.style.height = scrollTop + 'px';\n            }\n            else {\n                upOverlay.style.height = '40px';\n            }\n            if ((target.scrollHeight - Math.ceil(height + scrollTop)) < OVERLAY_MAXWID$1) {\n                downOverlay.style.height = (target.scrollHeight - Math.ceil(height + scrollTop)) + 'px';\n            }\n            else {\n                downOverlay.style.height = '40px';\n            }\n        }\n        if (scrollTop === 0) {\n            this.arrowDisabling(navUpEle, navDownEle);\n        }\n        else if (Math.ceil(height + scrollTop + .1) >= target.scrollHeight) {\n            this.arrowDisabling(navDownEle, navUpEle);\n        }\n        else {\n            var disEle = this.element.querySelector('.' + CLS_VSCROLLNAV + '.' + CLS_DISABLE$1);\n            if (disEle) {\n                disEle.classList.remove(CLS_DISABLE$1);\n                disEle.setAttribute('aria-disabled', 'false');\n                disEle.setAttribute('tabindex', '0');\n            }\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of property that changed.\n     *\n     * @param  {VScrollModel} newProp - It contains the new value of data.\n     * @param  {VScrollModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    VScroll.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'scrollStep':\n                    this.setScrollState();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.element.classList.add(CLS_RTL$1);\n                    }\n                    else {\n                        this.element.classList.remove(CLS_RTL$1);\n                    }\n                    break;\n            }\n        }\n    };\n    __decorate$1([\n        Property(null)\n    ], VScroll.prototype, \"scrollStep\", void 0);\n    VScroll = __decorate$1([\n        NotifyPropertyChanges\n    ], VScroll);\n    return VScroll;\n}(Component));\n\n/**\n * Used to add scroll in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction addScrolling(createElement$$1, container, content, scrollType, enableRtl, offset) {\n    var containerOffset;\n    var contentOffset;\n    var parentElem = container.parentElement;\n    if (scrollType === 'vscroll') {\n        containerOffset = offset || container.getBoundingClientRect().height;\n        contentOffset = content.getBoundingClientRect().height;\n    }\n    else {\n        containerOffset = container.getBoundingClientRect().width;\n        contentOffset = content.getBoundingClientRect().width;\n    }\n    if (containerOffset < contentOffset) {\n        return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n    }\n    else if (parentElem) {\n        var width = parentElem.getBoundingClientRect().width;\n        if (width < containerOffset && scrollType === 'hscroll') {\n            contentOffset = width;\n            container.style.maxWidth = width + 'px';\n            return createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset);\n        }\n        return content;\n    }\n    else {\n        return content;\n    }\n}\n/**\n * Used to create scroll bar in menu.\n *\n * @param {createElementType} createElement - Specifies the create element model\n * @param {HTMLElement} container - Specifies the element container\n * @param {HTMLElement} content - Specifies the content element\n * @param {string} scrollType - Specifies the scroll type\n * @param {boolean} enableRtl - Specifies the enable RTL property\n * @param {boolean} offset - Specifies the offset value\n * @returns {HTMLElement} - Element\n * @hidden\n */\nfunction createScrollbar(createElement$$1, container, content, scrollType, enableRtl, offset) {\n    var scrollEle = createElement$$1('div', { className: 'e-menu-' + scrollType });\n    container.appendChild(scrollEle);\n    scrollEle.appendChild(content);\n    if (offset) {\n        scrollEle.style.overflow = 'hidden';\n        scrollEle.style.height = offset + 'px';\n    }\n    else {\n        scrollEle.style.maxHeight = container.style.maxHeight;\n        container.style.overflow = 'hidden';\n    }\n    var scrollObj;\n    if (scrollType === 'vscroll') {\n        scrollObj = new VScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetHeight / 2;\n    }\n    else {\n        scrollObj = new HScroll({ enableRtl: enableRtl }, scrollEle);\n        scrollObj.scrollStep = select('.e-' + scrollType + '-bar', container).offsetWidth;\n    }\n    return scrollEle;\n}\n/**\n * Used to destroy the scroll option.\n *\n * @param {VScroll | HScroll} scrollObj - Specifies the scroller object\n * @param {Element} element - Specifies the element\n * @param {HTMLElement} skipEle - Specifies the skip  element\n * @returns {void}\n * @hidden\n */\nfunction destroyScroll(scrollObj, element, skipEle) {\n    if (scrollObj) {\n        var menu = select('.e-menu-parent', element);\n        if (menu) {\n            if (!skipEle || skipEle === menu) {\n                scrollObj.destroy();\n                element.parentElement.appendChild(menu);\n                detach(element);\n            }\n        }\n        else {\n            scrollObj.destroy();\n            detach(element);\n        }\n    }\n}\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ENTER = 'enter';\nvar ESCAPE = 'escape';\nvar FOCUSED = 'e-focused';\nvar HEADER = 'e-menu-header';\nvar SELECTED = 'e-selected';\nvar SEPARATOR = 'e-separator';\nvar UPARROW = 'uparrow';\nvar DOWNARROW = 'downarrow';\nvar LEFTARROW = 'leftarrow';\nvar RIGHTARROW = 'rightarrow';\nvar HOME = 'home';\nvar END = 'end';\nvar TAB = 'tab';\nvar CARET = 'e-caret';\nvar ITEM = 'e-menu-item';\nvar DISABLED = 'e-disabled';\nvar HIDE = 'e-menu-hide';\nvar ICONS = 'e-icons';\nvar RTL = 'e-rtl';\nvar POPUP = 'e-menu-popup';\nvar TEMPLATE_PROPERTY = 'Template';\n/**\n * Configures the field options of the Menu.\n */\nvar FieldSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(FieldSettings, _super);\n    function FieldSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property('id')\n    ], FieldSettings.prototype, \"itemId\", void 0);\n    __decorate$2([\n        Property('parentId')\n    ], FieldSettings.prototype, \"parentId\", void 0);\n    __decorate$2([\n        Property('text')\n    ], FieldSettings.prototype, \"text\", void 0);\n    __decorate$2([\n        Property('iconCss')\n    ], FieldSettings.prototype, \"iconCss\", void 0);\n    __decorate$2([\n        Property('url')\n    ], FieldSettings.prototype, \"url\", void 0);\n    __decorate$2([\n        Property('separator')\n    ], FieldSettings.prototype, \"separator\", void 0);\n    __decorate$2([\n        Property('items')\n    ], FieldSettings.prototype, \"children\", void 0);\n    return FieldSettings;\n}(ChildProperty));\n/**\n * Specifies menu items.\n */\nvar MenuItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(MenuItem, _super);\n    function MenuItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property(null)\n    ], MenuItem.prototype, \"iconCss\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuItem.prototype, \"id\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuItem.prototype, \"separator\", void 0);\n    __decorate$2([\n        Collection([], MenuItem)\n    ], MenuItem.prototype, \"items\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuItem.prototype, \"text\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuItem.prototype, \"url\", void 0);\n    return MenuItem;\n}(ChildProperty));\n/**\n * Animation configuration settings.\n */\nvar MenuAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(MenuAnimationSettings, _super);\n    function MenuAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property('SlideDown')\n    ], MenuAnimationSettings.prototype, \"effect\", void 0);\n    __decorate$2([\n        Property(400)\n    ], MenuAnimationSettings.prototype, \"duration\", void 0);\n    __decorate$2([\n        Property('ease')\n    ], MenuAnimationSettings.prototype, \"easing\", void 0);\n    return MenuAnimationSettings;\n}(ChildProperty));\n/**\n * Base class for Menu and ContextMenu components.\n *\n *  @private\n */\nvar MenuBase = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(MenuBase, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {MenuBaseModel} options - Specifies the menu base model\n     * @param {string | HTMLUListElement} element - Specifies the element\n     */\n    function MenuBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.navIdx = [];\n        _this.animation = new Animation({});\n        _this.isTapHold = false;\n        _this.tempItem = [];\n        _this.showSubMenuOn = 'Auto';\n        return _this;\n    }\n    /**\n     * Initialized third party configuration settings.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.preRender = function () {\n        if (!this.isMenu) {\n            var ul = void 0;\n            if (this.element.tagName === 'EJS-CONTEXTMENU') {\n                ul = this.createElement('ul', {\n                    id: getUniqueID(this.getModuleName()), className: 'e-control e-lib e-' + this.getModuleName()\n                });\n                var ejInst = getValue('ej2_instances', this.element);\n                removeClass([this.element], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                this.clonedElement = this.element;\n                this.element = ul;\n                setValue('ej2_instances', ejInst, this.element);\n            }\n            else {\n                ul = this.createElement('ul', { id: getUniqueID(this.getModuleName()) });\n                append([].slice.call(this.element.cloneNode(true).children), ul);\n                var refEle = this.element.nextElementSibling;\n                if (refEle) {\n                    this.element.parentElement.insertBefore(ul, refEle);\n                }\n                else {\n                    this.element.parentElement.appendChild(ul);\n                }\n                this.clonedElement = ul;\n            }\n            this.clonedElement.style.display = 'none';\n        }\n        if (this.element.tagName === 'EJS-MENU') {\n            var ele = this.element;\n            var ejInstance = getValue('ej2_instances', ele);\n            var ul = this.createElement('ul');\n            var wrapper = this.createElement('EJS-MENU', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            for (var idx = 0, len = ele.attributes.length; idx < len; idx++) {\n                ul.setAttribute(ele.attributes[idx].nodeName, ele.attributes[idx].nodeValue);\n            }\n            ele.parentNode.insertBefore(wrapper, ele);\n            detach(ele);\n            ele = ul;\n            wrapper.appendChild(ele);\n            setValue('ej2_instances', ejInstance, ele);\n            this.clonedElement = wrapper;\n            this.element = ele;\n            if (!this.element.id) {\n                this.element.id = getUniqueID(this.getModuleName());\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    MenuBase.prototype.render = function () {\n        var _this = this;\n        this.initialize();\n        this.renderItems();\n        this.wireEvents();\n        this.renderComplete();\n        var wrapper = this.getWrapper();\n        // eslint-disable-next-line\n        if (this.template && this.enableScrolling && (this.isReact || this.isAngular)) {\n            requestAnimationFrame(function () {\n                addScrolling(_this.createElement, wrapper, _this.element, 'hscroll', _this.enableRtl);\n            });\n        }\n    };\n    MenuBase.prototype.initialize = function () {\n        var wrapper = this.getWrapper();\n        if (!wrapper) {\n            wrapper = this.createElement('div', { className: 'e-' + this.getModuleName() + '-wrapper' });\n            if (this.isMenu) {\n                this.element.parentElement.insertBefore(wrapper, this.element);\n            }\n            else {\n                document.body.appendChild(wrapper);\n            }\n        }\n        if (this.cssClass) {\n            addClass([wrapper], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            wrapper.classList.add(RTL);\n        }\n        wrapper.appendChild(this.element);\n        if (this.isMenu && this.hamburgerMode) {\n            if (!this.target) {\n                this.createHeaderContainer(wrapper);\n            }\n        }\n        this.defaultOption = this.showItemOnClick;\n    };\n    MenuBase.prototype.renderItems = function () {\n        if (!this.items.length) {\n            var items = ListBase.createJsonFromElement(this.element, { fields: { child: 'items' } });\n            this.setProperties({ items: items }, true);\n            if (isBlazor() && !this.isMenu) {\n                this.element = this.removeChildElement(this.element);\n            }\n            else {\n                this.element.innerHTML = '';\n            }\n        }\n        var ul = this.createItems(this.items);\n        append(Array.prototype.slice.call(ul.children), this.element);\n        this.element.classList.add('e-menu-parent');\n        if (this.isMenu) {\n            if (!this.hamburgerMode && this.element.classList.contains('e-vertical')) {\n                this.setBlankIconStyle(this.element);\n            }\n            if (this.enableScrolling) {\n                var wrapper = this.getWrapper();\n                if (this.element.classList.contains('e-vertical')) {\n                    addScrolling(this.createElement, wrapper, this.element, 'vscroll', this.enableRtl);\n                }\n                else {\n                    addScrolling(this.createElement, wrapper, this.element, 'hscroll', this.enableRtl);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.wireEvents = function () {\n        var wrapper = this.getWrapper();\n        if (this.target) {\n            var target = void 0;\n            var targetElems = selectAll(this.target);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.add(target, 'click', this.menuHeaderClickHandler, this);\n                }\n                else {\n                    if (Browser.isIos) {\n                        new Touch(target, { tapHold: this.touchHandler.bind(this) });\n                    }\n                    else {\n                        EventHandler.add(target, 'contextmenu', this.cmenuHandler, this);\n                    }\n                }\n            }\n            this.targetElement = target;\n            if (!this.isMenu) {\n                EventHandler.add(this.targetElement, 'mousewheel DOMMouseScroll', this.scrollHandler, this);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_1 = _a[_i];\n                    EventHandler.add(parent_1, 'mousewheel DOMMouseScroll', this.scrollHandler, this);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            this.delegateMoverHandler = this.moverHandler.bind(this);\n            this.delegateMouseDownHandler = this.mouseDownHandler.bind(this);\n            EventHandler.add(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler, this);\n            EventHandler.add(document, 'mousedown', this.delegateMouseDownHandler, this);\n        }\n        this.delegateClickHandler = this.clickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHandler, this);\n        this.wireKeyboardEvent(wrapper);\n        this.rippleFn = rippleEffect(wrapper, { selector: '.' + ITEM });\n    };\n    MenuBase.prototype.wireKeyboardEvent = function (element) {\n        var keyConfigs = {\n            downarrow: DOWNARROW,\n            uparrow: UPARROW,\n            enter: ENTER,\n            leftarrow: LEFTARROW,\n            rightarrow: RIGHTARROW,\n            escape: ESCAPE\n        };\n        if (this.isMenu) {\n            keyConfigs.home = HOME;\n            keyConfigs.end = END;\n            keyConfigs.tab = TAB;\n        }\n        new KeyboardEvents(element, {\n            keyAction: this.keyBoardHandler.bind(this),\n            keyConfigs: keyConfigs\n        });\n    };\n    MenuBase.prototype.mouseDownHandler = function (e) {\n        if (closest(e.target, '.e-' + this.getModuleName() + '-wrapper') !== this.getWrapper()\n            && (!closest(e.target, '.e-' + this.getModuleName() + '-popup'))) {\n            this.closeMenu(this.isMenu ? null : this.navIdx.length, e);\n        }\n    };\n    MenuBase.prototype.keyHandler = function (e) {\n        if (e.keyCode === 38 || e.keyCode === 40) {\n            if (e.target && (e.target.classList.contains('e-contextmenu') || e.target.classList.contains('e-menu-item'))) {\n                e.preventDefault();\n            }\n        }\n    };\n    MenuBase.prototype.keyBoardHandler = function (e) {\n        var actionName = '';\n        var trgt = e.target;\n        var actionNeeded = this.isMenu && !this.hamburgerMode && !this.element.classList.contains('e-vertical')\n            && this.navIdx.length < 1;\n        e.preventDefault();\n        if (this.enableScrolling && e.keyCode === 13 && trgt.classList.contains('e-scroll-nav')) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [closest(trgt, '.e-' + this.getModuleName() + '-wrapper')]);\n        }\n        if (actionNeeded) {\n            switch (e.action) {\n                case RIGHTARROW:\n                    actionName = RIGHTARROW;\n                    e.action = DOWNARROW;\n                    break;\n                case LEFTARROW:\n                    actionName = LEFTARROW;\n                    e.action = UPARROW;\n                    break;\n                case DOWNARROW:\n                    actionName = DOWNARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case UPARROW:\n                    actionName = UPARROW;\n                    e.action = '';\n                    break;\n            }\n        }\n        else if (this.enableRtl) {\n            switch (e.action) {\n                case LEFTARROW:\n                    actionNeeded = true;\n                    actionName = LEFTARROW;\n                    e.action = RIGHTARROW;\n                    break;\n                case RIGHTARROW:\n                    actionNeeded = true;\n                    actionName = RIGHTARROW;\n                    e.action = LEFTARROW;\n                    break;\n            }\n        }\n        switch (e.action) {\n            case DOWNARROW:\n            case UPARROW:\n            case END:\n            case HOME:\n            case TAB:\n                this.upDownKeyHandler(e);\n                break;\n            case RIGHTARROW:\n                this.rightEnterKeyHandler(e);\n                break;\n            case LEFTARROW:\n                this.leftEscKeyHandler(e);\n                break;\n            case ENTER:\n                if (this.hamburgerMode && trgt.tagName === 'SPAN' && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    this.rightEnterKeyHandler(e);\n                }\n                break;\n            case ESCAPE:\n                this.leftEscKeyHandler(e);\n                break;\n        }\n        if (actionNeeded) {\n            e.action = actionName;\n        }\n    };\n    MenuBase.prototype.upDownKeyHandler = function (e) {\n        var cul = this.getUlByNavIdx();\n        var defaultIdx = (e.action === DOWNARROW || e.action === HOME || e.action === TAB) ? 0 : cul.childElementCount - 1;\n        var fliIdx = defaultIdx;\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            if (e.action !== END && e.action !== HOME) {\n                fliIdx = this.getIdx(cul, fli);\n            }\n            fli.classList.remove(FOCUSED);\n            if (e.action !== END && e.action !== HOME) {\n                if (e.action === DOWNARROW) {\n                    fliIdx++;\n                }\n                else {\n                    fliIdx--;\n                }\n                if (fliIdx === (e.action === DOWNARROW ? cul.childElementCount : -1)) {\n                    fliIdx = defaultIdx;\n                }\n            }\n        }\n        var cli = cul.children[fliIdx];\n        fliIdx = this.isValidLI(cli, fliIdx, e.action);\n        cul.children[fliIdx].classList.add(FOCUSED);\n        cul.children[fliIdx].focus();\n    };\n    MenuBase.prototype.isValidLI = function (cli, index, action) {\n        var cul = this.getUlByNavIdx();\n        var defaultIdx = (action === DOWNARROW || action === HOME || action === TAB) ? 0 : cul.childElementCount - 1;\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            if (action === DOWNARROW && index === cul.childElementCount - 1) {\n                index = defaultIdx;\n            }\n            else if (action === UPARROW && index === 0) {\n                index = defaultIdx;\n            }\n            else if ((action === DOWNARROW) || (action === RIGHTARROW)) {\n                index++;\n            }\n            else {\n                index--;\n            }\n        }\n        cli = cul.children[index];\n        if (cli.classList.contains(SEPARATOR) || cli.classList.contains(DISABLED) || cli.classList.contains(HIDE)) {\n            index = this.isValidLI(cli, index, action);\n        }\n        return index;\n    };\n    MenuBase.prototype.getUlByNavIdx = function (navIdxLen) {\n        var _this = this;\n        if (navIdxLen === void 0) { navIdxLen = this.navIdx.length; }\n        if (this.isMenu) {\n            var popups_1 = [];\n            var allPopup = selectAll('.' + POPUP);\n            allPopup.forEach(function (elem) {\n                if (_this.element.id === elem.id.split('-')[2]) {\n                    popups_1.push(elem);\n                }\n            });\n            var popup = [this.getWrapper()].concat([].slice.call(popups_1))[navIdxLen];\n            return isNullOrUndefined(popup) ? null : select('.e-menu-parent', popup);\n        }\n        else {\n            return this.getWrapper().children[navIdxLen];\n        }\n    };\n    MenuBase.prototype.rightEnterKeyHandler = function (e) {\n        var eventArgs;\n        var cul = this.getUlByNavIdx();\n        var fli = this.getLIByClass(cul, FOCUSED);\n        if (fli) {\n            var fliIdx = this.getIdx(cul, fli);\n            var navIdx = this.navIdx.concat(fliIdx);\n            var item = this.getItem(navIdx);\n            if (item.items.length) {\n                this.navIdx.push(fliIdx);\n                this.keyType = 'right';\n                this.action = e.action;\n                this.openMenu(fli, item, -1, -1, e);\n            }\n            else {\n                if (e.action === ENTER) {\n                    if (this.isMenu && this.navIdx.length === 0) {\n                        this.removeLIStateByClass([SELECTED], [this.getWrapper()]);\n                    }\n                    else {\n                        fli.classList.remove(FOCUSED);\n                    }\n                    fli.classList.add(SELECTED);\n                    eventArgs = { element: fli, item: item, event: e };\n                    this.trigger('select', eventArgs);\n                    this.closeMenu(null, e);\n                }\n            }\n        }\n    };\n    MenuBase.prototype.leftEscKeyHandler = function (e) {\n        if (this.navIdx.length) {\n            this.keyType = 'left';\n            this.closeMenu(this.navIdx.length, e);\n        }\n        else {\n            if (e.action === ESCAPE) {\n                this.closeMenu(null, e);\n            }\n        }\n    };\n    MenuBase.prototype.scrollHandler = function (e) {\n        this.closeMenu(null, e);\n    };\n    MenuBase.prototype.touchHandler = function (e) {\n        this.isTapHold = true;\n        this.cmenuHandler(e.originalEvent);\n    };\n    MenuBase.prototype.cmenuHandler = function (e) {\n        e.preventDefault();\n        this.currentTarget = e.target;\n        this.isCMenu = true;\n        this.pageX = e.changedTouches ? e.changedTouches[0].pageX + 1 : e.pageX + 1;\n        this.pageY = e.changedTouches ? e.changedTouches[0].pageY + 1 : e.pageY + 1;\n        this.closeMenu(null, e);\n        if (this.isCMenu) {\n            if (this.canOpen(e.target)) {\n                this.openMenu(null, null, this.pageY, this.pageX, e);\n            }\n            this.isCMenu = false;\n        }\n    };\n    // eslint:disable-next-line:max-func-body-length\n    MenuBase.prototype.closeMenu = function (ulIndex, e, isIterated) {\n        var _this = this;\n        if (ulIndex === void 0) { ulIndex = 0; }\n        if (e === void 0) { e = null; }\n        if (this.isMenuVisible()) {\n            var sli = void 0;\n            var item_1;\n            var wrapper_1 = this.getWrapper();\n            var beforeCloseArgs = void 0;\n            var items_1;\n            var popups = this.getPopups();\n            var isClose = false;\n            var cnt = this.isMenu ? popups.length + 1 : wrapper_1.childElementCount;\n            var ul_1 = this.isMenu && cnt !== 1 ? select('.e-ul', popups[cnt - 2])\n                : selectAll('.e-menu-parent', wrapper_1)[cnt - 1];\n            if (this.isMenu && ul_1.classList.contains('e-menu')) {\n                sli = this.getLIByClass(ul_1, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                isClose = true;\n            }\n            if (!isClose) {\n                var liElem_1 = e && e.target && this.getLI(e.target);\n                if (liElem_1) {\n                    this.cli = liElem_1;\n                }\n                else {\n                    this.cli = ul_1.children[0];\n                }\n                item_1 = this.navIdx.length ? this.getItem(this.navIdx) : null;\n                items_1 = item_1 ? item_1.items : this.items;\n                beforeCloseArgs = { element: ul_1, parentItem: item_1, items: items_1, event: e, cancel: false, isFocused: true };\n                this.trigger('beforeClose', beforeCloseArgs, function (observedCloseArgs) {\n                    var popupEle;\n                    var closeArgs;\n                    var popupId = '';\n                    var popupObj;\n                    var isOpen = !observedCloseArgs.cancel;\n                    if (isOpen || _this.isCMenu) {\n                        if (_this.isMenu) {\n                            popupEle = closest(ul_1, '.' + POPUP);\n                            if (_this.hamburgerMode) {\n                                popupEle.parentElement.style.minHeight = '';\n                                closest(ul_1, '.e-menu-item').setAttribute('aria-expanded', 'false');\n                            }\n                            _this.unWireKeyboardEvent(popupEle);\n                            destroyScroll(getInstance(popupEle.children[0], VScroll), popupEle.children[0]);\n                            popupObj = getInstance(popupEle, Popup);\n                            popupObj.hide();\n                            popupId = popupEle.id;\n                            popupObj.destroy();\n                            detach(popupEle);\n                        }\n                        else {\n                            _this.toggleAnimation(ul_1, false);\n                        }\n                        closeArgs = { element: ul_1, parentItem: item_1, items: items_1 };\n                        _this.trigger('onClose', closeArgs);\n                        _this.navIdx.pop();\n                        if (!_this.isMenu) {\n                            EventHandler.remove(ul_1, 'keydown', _this.keyHandler);\n                            if (_this.keyType === 'right') {\n                                _this.keyType = '';\n                            }\n                        }\n                    }\n                    _this.updateReactTemplate();\n                    var trgtliId;\n                    var closedLi;\n                    var trgtLi;\n                    var trgtpopUp = _this.getWrapper() && _this.getUlByNavIdx();\n                    if (_this.isCMenu) {\n                        if (_this.canOpen(e.target)) {\n                            _this.openMenu(null, null, _this.pageY, _this.pageX, e);\n                        }\n                        _this.isCMenu = false;\n                    }\n                    if (_this.isMenu && trgtpopUp && popupId.length) {\n                        // eslint-disable-next-line\n                        trgtliId = new RegExp('(.*)-ej2menu-' + _this.element.id + '-popup').exec(popupId)[1];\n                        closedLi = trgtpopUp.querySelector('[id=\"' + trgtliId + '\"]');\n                        trgtLi = (liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]'));\n                    }\n                    else if (trgtpopUp) {\n                        closedLi = trgtpopUp.querySelector('.e-menu-item.e-selected');\n                        trgtLi = (liElem_1 && trgtpopUp.querySelector('[id=\"' + liElem_1.id + '\"]'));\n                    }\n                    var submenus = liElem_1 && liElem_1.querySelectorAll('.e-menu-item');\n                    if (isOpen && _this.hamburgerMode && ulIndex && !(submenus.length)) {\n                        _this.afterCloseMenu(e);\n                    }\n                    else if (isOpen && !_this.hamburgerMode && closedLi && !trgtLi && _this.keyType !== 'left' && (_this.navIdx.length || !_this.isMenu && _this.navIdx.length === 0)) {\n                        var ele = (e && e.target.classList.contains('e-vscroll'))\n                            ? closest(e.target, '.e-menu-wrapper') : null;\n                        if (ele) {\n                            ele = ele.querySelector('.e-menu-item');\n                            if (_this.showItemOnClick || (ele && _this.getIndex(ele.id, true).length <= _this.navIdx.length)) {\n                                _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e, true);\n                            }\n                        }\n                        else {\n                            _this.closeMenu(_this.navIdx[_this.navIdx.length - 1], e);\n                        }\n                    }\n                    else if (isOpen && !isIterated && !ulIndex && ((_this.hamburgerMode && _this.navIdx.length) ||\n                        _this.navIdx.length === 1 && liElem_1 && trgtpopUp !== liElem_1.parentElement)) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && isNullOrUndefined(ulIndex) && _this.navIdx.length) {\n                        _this.closeMenu(null, e);\n                    }\n                    else if (isOpen && !_this.isMenu && !ulIndex && _this.navIdx.length === 0 && !_this.isMenusClosed) {\n                        _this.isMenusClosed = true;\n                        _this.closeMenu(0, e);\n                    }\n                    else if (isOpen && _this.isMenu && e && e.target &&\n                        _this.navIdx.length !== 0 && closest(e.target, '.e-menu-parent.e-control')) {\n                        _this.closeMenu(0, e);\n                    }\n                    else if (isOpen && !_this.isMenu && selectAll('.e-menu-parent', wrapper_1)[ulIndex - 1] && e.which === 3) {\n                        _this.closeMenu(null, e);\n                    }\n                    else {\n                        if (isOpen && (_this.keyType === 'right' || _this.keyType === 'click')) {\n                            _this.afterCloseMenu(e);\n                        }\n                        else {\n                            var cul = _this.getUlByNavIdx();\n                            var sli_1 = _this.getLIByClass(cul, SELECTED);\n                            if (sli_1) {\n                                sli_1.setAttribute('aria-expanded', 'false');\n                                sli_1.classList.remove(SELECTED);\n                                if (observedCloseArgs.isFocused && liElem_1 || _this.keyType === 'left') {\n                                    sli_1.classList.add(FOCUSED);\n                                    if (!e.target || !e.target.classList.contains('e-edit-template')) {\n                                        sli_1.focus();\n                                    }\n                                }\n                            }\n                            if (!isOpen && _this.hamburgerMode && liElem_1 && liElem_1.getAttribute('aria-expanded') === 'false' &&\n                                liElem_1.getAttribute('aria-haspopup') === 'true') {\n                                if (closest(liElem_1, '.e-menu-parent.e-control')) {\n                                    _this.navIdx = [];\n                                }\n                                else {\n                                    _this.navIdx.pop();\n                                }\n                                _this.navIdx.push(_this.cliIdx);\n                                var item_2 = _this.getItem(_this.navIdx);\n                                liElem_1.setAttribute('aria-expanded', 'true');\n                                _this.openMenu(liElem_1, item_2, -1, -1, e);\n                            }\n                        }\n                        if (_this.navIdx.length < 1) {\n                            if (_this.showSubMenuOn === 'Hover' || _this.showSubMenuOn === 'Click') {\n                                _this.showItemOnClick = _this.defaultOption;\n                                _this.showSubMenuOn = 'Auto';\n                            }\n                        }\n                    }\n                    _this.removeStateWrapper();\n                });\n            }\n        }\n    };\n    MenuBase.prototype.updateReactTemplate = function () {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact && this.template && this.navIdx.length === 0) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var portals = this.portals.splice(0, this.items.length);\n            this.clearTemplate(['template']);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            this.portals = portals;\n            this.renderReactTemplates();\n        }\n    };\n    MenuBase.prototype.getMenuItemModel = function (item, level) {\n        if (isNullOrUndefined(item)) {\n            return null;\n        }\n        if (isNullOrUndefined(level)) {\n            level = 0;\n        }\n        var fields = this.getFields(level);\n        return { text: item[fields.text], id: item[fields.id], items: item[fields.child], separator: item[fields.separator],\n            iconCss: item[fields.iconCss], url: item[fields.url] };\n    };\n    MenuBase.prototype.getPopups = function () {\n        var _this = this;\n        var popups = [];\n        [].slice.call(document.querySelectorAll('.' + POPUP)).forEach(function (elem) {\n            if (!isNullOrUndefined(elem.querySelector('.' + ITEM)) && _this.getIndex(elem.querySelector('.' + ITEM).id, true).length) {\n                popups.push(elem);\n            }\n        });\n        return popups;\n    };\n    MenuBase.prototype.isMenuVisible = function () {\n        return (this.navIdx.length > 0 || (this.element.classList.contains('e-contextmenu') && isVisible(this.element).valueOf()));\n    };\n    MenuBase.prototype.canOpen = function (target) {\n        var canOpen = true;\n        if (this.filter) {\n            canOpen = false;\n            var filter = this.filter.split(' ');\n            for (var i = 0, len = filter.length; i < len; i++) {\n                if (closest(target, '.' + filter[i])) {\n                    canOpen = true;\n                    break;\n                }\n            }\n        }\n        return canOpen;\n    };\n    MenuBase.prototype.openMenu = function (li, item, top, left, e, target) {\n        var _this = this;\n        if (top === void 0) { top = 0; }\n        if (left === void 0) { left = 0; }\n        if (e === void 0) { e = null; }\n        if (target === void 0) { target = this.targetElement; }\n        var wrapper = this.getWrapper();\n        this.lItem = li;\n        var elemId = this.element.id !== '' ? this.element.id : 'menu';\n        this.isMenusClosed = false;\n        if (isNullOrUndefined(top)) {\n            top = -1;\n        }\n        if (isNullOrUndefined(left)) {\n            left = -1;\n        }\n        if (li) {\n            this.uList = this.createItems(item[this.getField('children', this.navIdx.length - 1)]);\n            if (!this.isMenu && Browser.isDevice) {\n                wrapper.lastChild.style.display = 'none';\n                var data = {\n                    text: item[this.getField('text')].toString(), iconCss: ICONS + ' e-previous'\n                };\n                var hdata = new MenuItem(this.items[0], 'items', data, true);\n                var hli = this.createItems([hdata]).children[0];\n                hli.classList.add(HEADER);\n                this.uList.insertBefore(hli, this.uList.children[0]);\n            }\n            if (this.isMenu) {\n                this.popupWrapper = this.createElement('div', {\n                    className: 'e-' + this.getModuleName() + '-wrapper ' + POPUP, id: li.id + '-ej2menu-' + elemId + '-popup'\n                });\n                if (this.hamburgerMode) {\n                    top = li.offsetHeight;\n                    li.appendChild(this.popupWrapper);\n                }\n                else {\n                    document.body.appendChild(this.popupWrapper);\n                }\n                this.isNestedOrVertical = this.element.classList.contains('e-vertical') || this.navIdx.length !== 1;\n                this.popupObj = this.generatePopup(this.popupWrapper, this.uList, li, this.isNestedOrVertical);\n                if (this.template) {\n                    this.renderReactTemplates();\n                }\n                if (this.hamburgerMode) {\n                    this.calculateIndentSize(this.uList, li);\n                }\n                else {\n                    if (this.cssClass) {\n                        addClass([this.popupWrapper], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    this.popupObj.hide();\n                }\n                if (!this.hamburgerMode && !this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, 0, 0, 'menu'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, 0, 0, 'menu');\n                }\n            }\n            else {\n                this.uList.style.zIndex = this.element.style.zIndex;\n                wrapper.appendChild(this.uList);\n                if (!this.showItemOnClick && this.hoverDelay) {\n                    window.clearInterval(this.timer);\n                    this.timer = window.setTimeout(function () { _this.triggerBeforeOpen(li, _this.uList, item, e, top, left, 'none'); }, this.hoverDelay);\n                }\n                else {\n                    this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n                }\n            }\n        }\n        else {\n            this.uList = this.element;\n            this.uList.style.zIndex = getZindexPartial(target ? target : this.element).toString();\n            if (isNullOrUndefined(e)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var ev = document.createEvent('MouseEvents');\n                ev.initEvent(\"click\", true, false);\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                var targetEvent = this.copyObject(ev, {});\n                targetEvent.target = targetEvent.srcElement = target;\n                targetEvent.currentTarget = target;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                this.triggerBeforeOpen(li, this.uList, item, targetEvent, top, left, 'none');\n            }\n            else {\n                this.triggerBeforeOpen(li, this.uList, item, e, top, left, 'none');\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MenuBase.prototype.copyObject = function (source, destination) {\n        for (var prop in source) {\n            destination[\"\" + prop] = source[\"\" + prop];\n        }\n        return destination;\n    };\n    MenuBase.prototype.calculateIndentSize = function (ul, li) {\n        var liStyle = getComputedStyle(li);\n        var liIndent = parseInt(liStyle.textIndent, 10);\n        if (this.navIdx.length < 2 && !li.classList.contains('e-blankicon')) {\n            liIndent *= 2;\n        }\n        else {\n            liIndent += (liIndent / 4);\n        }\n        ul.style.textIndent = liIndent + 'px';\n        var blankIconElem = ul.querySelectorAll('.e-blankicon');\n        if (blankIconElem && blankIconElem.length) {\n            var menuIconElem = ul.querySelector('.e-menu-icon');\n            var menuIconElemStyle = getComputedStyle(menuIconElem);\n            var blankIconIndent = (parseInt(menuIconElemStyle.marginRight, 10) + menuIconElem.offsetWidth + liIndent);\n            for (var i = 0; i < blankIconElem.length; i++) {\n                blankIconElem[i].style.textIndent = blankIconIndent + 'px';\n            }\n        }\n    };\n    MenuBase.prototype.generatePopup = function (popupWrapper, ul, li, isNestedOrVertical) {\n        var _this = this;\n        var popupObj = new Popup(popupWrapper, {\n            actionOnScroll: this.hamburgerMode ? 'none' : 'reposition',\n            relateTo: li,\n            collision: this.hamburgerMode ? { X: 'none', Y: 'none' } : { X: isNestedOrVertical ||\n                    this.enableRtl ? 'none' : 'flip', Y: 'fit' },\n            position: (isNestedOrVertical && !this.hamburgerMode) ? { X: 'right', Y: 'top' } : { X: 'left', Y: 'bottom' },\n            targetType: 'relative',\n            enableRtl: this.enableRtl,\n            content: ul,\n            open: function () {\n                var scrollEle = select('.e-menu-vscroll', popupObj.element);\n                if (scrollEle) {\n                    scrollEle.style.height = 'inherit';\n                    scrollEle.style.maxHeight = '';\n                }\n                var ul = select('.e-ul', popupObj.element);\n                popupObj.element.style.maxHeight = '';\n                ul.focus();\n                _this.triggerOpen(ul);\n            }\n        });\n        return popupObj;\n    };\n    MenuBase.prototype.createHeaderContainer = function (wrapper) {\n        wrapper = wrapper || this.getWrapper();\n        var spanElem = this.createElement('span', { className: 'e-' + this.getModuleName() + '-header' });\n        var tempTitle = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(this.title) : this.title;\n        var spanTitle = this.createElement('span', {\n            className: 'e-' + this.getModuleName() + '-title', innerHTML: tempTitle\n        });\n        var spanIcon = this.createElement('span', {\n            className: 'e-icons e-' + this.getModuleName() + '-icon', attrs: { 'tabindex': '0' }\n        });\n        spanElem.appendChild(spanTitle);\n        spanElem.appendChild(spanIcon);\n        wrapper.insertBefore(spanElem, this.element);\n    };\n    MenuBase.prototype.openHamburgerMenu = function (e) {\n        if (this.hamburgerMode) {\n            this.triggerBeforeOpen(null, this.element, null, e, 0, 0, 'hamburger');\n        }\n    };\n    MenuBase.prototype.closeHamburgerMenu = function (e) {\n        var _this = this;\n        var beforeCloseArgs = { element: this.element, parentItem: null, event: e,\n            items: this.items, cancel: false };\n        this.trigger('beforeClose', beforeCloseArgs, function (observedHamburgerCloseArgs) {\n            if (!observedHamburgerCloseArgs.cancel) {\n                _this.closeMenu(null, e);\n                _this.element.classList.add('e-hide-menu');\n                _this.trigger('onClose', { element: _this.element, parentItem: null, items: _this.items });\n            }\n        });\n    };\n    MenuBase.prototype.callFit = function (element, x, y, top, left) {\n        return fit(element, null, { X: x, Y: y }, { top: top, left: left });\n    };\n    MenuBase.prototype.triggerBeforeOpen = function (li, ul, item, e, top, left, type) {\n        var _this = this;\n        var items = li ? item[this.getField('children', this.navIdx.length - 1)] : this.items;\n        var eventArgs = {\n            element: ul, items: items, parentItem: item, event: e, cancel: false, top: top, left: left, showSubMenuOn: 'Auto'\n        };\n        var menuType = type;\n        this.trigger('beforeOpen', eventArgs, function (observedOpenArgs) {\n            switch (menuType) {\n                case 'menu':\n                    if (!_this.hamburgerMode) {\n                        if (observedOpenArgs.showSubMenuOn !== 'Auto') {\n                            _this.showItemOnClick = !_this.defaultOption;\n                            _this.showSubMenuOn = observedOpenArgs.showSubMenuOn;\n                        }\n                        _this.top = observedOpenArgs.top;\n                        _this.left = observedOpenArgs.left;\n                    }\n                    _this.popupWrapper.style.display = 'block';\n                    if (!_this.hamburgerMode) {\n                        _this.popupWrapper.style.maxHeight = _this.popupWrapper.getBoundingClientRect().height + 'px';\n                        if (_this.enableScrolling) {\n                            addScrolling(_this.createElement, _this.popupWrapper, _this.uList, 'vscroll', _this.enableRtl);\n                        }\n                        _this.checkScrollOffset(e);\n                    }\n                    if (!_this.hamburgerMode && !_this.left && !_this.top) {\n                        _this.popupObj.refreshPosition(_this.lItem, true);\n                        _this.left = parseInt(_this.popupWrapper.style.left, 10);\n                        _this.top = parseInt(_this.popupWrapper.style.top, 10);\n                        if (_this.enableRtl) {\n                            _this.left =\n                                _this.isNestedOrVertical ? _this.left - _this.popupWrapper.offsetWidth - _this.lItem.parentElement.offsetWidth + 2\n                                    : _this.left - _this.popupWrapper.offsetWidth + _this.lItem.offsetWidth;\n                        }\n                        // eslint-disable-next-line\n                        if (_this.template && (_this.isReact || _this.isAngular)) {\n                            requestAnimationFrame(function () {\n                                _this.collision();\n                                _this.popupWrapper.style.display = '';\n                            });\n                        }\n                        else {\n                            _this.collision();\n                            _this.popupWrapper.style.display = '';\n                        }\n                    }\n                    else {\n                        _this.popupObj.collision = { X: 'none', Y: 'none' };\n                        _this.popupWrapper.style.display = '';\n                    }\n                    break;\n                case 'none':\n                    _this.top = observedOpenArgs.top;\n                    _this.left = observedOpenArgs.left;\n                    break;\n                case 'hamburger':\n                    if (!observedOpenArgs.cancel) {\n                        _this.element.classList.remove('e-hide-menu');\n                        _this.triggerOpen(_this.element);\n                    }\n                    break;\n            }\n            if (menuType !== 'hamburger') {\n                if (observedOpenArgs.cancel) {\n                    if (_this.isMenu) {\n                        _this.popupObj.destroy();\n                        detach(_this.popupWrapper);\n                    }\n                    else if (ul.className.indexOf('e-ul') > -1) {\n                        detach(ul);\n                    }\n                    _this.navIdx.pop();\n                }\n                else {\n                    if (_this.isMenu) {\n                        if (_this.hamburgerMode) {\n                            _this.popupWrapper.style.top = _this.top + 'px';\n                            _this.popupWrapper.style.left = 0 + 'px';\n                            _this.toggleAnimation(_this.popupWrapper);\n                        }\n                        else {\n                            _this.setBlankIconStyle(_this.popupWrapper);\n                            _this.wireKeyboardEvent(_this.popupWrapper);\n                            rippleEffect(_this.popupWrapper, { selector: '.' + ITEM });\n                            _this.popupWrapper.style.left = _this.left + 'px';\n                            _this.popupWrapper.style.top = _this.top + 'px';\n                            var animationOptions = _this.animationSettings.effect !== 'None' ? {\n                                name: _this.animationSettings.effect, duration: _this.animationSettings.duration,\n                                timingFunction: _this.animationSettings.easing\n                            } : null;\n                            _this.popupObj.show(animationOptions, _this.lItem);\n                        }\n                    }\n                    else {\n                        _this.setBlankIconStyle(_this.uList);\n                        _this.setPosition(_this.lItem, _this.uList, _this.top, _this.left);\n                        _this.toggleAnimation(_this.uList);\n                    }\n                }\n            }\n            if (_this.keyType === 'right') {\n                var cul = _this.getUlByNavIdx();\n                li.classList.remove(FOCUSED);\n                if (_this.isMenu && _this.navIdx.length === 1) {\n                    _this.removeLIStateByClass([SELECTED], [_this.getWrapper()]);\n                }\n                li.classList.add(SELECTED);\n                if (_this.action === ENTER) {\n                    var eventArgs_1 = { element: li, item: item, event: e };\n                    _this.trigger('select', eventArgs_1);\n                }\n                li.focus();\n                cul = _this.getUlByNavIdx();\n                var index = _this.isValidLI(cul.children[0], 0, _this.action);\n                cul.children[index].classList.add(FOCUSED);\n                cul.children[index].focus();\n            }\n        });\n    };\n    MenuBase.prototype.collision = function () {\n        var collide;\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if ((this.isNestedOrVertical || this.enableRtl) && (collide.indexOf('right') > -1\n            || collide.indexOf('left') > -1)) {\n            this.popupObj.collision.X = 'none';\n            var offWidth = closest(this.lItem, '.e-' + this.getModuleName() + '-wrapper').offsetWidth;\n            this.left =\n                this.enableRtl ? calculatePosition(this.lItem, this.isNestedOrVertical ? 'right' : 'left', 'top').left\n                    : this.left - this.popupWrapper.offsetWidth - offWidth + 2;\n        }\n        collide = isCollide(this.popupWrapper, null, this.left, this.top);\n        if (collide.indexOf('left') > -1 || collide.indexOf('right') > -1) {\n            this.left = this.callFit(this.popupWrapper, true, false, this.top, this.left).left;\n        }\n        this.popupWrapper.style.left = this.left + 'px';\n    };\n    MenuBase.prototype.setBlankIconStyle = function (menu) {\n        var blankIconList = [].slice.call(menu.getElementsByClassName('e-blankicon'));\n        if (!blankIconList.length) {\n            return;\n        }\n        var iconLi = menu.querySelector('.e-menu-item:not(.e-blankicon):not(.e-separator)');\n        if (!iconLi) {\n            return;\n        }\n        var icon = iconLi.querySelector('.e-menu-icon');\n        if (!icon) {\n            return;\n        }\n        var cssProp = this.enableRtl ? { padding: 'paddingRight', margin: 'marginLeft' } :\n            { padding: 'paddingLeft', margin: 'marginRight' };\n        var iconCssProps = getComputedStyle(icon);\n        var iconSize = parseInt(iconCssProps.fontSize, 10);\n        if (!!parseInt(iconCssProps.width, 10) && parseInt(iconCssProps.width, 10) > iconSize) {\n            iconSize = parseInt(iconCssProps.width, 10);\n        }\n        // eslint:disable\n        var size = iconSize + parseInt(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        iconCssProps[cssProp.margin], 10) + parseInt(getComputedStyle(iconLi)[cssProp.padding], 10) + \"px\";\n        blankIconList.forEach(function (li) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            li.style[cssProp.padding] = size;\n        });\n        // eslint:enable\n    };\n    MenuBase.prototype.checkScrollOffset = function (e) {\n        var wrapper = this.getWrapper();\n        if (wrapper.children[0].classList.contains('e-menu-hscroll') && this.navIdx.length === 1) {\n            var trgt = isNullOrUndefined(e) ? this.element : closest(e.target, '.' + ITEM);\n            var offsetEle = select('.e-hscroll-bar', wrapper);\n            if (offsetEle.scrollLeft > trgt.offsetLeft) {\n                offsetEle.scrollLeft -= (offsetEle.scrollLeft - trgt.offsetLeft);\n            }\n            var offsetLeft = offsetEle.scrollLeft + offsetEle.offsetWidth;\n            var offsetRight = trgt.offsetLeft + trgt.offsetWidth;\n            if (offsetLeft < offsetRight) {\n                offsetEle.scrollLeft += (offsetRight - offsetLeft);\n            }\n        }\n    };\n    MenuBase.prototype.setPosition = function (li, ul, top, left) {\n        var px = 'px';\n        this.toggleVisiblity(ul);\n        if (ul === this.element || (left > -1 && top > -1)) {\n            var collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('right') > -1) {\n                left = left - ul.offsetWidth;\n            }\n            if (collide.indexOf('bottom') > -1) {\n                var offset = this.callFit(ul, false, true, top, left);\n                top = offset.top - 20;\n                if (top < 0) {\n                    var newTop = (pageYOffset + document.documentElement.clientHeight) - ul.getBoundingClientRect().height;\n                    if (newTop > -1) {\n                        top = newTop;\n                    }\n                }\n            }\n            collide = isCollide(ul, null, left, top);\n            if (collide.indexOf('left') > -1) {\n                var offset = this.callFit(ul, true, false, top, left);\n                left = offset.left;\n            }\n        }\n        else {\n            if (Browser.isDevice) {\n                top = Number(this.element.style.top.replace(px, ''));\n                left = Number(this.element.style.left.replace(px, ''));\n            }\n            else {\n                var x = this.enableRtl ? 'left' : 'right';\n                var offset = calculatePosition(li, x, 'top');\n                top = offset.top;\n                left = offset.left;\n                var collide = isCollide(ul, null, this.enableRtl ? left - ul.offsetWidth : left, top);\n                var xCollision = collide.indexOf('left') > -1 || collide.indexOf('right') > -1;\n                if (xCollision) {\n                    offset = calculatePosition(li, this.enableRtl ? 'right' : 'left', 'top');\n                    left = offset.left;\n                }\n                if (this.enableRtl || xCollision) {\n                    left = (this.enableRtl && xCollision) ? left : left - ul.offsetWidth;\n                }\n                if (collide.indexOf('bottom') > -1) {\n                    offset = this.callFit(ul, false, true, top, left);\n                    top = offset.top;\n                }\n            }\n        }\n        this.toggleVisiblity(ul, false);\n        ul.style.top = top + px;\n        ul.style.left = left + px;\n    };\n    MenuBase.prototype.toggleVisiblity = function (ul, isVisible$$1) {\n        if (isVisible$$1 === void 0) { isVisible$$1 = true; }\n        ul.style.visibility = isVisible$$1 ? 'hidden' : '';\n        ul.style.display = isVisible$$1 ? 'block' : 'none';\n    };\n    MenuBase.prototype.createItems = function (items) {\n        var _this = this;\n        var level = this.navIdx ? this.navIdx.length : 0;\n        var fields = this.getFields(level);\n        var showIcon = this.hasField(items, this.getField('iconCss', level));\n        var listBaseOptions = {\n            showIcon: showIcon,\n            moduleName: 'menu',\n            fields: fields,\n            template: this.template,\n            itemNavigable: true,\n            itemCreating: function (args) {\n                if (!args.curData[args.fields[fields.id]]) {\n                    args.curData[args.fields[fields.id]] = getUniqueID('menuitem');\n                }\n                if (isNullOrUndefined(args.curData.htmlAttributes)) {\n                    args.curData.htmlAttributes = {};\n                }\n                Object.assign(args.curData.htmlAttributes, { role: 'menuitem', tabindex: '-1' });\n                if (_this.isMenu && !args.curData[_this.getField('separator', level)]) {\n                    args.curData.htmlAttributes['aria-label'] = args.curData[args.fields.text] ?\n                        args.curData[args.fields.text] : args.curData[args.fields.id];\n                }\n                if (args.curData[args.fields[fields.iconCss]] === '') {\n                    args.curData[args.fields[fields.iconCss]] = null;\n                }\n            },\n            itemCreated: function (args) {\n                if (args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add(SEPARATOR);\n                    args.item.setAttribute('role', 'separator');\n                }\n                if (showIcon && !args.curData[args.fields.iconCss]\n                    && !args.curData[_this.getField('separator', level)]) {\n                    args.item.classList.add('e-blankicon');\n                }\n                if (args.curData[args.fields.child]\n                    && args.curData[args.fields.child].length) {\n                    var span = _this.createElement('span', { className: ICONS + ' ' + CARET });\n                    args.item.appendChild(span);\n                    args.item.setAttribute('aria-haspopup', 'true');\n                    args.item.setAttribute('aria-expanded', 'false');\n                    args.item.classList.add('e-menu-caret-icon');\n                }\n                if (_this.isMenu && _this.template) {\n                    args.item.setAttribute('id', args.curData[args.fields.id].toString());\n                    args.item.removeAttribute('data-uid');\n                    if (args.item.classList.contains('e-level-1')) {\n                        args.item.classList.remove('e-level-1');\n                    }\n                    if (args.item.classList.contains('e-has-child')) {\n                        args.item.classList.remove('e-has-child');\n                    }\n                    args.item.removeAttribute('aria-level');\n                }\n                var eventArgs = { item: args.curData, element: args.item };\n                _this.trigger('beforeItemRender', eventArgs);\n            }\n        };\n        this.setProperties({ 'items': this.items }, true);\n        if (this.isMenu) {\n            listBaseOptions.templateID = this.element.id + TEMPLATE_PROPERTY;\n        }\n        var ul = ListBase.createList(this.createElement, items, listBaseOptions, !this.template, this);\n        ul.setAttribute('tabindex', '0');\n        if (this.isMenu) {\n            ul.setAttribute('role', 'menu');\n        }\n        else {\n            ul.setAttribute('role', 'menubar');\n        }\n        return ul;\n    };\n    MenuBase.prototype.moverHandler = function (e) {\n        var trgt = e.target;\n        this.liTrgt = trgt;\n        var cli = this.getLI(trgt);\n        var wrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : this.getWrapper();\n        var hdrWrapper = this.getWrapper();\n        var regex = new RegExp('-ej2menu-(.*)-popup');\n        var ulId;\n        var isDifferentElem = false;\n        if (!wrapper) {\n            return;\n        }\n        if (wrapper.id !== '') {\n            ulId = regex.exec(wrapper.id)[1];\n        }\n        else {\n            ulId = wrapper.querySelector('ul').id;\n        }\n        if (ulId !== this.element.id) {\n            this.removeLIStateByClass([FOCUSED, SELECTED], [this.getWrapper()]);\n            if (this.navIdx.length) {\n                isDifferentElem = true;\n            }\n            else {\n                return;\n            }\n        }\n        if (cli && closest(cli, '.e-' + this.getModuleName() + '-wrapper') && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [wrapper].concat(this.getPopups()) : [wrapper]);\n            this.removeLIStateByClass([FOCUSED], this.isMenu ? [hdrWrapper].concat(this.getPopups()) : [hdrWrapper]);\n            cli.classList.add(FOCUSED);\n            if (!this.showItemOnClick) {\n                this.clickHandler(e);\n            }\n        }\n        else if (this.isMenu && this.showItemOnClick && !isDifferentElem) {\n            this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n        }\n        if (this.isMenu) {\n            if (!this.showItemOnClick && (trgt.parentElement !== wrapper && !closest(trgt, '.e-' + this.getModuleName() + '-popup'))\n                && (!cli || (cli && !this.getIndex(cli.id, true).length)) && this.showSubMenuOn !== 'Hover') {\n                this.removeLIStateByClass([FOCUSED], [wrapper]);\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            else if (isDifferentElem && !this.showItemOnClick) {\n                if (this.navIdx.length) {\n                    this.isClosed = true;\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!this.isClosed) {\n                this.removeStateWrapper();\n            }\n            this.isClosed = false;\n        }\n    };\n    MenuBase.prototype.removeStateWrapper = function () {\n        if (this.liTrgt) {\n            var wrapper = closest(this.liTrgt, '.e-menu-vscroll');\n            if (this.liTrgt.tagName === 'DIV' && wrapper) {\n                this.removeLIStateByClass([FOCUSED, SELECTED], [wrapper]);\n            }\n        }\n    };\n    MenuBase.prototype.removeLIStateByClass = function (classList$$1, element) {\n        var li;\n        var _loop_1 = function (i) {\n            classList$$1.forEach(function (className) {\n                li = select('.' + className, element[i]);\n                if (li) {\n                    li.classList.remove(className);\n                }\n            });\n        };\n        for (var i = 0; i < element.length; i++) {\n            _loop_1(i);\n        }\n    };\n    MenuBase.prototype.getField = function (propName, level) {\n        if (level === void 0) { level = 0; }\n        var fieldName = this.fields[\"\" + propName];\n        return typeof fieldName === 'string' ? fieldName :\n            (!fieldName[level] ? fieldName[fieldName.length - 1].toString()\n                : fieldName[level].toString());\n    };\n    MenuBase.prototype.getFields = function (level) {\n        if (level === void 0) { level = 0; }\n        return {\n            id: this.getField('itemId', level),\n            iconCss: this.getField('iconCss', level),\n            text: this.getField('text', level),\n            url: this.getField('url', level),\n            child: this.getField('children', level),\n            separator: this.getField('separator', level)\n        };\n    };\n    MenuBase.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][\"\" + field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MenuBase.prototype.menuHeaderClickHandler = function (e) {\n        if (closest(e.target, '.e-menu-wrapper').querySelector('ul.e-menu-parent').id !== this.element.id) {\n            return;\n        }\n        if (this.element.className.indexOf('e-hide-menu') > -1) {\n            this.openHamburgerMenu(e);\n        }\n        else {\n            this.closeHamburgerMenu(e);\n        }\n    };\n    MenuBase.prototype.clickHandler = function (e) {\n        if (this.isTapHold) {\n            this.isTapHold = false;\n        }\n        else {\n            var wrapper = this.getWrapper();\n            var trgt = e.target;\n            var cli = this.cli = this.getLI(trgt);\n            var regex = new RegExp('-ej2menu-(.*)-popup');\n            var cliWrapper = cli ? closest(cli, '.e-' + this.getModuleName() + '-wrapper') : null;\n            var isInstLI = cli && cliWrapper && (this.isMenu ? this.getIndex(cli.id, true).length > 0\n                : wrapper.firstElementChild.id === cliWrapper.firstElementChild.id);\n            if (Browser.isDevice && this.isMenu) {\n                this.removeLIStateByClass([FOCUSED], [wrapper].concat(this.getPopups()));\n                this.mouseDownHandler(e);\n            }\n            if (cli && cliWrapper && this.isMenu) {\n                var cliWrapperId = cliWrapper.id ? regex.exec(cliWrapper.id)[1] : cliWrapper.querySelector('.e-menu-parent').id;\n                if (this.element.id !== cliWrapperId) {\n                    return;\n                }\n            }\n            if (isInstLI && e.type === 'click' && !cli.classList.contains(HEADER)) {\n                this.setLISelected(cli);\n                var navIdx = this.getIndex(cli.id, true);\n                var item = this.getItem(navIdx);\n                var eventArgs = { element: cli, item: item, event: e };\n                this.trigger('select', eventArgs);\n            }\n            if (isInstLI && (e.type === 'mouseover' || Browser.isDevice || this.showItemOnClick)) {\n                var ul = void 0;\n                if (cli.classList.contains(HEADER)) {\n                    ul = wrapper.children[this.navIdx.length - 1];\n                    this.toggleAnimation(ul);\n                    var sli = this.getLIByClass(ul, SELECTED);\n                    if (sli) {\n                        sli.classList.remove(SELECTED);\n                    }\n                    detach(cli.parentNode);\n                    this.navIdx.pop();\n                }\n                else {\n                    if (!cli.classList.contains(SEPARATOR)) {\n                        this.showSubMenu = true;\n                        var cul = cli.parentNode;\n                        this.cliIdx = this.getIdx(cul, cli);\n                        if (this.isMenu || !Browser.isDevice) {\n                            var culIdx = this.isMenu ? Array.prototype.indexOf.call([wrapper].concat(this.getPopups()), closest(cul, '.' + 'e-' + this.getModuleName() + '-wrapper'))\n                                : this.getIdx(wrapper, cul);\n                            if (this.navIdx[culIdx] === this.cliIdx) {\n                                this.showSubMenu = false;\n                            }\n                            if (culIdx !== this.navIdx.length && (e.type !== 'mouseover' || this.showSubMenu)) {\n                                var sli = this.getLIByClass(cul, SELECTED);\n                                if (sli) {\n                                    sli.classList.remove(SELECTED);\n                                }\n                                this.isClosed = true;\n                                this.keyType = 'click';\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                                this.closeMenu(culIdx + 1, e);\n                                if (this.showItemOnClick) {\n                                    this.setLISelected(cli);\n                                }\n                            }\n                        }\n                        if (!this.isClosed) {\n                            this.afterCloseMenu(e);\n                        }\n                        this.isClosed = false;\n                    }\n                }\n            }\n            else {\n                if (this.isMenu && trgt.tagName === 'DIV' && this.navIdx.length && closest(trgt, '.e-menu-vscroll')) {\n                    var popupEle = closest(trgt, '.' + POPUP);\n                    var cIdx = Array.prototype.indexOf.call(this.getPopups(), popupEle) + 1;\n                    if (cIdx < this.navIdx.length) {\n                        this.closeMenu(cIdx + 1, e);\n                        if (popupEle) {\n                            this.removeLIStateByClass([FOCUSED, SELECTED], [popupEle]);\n                        }\n                    }\n                }\n                else if (this.isMenu && this.hamburgerMode && trgt.tagName === 'SPAN'\n                    && trgt.classList.contains('e-menu-icon')) {\n                    this.menuHeaderClickHandler(e);\n                }\n                else {\n                    if (trgt.tagName !== 'UL' || (this.isMenu ? trgt.parentElement.classList.contains('e-menu-wrapper') &&\n                        !this.getIndex(trgt.querySelector('.' + ITEM).id, true).length : trgt.parentElement !== wrapper)) {\n                        if (!cli) {\n                            this.removeLIStateByClass([SELECTED], [wrapper]);\n                        }\n                        if (!cli || !cli.querySelector('.' + CARET)) {\n                            this.closeMenu(null, e);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    MenuBase.prototype.afterCloseMenu = function (e) {\n        var isHeader;\n        if (this.showSubMenu) {\n            if (this.showItemOnClick && this.navIdx.length === 0) {\n                isHeader = closest(e.target, '.e-menu-parent.e-control');\n            }\n            else {\n                isHeader = closest(this.element, '.e-menu-parent.e-control');\n            }\n            var idx = this.navIdx.concat(this.cliIdx);\n            var item = this.getItem(idx);\n            if (item && item[this.getField('children', idx.length - 1)] &&\n                item[this.getField('children', idx.length - 1)].length) {\n                if (e.type === 'mouseover' || (Browser.isDevice && this.isMenu)) {\n                    this.setLISelected(this.cli);\n                }\n                if ((!this.hamburgerMode && isHeader) || (this.hamburgerMode && this.cli.getAttribute('aria-expanded') === 'false')) {\n                    this.cli.setAttribute('aria-expanded', 'true');\n                    this.navIdx.push(this.cliIdx);\n                    this.openMenu(this.cli, item, null, null, e);\n                }\n            }\n            else {\n                if (e.type !== 'mouseover') {\n                    this.closeMenu(null, e);\n                }\n            }\n            if (!isHeader) {\n                var cul = this.getUlByNavIdx();\n                var sli = this.getLIByClass(cul, SELECTED);\n                if (sli) {\n                    sli.setAttribute('aria-expanded', 'false');\n                    sli.classList.remove(SELECTED);\n                }\n            }\n        }\n        this.keyType = '';\n    };\n    MenuBase.prototype.setLISelected = function (li) {\n        var sli = this.getLIByClass(li.parentElement, SELECTED);\n        if (sli) {\n            sli.classList.remove(SELECTED);\n        }\n        if (!this.isMenu) {\n            li.classList.remove(FOCUSED);\n        }\n        li.classList.add(SELECTED);\n    };\n    MenuBase.prototype.getLIByClass = function (ul, classname) {\n        for (var i = 0, len = ul.children.length; i < len; i++) {\n            if (ul.children[i].classList.contains(classname)) {\n                return ul.children[i];\n            }\n        }\n        return null;\n    };\n    /**\n     * This method is used to get the index of the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem | string} item - item be passed to get the index | id to be passed to get the item index.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.getItemIndex = function (item, isUniqueId) {\n        var idx;\n        if (typeof item === 'string') {\n            idx = item;\n        }\n        else {\n            idx = item.id;\n        }\n        var isText = (isUniqueId === false) ? false : true;\n        var navIdx = this.getIndex(idx, isText);\n        return navIdx;\n    };\n    /**\n     * This method is used to set the menu item in the Menu based on the argument.\n     *\n     * @param {MenuItem} item - item need to be updated.\n     * @param {string} id - id / text to be passed to update the item.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.setItem = function (item, id, isUniqueId) {\n        var idx;\n        if (isUniqueId) {\n            idx = id ? id : item.id;\n        }\n        else {\n            idx = id ? id : item.text;\n        }\n        var navIdx = this.getIndex(idx, isUniqueId);\n        var newItem = this.getItem(navIdx);\n        Object.assign(newItem, item);\n    };\n    MenuBase.prototype.getItem = function (navIdx) {\n        navIdx = navIdx.slice();\n        var idx = navIdx.pop();\n        var items = this.getItems(navIdx);\n        return items[idx];\n    };\n    MenuBase.prototype.getItems = function (navIdx) {\n        var items = this.items;\n        for (var i = 0; i < navIdx.length; i++) {\n            items = items[navIdx[i]][this.getField('children', i)];\n        }\n        return items;\n    };\n    MenuBase.prototype.setItems = function (newItems, navIdx) {\n        var items = this.getItems(navIdx);\n        items.splice(0, items.length);\n        for (var i = 0; i < newItems.length; i++) {\n            items.splice(i, 0, newItems[i]);\n        }\n    };\n    MenuBase.prototype.getIdx = function (ul, li, skipHdr) {\n        if (skipHdr === void 0) { skipHdr = true; }\n        var idx = Array.prototype.indexOf.call(ul.children, li);\n        if (skipHdr && ul.children[0].classList.contains(HEADER)) {\n            idx--;\n        }\n        return idx;\n    };\n    MenuBase.prototype.getLI = function (elem) {\n        if (elem.tagName === 'LI' && elem.classList.contains('e-menu-item')) {\n            return elem;\n        }\n        return closest(elem, 'li.e-menu-item');\n    };\n    MenuBase.prototype.updateItemsByNavIdx = function () {\n        var items = this.items;\n        var count = 0;\n        for (var index = 0; index < this.navIdx.length; index++) {\n            items = items[index].items;\n            if (!items) {\n                break;\n            }\n            count++;\n            var ul = this.getUlByNavIdx(count);\n            if (!ul) {\n                break;\n            }\n            this.updateItem(ul, items);\n        }\n    };\n    MenuBase.prototype.removeChildElement = function (elem) {\n        while (elem.firstElementChild) {\n            elem.removeChild(elem.firstElementChild);\n        }\n        return elem;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuBaseModel} newProp - Specifies the new properties\n     * @param {MenuBaseModel} oldProp - Specifies the old properties\n     * @returns {void}\n     */\n    MenuBase.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        var wrapper = this.getWrapper();\n        var _loop_2 = function (prop) {\n            switch (prop) {\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([wrapper], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([wrapper], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    break;\n                case 'enableRtl':\n                    wrapper.classList.toggle(RTL);\n                    break;\n                case 'showItemOnClick':\n                    this_1.unWireEvents();\n                    this_1.showItemOnClick = newProp.showItemOnClick;\n                    this_1.wireEvents();\n                    break;\n                case 'enableScrolling':\n                    if (newProp.enableScrolling) {\n                        var ul_2;\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                        }\n                        else {\n                            addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                        }\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_2 = select('.e-ul', wrapper);\n                            addScrolling(_this.createElement, wrapper, ul_2, 'vscroll', _this.enableRtl);\n                        });\n                    }\n                    else {\n                        var ul_3 = wrapper.children[0];\n                        if (this_1.element.classList.contains('e-vertical')) {\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                        }\n                        else {\n                            destroyScroll(getInstance(ul_3, HScroll), ul_3);\n                        }\n                        wrapper.style.overflow = '';\n                        wrapper.appendChild(this_1.element);\n                        this_1.getPopups().forEach(function (wrapper) {\n                            ul_3 = wrapper.children[0];\n                            destroyScroll(getInstance(ul_3, VScroll), ul_3);\n                            wrapper.style.overflow = '';\n                        });\n                    }\n                    break;\n                case 'items': {\n                    var idx = void 0;\n                    var navIdx = void 0;\n                    var item = void 0;\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    if (this_1.isReact && this_1.template) {\n                        this_1.clearTemplate(['template']);\n                    }\n                    if (!Object.keys(oldProp.items).length) {\n                        this_1.updateItem(this_1.element, this_1.items);\n                        if (this_1.enableScrolling && this_1.element.parentElement.classList.contains('e-custom-scroll')) {\n                            if (this_1.element.classList.contains('e-vertical')) {\n                                addScrolling(this_1.createElement, wrapper, this_1.element, 'vscroll', this_1.enableRtl);\n                            }\n                            else {\n                                addScrolling(this_1.createElement, wrapper, this_1.element, 'hscroll', this_1.enableRtl);\n                            }\n                        }\n                        if (!this_1.hamburgerMode) {\n                            for (var i = 1, count = wrapper.childElementCount; i < count; i++) {\n                                detach(wrapper.lastElementChild);\n                            }\n                        }\n                        this_1.navIdx = [];\n                    }\n                    else {\n                        var keys = Object.keys(newProp.items);\n                        for (var i = 0; i < keys.length; i++) {\n                            navIdx = this_1.getChangedItemIndex(newProp, [], Number(keys[i]));\n                            if (navIdx.length <= this_1.getWrapper().children.length) {\n                                idx = navIdx.pop();\n                                item = this_1.getItems(navIdx);\n                                this_1.insertAfter([item[idx]], item[idx].text);\n                                this_1.removeItem(item, navIdx, idx);\n                                this_1.setItems(item, navIdx);\n                            }\n                            navIdx.length = 0;\n                        }\n                    }\n                    break;\n                }\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            _loop_2(prop);\n        }\n    };\n    MenuBase.prototype.updateItem = function (ul, items) {\n        if (isBlazor() && !this.isMenu) {\n            ul = this.removeChildElement(ul);\n        }\n        else {\n            if (this.enableScrolling) {\n                var wrapper1 = this.getWrapper();\n                var ul1 = wrapper1.children[0];\n                if (this.element.classList.contains('e-vertical')) {\n                    destroyScroll(getInstance(ul1, VScroll), ul1);\n                }\n                else {\n                    destroyScroll(getInstance(ul1, HScroll), ul1);\n                }\n            }\n            ul.innerHTML = '';\n        }\n        var lis = [].slice.call(this.createItems(items).children);\n        lis.forEach(function (li) {\n            ul.appendChild(li);\n        });\n    };\n    MenuBase.prototype.getChangedItemIndex = function (newProp, index, idx) {\n        index.push(idx);\n        var key = Object.keys(newProp.items[idx]).pop();\n        if (key === 'items') {\n            var item = newProp.items[idx];\n            var popStr = Object.keys(item.items).pop();\n            if (popStr) {\n                this.getChangedItemIndex(item, index, Number(popStr));\n            }\n        }\n        else {\n            if (key === 'isParentArray' && index.length > 1) {\n                index.pop();\n            }\n        }\n        return index;\n    };\n    MenuBase.prototype.removeItem = function (item, navIdx, idx) {\n        item.splice(idx, 1);\n        var uls = this.getWrapper().children;\n        if (navIdx.length < uls.length) {\n            detach(uls[navIdx.length].children[idx]);\n        }\n    };\n    /**\n     * Used to unwire the bind events.\n     *\n     * @private\n     * @param {string} targetSelctor - Specifies the target selector\n     * @returns {void}\n     */\n    MenuBase.prototype.unWireEvents = function (targetSelctor) {\n        if (targetSelctor === void 0) { targetSelctor = this.target; }\n        var wrapper = this.getWrapper();\n        if (targetSelctor) {\n            var target = void 0;\n            var touchModule = void 0;\n            var targetElems = selectAll(targetSelctor);\n            for (var i = 0, len = targetElems.length; i < len; i++) {\n                target = targetElems[i];\n                if (this.isMenu) {\n                    EventHandler.remove(target, 'click', this.menuHeaderClickHandler);\n                }\n                else {\n                    if (Browser.isIos) {\n                        touchModule = getInstance(target, Touch);\n                        if (touchModule) {\n                            touchModule.destroy();\n                        }\n                    }\n                    else {\n                        EventHandler.remove(target, 'contextmenu', this.cmenuHandler);\n                    }\n                }\n            }\n            if (!this.isMenu) {\n                EventHandler.remove(this.targetElement, 'mousewheel DOMMouseScroll', this.scrollHandler);\n                for (var _i = 0, _a = getScrollableParent(this.targetElement); _i < _a.length; _i++) {\n                    var parent_2 = _a[_i];\n                    EventHandler.remove(parent_2, 'mousewheel DOMMouseScroll', this.scrollHandler);\n                }\n            }\n        }\n        if (!Browser.isDevice) {\n            EventHandler.remove(this.isMenu ? document : wrapper, 'mouseover', this.delegateMoverHandler);\n            EventHandler.remove(document, 'mousedown', this.delegateMouseDownHandler);\n        }\n        EventHandler.remove(document, 'click', this.delegateClickHandler);\n        this.unWireKeyboardEvent(wrapper);\n        this.rippleFn();\n    };\n    MenuBase.prototype.unWireKeyboardEvent = function (element) {\n        var keyboardModule = getInstance(element, KeyboardEvents);\n        if (keyboardModule) {\n            keyboardModule.destroy();\n        }\n    };\n    MenuBase.prototype.toggleAnimation = function (ul, isMenuOpen) {\n        var _this = this;\n        if (isMenuOpen === void 0) { isMenuOpen = true; }\n        var pUlHeight;\n        var pElement;\n        if (this.animationSettings.effect === 'None' || !isMenuOpen) {\n            this.end(ul, isMenuOpen);\n        }\n        else {\n            this.animation.animate(ul, {\n                name: this.animationSettings.effect,\n                duration: this.animationSettings.duration,\n                timingFunction: this.animationSettings.easing,\n                begin: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement = options.element.parentElement;\n                        options.element.style.position = 'absolute';\n                        pUlHeight = pElement.offsetHeight;\n                        options.element.style.maxHeight = options.element.offsetHeight + 'px';\n                        pElement.style.maxHeight = '';\n                    }\n                    else {\n                        options.element.style.display = 'block';\n                        options.element.style.maxHeight = options.element.getBoundingClientRect().height + 'px';\n                    }\n                },\n                progress: function (options) {\n                    if (_this.hamburgerMode) {\n                        pElement.style.minHeight = (pUlHeight + options.element.offsetHeight) + 'px';\n                    }\n                },\n                end: function (options) {\n                    if (_this.hamburgerMode) {\n                        options.element.style.position = '';\n                        options.element.style.maxHeight = '';\n                        pElement.style.minHeight = '';\n                        options.element.style.top = 0 + 'px';\n                        options.element.children[0].focus();\n                        _this.triggerOpen(options.element.children[0]);\n                    }\n                    else {\n                        _this.end(options.element, isMenuOpen);\n                    }\n                }\n            });\n        }\n    };\n    MenuBase.prototype.triggerOpen = function (ul) {\n        var item = this.navIdx.length ? this.getItem(this.navIdx) : null;\n        var eventArgs = {\n            element: ul, parentItem: item, items: item ? item.items : this.items\n        };\n        this.trigger('onOpen', eventArgs);\n        if (!this.isMenu) {\n            EventHandler.add(ul, 'keydown', this.keyHandler, this);\n        }\n    };\n    MenuBase.prototype.end = function (ul, isMenuOpen) {\n        if (isMenuOpen) {\n            ul.style.display = 'block';\n            ul.style.maxHeight = '';\n            this.triggerOpen(ul);\n            if (ul.querySelector('.' + FOCUSED)) {\n                ul.querySelector('.' + FOCUSED).focus();\n            }\n            else {\n                var ele = this.getWrapper().children[this.getIdx(this.getWrapper(), ul) - 1];\n                if (this.currentTarget) {\n                    if (!(this.currentTarget.classList.contains('e-numerictextbox') || this.currentTarget.classList.contains('e-textbox') || this.currentTarget.tagName === 'INPUT')) {\n                        if (ele) {\n                            ele.querySelector('.' + SELECTED).focus();\n                        }\n                        else {\n                            this.element.focus();\n                        }\n                    }\n                }\n                else {\n                    if (ele) {\n                        ele.querySelector('.' + SELECTED).focus();\n                    }\n                    else {\n                        this.element.focus();\n                    }\n                }\n            }\n        }\n        else {\n            if (ul === this.element) {\n                var fli = this.getLIByClass(this.element, FOCUSED);\n                if (fli) {\n                    fli.classList.remove(FOCUSED);\n                }\n                var sli = this.getLIByClass(this.element, SELECTED);\n                if (sli) {\n                    sli.classList.remove(SELECTED);\n                }\n                ul.style.display = 'none';\n            }\n            else {\n                detach(ul);\n            }\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    MenuBase.prototype.getPersistData = function () {\n        return '';\n    };\n    /**\n     * Get wrapper element.\n     *\n     * @returns {Element} - Wrapper element\n     * @private\n     */\n    MenuBase.prototype.getWrapper = function () {\n        return closest(this.element, '.e-' + this.getModuleName() + '-wrapper');\n    };\n    MenuBase.prototype.getIndex = function (data, isUniqueId, items, nIndex, isCallBack, level) {\n        if (items === void 0) { items = this.items; }\n        if (nIndex === void 0) { nIndex = []; }\n        if (isCallBack === void 0) { isCallBack = false; }\n        if (level === void 0) { level = 0; }\n        var item;\n        level = isCallBack ? level + 1 : 0;\n        for (var i = 0, len = items.length; i < len; i++) {\n            item = items[i];\n            if ((isUniqueId ? item[this.getField('itemId', level)] : item[this.getField('text', level)]) === data) {\n                nIndex.push(i);\n                break;\n            }\n            else if (item[this.getField('children', level)]\n                && item[this.getField('children', level)].length) {\n                nIndex = this.getIndex(data, isUniqueId, item[this.getField('children', level)], nIndex, true, level);\n                if (nIndex[nIndex.length - 1] === -1) {\n                    if (i !== len - 1) {\n                        nIndex.pop();\n                    }\n                }\n                else {\n                    nIndex.unshift(i);\n                    break;\n                }\n            }\n            else {\n                if (i === len - 1) {\n                    nIndex.push(-1);\n                }\n            }\n        }\n        return (!isCallBack && nIndex[0] === -1) ? [] : nIndex;\n    };\n    /**\n     * This method is used to enable or disable the menu items in the Menu based on the items and enable argument.\n     *\n     * @param {string[]} items - Text items that needs to be enabled/disabled.\n     * @param {boolean} enable - Set `true`/`false` to enable/disable the list items.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.enableItems = function (items, enable, isUniqueId) {\n        if (enable === void 0) { enable = true; }\n        var ul;\n        var idx;\n        var navIdx;\n        var disabled = DISABLED;\n        var skipItem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            if (this.navIdx.length) {\n                if (navIdx.length !== 1) {\n                    skipItem = false;\n                    for (var i_1 = 0, len = navIdx.length - 1; i_1 < len; i_1++) {\n                        if (navIdx[i_1] !== this.navIdx[i_1]) {\n                            skipItem = true;\n                            break;\n                        }\n                    }\n                    if (skipItem) {\n                        continue;\n                    }\n                }\n            }\n            else {\n                if (navIdx.length !== 1) {\n                    continue;\n                }\n            }\n            idx = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul && !isNullOrUndefined(idx)) {\n                if (enable) {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.remove(disabled);\n                        ul.children[idx].removeAttribute('aria-disabled');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.remove(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.remove(disabled);\n                        }\n                    }\n                }\n                else {\n                    if (this.isMenu) {\n                        ul.children[idx].classList.add(disabled);\n                        ul.children[idx].setAttribute('aria-disabled', 'true');\n                    }\n                    else {\n                        if (Browser.isDevice && !ul.classList.contains('e-contextmenu')) {\n                            ul.children[idx + 1].classList.add(disabled);\n                        }\n                        else {\n                            ul.children[idx].classList.add(disabled);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    /**\n     * This method is used to show the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be shown.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.showItems = function (items, isUniqueId) {\n        this.showHideItems(items, false, isUniqueId);\n    };\n    /**\n     * This method is used to hide the menu items in the Menu based on the items text.\n     *\n     * @param {string[]} items - Text items that needs to be hidden.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.hideItems = function (items, isUniqueId) {\n        this.showHideItems(items, true, isUniqueId);\n    };\n    MenuBase.prototype.showHideItems = function (items, ishide, isUniqueId) {\n        var ul;\n        var index;\n        var navIdx;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            index = navIdx.pop();\n            ul = this.getUlByNavIdx(navIdx.length);\n            if (ul) {\n                var validUl = isUniqueId ? ul.children[index].id : ul.children[index].textContent;\n                if (ishide && validUl === items[i]) {\n                    ul.children[index].classList.add(HIDE);\n                }\n                else {\n                    ul.children[index].classList.remove(HIDE);\n                }\n            }\n        }\n    };\n    /**\n     * It is used to remove the menu items from the Menu based on the items text.\n     *\n     * @param {string[]} items Text items that needs to be removed.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.removeItems = function (items, isUniqueId) {\n        var idx;\n        var navIdx;\n        var iitems;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(items[i], isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            if (!isNullOrUndefined(idx)) {\n                this.removeItem(iitems, navIdx, idx);\n            }\n        }\n    };\n    /**\n     * It is used to insert the menu items after the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item after that the element to be inserted.\n     * @param {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertAfter = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId);\n    };\n    /**\n     * It is used to insert the menu items before the specified menu item text.\n     *\n     * @param {MenuItemModel[]} items - Items that needs to be inserted.\n     * @param {string} text - Text item before that the element to be inserted.\n     * @param  {boolean} isUniqueId - Set `true` if it is a unique id.\n     * @returns {void}\n     */\n    MenuBase.prototype.insertBefore = function (items, text, isUniqueId) {\n        this.insertItems(items, text, isUniqueId, false);\n    };\n    MenuBase.prototype.insertItems = function (items, text, isUniqueId, isAfter) {\n        if (isAfter === void 0) { isAfter = true; }\n        var li;\n        var idx;\n        var navIdx;\n        var iitems;\n        var menuitem;\n        for (var i = 0; i < items.length; i++) {\n            navIdx = this.getIndex(text, isUniqueId);\n            idx = navIdx.pop();\n            iitems = this.getItems(navIdx);\n            menuitem = new MenuItem(iitems[0], 'items', items[i], true);\n            iitems.splice(isAfter ? idx + 1 : idx, 0, menuitem);\n            var uls = this.isMenu ? [this.getWrapper()].concat(this.getPopups()) : [].slice.call(this.getWrapper().children);\n            if (!isNullOrUndefined(idx) && navIdx.length < uls.length) {\n                idx = isAfter ? idx + 1 : idx;\n                li = this.createItems(iitems).children[idx];\n                var ul = this.isMenu ? select('.e-menu-parent', uls[navIdx.length]) : uls[navIdx.length];\n                ul.insertBefore(li, ul.children[idx]);\n            }\n        }\n    };\n    MenuBase.prototype.removeAttributes = function () {\n        var _this = this;\n        ['top', 'left', 'display', 'z-index'].forEach(function (key) {\n            _this.element.style.removeProperty(key);\n        });\n        ['role', 'tabindex', 'class', 'style'].forEach(function (key) {\n            if (key === 'class' && _this.element.classList.contains('e-menu-parent')) {\n                _this.element.classList.remove('e-menu-parent');\n            }\n            if (['class', 'style'].indexOf(key) === -1 || !_this.element.getAttribute(key)) {\n                _this.element.removeAttribute(key);\n            }\n            if (_this.isMenu && key === 'class' && _this.element.classList.contains('e-vertical')) {\n                _this.element.classList.remove('e-vertical');\n            }\n        });\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    MenuBase.prototype.destroy = function () {\n        var wrapper = this.getWrapper();\n        if (wrapper) {\n            this.unWireEvents();\n            if (!this.isMenu) {\n                this.clonedElement.style.display = '';\n                if (this.clonedElement.tagName === 'EJS-CONTEXTMENU') {\n                    addClass([this.clonedElement], ['e-control', 'e-lib', 'e-' + this.getModuleName()]);\n                    this.element = this.clonedElement;\n                }\n                else {\n                    if (this.refreshing && this.clonedElement.childElementCount && this.clonedElement.children[0].tagName === 'LI') {\n                        this.setProperties({ 'items': [] }, true);\n                    }\n                    if (document.getElementById(this.clonedElement.id)) {\n                        var refEle = this.clonedElement.nextElementSibling;\n                        if (refEle && refEle !== wrapper) {\n                            this.clonedElement.parentElement.insertBefore(this.element, refEle);\n                        }\n                        else {\n                            this.clonedElement.parentElement.appendChild(this.element);\n                        }\n                        if (isBlazor() && !this.isMenu) {\n                            this.element = this.removeChildElement(this.element);\n                        }\n                        else {\n                            this.element.innerHTML = '';\n                        }\n                        append([].slice.call(this.clonedElement.children), this.element);\n                        detach(this.clonedElement);\n                        this.removeAttributes();\n                    }\n                }\n                this.clonedElement = null;\n            }\n            else {\n                this.closeMenu();\n                if (isBlazor() && !this.isMenu) {\n                    this.element = this.removeChildElement(this.element);\n                }\n                else {\n                    this.element.innerHTML = '';\n                }\n                this.removeAttributes();\n                wrapper.parentNode.insertBefore(this.element, wrapper);\n                this.clonedElement = null;\n            }\n            if (this.isMenu && this.clonedElement) {\n                detach(this.element);\n                wrapper.style.display = '';\n                wrapper.classList.remove('e-' + this.getModuleName() + '-wrapper');\n                wrapper.removeAttribute('data-ripple');\n            }\n            else {\n                detach(wrapper);\n            }\n            _super.prototype.destroy.call(this);\n            if (this.template) {\n                this.clearTemplate(['template']);\n            }\n        }\n        this.rippleFn = null;\n    };\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"beforeItemRender\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"beforeOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"onOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"beforeClose\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"onClose\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"select\", void 0);\n    __decorate$2([\n        Event()\n    ], MenuBase.prototype, \"created\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuBase.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property(0)\n    ], MenuBase.prototype, \"hoverDelay\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuBase.prototype, \"showItemOnClick\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuBase.prototype, \"target\", void 0);\n    __decorate$2([\n        Property('')\n    ], MenuBase.prototype, \"filter\", void 0);\n    __decorate$2([\n        Property(null)\n    ], MenuBase.prototype, \"template\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuBase.prototype, \"enableScrolling\", void 0);\n    __decorate$2([\n        Property(false)\n    ], MenuBase.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$2([\n        Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n    ], MenuBase.prototype, \"fields\", void 0);\n    __decorate$2([\n        Collection([], MenuItem)\n    ], MenuBase.prototype, \"items\", void 0);\n    __decorate$2([\n        Complex({ duration: 400, easing: 'ease', effect: 'SlideDown' }, MenuAnimationSettings)\n    ], MenuBase.prototype, \"animationSettings\", void 0);\n    MenuBase = __decorate$2([\n        NotifyPropertyChanges\n    ], MenuBase);\n    return MenuBase;\n}(Component));\n\n/**\n * Navigation Common modules\n */\n\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar CLS_VERTICAL = 'e-vertical';\nvar CLS_ITEMS = 'e-toolbar-items';\nvar CLS_ITEM = 'e-toolbar-item';\nvar CLS_RTL$2 = 'e-rtl';\nvar CLS_SEPARATOR = 'e-separator';\nvar CLS_POPUPICON = 'e-popup-up-icon';\nvar CLS_POPUPDOWN = 'e-popup-down-icon';\nvar CLS_POPUPOPEN = 'e-popup-open';\nvar CLS_TEMPLATE = 'e-template';\nvar CLS_DISABLE$2 = 'e-overlay';\nvar CLS_POPUPTEXT = 'e-toolbar-text';\nvar CLS_TBARTEXT = 'e-popup-text';\nvar CLS_TBAROVERFLOW = 'e-overflow-show';\nvar CLS_POPOVERFLOW = 'e-overflow-hide';\nvar CLS_TBARBTN = 'e-tbar-btn';\nvar CLS_TBARNAV = 'e-hor-nav';\nvar CLS_TBARSCRLNAV = 'e-scroll-nav';\nvar CLS_TBARRIGHT = 'e-toolbar-right';\nvar CLS_TBARLEFT = 'e-toolbar-left';\nvar CLS_TBARCENTER = 'e-toolbar-center';\nvar CLS_TBARPOS = 'e-tbar-pos';\nvar CLS_HSCROLLCNT = 'e-hscroll-content';\nvar CLS_VSCROLLCNT = 'e-vscroll-content';\nvar CLS_HSCROLLBAR$1 = 'e-hscroll-bar';\nvar CLS_POPUPNAV = 'e-hor-nav';\nvar CLS_POPUPCLASS = 'e-toolbar-pop';\nvar CLS_POPUP = 'e-toolbar-popup';\nvar CLS_TBARBTNTEXT = 'e-tbar-btn-text';\nvar CLS_TBARNAVACT = 'e-nav-active';\nvar CLS_TBARIGNORE = 'e-ignore';\nvar CLS_POPPRI = 'e-popup-alone';\nvar CLS_HIDDEN = 'e-hidden';\nvar CLS_MULTIROW = 'e-toolbar-multirow';\nvar CLS_MULTIROWPOS = 'e-multirow-pos';\nvar CLS_MULTIROW_SEPARATOR = 'e-multirow-separator';\nvar CLS_EXTENDABLE_SEPARATOR = 'e-extended-separator';\nvar CLS_EXTEANDABLE_TOOLBAR = 'e-extended-toolbar';\nvar CLS_EXTENDABLECLASS = 'e-toolbar-extended';\nvar CLS_EXTENDPOPUP = 'e-expended-nav';\nvar CLS_EXTENDEDPOPOPEN = 'e-tbar-extended';\n/**\n * An item object that is used to configure Toolbar commands.\n */\nvar Item = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(Item, _super);\n    function Item() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"id\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"text\", void 0);\n    __decorate$3([\n        Property('auto')\n    ], Item.prototype, \"width\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property(false)\n    ], Item.prototype, \"showAlwaysInPopup\", void 0);\n    __decorate$3([\n        Property(false)\n    ], Item.prototype, \"disabled\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"prefixIcon\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"suffixIcon\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Item.prototype, \"visible\", void 0);\n    __decorate$3([\n        Property('None')\n    ], Item.prototype, \"overflow\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"template\", void 0);\n    __decorate$3([\n        Property('Button')\n    ], Item.prototype, \"type\", void 0);\n    __decorate$3([\n        Property('Both')\n    ], Item.prototype, \"showTextOn\", void 0);\n    __decorate$3([\n        Property(null)\n    ], Item.prototype, \"htmlAttributes\", void 0);\n    __decorate$3([\n        Property('')\n    ], Item.prototype, \"tooltipText\", void 0);\n    __decorate$3([\n        Property('Left')\n    ], Item.prototype, \"align\", void 0);\n    __decorate$3([\n        Event()\n    ], Item.prototype, \"click\", void 0);\n    __decorate$3([\n        Property(-1)\n    ], Item.prototype, \"tabIndex\", void 0);\n    return Item;\n}(ChildProperty));\n/**\n * The Toolbar control contains a group of commands that are aligned horizontally.\n * ```html\n * <div id=\"toolbar\"/>\n * <script>\n *   var toolbarObj = new Toolbar();\n *   toolbarObj.appendTo(\"#toolbar\");\n * </script>\n * ```\n */\nvar Toolbar = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(Toolbar, _super);\n    /**\n     * Initializes a new instance of the Toolbar class.\n     *\n     * @param {ToolbarModel} options  - Specifies Toolbar model properties as options.\n     * @param { string | HTMLElement} element  - Specifies the element that is rendered as a Toolbar.\n     */\n    function Toolbar(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.resizeContext = _this.resize.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Toolbar.\n         */\n        _this.keyConfigs = {\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            popupOpen: 'enter',\n            popupClose: 'escape',\n            tab: 'tab',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.destroy = function () {\n        var _this = this;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        var btnItems = this.element.querySelectorAll('.e-control.e-btn');\n        [].slice.call(btnItems).forEach(function (el) {\n            if (!isNullOrUndefined(el) && !isNullOrUndefined(el.ej2_instances) && !isNullOrUndefined(el.ej2_instances[0]) && !(el.ej2_instances[0].isDestroyed)) {\n                el.ej2_instances[0].destroy();\n            }\n        });\n        this.unwireEvents();\n        this.tempId.forEach(function (ele) {\n            if (!isNullOrUndefined(_this.element.querySelector(ele))) {\n                document.body.appendChild(_this.element.querySelector(ele)).style.display = 'none';\n            }\n        });\n        this.destroyItems();\n        while (this.element.lastElementChild) {\n            this.element.removeChild(this.element.lastElementChild);\n        }\n        if (this.trgtEle) {\n            this.element.appendChild(this.ctrlTem);\n            this.trgtEle = null;\n            this.ctrlTem = null;\n        }\n        if (this.popObj) {\n            this.popObj.destroy();\n            detach(this.popObj.element);\n        }\n        if (this.activeEle) {\n            this.activeEle = null;\n        }\n        this.popObj = null;\n        this.tbarAlign = null;\n        this.tbarItemsCol = [];\n        this.remove(this.element, 'e-toolpop');\n        if (this.cssClass) {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        this.element.removeAttribute('style');\n        ['aria-disabled', 'aria-orientation', 'role'].forEach(function (attrb) {\n            return _this.element.removeAttribute(attrb);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.preRender = function () {\n        var eventArgs = { enableCollision: this.enableCollision, scrollStep: this.scrollStep };\n        this.trigger('beforeCreate', eventArgs);\n        this.enableCollision = eventArgs.enableCollision;\n        this.scrollStep = eventArgs.scrollStep;\n        this.scrollModule = null;\n        this.popObj = null;\n        this.tempId = [];\n        this.tbarItemsCol = this.items;\n        this.isVertical = this.element.classList.contains(CLS_VERTICAL) ? true : false;\n        this.isExtendedOpen = false;\n        this.popupPriCount = 0;\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL$2);\n        }\n    };\n    Toolbar.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resizeContext);\n        if (this.allowKeyboard) {\n            this.wireKeyboardEvent();\n        }\n    };\n    Toolbar.prototype.wireKeyboardEvent = function () {\n        this.keyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs\n        });\n        EventHandler.add(this.element, 'keydown', this.docKeyDown, this);\n        this.updateTabIndex('0');\n    };\n    Toolbar.prototype.updateTabIndex = function (tabIndex) {\n        var ele = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        if (!isNullOrUndefined(ele) && !isNullOrUndefined(ele.firstElementChild)) {\n            var dataTabIndex = ele.firstElementChild.getAttribute('data-tabindex');\n            if (dataTabIndex && dataTabIndex === '-1' && ele.firstElementChild.tagName !== 'INPUT') {\n                ele.firstElementChild.setAttribute('tabindex', tabIndex);\n            }\n        }\n    };\n    Toolbar.prototype.unwireKeyboardEvent = function () {\n        if (this.keyModule) {\n            EventHandler.remove(this.element, 'keydown', this.docKeyDown);\n            this.keyModule.destroy();\n            this.keyModule = null;\n        }\n    };\n    Toolbar.prototype.docKeyDown = function (e) {\n        if (e.target.tagName === 'INPUT') {\n            return;\n        }\n        var popCheck = !isNullOrUndefined(this.popObj) && isVisible(this.popObj.element) && this.overflowMode !== 'Extended';\n        if (e.keyCode === 9 && e.target.classList.contains('e-hor-nav') === true && popCheck) {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        var keyCheck = (e.keyCode === 40 || e.keyCode === 38 || e.keyCode === 35 || e.keyCode === 36);\n        if (keyCheck) {\n            e.preventDefault();\n        }\n    };\n    Toolbar.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        this.destroyScroll();\n        this.unwireKeyboardEvent();\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(document, 'scroll', this.docEvent);\n        EventHandler.remove(document, 'click', this.docEvent);\n    };\n    Toolbar.prototype.clearProperty = function () {\n        this.tbarEle = [];\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n    };\n    Toolbar.prototype.docEvent = function (e) {\n        var popEle = closest(e.target, '.e-popup');\n        if (this.popObj && isVisible(this.popObj.element) && !popEle && this.overflowMode === 'Popup') {\n            this.popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n    };\n    Toolbar.prototype.destroyScroll = function () {\n        if (this.scrollModule) {\n            if (this.tbarAlign) {\n                this.add(this.scrollModule.element, CLS_TBARPOS);\n            }\n            this.scrollModule.destroy();\n            this.scrollModule = null;\n        }\n    };\n    Toolbar.prototype.destroyItems = function () {\n        if (this.element) {\n            [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM)).forEach(function (el) { detach(el); });\n        }\n        if (this.tbarAlign) {\n            var tbarItems = this.element.querySelector('.' + CLS_ITEMS);\n            [].slice.call(tbarItems.children).forEach(function (el) {\n                detach(el);\n            });\n            this.tbarAlign = false;\n            this.remove(tbarItems, CLS_TBARPOS);\n        }\n        this.clearProperty();\n    };\n    Toolbar.prototype.destroyMode = function () {\n        if (this.scrollModule) {\n            this.remove(this.scrollModule.element, CLS_RTL$2);\n            this.destroyScroll();\n        }\n        this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n        this.remove(this.element, CLS_EXTEANDABLE_TOOLBAR);\n        var tempEle = this.element.querySelector('.e-toolbar-multirow');\n        if (tempEle) {\n            this.remove(tempEle, CLS_MULTIROW);\n        }\n        if (this.popObj) {\n            this.popupRefresh(this.popObj.element, true);\n        }\n    };\n    Toolbar.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Toolbar.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    Toolbar.prototype.elementFocus = function (ele) {\n        var fChild = ele.firstElementChild;\n        if (fChild) {\n            fChild.focus();\n            this.activeEleSwitch(ele);\n        }\n        else {\n            ele.focus();\n        }\n    };\n    Toolbar.prototype.clstElement = function (tbrNavChk, trgt) {\n        var clst;\n        if (tbrNavChk && this.popObj && isVisible(this.popObj.element)) {\n            clst = this.popObj.element.querySelector('.' + CLS_ITEM);\n        }\n        else if (this.element === trgt || tbrNavChk) {\n            clst = this.element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_DISABLE$2 + ' ):not(.' + CLS_SEPARATOR + ' ):not(.' + CLS_HIDDEN + ' )');\n        }\n        else {\n            clst = closest(trgt, '.' + CLS_ITEM);\n        }\n        return clst;\n    };\n    Toolbar.prototype.keyHandling = function (clst, e, trgt, navChk, scrollChk) {\n        var popObj = this.popObj;\n        var rootEle = this.element;\n        var popAnimate = { name: 'FadeOut', duration: 100 };\n        var value = e.action === 'moveUp' ? 'previous' : 'next';\n        var ele;\n        var nodes;\n        switch (e.action) {\n            case 'moveRight':\n                if (this.isVertical) {\n                    return;\n                }\n                if (rootEle === trgt) {\n                    this.elementFocus(clst);\n                }\n                else if (!navChk) {\n                    this.eleFocus(clst, 'next');\n                }\n                break;\n            case 'moveLeft':\n                if (this.isVertical) {\n                    return;\n                }\n                if (!navChk) {\n                    this.eleFocus(clst, 'previous');\n                }\n                break;\n            case 'home':\n            case 'end':\n                if (clst) {\n                    var popupCheck = closest(clst, '.e-popup');\n                    var extendedPopup = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n                    if (this.overflowMode === 'Extended' && extendedPopup && extendedPopup.classList.contains('e-popup-open')) {\n                        popupCheck = e.action === 'end' ? extendedPopup : null;\n                    }\n                    if (popupCheck) {\n                        if (isVisible(this.popObj.element)) {\n                            nodes = [].slice.call(popupCheck.children);\n                            if (e.action === 'home') {\n                                ele = this.focusFirstVisibleEle(nodes);\n                            }\n                            else {\n                                ele = this.focusLastVisibleEle(nodes);\n                            }\n                        }\n                    }\n                    else {\n                        nodes = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')');\n                        if (e.action === 'home') {\n                            ele = this.focusFirstVisibleEle(nodes);\n                        }\n                        else {\n                            ele = this.focusLastVisibleEle(nodes);\n                        }\n                    }\n                    if (ele) {\n                        this.elementFocus(ele);\n                    }\n                }\n                break;\n            case 'moveUp':\n            case 'moveDown':\n                if (!this.isVertical) {\n                    if (popObj && closest(trgt, '.e-popup')) {\n                        var popEle = popObj.element;\n                        var popFrstEle = popEle.firstElementChild;\n                        if ((value === 'previous' && popFrstEle === clst)) {\n                            popEle.lastElementChild.firstChild.focus();\n                        }\n                        else if (value === 'next' && popEle.lastElementChild === clst) {\n                            popFrstEle.firstChild.focus();\n                        }\n                        else {\n                            this.eleFocus(clst, value);\n                        }\n                    }\n                    else if (e.action === 'moveDown' && popObj && isVisible(popObj.element)) {\n                        this.elementFocus(clst);\n                    }\n                }\n                else {\n                    if (e.action === 'moveUp') {\n                        this.eleFocus(clst, 'previous');\n                    }\n                    else {\n                        this.eleFocus(clst, 'next');\n                    }\n                }\n                break;\n            case 'tab':\n                if (!scrollChk && !navChk) {\n                    var ele_1 = clst.firstElementChild;\n                    if (rootEle === trgt) {\n                        if (this.activeEle) {\n                            this.activeEle.focus();\n                        }\n                        else {\n                            this.activeEleRemove(ele_1);\n                            ele_1.focus();\n                        }\n                    }\n                }\n                break;\n            case 'popupClose':\n                if (popObj && this.overflowMode !== 'Extended') {\n                    popObj.hide(popAnimate);\n                }\n                break;\n            case 'popupOpen':\n                if (!navChk) {\n                    return;\n                }\n                if (popObj && !isVisible(popObj.element)) {\n                    popObj.element.style.top = rootEle.offsetHeight + 'px';\n                    popObj.show({ name: 'FadeIn', duration: 100 });\n                }\n                else {\n                    popObj.hide(popAnimate);\n                }\n                break;\n        }\n    };\n    Toolbar.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        if (trgt.tagName === 'INPUT' || trgt.tagName === 'TEXTAREA' || this.element.classList.contains(CLS_DISABLE$2)) {\n            return;\n        }\n        e.preventDefault();\n        var tbrNavChk = trgt.classList.contains(CLS_TBARNAV);\n        var tbarScrollChk = trgt.classList.contains(CLS_TBARSCRLNAV);\n        var clst = this.clstElement(tbrNavChk, trgt);\n        if (clst || tbarScrollChk) {\n            this.keyHandling(clst, e, trgt, tbrNavChk, tbarScrollChk);\n        }\n    };\n    /**\n     * Specifies the value to disable/enable the Toolbar component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Toolbar will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Toolbar.prototype.disable = function (value) {\n        var rootEle = this.element;\n        if (value) {\n            rootEle.classList.add(CLS_DISABLE$2);\n        }\n        else {\n            rootEle.classList.remove(CLS_DISABLE$2);\n        }\n        if (this.activeEle) {\n            this.activeEle.setAttribute('tabindex', this.activeEle.getAttribute('data-tabindex'));\n        }\n        if (this.scrollModule) {\n            this.scrollModule.disable(value);\n        }\n        if (this.popObj) {\n            if (isVisible(this.popObj.element) && this.overflowMode !== 'Extended') {\n                this.popObj.hide();\n            }\n            rootEle.querySelector('#' + rootEle.id + '_nav').setAttribute('tabindex', !value ? '0' : '-1');\n        }\n    };\n    Toolbar.prototype.eleContains = function (el) {\n        return el.classList.contains(CLS_SEPARATOR) || el.classList.contains(CLS_DISABLE$2) || el.getAttribute('disabled') || el.classList.contains(CLS_HIDDEN) || !isVisible(el) || !el.classList.contains(CLS_ITEM);\n    };\n    Toolbar.prototype.focusFirstVisibleEle = function (nodes) {\n        var element;\n        var index = 0;\n        while (index < nodes.length) {\n            var ele = nodes[parseInt(index.toString(), 10)];\n            if (!ele.classList.contains(CLS_HIDDEN) && !ele.classList.contains(CLS_DISABLE$2)) {\n                return ele;\n            }\n            index++;\n        }\n        return element;\n    };\n    Toolbar.prototype.focusLastVisibleEle = function (nodes) {\n        var element;\n        var index = nodes.length - 1;\n        while (index >= 0) {\n            var ele = nodes[parseInt(index.toString(), 10)];\n            if (!ele.classList.contains(CLS_HIDDEN) && !ele.classList.contains(CLS_DISABLE$2)) {\n                return ele;\n            }\n            index--;\n        }\n        return element;\n    };\n    Toolbar.prototype.eleFocus = function (closest$$1, pos) {\n        var sib = Object(closest$$1)[pos + 'ElementSibling'];\n        if (sib) {\n            var skipEle = this.eleContains(sib);\n            if (skipEle) {\n                this.eleFocus(sib, pos);\n                return;\n            }\n            this.elementFocus(sib);\n        }\n        else if (this.tbarAlign) {\n            var elem = Object(closest$$1.parentElement)[pos + 'ElementSibling'];\n            if (!isNullOrUndefined(elem) && elem.children.length === 0) {\n                elem = Object(elem)[pos + 'ElementSibling'];\n            }\n            if (!isNullOrUndefined(elem) && elem.children.length > 0) {\n                if (pos === 'next') {\n                    var el = elem.querySelector('.' + CLS_ITEM);\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        el.firstElementChild.focus();\n                        this.activeEleSwitch(el);\n                    }\n                }\n                else {\n                    var el = elem.lastElementChild;\n                    if (this.eleContains(el)) {\n                        this.eleFocus(el, pos);\n                    }\n                    else {\n                        this.elementFocus(el);\n                    }\n                }\n            }\n        }\n        else if (!isNullOrUndefined(closest$$1)) {\n            var tbrItems = this.element.querySelectorAll('.' + CLS_ITEMS + ' .' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + ')' + ':not(.' + CLS_DISABLE$2 + ')' + ':not(.' + CLS_HIDDEN + ')');\n            if (pos === 'next' && tbrItems) {\n                this.elementFocus(tbrItems[0]);\n            }\n            else if (pos === 'previous' && tbrItems) {\n                this.elementFocus(tbrItems[tbrItems.length - 1]);\n            }\n        }\n    };\n    Toolbar.prototype.clickHandler = function (e) {\n        var _this = this;\n        var trgt = e.target;\n        var ele = this.element;\n        var isPopupElement = !isNullOrUndefined(closest(trgt, '.' + CLS_POPUPCLASS));\n        var clsList = trgt.classList;\n        var popupNav = closest(trgt, ('.' + CLS_TBARNAV));\n        if (!popupNav) {\n            popupNav = trgt;\n        }\n        if (!ele.children[0].classList.contains('e-hscroll') && !ele.children[0].classList.contains('e-vscroll')\n            && (clsList.contains(CLS_TBARNAV))) {\n            clsList = trgt.querySelector('.e-icons').classList;\n        }\n        if (clsList.contains(CLS_POPUPICON) || clsList.contains(CLS_POPUPDOWN)) {\n            this.popupClickHandler(ele, popupNav, CLS_RTL$2);\n        }\n        var itemObj;\n        var clst = closest(e.target, '.' + CLS_ITEM);\n        if ((isNullOrUndefined(clst) || clst.classList.contains(CLS_DISABLE$2)) && !popupNav.classList.contains(CLS_TBARNAV)) {\n            return;\n        }\n        if (clst) {\n            var tempItem = this.items[this.tbarEle.indexOf(clst)];\n            itemObj = tempItem;\n        }\n        var eventArgs = { originalEvent: e, item: itemObj };\n        if (itemObj && !isNullOrUndefined(itemObj.click)) {\n            this.trigger('items[' + this.tbarEle.indexOf(clst) + '].click', eventArgs);\n        }\n        if (!eventArgs.cancel) {\n            this.trigger('clicked', eventArgs, function (clickedArgs) {\n                if (!isNullOrUndefined(_this.popObj) && isPopupElement && !clickedArgs.cancel && _this.overflowMode === 'Popup' &&\n                    clickedArgs.item && clickedArgs.item.type !== 'Input') {\n                    _this.popObj.hide({ name: 'FadeOut', duration: 100 });\n                }\n            });\n        }\n    };\n    Toolbar.prototype.popupClickHandler = function (ele, popupNav, CLS_RTL) {\n        var popObj = this.popObj;\n        if (isVisible(popObj.element)) {\n            popupNav.classList.remove(CLS_TBARNAVACT);\n            popObj.hide({ name: 'FadeOut', duration: 100 });\n        }\n        else {\n            if (ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = true;\n                popObj.position = { X: 'left', Y: 'top' };\n            }\n            if (popObj.offsetX === 0 && !ele.classList.contains(CLS_RTL)) {\n                popObj.enableRtl = false;\n                popObj.position = { X: 'right', Y: 'top' };\n            }\n            popObj.dataBind();\n            popObj.refreshPosition();\n            popObj.element.style.top = this.getElementOffsetY() + 'px';\n            if (this.overflowMode === 'Extended') {\n                popObj.element.style.minHeight = '0px';\n            }\n            popupNav.classList.add(CLS_TBARNAVACT);\n            popObj.show({ name: 'FadeIn', duration: 100 });\n        }\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Toolbar.prototype.render = function () {\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Toolbar.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        if (Browser.info.name !== 'msie' || this.height !== 'auto' || this.overflowMode === 'MultiRow') {\n            setStyleAttribute(this.element, { 'height': height });\n        }\n        setStyleAttribute(this.element, { 'width': width });\n        var ariaAttr = {\n            'role': 'toolbar', 'aria-disabled': 'false',\n            'aria-orientation': !this.isVertical ? 'horizontal' : 'vertical'\n        };\n        attributes(this.element, ariaAttr);\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n    };\n    Toolbar.prototype.renderControl = function () {\n        var ele = this.element;\n        this.trgtEle = (ele.children.length > 0) ? ele.querySelector('div') : null;\n        this.tbarAlgEle = { lefts: [], centers: [], rights: [] };\n        this.renderItems();\n        this.renderLayout();\n    };\n    Toolbar.prototype.renderLayout = function () {\n        this.renderOverflowMode();\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.popObj.element.childElementCount > 1 && this.checkPopupRefresh(this.element, this.popObj.element)) {\n            this.popupRefresh(this.popObj.element, false);\n        }\n        this.separator();\n    };\n    Toolbar.prototype.itemsAlign = function (items, itemEleDom) {\n        var innerItem;\n        var innerPos;\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        for (var i = 0; i < items.length; i++) {\n            innerItem = this.renderSubComponent(items[parseInt(i.toString(), 10)], i);\n            if (this.tbarEle.indexOf(innerItem) === -1) {\n                this.tbarEle.push(innerItem);\n            }\n            if (!this.tbarAlign) {\n                this.tbarItemAlign(items[parseInt(i.toString(), 10)], itemEleDom, i);\n            }\n            innerPos = itemEleDom.querySelector('.e-toolbar-' + items[parseInt(i.toString(), 10)].align.toLowerCase());\n            if (innerPos) {\n                if (!(items[parseInt(i.toString(), 10)].showAlwaysInPopup && items[parseInt(i.toString(), 10)].overflow !== 'Show')) {\n                    this.tbarAlgEle[(items[parseInt(i.toString(), 10)].align + 's').toLowerCase()].push(innerItem);\n                }\n                innerPos.appendChild(innerItem);\n            }\n            else {\n                itemEleDom.appendChild(innerItem);\n            }\n        }\n        if (this.isReact) {\n            var portals = 'portals';\n            this.notify('render-react-toolbar-template', this[\"\" + portals]);\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * @hidden\n     * @returns {void}\n     */\n    Toolbar.prototype.changeOrientation = function () {\n        var ele = this.element;\n        if (this.isVertical) {\n            ele.classList.remove(CLS_VERTICAL);\n            this.isVertical = false;\n            if (this.height === 'auto' || this.height === '100%') {\n                ele.style.height = this.height;\n            }\n            ele.setAttribute('aria-orientation', 'horizontal');\n        }\n        else {\n            ele.classList.add(CLS_VERTICAL);\n            this.isVertical = true;\n            ele.setAttribute('aria-orientation', 'vertical');\n            setStyleAttribute(this.element, { 'height': formatUnit(this.height), 'width': formatUnit(this.width) });\n        }\n        this.destroyMode();\n        this.refreshOverflow();\n    };\n    Toolbar.prototype.initScroll = function (element, innerItems) {\n        if (!this.scrollModule && this.checkOverflow(element, innerItems[0])) {\n            if (this.tbarAlign) {\n                this.element.querySelector('.' + CLS_ITEMS + ' .' + CLS_TBARCENTER).removeAttribute('style');\n            }\n            if (this.isVertical) {\n                this.scrollModule = new VScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            else {\n                this.scrollModule = new HScroll({ scrollStep: this.scrollStep, enableRtl: this.enableRtl }, innerItems[0]);\n            }\n            if (this.cssClass) {\n                addClass([innerItems[0]], this.cssClass.split(' '));\n            }\n            this.remove(this.scrollModule.element, CLS_TBARPOS);\n            setStyleAttribute(this.element, { overflow: 'hidden' });\n        }\n    };\n    Toolbar.prototype.itemWidthCal = function (items) {\n        var _this = this;\n        var width = 0;\n        var style;\n        [].slice.call(selectAll('.' + CLS_ITEM, items)).forEach(function (el) {\n            if (isVisible(el)) {\n                style = window.getComputedStyle(el);\n                width += _this.isVertical ? el.offsetHeight : el.offsetWidth;\n                width += parseFloat(_this.isVertical ? style.marginTop : style.marginRight);\n                width += parseFloat(_this.isVertical ? style.marginBottom : style.marginLeft);\n            }\n        });\n        return width;\n    };\n    Toolbar.prototype.getScrollCntEle = function (innerItem) {\n        var trgClass = (this.isVertical) ? '.e-vscroll-content' : '.e-hscroll-content';\n        return innerItem.querySelector(trgClass);\n    };\n    Toolbar.prototype.checkOverflow = function (element, innerItem) {\n        if (isNullOrUndefined(element) || isNullOrUndefined(innerItem) || !isVisible(element)) {\n            return false;\n        }\n        var eleWidth = this.isVertical ? element.offsetHeight : element.offsetWidth;\n        var itemWidth = this.isVertical ? innerItem.offsetHeight : innerItem.offsetWidth;\n        if (this.tbarAlign || this.scrollModule || (eleWidth === itemWidth)) {\n            itemWidth = this.itemWidthCal(this.scrollModule ? this.getScrollCntEle(innerItem) : innerItem);\n        }\n        var popNav = element.querySelector('.' + CLS_TBARNAV);\n        var scrollNav = element.querySelector('.' + CLS_TBARSCRLNAV);\n        var navEleWidth = 0;\n        if (popNav) {\n            navEleWidth = this.isVertical ? popNav.offsetHeight : popNav.offsetWidth;\n        }\n        else if (scrollNav) {\n            navEleWidth = this.isVertical ? (scrollNav.offsetHeight * (2)) : (scrollNav.offsetWidth * 2);\n        }\n        if (itemWidth > eleWidth - navEleWidth) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    /**\n     * Refresh the whole Toolbar component without re-rendering.\n     * - It is used to manually refresh the Toolbar overflow modes such as scrollable, popup, multi row, and extended.\n     * - It will refresh the Toolbar component after loading items dynamically.\n     *\n     * @returns {void}.\n     */\n    Toolbar.prototype.refreshOverflow = function () {\n        this.resize();\n    };\n    Toolbar.prototype.toolbarAlign = function (innerItems) {\n        if (this.tbarAlign) {\n            this.add(innerItems, CLS_TBARPOS);\n            this.itemPositioning();\n        }\n    };\n    Toolbar.prototype.renderOverflowMode = function () {\n        var ele = this.element;\n        var innerItems = ele.querySelector('.' + CLS_ITEMS);\n        var priorityCheck = this.popupPriCount > 0;\n        if (ele && ele.children.length > 0) {\n            this.offsetWid = ele.offsetWidth;\n            this.remove(this.element, 'e-toolpop');\n            if (Browser.info.name === 'msie' && this.height === 'auto') {\n                ele.style.height = '';\n            }\n            switch (this.overflowMode) {\n                case 'Scrollable':\n                    if (isNullOrUndefined(this.scrollModule)) {\n                        this.initScroll(ele, [].slice.call(ele.getElementsByClassName(CLS_ITEMS)));\n                    }\n                    break;\n                case 'Popup':\n                    this.add(this.element, 'e-toolpop');\n                    if (this.tbarAlign) {\n                        this.removePositioning();\n                    }\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n                    break;\n                case 'MultiRow':\n                    this.add(innerItems, CLS_MULTIROW);\n                    if (this.checkOverflow(ele, innerItems) && this.tbarAlign) {\n                        this.removePositioning();\n                        this.add(innerItems, CLS_MULTIROWPOS);\n                    }\n                    if (ele.style.overflow === 'hidden') {\n                        ele.style.overflow = '';\n                    }\n                    if (Browser.info.name === 'msie' || ele.style.height !== 'auto') {\n                        ele.style.height = 'auto';\n                    }\n                    break;\n                case 'Extended':\n                    this.add(this.element, CLS_EXTEANDABLE_TOOLBAR);\n                    if (this.checkOverflow(ele, innerItems) || priorityCheck) {\n                        if (this.tbarAlign) {\n                            this.removePositioning();\n                        }\n                        this.setOverflowAttributes(ele);\n                    }\n                    this.toolbarAlign(innerItems);\n            }\n        }\n    };\n    Toolbar.prototype.setOverflowAttributes = function (ele) {\n        this.createPopupEle(ele, [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, ele)));\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'button', 'aria-haspopup': 'true',\n            'aria-label': 'overflow'\n        };\n        attributes(this.element.querySelector('.' + CLS_TBARNAV), ariaAttr);\n    };\n    Toolbar.prototype.separator = function () {\n        var element = this.element;\n        var eleItem = [].slice.call(element.querySelectorAll('.' + CLS_SEPARATOR));\n        var multiVar = element.querySelector('.' + CLS_MULTIROW_SEPARATOR);\n        var extendVar = element.querySelector('.' + CLS_EXTENDABLE_SEPARATOR);\n        var eleInlineItem = this.overflowMode === 'MultiRow' ? multiVar : extendVar;\n        if (eleInlineItem !== null) {\n            if (this.overflowMode === 'MultiRow') {\n                eleInlineItem.classList.remove(CLS_MULTIROW_SEPARATOR);\n            }\n            else if (this.overflowMode === 'Extended') {\n                eleInlineItem.classList.remove(CLS_EXTENDABLE_SEPARATOR);\n            }\n        }\n        for (var i = 0; i <= eleItem.length - 1; i++) {\n            if (eleItem[parseInt(i.toString(), 10)].offsetLeft < 30 && eleItem[parseInt(i.toString(), 10)].offsetLeft !== 0) {\n                if (this.overflowMode === 'MultiRow') {\n                    eleItem[parseInt(i.toString(), 10)].classList.add(CLS_MULTIROW_SEPARATOR);\n                }\n                else if (this.overflowMode === 'Extended') {\n                    eleItem[parseInt(i.toString(), 10)].classList.add(CLS_EXTENDABLE_SEPARATOR);\n                }\n            }\n        }\n    };\n    Toolbar.prototype.createPopupEle = function (ele, innerEle) {\n        var innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var vertical = this.isVertical;\n        if (!innerNav) {\n            this.createPopupIcon(ele);\n        }\n        innerNav = ele.querySelector('.' + CLS_TBARNAV);\n        var innerNavDom = (vertical ? innerNav.offsetHeight : innerNav.offsetWidth);\n        var eleWidth = ((vertical ? ele.offsetHeight : ele.offsetWidth) - (innerNavDom));\n        this.element.classList.remove('e-rtl');\n        setStyleAttribute(this.element, { direction: 'initial' });\n        this.checkPriority(ele, innerEle, eleWidth, true);\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        this.element.style.removeProperty('direction');\n        this.createPopup();\n    };\n    Toolbar.prototype.pushingPoppedEle = function (tbarObj, popupPri, ele, eleHeight, sepHeight) {\n        var element = tbarObj.element;\n        var poppedEle = [].slice.call(selectAll('.' + CLS_POPUP, element.querySelector('.' + CLS_ITEMS)));\n        var nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n        var nodeIndex = 0;\n        var nodePri = 0;\n        poppedEle.forEach(function (el, index) {\n            nodes = selectAll('.' + CLS_TBAROVERFLOW, ele);\n            if (el.classList.contains(CLS_TBAROVERFLOW) && nodes.length > 0) {\n                if (tbarObj.tbResize && nodes.length > index) {\n                    ele.insertBefore(el, nodes[parseInt(index.toString(), 10)]);\n                    ++nodePri;\n                }\n                else {\n                    ele.insertBefore(el, ele.children[nodes.length]);\n                    ++nodePri;\n                }\n            }\n            else if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (tbarObj.tbResize && el.classList.contains(CLS_POPOVERFLOW) && ele.children.length > 0 && nodes.length === 0) {\n                ele.insertBefore(el, ele.firstChild);\n                ++nodePri;\n            }\n            else if (el.classList.contains(CLS_POPOVERFLOW)) {\n                popupPri.push(el);\n            }\n            else if (tbarObj.tbResize) {\n                ele.insertBefore(el, ele.childNodes[nodeIndex + nodePri]);\n                ++nodeIndex;\n            }\n            else {\n                ele.appendChild(el);\n            }\n            if (el.classList.contains(CLS_SEPARATOR)) {\n                setStyleAttribute(el, { display: '', height: sepHeight + 'px' });\n            }\n            else {\n                setStyleAttribute(el, { display: '', height: eleHeight + 'px' });\n            }\n        });\n        popupPri.forEach(function (el) {\n            ele.appendChild(el);\n        });\n        var tbarEle = selectAll('.' + CLS_ITEM, element.querySelector('.' + CLS_ITEMS));\n        for (var i = tbarEle.length - 1; i >= 0; i--) {\n            var tbarElement = tbarEle[parseInt(i.toString(), 10)];\n            if (tbarElement.classList.contains(CLS_SEPARATOR) && this.overflowMode !== 'Extended') {\n                setStyleAttribute(tbarElement, { display: 'none' });\n            }\n            else {\n                break;\n            }\n        }\n    };\n    Toolbar.prototype.createPopup = function () {\n        var element = this.element;\n        var sepHeight;\n        var sepItem;\n        if (this.overflowMode === 'Extended') {\n            sepItem = element.querySelector('.' + CLS_SEPARATOR + ':not(.' + CLS_POPUP + ')');\n            sepHeight = (element.style.height === 'auto' || element.style.height === '') ? null : sepItem.offsetHeight;\n        }\n        var eleItem = element.querySelector('.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_POPUP + ')');\n        var eleHeight = (element.style.height === 'auto' || element.style.height === '') ? null : (eleItem && eleItem.offsetHeight);\n        var ele;\n        var popupPri = [];\n        if (select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element)) {\n            ele = select('#' + element.id + '_popup.' + CLS_POPUPCLASS, element);\n        }\n        else {\n            var extendEle = this.createElement('div', {\n                id: element.id + '_popup', className: CLS_POPUPCLASS + ' ' + CLS_EXTENDABLECLASS\n            });\n            var popupEle = this.createElement('div', { id: element.id + '_popup', className: CLS_POPUPCLASS });\n            ele = this.overflowMode === 'Extended' ? extendEle : popupEle;\n        }\n        this.pushingPoppedEle(this, popupPri, ele, eleHeight, sepHeight);\n        this.popupInit(element, ele);\n    };\n    Toolbar.prototype.getElementOffsetY = function () {\n        return (this.overflowMode === 'Extended' && window.getComputedStyle(this.element).getPropertyValue('box-sizing') === 'border-box' ?\n            this.element.clientHeight : this.element.offsetHeight);\n    };\n    Toolbar.prototype.popupInit = function (element, ele) {\n        if (!this.popObj) {\n            element.appendChild(ele);\n            if (this.cssClass) {\n                addClass([ele], this.cssClass.split(' '));\n            }\n            setStyleAttribute(this.element, { overflow: '' });\n            var eleStyles = window.getComputedStyle(this.element);\n            var popup = new Popup(null, {\n                relateTo: this.element,\n                offsetY: (this.isVertical) ? 0 : this.getElementOffsetY(),\n                enableRtl: this.enableRtl,\n                open: this.popupOpen.bind(this),\n                close: this.popupClose.bind(this),\n                collision: { Y: this.enableCollision ? 'flip' : 'none' },\n                position: this.enableRtl ? { X: 'left', Y: 'top' } : { X: 'right', Y: 'top' }\n            });\n            if (this.overflowMode === 'Extended') {\n                popup.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n                popup.offsetX = 0;\n            }\n            popup.appendTo(ele);\n            EventHandler.add(document, 'scroll', this.docEvent.bind(this));\n            EventHandler.add(document, 'click ', this.docEvent.bind(this));\n            popup.element.style.maxHeight = popup.element.offsetHeight + 'px';\n            if (this.isVertical) {\n                popup.element.style.visibility = 'hidden';\n            }\n            if (this.isExtendedOpen) {\n                var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n                popupNav.classList.add(CLS_TBARNAVACT);\n                classList(popupNav.firstElementChild, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n                this.element.querySelector('.' + CLS_EXTENDABLECLASS).classList.add(CLS_POPUPOPEN);\n            }\n            else {\n                popup.hide();\n            }\n            this.popObj = popup;\n        }\n        else {\n            var popupEle = this.popObj.element;\n            setStyleAttribute(popupEle, { maxHeight: '', display: 'block' });\n            setStyleAttribute(popupEle, { maxHeight: popupEle.offsetHeight + 'px', display: '' });\n        }\n    };\n    Toolbar.prototype.tbarPopupHandler = function (isOpen) {\n        if (this.overflowMode === 'Extended') {\n            if (isOpen) {\n                this.add(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n            else {\n                this.remove(this.element, CLS_EXTENDEDPOPOPEN);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupOpen = function (e) {\n        var popObj = this.popObj;\n        if (!this.isVertical) {\n            popObj.offsetY = this.getElementOffsetY();\n            popObj.dataBind();\n        }\n        var popupEle = this.popObj.element;\n        var toolEle = this.popObj.element.parentElement;\n        var popupNav = toolEle.querySelector('.' + CLS_TBARNAV);\n        popupNav.setAttribute('aria-expanded', 'true');\n        setStyleAttribute(popObj.element, { height: 'auto', maxHeight: '' });\n        popObj.element.style.maxHeight = popObj.element.offsetHeight + 'px';\n        if (this.overflowMode === 'Extended') {\n            popObj.element.style.minHeight = '';\n        }\n        var popupElePos = popupEle.offsetTop + popupEle.offsetHeight + calculatePosition(toolEle).top;\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.add(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPICON], [CLS_POPUPDOWN]);\n        this.tbarPopupHandler(true);\n        var scrollVal = isNullOrUndefined(window.scrollY) ? 0 : window.scrollY;\n        if (!this.isVertical && ((window.innerHeight + scrollVal) < popupElePos) && (this.element.offsetTop < popupEle.offsetHeight)) {\n            var overflowHeight = (popupEle.offsetHeight - ((popupElePos - window.innerHeight - scrollVal) + 5));\n            popObj.height = overflowHeight + 'px';\n            for (var i = 0; i <= popupEle.childElementCount; i++) {\n                var ele = popupEle.children[parseInt(i.toString(), 10)];\n                if (ele.offsetTop + ele.offsetHeight > overflowHeight) {\n                    overflowHeight = ele.offsetTop;\n                    break;\n                }\n            }\n            setStyleAttribute(popObj.element, { maxHeight: overflowHeight + 'px' });\n        }\n        else if (this.isVertical) {\n            var tbEleData = this.element.getBoundingClientRect();\n            setStyleAttribute(popObj.element, { maxHeight: (tbEleData.top + this.element.offsetHeight) + 'px', bottom: 0, visibility: '' });\n        }\n        if (popObj) {\n            var popupOffset = popupEle.getBoundingClientRect();\n            if (popupOffset.right > document.documentElement.clientWidth && popupOffset.width > toolEle.getBoundingClientRect().width) {\n                popObj.collision = { Y: 'none' };\n                popObj.dataBind();\n            }\n            popObj.refreshPosition();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Toolbar.prototype.popupClose = function (e) {\n        var element = this.element;\n        var popupNav = element.querySelector('.' + CLS_TBARNAV);\n        popupNav.setAttribute('aria-expanded', 'false');\n        var popIcon = popupNav.firstElementChild;\n        popupNav.classList.remove(CLS_TBARNAVACT);\n        classList(popIcon, [CLS_POPUPDOWN], [CLS_POPUPICON]);\n        this.tbarPopupHandler(false);\n    };\n    Toolbar.prototype.checkPriority = function (ele, inEle, eleWidth, pre) {\n        var popPriority = this.popupPriCount > 0;\n        var len = inEle.length;\n        var eleWid = eleWidth;\n        var eleOffset;\n        var checkoffset;\n        var sepCheck = 0;\n        var itemCount = 0;\n        var itemPopCount = 0;\n        var checkClass = function (ele, val) {\n            var rVal = false;\n            val.forEach(function (cls) {\n                if (ele.classList.contains(cls)) {\n                    rVal = true;\n                }\n            });\n            return rVal;\n        };\n        for (var i = len - 1; i >= 0; i--) {\n            var mrgn = void 0;\n            var compuStyle = window.getComputedStyle(inEle[parseInt(i.toString(), 10)]);\n            if (this.isVertical) {\n                mrgn = parseFloat((compuStyle).marginTop);\n                mrgn += parseFloat((compuStyle).marginBottom);\n            }\n            else {\n                mrgn = parseFloat((compuStyle).marginRight);\n                mrgn += parseFloat((compuStyle).marginLeft);\n            }\n            var fstEleCheck = inEle[parseInt(i.toString(), 10)] === this.tbarEle[0];\n            if (fstEleCheck) {\n                this.tbarEleMrgn = mrgn;\n            }\n            eleOffset = this.isVertical ? inEle[parseInt(i.toString(), 10)].offsetHeight : inEle[parseInt(i.toString(), 10)].offsetWidth;\n            var eleWid_1 = fstEleCheck ? (eleOffset + mrgn) : eleOffset;\n            if (checkClass(inEle[parseInt(i.toString(), 10)], [CLS_POPPRI]) && popPriority) {\n                inEle[parseInt(i.toString(), 10)].classList.add(CLS_POPUP);\n                if (this.isVertical) {\n                    setStyleAttribute(inEle[parseInt(i.toString(), 10)], { display: 'none', minHeight: eleWid_1 + 'px' });\n                }\n                else {\n                    setStyleAttribute(inEle[parseInt(i.toString(), 10)], { display: 'none', minWidth: eleWid_1 + 'px' });\n                }\n                itemPopCount++;\n            }\n            if (this.isVertical) {\n                checkoffset =\n                    (inEle[parseInt(i.toString(), 10)].offsetTop + inEle[parseInt(i.toString(), 10)].offsetHeight + mrgn) > eleWidth;\n            }\n            else {\n                checkoffset =\n                    (inEle[parseInt(i.toString(), 10)].offsetLeft + inEle[parseInt(i.toString(), 10)].offsetWidth + mrgn) > eleWidth;\n            }\n            if (checkoffset) {\n                if (inEle[parseInt(i.toString(), 10)].classList.contains(CLS_SEPARATOR)) {\n                    if (this.overflowMode === 'Extended') {\n                        var sepEle = inEle[parseInt(i.toString(), 10)];\n                        if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                            inEle[parseInt(i.toString(), 10)].classList.add(CLS_POPUP);\n                            itemPopCount++;\n                        }\n                        itemCount++;\n                    }\n                    else if (this.overflowMode === 'Popup') {\n                        if (sepCheck > 0 && itemCount === itemPopCount) {\n                            var sepEle = inEle[i + itemCount + (sepCheck - 1)];\n                            if (checkClass(sepEle, [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                                setStyleAttribute(sepEle, { display: 'none' });\n                            }\n                        }\n                        sepCheck++;\n                        itemCount = 0;\n                        itemPopCount = 0;\n                    }\n                }\n                else {\n                    itemCount++;\n                }\n                if (inEle[parseInt(i.toString(), 10)].classList.contains(CLS_TBAROVERFLOW) && pre) {\n                    eleWidth -= ((this.isVertical ? inEle[parseInt(i.toString(), 10)].offsetHeight :\n                        inEle[parseInt(i.toString(), 10)].offsetWidth) + (mrgn));\n                }\n                else if (!checkClass(inEle[parseInt(i.toString(), 10)], [CLS_SEPARATOR, CLS_TBARIGNORE])) {\n                    inEle[parseInt(i.toString(), 10)].classList.add(CLS_POPUP);\n                    if (this.isVertical) {\n                        setStyleAttribute(inEle[parseInt(i.toString(), 10)], { display: 'none', minHeight: eleWid_1 + 'px' });\n                    }\n                    else {\n                        setStyleAttribute(inEle[parseInt(i.toString(), 10)], { display: 'none', minWidth: eleWid_1 + 'px' });\n                    }\n                    itemPopCount++;\n                }\n                else {\n                    eleWidth -= ((this.isVertical ? inEle[parseInt(i.toString(), 10)].offsetHeight :\n                        inEle[parseInt(i.toString(), 10)].offsetWidth) + (mrgn));\n                }\n            }\n        }\n        if (pre) {\n            var popedEle = selectAll('.' + CLS_ITEM + ':not(.' + CLS_POPUP + ')', this.element);\n            this.checkPriority(ele, popedEle, eleWid, false);\n        }\n    };\n    Toolbar.prototype.createPopupIcon = function (element) {\n        var id = element.id.concat('_nav');\n        var className = 'e-' + element.id.concat('_nav ' + CLS_POPUPNAV);\n        className = this.overflowMode === 'Extended' ? className + ' ' + CLS_EXTENDPOPUP : className;\n        var nav = this.createElement('div', { id: id, className: className });\n        if (Browser.info.name === 'msie' || Browser.info.name === 'edge') {\n            nav.classList.add('e-ie-align');\n        }\n        var navItem = this.createElement('div', { className: CLS_POPUPDOWN + ' e-icons' });\n        nav.appendChild(navItem);\n        nav.setAttribute('tabindex', '0');\n        nav.setAttribute('role', 'button');\n        element.appendChild(nav);\n    };\n    Toolbar.prototype.tbarPriRef = function (inEle, indx, sepPri, el, des, elWid, wid, ig) {\n        var ignoreCount = ig;\n        var popEle = this.popObj.element;\n        var query = '.' + CLS_ITEM + ':not(.' + CLS_SEPARATOR + '):not(.' + CLS_TBAROVERFLOW + ')';\n        var priEleCnt = selectAll('.' + CLS_POPUP + ':not(.' + CLS_TBAROVERFLOW + ')', popEle).length;\n        var checkClass = function (ele, val) {\n            return ele.classList.contains(val);\n        };\n        if (selectAll(query, inEle).length === 0) {\n            var eleSep = inEle.children[indx - (indx - sepPri) - 1];\n            var ignoreCheck = (!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_TBARIGNORE));\n            if ((!isNullOrUndefined(eleSep) && checkClass(eleSep, CLS_SEPARATOR) && !isVisible(eleSep)) || ignoreCheck) {\n                var sepDisplay = 'none';\n                eleSep.style.display = 'inherit';\n                var eleSepWidth = eleSep.offsetWidth + (parseFloat(window.getComputedStyle(eleSep).marginRight) * 2);\n                var prevSep = eleSep.previousElementSibling;\n                if ((elWid + eleSepWidth) < wid || des) {\n                    inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n                    if (!isNullOrUndefined(prevSep)) {\n                        prevSep.style.display = '';\n                    }\n                }\n                else {\n                    if (prevSep.classList.contains(CLS_SEPARATOR)) {\n                        prevSep.style.display = sepDisplay;\n                    }\n                }\n                eleSep.style.display = '';\n            }\n            else {\n                inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - (indx - sepPri)]);\n            }\n        }\n        else {\n            inEle.insertBefore(el, inEle.children[(indx + ignoreCount) - priEleCnt]);\n        }\n    };\n    Toolbar.prototype.popupRefresh = function (popupEle, destroy) {\n        var _this = this;\n        var ele = this.element;\n        var isVer = this.isVertical;\n        var innerEle = ele.querySelector('.' + CLS_ITEMS);\n        var popNav = ele.querySelector('.' + CLS_TBARNAV);\n        if (isNullOrUndefined(popNav)) {\n            return;\n        }\n        innerEle.removeAttribute('style');\n        popupEle.style.display = 'block';\n        var dimension;\n        if (isVer) {\n            dimension = ele.offsetHeight - (popNav.offsetHeight + innerEle.offsetHeight);\n        }\n        else {\n            dimension = ele.offsetWidth - (popNav.offsetWidth + innerEle.offsetWidth);\n        }\n        var popupEleWidth = 0;\n        [].slice.call(popupEle.children).forEach(function (el) {\n            popupEleWidth += _this.popupEleWidth(el);\n            setStyleAttribute(el, { 'position': '' });\n        });\n        if ((dimension + (isVer ? popNav.offsetHeight : popNav.offsetWidth)) > (popupEleWidth) && this.popupPriCount === 0) {\n            destroy = true;\n        }\n        this.popupEleRefresh(dimension, popupEle, destroy);\n        popupEle.style.display = '';\n        if (popupEle.children.length === 0 && popNav && this.popObj) {\n            detach(popNav);\n            popNav = null;\n            this.popObj.destroy();\n            detach(this.popObj.element);\n            this.popObj = null;\n        }\n    };\n    Toolbar.prototype.ignoreEleFetch = function (index, innerEle) {\n        var ignoreEle = [].slice.call(innerEle.querySelectorAll('.' + CLS_TBARIGNORE));\n        var ignoreInx = [];\n        var count = 0;\n        if (ignoreEle.length > 0) {\n            ignoreEle.forEach(function (ele) {\n                ignoreInx.push([].slice.call(innerEle.children).indexOf(ele));\n            });\n        }\n        else {\n            return 0;\n        }\n        ignoreInx.forEach(function (val) {\n            if (val <= index) {\n                count++;\n            }\n        });\n        return count;\n    };\n    Toolbar.prototype.checkPopupRefresh = function (root, popEle) {\n        popEle.style.display = 'block';\n        var elWid = this.popupEleWidth(popEle.firstElementChild);\n        popEle.firstElementChild.style.removeProperty('Position');\n        var tbarWidth = root.offsetWidth - root.querySelector('.' + CLS_TBARNAV).offsetWidth;\n        var tbarItemsWid = root.querySelector('.' + CLS_ITEMS).offsetWidth;\n        popEle.style.removeProperty('display');\n        if (tbarWidth > (elWid + tbarItemsWid)) {\n            return true;\n        }\n        return false;\n    };\n    Toolbar.prototype.popupEleWidth = function (el) {\n        el.style.position = 'absolute';\n        var elWidth = this.isVertical ? el.offsetHeight : el.offsetWidth;\n        var btnText = el.querySelector('.' + CLS_TBARBTNTEXT);\n        if (el.classList.contains('e-tbtn-align') || el.classList.contains(CLS_TBARTEXT)) {\n            var btn = el.children[0];\n            if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_TBARTEXT)) {\n                btnText.style.display = 'none';\n            }\n            else if (!isNullOrUndefined(btnText) && el.classList.contains(CLS_POPUPTEXT)) {\n                btnText.style.display = 'block';\n            }\n            btn.style.minWidth = '0%';\n            elWidth = parseFloat(!this.isVertical ? el.style.minWidth : el.style.minHeight);\n            btn.style.minWidth = '';\n            btn.style.minHeight = '';\n            if (!isNullOrUndefined(btnText)) {\n                btnText.style.display = '';\n            }\n        }\n        return elWidth;\n    };\n    Toolbar.prototype.popupEleRefresh = function (width, popupEle, destroy) {\n        var popPriority = this.popupPriCount > 0;\n        var eleSplice = this.tbarEle;\n        var priEleCnt;\n        var index;\n        var innerEle = this.element.querySelector('.' + CLS_ITEMS);\n        var ignoreCount = 0;\n        var _loop_1 = function (el) {\n            if (el.classList.contains(CLS_POPPRI) && popPriority && !destroy) {\n                return \"continue\";\n            }\n            var elWidth = this_1.popupEleWidth(el);\n            if (el === this_1.tbarEle[0]) {\n                elWidth += this_1.tbarEleMrgn;\n            }\n            el.style.position = '';\n            if (elWidth < width || destroy) {\n                setStyleAttribute(el, { minWidth: '', height: '', minHeight: '' });\n                if (!el.classList.contains(CLS_POPOVERFLOW)) {\n                    el.classList.remove(CLS_POPUP);\n                }\n                index = this_1.tbarEle.indexOf(el);\n                if (this_1.tbarAlign) {\n                    var pos = this_1.items[parseInt(index.toString(), 10)].align;\n                    index = this_1.tbarAlgEle[(pos + 's').toLowerCase()].indexOf(el);\n                    eleSplice = this_1.tbarAlgEle[(pos + 's').toLowerCase()];\n                    innerEle = this_1.element.querySelector('.' + CLS_ITEMS + ' .' + 'e-toolbar-' + pos.toLowerCase());\n                }\n                var sepBeforePri_1 = 0;\n                if (this_1.overflowMode !== 'Extended') {\n                    eleSplice.slice(0, index).forEach(function (el) {\n                        if (el.classList.contains(CLS_TBAROVERFLOW) || el.classList.contains(CLS_SEPARATOR)) {\n                            if (el.classList.contains(CLS_SEPARATOR)) {\n                                el.style.display = '';\n                                width -= el.offsetWidth;\n                            }\n                            sepBeforePri_1++;\n                        }\n                    });\n                }\n                ignoreCount = this_1.ignoreEleFetch(index, innerEle);\n                if (el.classList.contains(CLS_TBAROVERFLOW)) {\n                    this_1.tbarPriRef(innerEle, index, sepBeforePri_1, el, destroy, elWidth, width, ignoreCount);\n                    width -= el.offsetWidth;\n                }\n                else if (index === 0) {\n                    innerEle.insertBefore(el, innerEle.firstChild);\n                    width -= el.offsetWidth;\n                }\n                else {\n                    priEleCnt = selectAll('.' + CLS_TBAROVERFLOW, this_1.popObj.element).length;\n                    innerEle.insertBefore(el, innerEle.children[(index + ignoreCount) - priEleCnt]);\n                    width -= el.offsetWidth;\n                }\n                el.style.height = '';\n            }\n            else {\n                return \"break\";\n            }\n        };\n        var this_1 = this;\n        for (var _i = 0, _a = [].slice.call(popupEle.children); _i < _a.length; _i++) {\n            var el = _a[_i];\n            var state_1 = _loop_1(el);\n            if (state_1 === \"break\")\n                break;\n        }\n        var checkOverflow = this.checkOverflow(this.element, this.element.getElementsByClassName(CLS_ITEMS)[0]);\n        if (checkOverflow && !destroy) {\n            this.renderOverflowMode();\n        }\n    };\n    Toolbar.prototype.removePositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        this.remove(item, CLS_TBARPOS);\n        var innerItem = [].slice.call(item.childNodes);\n        innerItem[1].removeAttribute('style');\n        innerItem[2].removeAttribute('style');\n    };\n    Toolbar.prototype.refreshPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        this.add(item, CLS_TBARPOS);\n        this.itemPositioning();\n    };\n    Toolbar.prototype.itemPositioning = function () {\n        var item = this.element.querySelector('.' + CLS_ITEMS);\n        var margin;\n        if (isNullOrUndefined(item) || !item.classList.contains(CLS_TBARPOS)) {\n            return;\n        }\n        var popupNav = this.element.querySelector('.' + CLS_TBARNAV);\n        var innerItem;\n        if (this.scrollModule) {\n            var trgClass = (this.isVertical) ? CLS_VSCROLLCNT : CLS_HSCROLLCNT;\n            innerItem = [].slice.call(item.querySelector('.' + trgClass).children);\n        }\n        else {\n            innerItem = [].slice.call(item.childNodes);\n        }\n        if (this.isVertical) {\n            margin = innerItem[0].offsetHeight + innerItem[2].offsetHeight;\n        }\n        else {\n            margin = innerItem[0].offsetWidth + innerItem[2].offsetWidth;\n        }\n        var tbarWid = this.isVertical ? this.element.offsetHeight : this.element.offsetWidth;\n        if (popupNav) {\n            tbarWid -= (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth);\n            var popWid = (this.isVertical ? popupNav.offsetHeight : popupNav.offsetWidth) + 'px';\n            innerItem[2].removeAttribute('style');\n            if (this.isVertical) {\n                if (this.enableRtl) {\n                    innerItem[2].style.top = popWid;\n                }\n                else {\n                    innerItem[2].style.bottom = popWid;\n                }\n            }\n            else {\n                if (this.enableRtl) {\n                    innerItem[2].style.left = popWid;\n                }\n                else {\n                    innerItem[2].style.right = popWid;\n                }\n            }\n        }\n        if (tbarWid <= margin) {\n            return;\n        }\n        var value = (((tbarWid - margin)) - (!this.isVertical ? innerItem[1].offsetWidth : innerItem[1].offsetHeight)) / 2;\n        innerItem[1].removeAttribute('style');\n        var mrgn = ((!this.isVertical ? innerItem[0].offsetWidth : innerItem[0].offsetHeight) + value) + 'px';\n        if (this.isVertical) {\n            if (this.enableRtl) {\n                innerItem[1].style.marginBottom = mrgn;\n            }\n            else {\n                innerItem[1].style.marginTop = mrgn;\n            }\n        }\n        else {\n            if (this.enableRtl) {\n                innerItem[1].style.marginRight = mrgn;\n            }\n            else {\n                innerItem[1].style.marginLeft = mrgn;\n            }\n        }\n    };\n    Toolbar.prototype.tbarItemAlign = function (item, itemEle, pos) {\n        var _this = this;\n        if (item.showAlwaysInPopup && item.overflow !== 'Show') {\n            return;\n        }\n        var alignDiv = [];\n        alignDiv.push(this.createElement('div', { className: CLS_TBARLEFT }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARCENTER }));\n        alignDiv.push(this.createElement('div', { className: CLS_TBARRIGHT }));\n        if (pos === 0 && item.align !== 'Left') {\n            alignDiv.forEach(function (ele) {\n                itemEle.appendChild(ele);\n            });\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n        else if (item.align !== 'Left') {\n            var alignEle = itemEle.childNodes;\n            var leftAlign_1 = alignDiv[0];\n            [].slice.call(alignEle).forEach(function (el) {\n                _this.tbarAlgEle.lefts.push(el);\n                leftAlign_1.appendChild(el);\n            });\n            itemEle.appendChild(leftAlign_1);\n            itemEle.appendChild(alignDiv[1]);\n            itemEle.appendChild(alignDiv[2]);\n            this.tbarAlign = true;\n            this.add(itemEle, CLS_TBARPOS);\n        }\n    };\n    Toolbar.prototype.ctrlTemplate = function () {\n        var _this = this;\n        this.ctrlTem = this.trgtEle.cloneNode(true);\n        this.add(this.trgtEle, CLS_ITEMS);\n        this.tbarEle = [];\n        var innerEle = [].slice.call(this.trgtEle.children);\n        innerEle.forEach(function (ele) {\n            if (ele.tagName === 'DIV') {\n                _this.tbarEle.push(ele);\n                if (!isNullOrUndefined(ele.firstElementChild)) {\n                    ele.firstElementChild.setAttribute('aria-disabled', 'false');\n                }\n                _this.add(ele, CLS_ITEM);\n            }\n        });\n    };\n    Toolbar.prototype.renderItems = function () {\n        var ele = this.element;\n        var items = this.items;\n        if (this.trgtEle != null) {\n            this.ctrlTemplate();\n        }\n        else if (ele && items.length > 0) {\n            var itemEleDom = void 0;\n            if (ele && ele.children.length > 0) {\n                itemEleDom = ele.querySelector('.' + CLS_ITEMS);\n            }\n            if (!itemEleDom) {\n                itemEleDom = this.createElement('div', { className: CLS_ITEMS });\n            }\n            this.itemsAlign(items, itemEleDom);\n            ele.appendChild(itemEleDom);\n        }\n    };\n    Toolbar.prototype.setAttr = function (attr, element) {\n        var key = Object.keys(attr);\n        var keyVal;\n        for (var i = 0; i < key.length; i++) {\n            keyVal = key[parseInt(i.toString(), 10)];\n            if (keyVal === 'class') {\n                this.add(element, attr[\"\" + keyVal]);\n            }\n            else {\n                element.setAttribute(keyVal, attr[\"\" + keyVal]);\n            }\n        }\n    };\n    /**\n     * Enables or disables the specified Toolbar item.\n     *\n     * @param  {number|HTMLElement|NodeList} items - DOM element or an array of items to be enabled or disabled.\n     * @param  {boolean} isEnable  - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, `isEnable` is set to true.\n     * @returns {void}.\n     */\n    Toolbar.prototype.enableItems = function (items, isEnable) {\n        var elements = items;\n        var len = elements.length;\n        var ele;\n        if (isNullOrUndefined(isEnable)) {\n            isEnable = true;\n        }\n        var enable = function (isEnable, ele) {\n            if (isEnable) {\n                ele.classList.remove(CLS_DISABLE$2);\n                if (!isNullOrUndefined(ele.firstElementChild)) {\n                    ele.firstElementChild.setAttribute('aria-disabled', 'false');\n                }\n            }\n            else {\n                ele.classList.add(CLS_DISABLE$2);\n                if (!isNullOrUndefined(ele.firstElementChild)) {\n                    ele.firstElementChild.setAttribute('aria-disabled', 'true');\n                }\n            }\n        };\n        if (!isNullOrUndefined(len) && len >= 1) {\n            for (var a = 0, element = [].slice.call(elements); a < len; a++) {\n                var itemElement = element[parseInt(a.toString(), 10)];\n                if (typeof (itemElement) === 'number') {\n                    ele = this.getElementByIndex(itemElement);\n                    if (isNullOrUndefined(ele)) {\n                        return;\n                    }\n                    else {\n                        elements[parseInt(a.toString(), 10)] = ele;\n                    }\n                }\n                else {\n                    ele = itemElement;\n                }\n                enable(isEnable, ele);\n            }\n            if (isEnable) {\n                removeClass(elements, CLS_DISABLE$2);\n            }\n            else {\n                addClass(elements, CLS_DISABLE$2);\n            }\n        }\n        else {\n            if (typeof (elements) === 'number') {\n                ele = this.getElementByIndex(elements);\n                if (isNullOrUndefined(ele)) {\n                    return;\n                }\n            }\n            else {\n                ele = items;\n            }\n            enable(isEnable, ele);\n        }\n    };\n    Toolbar.prototype.getElementByIndex = function (index) {\n        if (this.tbarEle[parseInt(index.toString(), 10)]) {\n            return this.tbarEle[parseInt(index.toString(), 10)];\n        }\n        return null;\n    };\n    /**\n     * Adds new items to the Toolbar that accepts an array as Toolbar items.\n     *\n     * @param  {ItemModel[]} items - DOM element or an array of items to be added to the Toolbar.\n     * @param  {number} index - Number value that determines where the command is to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Toolbar.prototype.addItems = function (items, index) {\n        var innerItems;\n        this.extendedOpen();\n        var itemsDiv = this.element.querySelector('.' + CLS_ITEMS);\n        if (isNullOrUndefined(itemsDiv)) {\n            this.itemsRerender(items);\n            return;\n        }\n        var innerEle;\n        var itemAgn = 'Left';\n        if (isNullOrUndefined(index)) {\n            index = 0;\n        }\n        items.forEach(function (e) {\n            if (!isNullOrUndefined(e.align) && e.align !== 'Left' && itemAgn === 'Left') {\n                itemAgn = e.align;\n            }\n        });\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            if (isNullOrUndefined(item.type)) {\n                item.type = 'Button';\n            }\n            innerItems = selectAll('.' + CLS_ITEM, this.element);\n            item.align = itemAgn;\n            innerEle = this.renderSubComponent(item, index);\n            if (this.tbarEle.length >= index && innerItems.length >= 0) {\n                if (isNullOrUndefined(this.scrollModule)) {\n                    this.destroyMode();\n                }\n                var algIndex = item.align[0] === 'L' ? 0 : item.align[0] === 'C' ? 1 : 2;\n                var ele = void 0;\n                if (!this.tbarAlign && itemAgn !== 'Left') {\n                    this.tbarItemAlign(item, itemsDiv, 1);\n                    this.tbarAlign = true;\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[parseInt(algIndex.toString(), 10)];\n                    ele.appendChild(innerEle);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].push(innerEle);\n                    this.refreshPositioning();\n                }\n                else if (this.tbarAlign) {\n                    ele = closest(innerItems[0], '.' + CLS_ITEMS).children[parseInt(algIndex.toString(), 10)];\n                    ele.insertBefore(innerEle, ele.children[parseInt(index.toString(), 10)]);\n                    this.tbarAlgEle[(item.align + 's').toLowerCase()].splice(index, 0, innerEle);\n                    this.refreshPositioning();\n                }\n                else if (innerItems.length === 0) {\n                    innerItems = selectAll('.' + CLS_ITEMS, this.element);\n                    innerItems[0].appendChild(innerEle);\n                }\n                else {\n                    innerItems[0].parentNode.insertBefore(innerEle, innerItems[parseInt(index.toString(), 10)]);\n                }\n                this.items.splice(index, 0, item);\n                if (item.template) {\n                    this.tbarEle.splice(this.tbarEle.length - 1, 1);\n                }\n                this.tbarEle.splice(index, 0, innerEle);\n                index++;\n                this.offsetWid = itemsDiv.offsetWidth;\n            }\n        }\n        itemsDiv.style.width = '';\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Removes the items from the Toolbar. Acceptable arguments are index of item/HTMLElement/node list.\n     *\n     * @param  {number|HTMLElement|NodeList|HTMLElement[]} args\n     * Index or DOM element or an Array of item which is to be removed from the Toolbar.\n     * @returns {void}.\n     */\n    Toolbar.prototype.removeItems = function (args) {\n        var elements = args;\n        var index;\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (typeof (elements) === 'number') {\n            index = parseInt(args.toString(), 10);\n            this.removeItemByIndex(index, innerItems);\n        }\n        else {\n            if (elements && elements.length > 1) {\n                for (var _i = 0, _a = [].slice.call(elements); _i < _a.length; _i++) {\n                    var ele = _a[_i];\n                    index = this.tbarEle.indexOf(ele);\n                    this.removeItemByIndex(index, innerItems);\n                    innerItems = selectAll('.' + CLS_ITEM, this.element);\n                }\n            }\n            else {\n                var ele = (elements && elements.length && elements.length === 1) ? elements[0] : args;\n                index = innerItems.indexOf(ele);\n                this.removeItemByIndex(index, innerItems);\n            }\n        }\n        this.resize();\n    };\n    Toolbar.prototype.removeItemByIndex = function (index, innerItems) {\n        if (this.tbarEle[parseInt(index.toString(), 10)] && innerItems[parseInt(index.toString(), 10)]) {\n            var eleIdx = this.tbarEle.indexOf(innerItems[parseInt(index.toString(), 10)]);\n            if (this.tbarAlign) {\n                var indexAgn = this.tbarAlgEle[(this.items[parseInt(eleIdx.toString(), 10)].align + 's').toLowerCase()].indexOf(this.tbarEle[parseInt(eleIdx.toString(), 10)]);\n                this.tbarAlgEle[(this.items[parseInt(eleIdx.toString(), 10)].align + 's').toLowerCase()].splice(parseInt(indexAgn.toString(), 10), 1);\n            }\n            if (this.isReact) {\n                this.clearTemplate();\n            }\n            var btnItem = innerItems[parseInt(index.toString(), 10)].querySelector('.e-control.e-btn');\n            if (!isNullOrUndefined(btnItem) && !isNullOrUndefined(btnItem.ej2_instances[0]) && !(btnItem.ej2_instances[0].isDestroyed)) {\n                btnItem.ej2_instances[0].destroy();\n            }\n            detach(innerItems[parseInt(index.toString(), 10)]);\n            this.items.splice(eleIdx, 1);\n            this.tbarEle.splice(eleIdx, 1);\n        }\n    };\n    Toolbar.prototype.templateRender = function (templateProp, innerEle, item, index) {\n        var itemType = item.type;\n        var eleObj = templateProp;\n        var isComponent;\n        if (typeof (templateProp) === 'object') {\n            isComponent = typeof (eleObj.appendTo) === 'function';\n        }\n        if (typeof (templateProp) === 'string' || !isComponent) {\n            var templateFn = void 0;\n            var val = templateProp;\n            var regEx = new RegExp(/<(?=.*? .*?\\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\\/\\1>/i);\n            val = (typeof (templateProp) === 'string') ? templateProp.trim() : templateProp;\n            try {\n                if (typeof (templateProp) === 'object' && !isNullOrUndefined(templateProp.tagName)) {\n                    innerEle.appendChild(templateProp);\n                }\n                else if (typeof (templateProp) === 'string' && regEx.test(val)) {\n                    innerEle.innerHTML = val;\n                }\n                else if (document.querySelectorAll(val).length) {\n                    var ele = document.querySelector(val);\n                    var tempStr = ele.outerHTML.trim();\n                    innerEle.appendChild(ele);\n                    ele.style.display = '';\n                    if (!isNullOrUndefined(tempStr)) {\n                        this.tempId.push(val);\n                    }\n                }\n                else {\n                    templateFn = compile(val);\n                }\n            }\n            catch (e) {\n                templateFn = compile(val);\n            }\n            var tempArray = void 0;\n            if (!isNullOrUndefined(templateFn)) {\n                var toolbarTemplateID = this.element.id + index + '_template';\n                tempArray = templateFn({}, this, 'template', toolbarTemplateID, this.isStringTemplate);\n            }\n            if (!isNullOrUndefined(tempArray) && tempArray.length > 0) {\n                [].slice.call(tempArray).forEach(function (ele) {\n                    if (!isNullOrUndefined(ele.tagName)) {\n                        ele.style.display = '';\n                    }\n                    innerEle.appendChild(ele);\n                });\n            }\n        }\n        else if (itemType === 'Input') {\n            var ele = this.createElement('input');\n            if (item.id) {\n                ele.id = item.id;\n            }\n            else {\n                ele.id = getUniqueID('tbr-ipt');\n            }\n            innerEle.appendChild(ele);\n            eleObj.appendTo(ele);\n        }\n        this.add(innerEle, CLS_TEMPLATE);\n        this.tbarEle.push(innerEle);\n    };\n    Toolbar.prototype.buttonRendering = function (item, innerEle) {\n        var dom = this.createElement('button', { className: CLS_TBARBTN });\n        dom.setAttribute('type', 'button');\n        var textStr = item.text;\n        var iconCss;\n        var iconPos;\n        if (item.id) {\n            dom.id = item.id;\n        }\n        else {\n            dom.id = getUniqueID('e-tbr-btn');\n        }\n        var btnTxt = this.createElement('span', { className: 'e-tbar-btn-text' });\n        if (textStr) {\n            btnTxt.innerHTML = this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(textStr) : textStr;\n            dom.appendChild(btnTxt);\n            dom.classList.add('e-tbtn-txt');\n        }\n        else {\n            this.add(innerEle, 'e-tbtn-align');\n        }\n        if (item.prefixIcon || item.suffixIcon) {\n            if ((item.prefixIcon && item.suffixIcon) || item.prefixIcon) {\n                iconCss = item.prefixIcon + ' e-icons';\n                iconPos = 'Left';\n            }\n            else {\n                iconCss = item.suffixIcon + ' e-icons';\n                iconPos = 'Right';\n            }\n        }\n        var btnObj = new Button({ iconCss: iconCss, iconPosition: iconPos });\n        btnObj.createElement = this.createElement;\n        btnObj.appendTo(dom);\n        if (item.width) {\n            setStyleAttribute(dom, { 'width': formatUnit(item.width) });\n        }\n        return dom;\n    };\n    Toolbar.prototype.renderSubComponent = function (item, index) {\n        var dom;\n        var innerEle = this.createElement('div', { className: CLS_ITEM });\n        var tempDom = this.createElement('div', {\n            innerHTML: this.enableHtmlSanitizer ? SanitizeHtmlHelper.sanitize(item.tooltipText) : item.tooltipText\n        });\n        if (!this.tbarEle) {\n            this.tbarEle = [];\n        }\n        if (item.htmlAttributes) {\n            this.setAttr(item.htmlAttributes, innerEle);\n        }\n        if (item.tooltipText) {\n            innerEle.setAttribute('title', tempDom.textContent);\n        }\n        if (item.cssClass) {\n            innerEle.className = innerEle.className + ' ' + item.cssClass;\n        }\n        if (item.template) {\n            this.templateRender(item.template, innerEle, item, index);\n        }\n        else {\n            switch (item.type) {\n                case 'Button':\n                    dom = this.buttonRendering(item, innerEle);\n                    dom.setAttribute('tabindex', isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString());\n                    dom.setAttribute('data-tabindex', isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString());\n                    dom.setAttribute('aria-label', (item.text || item.tooltipText));\n                    dom.setAttribute('aria-disabled', 'false');\n                    innerEle.appendChild(dom);\n                    innerEle.addEventListener('click', this.itemClick.bind(this));\n                    break;\n                case 'Separator':\n                    this.add(innerEle, CLS_SEPARATOR);\n                    break;\n            }\n        }\n        if (item.showTextOn) {\n            var sTxt = item.showTextOn;\n            if (sTxt === 'Toolbar') {\n                this.add(innerEle, CLS_POPUPTEXT);\n                this.add(innerEle, 'e-tbtn-align');\n            }\n            else if (sTxt === 'Overflow') {\n                this.add(innerEle, CLS_TBARTEXT);\n            }\n        }\n        if (item.overflow) {\n            var overflow = item.overflow;\n            if (overflow === 'Show') {\n                this.add(innerEle, CLS_TBAROVERFLOW);\n            }\n            else if (overflow === 'Hide') {\n                if (!innerEle.classList.contains(CLS_SEPARATOR)) {\n                    this.add(innerEle, CLS_POPOVERFLOW);\n                }\n            }\n        }\n        if (item.overflow !== 'Show' && item.showAlwaysInPopup && !innerEle.classList.contains(CLS_SEPARATOR)) {\n            this.add(innerEle, CLS_POPPRI);\n            this.popupPriCount++;\n        }\n        if (item.disabled) {\n            this.add(innerEle, CLS_DISABLE$2);\n        }\n        if (item.visible === false) {\n            this.add(innerEle, CLS_HIDDEN);\n        }\n        return innerEle;\n    };\n    Toolbar.prototype.getDataTabindex = function (ele) {\n        return isNullOrUndefined(ele.getAttribute('data-tabindex')) ? '-1' : ele.getAttribute('data-tabindex');\n    };\n    Toolbar.prototype.itemClick = function (e) {\n        this.activeEleSwitch(e.currentTarget);\n    };\n    Toolbar.prototype.activeEleSwitch = function (ele) {\n        this.activeEleRemove(ele.firstElementChild);\n        this.activeEle.focus();\n    };\n    Toolbar.prototype.activeEleRemove = function (curEle) {\n        if (!isNullOrUndefined(this.activeEle)) {\n            this.activeEle.setAttribute('tabindex', this.getDataTabindex(this.activeEle));\n        }\n        this.activeEle = curEle;\n        if (this.getDataTabindex(this.activeEle) === '-1') {\n            if (isNullOrUndefined(this.trgtEle) && !curEle.parentElement.classList.contains(CLS_TEMPLATE)) {\n                this.updateTabIndex('-1');\n                curEle.removeAttribute('tabindex');\n            }\n            else {\n                this.activeEle.setAttribute('tabindex', this.getDataTabindex(this.activeEle));\n            }\n        }\n    };\n    Toolbar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - Returns the module name as string.\n     * @private\n     */\n    Toolbar.prototype.getModuleName = function () {\n        return 'toolbar';\n    };\n    Toolbar.prototype.itemsRerender = function (newProp) {\n        this.items = this.tbarItemsCol;\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        this.destroyMode();\n        this.destroyItems();\n        this.items = newProp;\n        this.tbarItemsCol = this.items;\n        this.renderItems();\n        this.renderOverflowMode();\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Toolbar.prototype.resize = function () {\n        var ele = this.element;\n        this.tbResize = true;\n        if (this.tbarAlign) {\n            this.itemPositioning();\n        }\n        if (this.popObj && this.overflowMode === 'Popup') {\n            this.popObj.hide();\n        }\n        var checkOverflow = this.checkOverflow(ele, ele.getElementsByClassName(CLS_ITEMS)[0]);\n        if (!checkOverflow) {\n            this.destroyScroll();\n            var multirowele = ele.querySelector('.' + CLS_ITEMS);\n            if (!isNullOrUndefined(multirowele)) {\n                this.remove(multirowele, CLS_MULTIROWPOS);\n                if (this.tbarAlign) {\n                    this.add(multirowele, CLS_TBARPOS);\n                }\n            }\n        }\n        if (checkOverflow && this.scrollModule && (this.offsetWid === ele.offsetWidth)) {\n            return;\n        }\n        if (this.offsetWid > ele.offsetWidth || checkOverflow) {\n            this.renderOverflowMode();\n        }\n        if (this.popObj) {\n            if (this.overflowMode === 'Extended') {\n                var eleStyles = window.getComputedStyle(this.element);\n                this.popObj.width = parseFloat(eleStyles.width) + ((parseFloat(eleStyles.borderRightWidth)) * 2);\n            }\n            if (this.tbarAlign) {\n                this.removePositioning();\n            }\n            this.popupRefresh(this.popObj.element, false);\n            if (this.tbarAlign) {\n                this.refreshPositioning();\n            }\n        }\n        if (this.element.querySelector('.' + CLS_HSCROLLBAR$1)) {\n            this.scrollStep = this.element.querySelector('.' + CLS_HSCROLLBAR$1).offsetWidth;\n        }\n        this.offsetWid = ele.offsetWidth;\n        this.tbResize = false;\n        this.separator();\n    };\n    Toolbar.prototype.extendedOpen = function () {\n        var sib = this.element.querySelector('.' + CLS_EXTENDABLECLASS);\n        if (this.overflowMode === 'Extended' && sib) {\n            this.isExtendedOpen = sib.classList.contains(CLS_POPUPOPEN);\n        }\n    };\n    Toolbar.prototype.updateHideEleTabIndex = function (ele, isHidden, isElement, eleIndex, innerItems) {\n        if (isElement) {\n            eleIndex = innerItems.indexOf(ele);\n        }\n        var nextEle = innerItems[++eleIndex];\n        while (nextEle) {\n            var skipEle = this.eleContains(nextEle);\n            if (!skipEle) {\n                var dataTabIndex = nextEle.firstElementChild.getAttribute('data-tabindex');\n                if (isHidden && dataTabIndex === '-1') {\n                    nextEle.firstElementChild.setAttribute('tabindex', '0');\n                }\n                else if (dataTabIndex !== nextEle.firstElementChild.getAttribute('tabindex')) {\n                    nextEle.firstElementChild.setAttribute('tabindex', dataTabIndex);\n                }\n                break;\n            }\n            nextEle = innerItems[++eleIndex];\n        }\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {ToolbarModel} newProp - It contains new value of the data.\n     * @param  {ToolbarModel} oldProp - It contains old value of the data.\n     * @returns {void}\n     * @private\n     */\n    Toolbar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var tEle = this.element;\n        var wid = tEle.offsetWidth;\n        this.extendedOpen();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProb = Object.keys(newProp.items);\n                        for (var i = 0; i < changedProb.length; i++) {\n                            var index = parseInt(Object.keys(newProp.items)[parseInt(i.toString(), 10)], 10);\n                            var property = Object.keys(newProp.items[parseInt(index.toString(), 10)])[0];\n                            var newProperty = Object(newProp.items[parseInt(index.toString(), 10)])[\"\" + property];\n                            if (typeof newProperty !== 'function') {\n                                if (this.tbarAlign || property === 'align') {\n                                    this.refresh();\n                                    this.trigger('created');\n                                    break;\n                                }\n                                var popupPriCheck = property === 'showAlwaysInPopup' && !newProperty;\n                                var booleanCheck = property === 'overflow' && this.popupPriCount !== 0;\n                                if ((popupPriCheck) || (this.items[parseInt(index.toString(), 10)].showAlwaysInPopup) && booleanCheck) {\n                                    --this.popupPriCount;\n                                }\n                                if (isNullOrUndefined(this.scrollModule)) {\n                                    this.destroyMode();\n                                }\n                                var itemCol = [].slice.call(selectAll('.' + CLS_ITEMS + ' .' + CLS_ITEM, tEle));\n                                if (this.isReact && this.items[parseInt(index.toString(), 10)].template) {\n                                    this.clearTemplate();\n                                }\n                                detach(itemCol[parseInt(index.toString(), 10)]);\n                                this.tbarEle.splice(index, 1);\n                                this.addItems([this.items[parseInt(index.toString(), 10)]], index);\n                                this.items.splice(index, 1);\n                                if (this.items[parseInt(index.toString(), 10)].template) {\n                                    this.tbarEle.splice(this.items.length, 1);\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        this.itemsRerender(newProp.items);\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(tEle, { 'width': formatUnit(newProp.width) });\n                    this.refreshOverflow();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'overflowMode':\n                    this.destroyMode();\n                    this.renderOverflowMode();\n                    if (this.enableRtl) {\n                        this.add(tEle, CLS_RTL$2);\n                    }\n                    this.refreshOverflow();\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(tEle, CLS_RTL$2);\n                    }\n                    else {\n                        this.remove(tEle, CLS_RTL$2);\n                    }\n                    if (!isNullOrUndefined(this.scrollModule)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.scrollModule.element, CLS_RTL$2);\n                        }\n                        else {\n                            this.remove(this.scrollModule.element, CLS_RTL$2);\n                        }\n                    }\n                    if (!isNullOrUndefined(this.popObj)) {\n                        if (newProp.enableRtl) {\n                            this.add(this.popObj.element, CLS_RTL$2);\n                        }\n                        else {\n                            this.remove(this.popObj.element, CLS_RTL$2);\n                        }\n                    }\n                    if (this.tbarAlign) {\n                        this.itemPositioning();\n                    }\n                    break;\n                case 'scrollStep':\n                    if (this.scrollModule) {\n                        this.scrollModule.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'enableCollision':\n                    if (this.popObj) {\n                        this.popObj.collision = { Y: this.enableCollision ? 'flip' : 'none' };\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'allowKeyboard':\n                    this.unwireKeyboardEvent();\n                    if (newProp.allowKeyboard) {\n                        this.wireKeyboardEvent();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * Shows or hides the Toolbar item that is in the specified index.\n     *\n     * @param  {number | HTMLElement} index - Index value of target item or DOM element  of items to be hidden or shown.\n     * @param  {boolean} value - Based on this Boolean value, item will be hide (true) or show (false). By default, value is false.\n     * @returns {void}.\n     */\n    Toolbar.prototype.hideItem = function (index, value) {\n        var isElement = (typeof (index) === 'object') ? true : false;\n        var eleIndex = index;\n        var ele;\n        if (!isElement && isNullOrUndefined(eleIndex)) {\n            return;\n        }\n        var innerItems = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n        if (isElement) {\n            ele = index;\n        }\n        else if (this.tbarEle[parseInt(eleIndex.toString(), 10)]) {\n            var innerItems_1 = [].slice.call(selectAll('.' + CLS_ITEM, this.element));\n            ele = innerItems_1[parseInt(eleIndex.toString(), 10)];\n        }\n        if (ele) {\n            if (value) {\n                ele.classList.add(CLS_HIDDEN);\n                if (!ele.classList.contains(CLS_SEPARATOR)) {\n                    if (isNullOrUndefined(ele.firstElementChild.getAttribute('tabindex')) ||\n                        ele.firstElementChild.getAttribute('tabindex') !== '-1') {\n                        this.updateHideEleTabIndex(ele, value, isElement, eleIndex, innerItems);\n                    }\n                }\n            }\n            else {\n                ele.classList.remove(CLS_HIDDEN);\n                if (!ele.classList.contains(CLS_SEPARATOR)) {\n                    this.updateHideEleTabIndex(ele, value, isElement, eleIndex, innerItems);\n                }\n            }\n            this.refreshOverflow();\n        }\n    };\n    __decorate$3([\n        Collection([], Item)\n    ], Toolbar.prototype, \"items\", void 0);\n    __decorate$3([\n        Property('auto')\n    ], Toolbar.prototype, \"width\", void 0);\n    __decorate$3([\n        Property('auto')\n    ], Toolbar.prototype, \"height\", void 0);\n    __decorate$3([\n        Property('')\n    ], Toolbar.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property('Scrollable')\n    ], Toolbar.prototype, \"overflowMode\", void 0);\n    __decorate$3([\n        Property()\n    ], Toolbar.prototype, \"scrollStep\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Toolbar.prototype, \"enableCollision\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Toolbar.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$3([\n        Property(true)\n    ], Toolbar.prototype, \"allowKeyboard\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"clicked\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"created\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"destroyed\", void 0);\n    __decorate$3([\n        Event()\n    ], Toolbar.prototype, \"beforeCreate\", void 0);\n    Toolbar = __decorate$3([\n        NotifyPropertyChanges\n    ], Toolbar);\n    return Toolbar;\n}(Component));\n\n/**\n * Toolbar modules\n */\n\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar CLS_ACRDN_ROOT = 'e-acrdn-root';\nvar CLS_ROOT$2 = 'e-accordion';\nvar CLS_ITEM$1 = 'e-acrdn-item';\nvar CLS_ITEMFOCUS = 'e-item-focus';\nvar CLS_ITEMHIDE = 'e-hide';\nvar CLS_HEADER = 'e-acrdn-header';\nvar CLS_HEADERICN = 'e-acrdn-header-icon';\nvar CLS_HEADERCTN = 'e-acrdn-header-content';\nvar CLS_CONTENT = 'e-acrdn-panel';\nvar CLS_CTENT = 'e-acrdn-content';\nvar CLS_TOOGLEICN = 'e-toggle-icon';\nvar CLS_COLLAPSEICN = 'e-tgl-collapse-icon e-icons';\nvar CLS_EXPANDICN = 'e-expand-icon';\nvar CLS_RTL$3 = 'e-rtl';\nvar CLS_CTNHIDE = 'e-content-hide';\nvar CLS_SLCT = 'e-select';\nvar CLS_SLCTED = 'e-selected';\nvar CLS_ACTIVE = 'e-active';\nvar CLS_ANIMATE = 'e-animate';\nvar CLS_DISABLE$3 = 'e-overlay';\nvar CLS_TOGANIMATE = 'e-toggle-animation';\nvar CLS_NEST = 'e-nested';\nvar CLS_EXPANDSTATE = 'e-expand-state';\nvar CLS_CONTAINER = 'e-accordion-container';\n/**\n * Objects used for configuring the Accordion expanding item action properties.\n */\nvar AccordionActionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AccordionActionSettings, _super);\n    function AccordionActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Property('SlideDown')\n    ], AccordionActionSettings.prototype, \"effect\", void 0);\n    __decorate$4([\n        Property(400)\n    ], AccordionActionSettings.prototype, \"duration\", void 0);\n    __decorate$4([\n        Property('linear')\n    ], AccordionActionSettings.prototype, \"easing\", void 0);\n    return AccordionActionSettings;\n}(ChildProperty));\n/**\n * Objects used for configuring the Accordion animation properties.\n */\nvar AccordionAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AccordionAnimationSettings, _super);\n    function AccordionAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate$4([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, AccordionActionSettings)\n    ], AccordionAnimationSettings.prototype, \"expand\", void 0);\n    return AccordionAnimationSettings;\n}(ChildProperty));\n/**\n * An item object that is used to configure Accordion items.\n */\nvar AccordionItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(AccordionItem, _super);\n    function AccordionItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"content\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"header\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"cssClass\", void 0);\n    __decorate$4([\n        Property(null)\n    ], AccordionItem.prototype, \"iconCss\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AccordionItem.prototype, \"expanded\", void 0);\n    __decorate$4([\n        Property(true)\n    ], AccordionItem.prototype, \"visible\", void 0);\n    __decorate$4([\n        Property(false)\n    ], AccordionItem.prototype, \"disabled\", void 0);\n    __decorate$4([\n        Property()\n    ], AccordionItem.prototype, \"id\", void 0);\n    return AccordionItem;\n}(ChildProperty));\n/**\n * The Accordion is a vertically collapsible content panel that displays one or more panels at a time within the available space.\n * ```html\n * <div id='accordion'/>\n * <script>\n *   var accordionObj = new Accordion();\n *   accordionObj.appendTo('#accordion');\n * </script>\n * ```\n */\nvar Accordion = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(Accordion, _super);\n    /**\n     * Initializes a new instance of the Accordion class.\n     *\n     * @param {AccordionModel} options  - Specifies Accordion model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as an Accordion.\n     */\n    function Accordion(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        /**\n         * Contains the keyboard configuration of the Accordion.\n         */\n        _this.keyConfigs = {\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            enter: 'enter',\n            space: 'space',\n            home: 'home',\n            end: 'end'\n        };\n        return _this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    Accordion.prototype.destroy = function () {\n        if (this.isReact || this.isAngular || this.isVue) {\n            this.clearTemplate();\n        }\n        var ele = this.element;\n        _super.prototype.destroy.call(this);\n        this.unwireEvents();\n        this.isDestroy = true;\n        this.restoreContent(null);\n        [].slice.call(ele.children).forEach(function (el) {\n            ele.removeChild(el);\n        });\n        if (this.trgtEle) {\n            this.trgtEle = null;\n            while (this.ctrlTem.firstElementChild) {\n                ele.appendChild(this.ctrlTem.firstElementChild);\n            }\n            this.ctrlTem = null;\n        }\n        ele.classList.remove(CLS_ACRDN_ROOT);\n        ele.removeAttribute('style');\n        this.element.removeAttribute('data-ripple');\n        if (!this.isNested && isRippleEnabled) {\n            this.removeRippleEffect();\n        }\n    };\n    Accordion.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT);\n        this.isNested = false;\n        this.templateEle = [];\n        if (!this.isDestroy) {\n            this.isDestroy = false;\n        }\n        if (nested && nested.firstElementChild && nested.firstElementChild.firstElementChild) {\n            if (nested.firstElementChild.firstElementChild.classList.contains(CLS_ROOT$2)) {\n                nested.classList.add(CLS_NEST);\n                this.isNested = true;\n            }\n        }\n        else {\n            this.element.classList.add(CLS_ACRDN_ROOT);\n        }\n        if (this.enableRtl) {\n            this.add(this.element, CLS_RTL$3);\n        }\n    };\n    Accordion.prototype.add = function (ele, val) {\n        ele.classList.add(val);\n    };\n    Accordion.prototype.remove = function (ele, val) {\n        ele.classList.remove(val);\n    };\n    /**\n     * To initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Accordion.prototype.render = function () {\n        this.initializeHeaderTemplate();\n        this.initializeItemTemplate();\n        this.initialize();\n        this.renderControl();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Accordion.prototype.initialize = function () {\n        var width = formatUnit(this.width);\n        var height = formatUnit(this.height);\n        setStyleAttribute(this.element, { 'width': width, 'height': height });\n        if (isNullOrUndefined(this.initExpand)) {\n            this.initExpand = [];\n        }\n        if (this.expandedIndices.length > 0) {\n            this.initExpand = this.expandedIndices;\n        }\n    };\n    Accordion.prototype.renderControl = function () {\n        this.trgtEle = (this.element.children.length > 0) ? select('div', this.element) : null;\n        this.renderItems();\n        this.initItemExpand();\n    };\n    Accordion.prototype.wireFocusEvents = function () {\n        var acrdItem = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1));\n        for (var _i = 0, acrdItem_1 = acrdItem; _i < acrdItem_1.length; _i++) {\n            var item = acrdItem_1[_i];\n            var headerEle = item.querySelector('.' + CLS_HEADER);\n            if (item.childElementCount > 0 && headerEle) {\n                EventHandler.clearEvents(headerEle);\n                EventHandler.add(headerEle, 'focus', this.focusIn, this);\n                EventHandler.add(headerEle, 'blur', this.focusOut, this);\n            }\n        }\n    };\n    Accordion.prototype.unwireEvents = function () {\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        if (!isNullOrUndefined(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n    };\n    Accordion.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        if (!this.isNested && !this.isDestroy) {\n            this.removeRippleEffect = rippleEffect(this.element, { selector: '.' + CLS_HEADER });\n        }\n        if (!this.isNested) {\n            this.keyModule = new KeyboardEvents(this.element, {\n                keyAction: this.keyActionHandler.bind(this),\n                keyConfigs: this.keyConfigs,\n                eventName: 'keydown'\n            });\n        }\n    };\n    Accordion.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    Accordion.prototype.initializeHeaderTemplate = function () {\n        if (this.headerTemplate) {\n            this.headerTemplateFn = this.templateParser(this.headerTemplate);\n        }\n    };\n    Accordion.prototype.initializeItemTemplate = function () {\n        if (this.itemTemplate) {\n            this.itemTemplateFn = this.templateParser(this.itemTemplate);\n        }\n    };\n    Accordion.prototype.getHeaderTemplate = function () {\n        return this.headerTemplateFn;\n    };\n    Accordion.prototype.getItemTemplate = function () {\n        return this.itemTemplateFn;\n    };\n    Accordion.prototype.focusIn = function (e) {\n        e.target.parentElement.classList.add(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.focusOut = function (e) {\n        e.target.parentElement.classList.remove(CLS_ITEMFOCUS);\n    };\n    Accordion.prototype.ctrlTemplate = function () {\n        this.ctrlTem = this.element.cloneNode(true);\n        var innerEles;\n        var rootEle = select('.' + CLS_CONTAINER, this.element);\n        if (rootEle) {\n            innerEles = rootEle.children;\n        }\n        else {\n            innerEles = this.element.children;\n        }\n        var items = [];\n        [].slice.call(innerEles).forEach(function (el) {\n            items.push({\n                header: (el.childElementCount > 0 && el.children[0]) ? (el.children[0]) : '',\n                content: (el.childElementCount > 1 && el.children[1]) ? (el.children[1]) : ''\n            });\n            el.parentNode.removeChild(el);\n        });\n        if (rootEle) {\n            this.element.removeChild(rootEle);\n        }\n        this.setProperties({ items: items }, true);\n    };\n    Accordion.prototype.toggleIconGenerate = function () {\n        var tglIcon = this.createElement('div', { className: CLS_TOOGLEICN });\n        var hdrColIcon = this.createElement('span', { className: CLS_COLLAPSEICN });\n        tglIcon.appendChild(hdrColIcon);\n        return tglIcon;\n    };\n    Accordion.prototype.initItemExpand = function () {\n        var len = this.initExpand.length;\n        if (len === 0) {\n            return;\n        }\n        if (this.expandMode === 'Single') {\n            this.expandItem(true, this.initExpand[len - 1]);\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                this.expandItem(true, this.initExpand[parseInt(i.toString(), 10)]);\n            }\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.renderItems = function () {\n        var _this = this;\n        var ele = this.element;\n        var innerItem;\n        var innerDataSourceItem;\n        if (!isNullOrUndefined(this.trgtEle)) {\n            this.ctrlTemplate();\n        }\n        if (this.dataSource.length > 0) {\n            this.dataSource.forEach(function (item, index) {\n                innerDataSourceItem = _this.renderInnerItem(item, index);\n                ele.appendChild(innerDataSourceItem);\n                if (innerDataSourceItem.childElementCount > 0) {\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                    EventHandler.add(innerDataSourceItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                }\n            });\n        }\n        else {\n            var items = this.items;\n            if (ele && items.length > 0) {\n                items.forEach(function (item, index) {\n                    innerItem = _this.renderInnerItem(item, index);\n                    ele.appendChild(innerItem);\n                    if (innerItem.childElementCount > 0) {\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                        EventHandler.add(innerItem.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                    }\n                });\n            }\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.clickHandler = function (e) {\n        var trgt = e.target;\n        var items = this.getItems();\n        var eventArgs = {};\n        var tglIcon;\n        var acrdEle = closest(trgt, '.' + CLS_ROOT$2);\n        if (acrdEle !== this.element) {\n            return;\n        }\n        trgt.classList.add('e-target');\n        var acrdnItem = closest(trgt, '.' + CLS_ITEM$1);\n        var acrdnHdr = closest(trgt, '.' + CLS_HEADER);\n        var acrdnCtn = closest(trgt, '.' + CLS_CONTENT);\n        if (acrdnItem && (isNullOrUndefined(acrdnHdr) || isNullOrUndefined(acrdnCtn))) {\n            acrdnHdr = acrdnItem.children[0];\n            acrdnCtn = acrdnItem.children[1];\n        }\n        if (acrdnHdr) {\n            tglIcon = select('.' + CLS_TOOGLEICN, acrdnHdr);\n        }\n        var acrdnCtnItem;\n        if (acrdnHdr) {\n            acrdnCtnItem = closest(acrdnHdr, '.' + CLS_ITEM$1);\n        }\n        else if (acrdnCtn) {\n            acrdnCtnItem = closest(acrdnCtn, '.' + CLS_ITEM$1);\n        }\n        var index = this.getIndexByItem(acrdnItem);\n        if (acrdnCtnItem) {\n            eventArgs.item = items[this.getIndexByItem(acrdnCtnItem)];\n        }\n        eventArgs.originalEvent = e;\n        var ctnCheck = !isNullOrUndefined(tglIcon) && acrdnItem.childElementCount <= 1;\n        if (ctnCheck && (isNullOrUndefined(acrdnCtn) || !isNullOrUndefined(select('.' + CLS_HEADER + ' .' + CLS_TOOGLEICN, acrdnCtnItem)))) {\n            acrdnItem.appendChild(this.contentRendering(index));\n            this.ariaAttrUpdate(acrdnItem);\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        else {\n            this.afterContentRender(trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.afterContentRender = function (trgt, eventArgs, acrdnItem, acrdnHdr, acrdnCtn, acrdnCtnItem) {\n        var _this = this;\n        var acrdActive = [];\n        this.trigger('clicked', eventArgs);\n        var cntclkCheck = (acrdnCtn && !isNullOrUndefined(select('.e-target', acrdnCtn)));\n        var inlineAcrdnSel = '.' + CLS_CONTENT + ' .' + CLS_ROOT$2;\n        var inlineEleAcrdn = acrdnCtn && !isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) && isNullOrUndefined(closest(trgt, inlineAcrdnSel));\n        var nestContCheck = acrdnCtn && isNullOrUndefined(select('.' + CLS_ROOT$2, acrdnCtn)) || !(closest(trgt, '.' + CLS_ROOT$2) === this.element);\n        cntclkCheck = cntclkCheck && (inlineEleAcrdn || nestContCheck);\n        trgt.classList.remove('e-target');\n        if (trgt.classList.contains(CLS_CONTENT) || trgt.classList.contains(CLS_CTENT) || cntclkCheck) {\n            return;\n        }\n        var acrdcontainer = this.element.querySelector('.' + CLS_CONTAINER);\n        var acrdnchild = (acrdcontainer) ? acrdcontainer.children : this.element.children;\n        [].slice.call(acrdnchild).forEach(function (el) {\n            if (el.classList.contains(CLS_ACTIVE)) {\n                acrdActive.push(el);\n            }\n        });\n        var acrdAniEle = [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1 + ' [' + CLS_ANIMATE + ']'));\n        if (acrdAniEle.length > 0) {\n            for (var _i = 0, acrdAniEle_1 = acrdAniEle; _i < acrdAniEle_1.length; _i++) {\n                var el = acrdAniEle_1[_i];\n                acrdActive.push(el.parentElement);\n            }\n        }\n        var sameContentCheck = acrdActive.indexOf(acrdnCtnItem) !== -1 && acrdnCtn.getAttribute('e-animate') === 'true';\n        var sameHeader = false;\n        if (!isNullOrUndefined(acrdnItem) && !isNullOrUndefined(acrdnHdr)) {\n            var acrdnCtn_1 = select('.' + CLS_CONTENT, acrdnItem);\n            var acrdnRoot = closest(acrdnItem, '.' + CLS_ACRDN_ROOT);\n            var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n            if (isNullOrUndefined(acrdnCtn_1)) {\n                return;\n            }\n            sameHeader = (expandState === acrdnItem);\n            if (isVisible(acrdnCtn_1) && (!sameContentCheck || acrdnCtnItem.classList.contains(CLS_SLCTED))) {\n                this.collapse(acrdnCtn_1);\n            }\n            else {\n                if ((acrdActive.length > 0) && this.expandMode === 'Single' && !sameContentCheck) {\n                    acrdActive.forEach(function (el) {\n                        _this.collapse(select('.' + CLS_CONTENT, el));\n                        el.classList.remove(CLS_EXPANDSTATE);\n                    });\n                }\n                this.expand(acrdnCtn_1);\n            }\n            if (!isNullOrUndefined(expandState) && !sameHeader) {\n                expandState.classList.remove(CLS_EXPANDSTATE);\n            }\n        }\n    };\n    Accordion.prototype.eleMoveFocus = function (action, root, trgt) {\n        var clst;\n        var clstItem = closest(trgt, '.' + CLS_ITEM$1);\n        if (trgt === root) {\n            clst = ((action === 'moveUp' ? trgt.lastElementChild : trgt).querySelector('.' + CLS_HEADER));\n        }\n        else if (trgt.classList.contains(CLS_HEADER)) {\n            clstItem = (action === 'moveUp' ? clstItem.previousElementSibling : clstItem.nextElementSibling);\n            if (clstItem) {\n                clst = select('.' + CLS_HEADER, clstItem);\n            }\n        }\n        if (clst) {\n            clst.focus();\n        }\n    };\n    Accordion.prototype.keyActionHandler = function (e) {\n        var trgt = e.target;\n        var header = closest(e.target, CLS_HEADER);\n        if (isNullOrUndefined(header) && !trgt.classList.contains(CLS_ROOT$2) && !trgt.classList.contains(CLS_HEADER)) {\n            return;\n        }\n        var clst;\n        var root = this.element;\n        var content;\n        switch (e.action) {\n            case 'moveUp':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'moveDown':\n                this.eleMoveFocus(e.action, root, trgt);\n                break;\n            case 'space':\n            case 'enter':\n                content = trgt.nextElementSibling;\n                if (!isNullOrUndefined(content) && content.classList.contains(CLS_CONTENT)) {\n                    if (content.getAttribute('e-animate') !== 'true') {\n                        trgt.click();\n                    }\n                }\n                else {\n                    trgt.click();\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n            case 'end':\n                clst = e.action === 'home' ? root.firstElementChild.children[0] : root.lastElementChild.children[0];\n                clst.focus();\n                e.preventDefault();\n                break;\n        }\n    };\n    Accordion.prototype.headerEleGenerate = function () {\n        var header = this.createElement('div', { className: CLS_HEADER, id: getUniqueID('acrdn_header') });\n        var ariaAttr = {\n            'tabindex': '0', 'role': 'button', 'aria-disabled': 'false', 'aria-expanded': 'false'\n        };\n        attributes(header, ariaAttr);\n        return header;\n    };\n    Accordion.prototype.renderInnerItem = function (item, index) {\n        var innerEle = this.createElement('div', {\n            className: CLS_ITEM$1, id: item.id || getUniqueID('acrdn_item')\n        });\n        if (this.headerTemplate) {\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            append(this.getHeaderTemplate()(item, this, 'headerTemplate', this.element.id + '_headerTemplate', false), hdrEle);\n            innerEle.appendChild(ctnEle);\n            ctnEle.appendChild(this.toggleIconGenerate());\n            this.add(innerEle, CLS_SLCT);\n            return innerEle;\n        }\n        if (item.header && this.angularnativeCondiCheck(item, 'header')) {\n            if (this.enableHtmlSanitizer && typeof (item.header) === 'string') {\n                item.header = SanitizeHtmlHelper.sanitize(item.header);\n            }\n            var ctnEle = this.headerEleGenerate();\n            var hdrEle = this.createElement('div', { className: CLS_HEADERCTN });\n            ctnEle.appendChild(hdrEle);\n            ctnEle.appendChild(this.fetchElement(hdrEle, item.header, index, true));\n            innerEle.appendChild(ctnEle);\n        }\n        var hdr = select('.' + CLS_HEADER, innerEle);\n        if (item.expanded && !isNullOrUndefined(index) && (!this.enablePersistence)) {\n            if (this.initExpand.indexOf(index) === -1) {\n                this.initExpand.push(index);\n            }\n        }\n        if (item.cssClass) {\n            addClass([innerEle], item.cssClass.split(' '));\n        }\n        if (item.disabled) {\n            addClass([innerEle], CLS_DISABLE$3);\n        }\n        if (item.visible === false) {\n            addClass([innerEle], CLS_ITEMHIDE);\n        }\n        if (item.iconCss) {\n            var hdrIcnEle = this.createElement('div', { className: CLS_HEADERICN });\n            var icon = this.createElement('span', { className: item.iconCss + ' e-icons' });\n            hdrIcnEle.appendChild(icon);\n            if (isNullOrUndefined(hdr)) {\n                hdr = this.headerEleGenerate();\n                hdr.appendChild(hdrIcnEle);\n                innerEle.appendChild(hdr);\n            }\n            else {\n                hdr.insertBefore(hdrIcnEle, hdr.childNodes[0]);\n            }\n        }\n        if (item.content && this.angularnativeCondiCheck(item, 'content')) {\n            var hdrIcon = this.toggleIconGenerate();\n            if (isNullOrUndefined(hdr)) {\n                hdr = this.headerEleGenerate();\n                innerEle.appendChild(hdr);\n            }\n            hdr.appendChild(hdrIcon);\n            this.add(innerEle, CLS_SLCT);\n        }\n        return innerEle;\n    };\n    Accordion.prototype.angularnativeCondiCheck = function (item, prop) {\n        var property = prop === 'content' ? item.content : item.header;\n        var content = property;\n        if (this.isAngular && !isNullOrUndefined(content.elementRef)) {\n            var data = content.elementRef.nativeElement.data;\n            if (isNullOrUndefined(data) || data === '' || (data.indexOf('bindings=') === -1)) {\n                return true;\n            }\n            var parseddata = JSON.parse(content.elementRef.nativeElement.data.replace('bindings=', ''));\n            if (!isNullOrUndefined(parseddata) && parseddata['ng-reflect-ng-if'] === 'false') {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Accordion.prototype.fetchElement = function (ele, value, index, isHeader) {\n        var templateFn;\n        var temString;\n        try {\n            if (document.querySelectorAll(value).length && value !== 'Button') {\n                var eleVal = document.querySelector(value);\n                temString = eleVal.outerHTML.trim();\n                ele.appendChild(eleVal);\n                eleVal.style.display = '';\n            }\n            else {\n                templateFn = compile(value);\n            }\n        }\n        catch (e) {\n            if (typeof (value) === 'string') {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n            }\n            else if (!isNullOrUndefined(this.trgtEle) && (value instanceof (HTMLElement))) {\n                ele.appendChild(value);\n                ele.firstElementChild.style.display = '';\n            }\n            else {\n                templateFn = compile(value);\n            }\n        }\n        var tempArray;\n        if (!isNullOrUndefined(templateFn)) {\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            var templateProps = void 0;\n            var templateName = void 0;\n            if (ele.classList.contains(CLS_HEADERCTN)) {\n                templateProps = this.element.id + index + '_header';\n                templateName = 'header';\n            }\n            else if (ele.classList.contains(CLS_CTENT)) {\n                templateProps = this.element.id + index + '_content';\n                templateName = 'content';\n            }\n            tempArray = templateFn({}, this, templateName, templateProps, this.isStringTemplate);\n        }\n        if (!isNullOrUndefined(tempArray) && tempArray.length > 0 && !(isNullOrUndefined(tempArray[0].tagName) && tempArray.length === 1)) {\n            [].slice.call(tempArray).forEach(function (el) {\n                if (!isNullOrUndefined(el.tagName)) {\n                    el.style.display = '';\n                }\n                ele.appendChild(el);\n            });\n        }\n        else if (ele.childElementCount === 0) {\n            ele.innerHTML = SanitizeHtmlHelper.sanitize(value);\n        }\n        if (!isNullOrUndefined(temString)) {\n            if (this.templateEle.indexOf(value) === -1) {\n                this.templateEle.push(value);\n            }\n        }\n        return ele;\n    };\n    Accordion.prototype.ariaAttrUpdate = function (itemEle) {\n        var header = select('.' + CLS_HEADER, itemEle);\n        var content = select('.' + CLS_CONTENT, itemEle);\n        header.setAttribute('aria-controls', content.id);\n        content.setAttribute('aria-labelledby', header.id);\n        content.setAttribute('role', 'region');\n    };\n    Accordion.prototype.contentRendering = function (index) {\n        var itemcnt = this.createElement('div', { className: CLS_CONTENT + ' ' + CLS_CTNHIDE, id: getUniqueID('acrdn_panel') });\n        attributes(itemcnt, { 'aria-hidden': 'true' });\n        var ctn = this.createElement('div', { className: CLS_CTENT });\n        if (this.dataSource.length > 0) {\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            append(this.getItemTemplate()(this.dataSource[parseInt(index.toString(), 10)], this, 'itemTemplate', this.element.id + '_itemTemplate', false), ctn);\n            itemcnt.appendChild(ctn);\n        }\n        else {\n            if (this.enableHtmlSanitizer && typeof (this.items[parseInt(index.toString(), 10)].content)) {\n                this.items[parseInt(index.toString(), 10)].content =\n                    SanitizeHtmlHelper.sanitize(this.items[parseInt(index.toString(), 10)].content);\n            }\n            itemcnt.appendChild(this.fetchElement(ctn, this.items[parseInt(index.toString(), 10)].content, index, false));\n        }\n        return itemcnt;\n    };\n    Accordion.prototype.expand = function (trgt) {\n        var _this = this;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n        if (isNullOrUndefined(trgt) || (isVisible(trgt) && trgt.getAttribute('e-animate') !== 'true') || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        var acrdnRoot = closest(trgtItemEle, '.' + CLS_ACRDN_ROOT);\n        var expandState = acrdnRoot.querySelector('.' + CLS_EXPANDSTATE);\n        var animation = {\n            name: this.animation.expand.effect,\n            duration: this.animation.expand.duration,\n            timingFunction: this.animation.expand.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        var eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: true\n        };\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                icon.classList.add(CLS_TOGANIMATE);\n                _this.expandedItemsPush(trgtItemEle);\n                if (!isNullOrUndefined(expandState)) {\n                    expandState.classList.remove(CLS_EXPANDSTATE);\n                }\n                trgtItemEle.classList.add(CLS_EXPANDSTATE);\n                if ((animation.name === 'None')) {\n                    _this.expandProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.expandProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.expandAnimation(animation.name, icon, trgt, trgtItemEle, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.expandAnimation = function (ef, icn, trgt, trgtItemEle, animate, args) {\n        var _this = this;\n        var height;\n        this.lastActiveItemId = trgtItemEle.id;\n        if (ef === 'SlideDown') {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n                trgt.style.position = 'absolute';\n                height = trgtItemEle.offsetHeight;\n                trgt.style.maxHeight = (trgt.offsetHeight) + 'px';\n                trgtItemEle.style.maxHeight = '';\n            };\n            animate.progress = function () {\n                trgtItemEle.style.minHeight = (height + trgt.offsetHeight) + 'px';\n            };\n            animate.end = function () {\n                setStyleAttribute(trgt, { 'position': '', 'maxHeight': '' });\n                trgtItemEle.style.minHeight = '';\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.expandProgress('begin', icn, trgt, trgtItemEle, args);\n            };\n            animate.end = function () {\n                _this.expandProgress('end', icn, trgt, trgtItemEle, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.expandProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(trgt, CLS_CTNHIDE);\n        this.add(trgtItemEle, CLS_SLCTED);\n        this.add(icon, CLS_EXPANDICN);\n        if (progress === 'end') {\n            this.add(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'false');\n            attributes(trgt.previousElementSibling, { 'aria-expanded': 'true' });\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    Accordion.prototype.expandedItemsPush = function (item) {\n        var index = this.getIndexByItem(item);\n        if (this.expandedIndices.indexOf(index) === -1) {\n            var temp = [].slice.call(this.expandedIndices);\n            temp.push(index);\n            this.setProperties({ expandedIndices: temp }, true);\n        }\n    };\n    Accordion.prototype.getIndexByItem = function (item) {\n        var itemEle = this.getItemElements();\n        return [].slice.call(itemEle).indexOf(item);\n    };\n    Accordion.prototype.getItemElements = function () {\n        var itemEle = [];\n        var itemCollection = this.element.children;\n        [].slice.call(itemCollection).forEach(function (el) {\n            if (el.classList.contains(CLS_ITEM$1)) {\n                itemEle.push(el);\n            }\n        });\n        return itemEle;\n    };\n    Accordion.prototype.expandedItemsPop = function (item) {\n        var index = this.getIndexByItem(item);\n        var temp = [].slice.call(this.expandedIndices);\n        temp.splice(temp.indexOf(index), 1);\n        this.setProperties({ expandedIndices: temp }, true);\n    };\n    Accordion.prototype.collapse = function (trgt) {\n        var _this = this;\n        var items = this.getItems();\n        var trgtItemEle = closest(trgt, '.' + CLS_ITEM$1);\n        if (isNullOrUndefined(trgt) || !isVisible(trgt) || trgtItemEle.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        var animation = {\n            name: this.animation.collapse.effect,\n            duration: this.animation.collapse.duration,\n            timingFunction: this.animation.collapse.easing\n        };\n        var icon = select('.' + CLS_TOOGLEICN, trgtItemEle).firstElementChild;\n        var eventArgs = {\n            element: trgtItemEle,\n            item: items[this.getIndexByItem(trgtItemEle)],\n            index: this.getIndexByItem(trgtItemEle),\n            content: trgtItemEle.querySelector('.' + CLS_CONTENT),\n            isExpanded: false\n        };\n        this.trigger('expanding', eventArgs, function (expandArgs) {\n            if (!expandArgs.cancel) {\n                _this.expandedItemsPop(trgtItemEle);\n                trgtItemEle.classList.remove(CLS_EXPANDSTATE);\n                icon.classList.add(CLS_TOGANIMATE);\n                if ((animation.name === 'None')) {\n                    _this.collapseProgress('begin', icon, trgt, trgtItemEle, expandArgs);\n                    _this.collapseProgress('end', icon, trgt, trgtItemEle, expandArgs);\n                }\n                else {\n                    _this.collapseAnimation(animation.name, trgt, trgtItemEle, icon, animation, expandArgs);\n                }\n            }\n        });\n    };\n    Accordion.prototype.collapseAnimation = function (ef, trgt, trgtItEl, icn, animate, args) {\n        var _this = this;\n        var height;\n        var trgtHeight;\n        var itemHeight;\n        var remain;\n        this.lastActiveItemId = trgtItEl.id;\n        if (ef === 'SlideUp') {\n            animate.begin = function () {\n                itemHeight = trgtItEl.offsetHeight;\n                trgtItEl.style.minHeight = itemHeight + 'px';\n                trgt.style.position = 'absolute';\n                height = trgtItEl.offsetHeight;\n                trgtHeight = trgt.offsetHeight;\n                trgt.style.maxHeight = trgtHeight + 'px';\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.progress = function () {\n                remain = ((height - (trgtHeight - trgt.offsetHeight)));\n                if (remain < itemHeight) {\n                    trgtItEl.style.minHeight = remain + 'px';\n                }\n            };\n            animate.end = function () {\n                trgt.style.display = 'none';\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n                trgtItEl.style.minHeight = '';\n                setStyleAttribute(trgt, { 'position': '', 'maxHeight': '', 'display': '' });\n            };\n        }\n        else {\n            animate.begin = function () {\n                _this.collapseProgress('begin', icn, trgt, trgtItEl, args);\n            };\n            animate.end = function () {\n                _this.collapseProgress('end', icn, trgt, trgtItEl, args);\n            };\n        }\n        new Animation(animate).animate(trgt);\n    };\n    Accordion.prototype.collapseProgress = function (progress, icon, trgt, trgtItemEle, eventArgs) {\n        this.remove(icon, CLS_EXPANDICN);\n        this.remove(trgtItemEle, CLS_SLCTED);\n        if (progress === 'end') {\n            this.add(trgt, CLS_CTNHIDE);\n            icon.classList.remove(CLS_TOGANIMATE);\n            this.remove(trgtItemEle, CLS_ACTIVE);\n            trgt.setAttribute('aria-hidden', 'true');\n            attributes(trgt.previousElementSibling, { 'aria-expanded': 'false' });\n            this.trigger('expanded', eventArgs);\n        }\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Accordion.prototype.getModuleName = function () {\n        return 'accordion';\n    };\n    Accordion.prototype.getItems = function () {\n        var items;\n        if (this.itemTemplate && this.headerTemplate) {\n            items = this.dataSource;\n        }\n        else {\n            items = this.items;\n        }\n        return items;\n    };\n    /**\n     * Adds new item to the Accordion with the specified index of the Accordion.\n     *\n     * @param  {AccordionItemModel | AccordionItemModel[] | Object | Object[]} item - Item array that is to be added to the Accordion.\n     * @param  {number} index - Number value that determines where the item should be added.\n     * By default, item is added at the last index if the index is not specified.\n     * @returns {void}\n     */\n    Accordion.prototype.addItem = function (item, index) {\n        var _this = this;\n        var ele = this.element;\n        var itemEle = this.getItemElements();\n        var items = this.getItems();\n        if (isNullOrUndefined(index)) {\n            index = items.length;\n        }\n        if (ele.childElementCount >= index) {\n            var addItems = (item instanceof Array) ? item : [item];\n            addItems.forEach(function (addItem, i) {\n                var itemIndex = index + i;\n                items.splice(itemIndex, 0, addItem);\n                var innerItemEle = _this.renderInnerItem(addItem, itemIndex);\n                if (ele.childElementCount === itemIndex) {\n                    ele.appendChild(innerItemEle);\n                }\n                else {\n                    ele.insertBefore(innerItemEle, itemEle[parseInt(itemIndex.toString(), 10)]);\n                }\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'focus', _this.focusIn, _this);\n                EventHandler.add(innerItemEle.querySelector('.' + CLS_HEADER), 'blur', _this.focusOut, _this);\n                _this.expandedIndices = [];\n                _this.expandedItemRefresh(ele);\n                if (addItem && addItem.expanded) {\n                    _this.expandItem(true, itemIndex);\n                }\n            });\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Accordion.prototype.expandedItemRefresh = function (ele) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        [].slice.call(itemEle).forEach(function (el) {\n            if (el.classList.contains(CLS_SLCTED)) {\n                _this.expandedItemsPush(el);\n            }\n        });\n    };\n    /**\n     * Dynamically removes item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be removed.\n     * @returns {void}.\n     */\n    Accordion.prototype.removeItem = function (index) {\n        if (this.isReact) {\n            this.clearTemplate(['headerTemplate', 'itemTemplate'], index);\n        }\n        var itemEle = this.getItemElements();\n        var ele = itemEle[parseInt(index.toString(), 10)];\n        var items = this.getItems();\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        this.restoreContent(index);\n        detach(ele);\n        items.splice(index, 1);\n        this.expandedIndices = [];\n        this.expandedItemRefresh(this.element);\n    };\n    /**\n     * Sets focus to the specified index item header in Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be focused.\n     * @returns {void}.\n     */\n    Accordion.prototype.select = function (index) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[parseInt(index.toString(), 10)];\n        if (isNullOrUndefined(ele) || isNullOrUndefined(select('.' + CLS_HEADER, ele))) {\n            return;\n        }\n        ele.children[0].focus();\n    };\n    /**\n     * Shows or hides the specified item from Accordion.\n     *\n     * @param  {number} index - Number value that determines which item should be hidden/shown.\n     * @param  {boolean} isHidden - Boolean value that determines the action either hide (true) or show (false). Default value is false.\n     * If the `isHidden` value is false, the item is shown or else item it is hidden.\n     * @returns {void}.\n     */\n    Accordion.prototype.hideItem = function (index, isHidden) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[parseInt(index.toString(), 10)];\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        if (isNullOrUndefined(isHidden)) {\n            isHidden = true;\n        }\n        if (isHidden) {\n            this.add(ele, CLS_ITEMHIDE);\n        }\n        else {\n            this.remove(ele, CLS_ITEMHIDE);\n        }\n    };\n    /**\n     * Enables/Disables the specified Accordion item.\n     *\n     * @param  {number} index - Number value that determines which item should be enabled/disabled.\n     * @param  {boolean} isEnable - Boolean value that determines the action as enable (true) or disable (false).\n     * If the `isEnable` value is true, the item is enabled or else it is disabled.\n     * @returns {void}.\n     */\n    Accordion.prototype.enableItem = function (index, isEnable) {\n        var itemEle = this.getItemElements();\n        var ele = itemEle[parseInt(index.toString(), 10)];\n        if (isNullOrUndefined(ele)) {\n            return;\n        }\n        var eleHeader = ele.firstElementChild;\n        if (isEnable) {\n            this.remove(ele, CLS_DISABLE$3);\n            attributes(eleHeader, { 'tabindex': '0', 'aria-disabled': 'false' });\n            eleHeader.focus();\n        }\n        else {\n            if (ele.classList.contains(CLS_ACTIVE)) {\n                this.expandItem(false, index);\n                this.eleMoveFocus('movedown', this.element, eleHeader);\n            }\n            this.add(ele, CLS_DISABLE$3);\n            eleHeader.setAttribute('aria-disabled', 'true');\n            eleHeader.removeAttribute('tabindex');\n        }\n    };\n    /**\n     * Expands/Collapses the specified Accordion item.\n     *\n     * @param  {boolean} isExpand - Boolean value that determines the action as expand or collapse.\n     * @param  {number} index - Number value that determines which item should be expanded/collapsed.`index` is optional parameter.\n     * Without Specifying index, based on the `isExpand` value all Accordion item can be expanded or collapsed.\n     * @returns {void}.\n     */\n    Accordion.prototype.expandItem = function (isExpand, index) {\n        var _this = this;\n        var itemEle = this.getItemElements();\n        if (isNullOrUndefined(index)) {\n            if (this.expandMode === 'Single' && isExpand) {\n                var ele = itemEle[itemEle.length - 1];\n                this.itemExpand(isExpand, ele, this.getIndexByItem(ele));\n            }\n            else {\n                var item = select('#' + this.lastActiveItemId, this.element);\n                [].slice.call(itemEle).forEach(function (el) {\n                    _this.itemExpand(isExpand, el, _this.getIndexByItem(el));\n                    el.classList.remove(CLS_EXPANDSTATE);\n                });\n                var expandedItem = select('.' + CLS_EXPANDSTATE, this.element);\n                if (expandedItem) {\n                    expandedItem.classList.remove(CLS_EXPANDSTATE);\n                }\n                if (item) {\n                    item.classList.add(CLS_EXPANDSTATE);\n                }\n            }\n        }\n        else {\n            var ele = itemEle[parseInt(index.toString(), 10)];\n            if (isNullOrUndefined(ele) || !ele.classList.contains(CLS_SLCT) || (ele.classList.contains(CLS_ACTIVE) && isExpand)) {\n                return;\n            }\n            else {\n                if (this.expandMode === 'Single') {\n                    this.expandItem(false);\n                }\n                this.itemExpand(isExpand, ele, index);\n            }\n        }\n    };\n    Accordion.prototype.itemExpand = function (isExpand, ele, index) {\n        var ctn = ele.children[1];\n        if (ele.classList.contains(CLS_DISABLE$3)) {\n            return;\n        }\n        if (isNullOrUndefined(ctn) && isExpand) {\n            ctn = this.contentRendering(index);\n            ele.appendChild(ctn);\n            this.ariaAttrUpdate(ele);\n            this.expand(ctn);\n        }\n        else if (!isNullOrUndefined(ctn)) {\n            if (isExpand) {\n                this.expand(ctn);\n            }\n            else {\n                this.collapse(ctn);\n            }\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.destroyItems = function () {\n        this.restoreContent(null);\n        if (this.isReact || this.isAngular || this.isVue) {\n            this.clearTemplate();\n        }\n        [].slice.call(this.element.querySelectorAll('.' + CLS_ITEM$1)).forEach(function (el) {\n            detach(el);\n        });\n    };\n    Accordion.prototype.restoreContent = function (index) {\n        var ctnElePos;\n        if (isNullOrUndefined(index)) {\n            ctnElePos = this.element;\n        }\n        else {\n            ctnElePos = this.element.querySelectorAll('.' + CLS_ITEM$1)[parseInt(index.toString(), 10)];\n        }\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNullOrUndefined(ctnElePos.querySelector(eleStr))) {\n                document.body.appendChild(ctnElePos.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Accordion.prototype.updateItem = function (item, index) {\n        if (!isNullOrUndefined(item)) {\n            var items = this.getItems();\n            var itemObj = items[parseInt(index.toString(), 10)];\n            items.splice(index, 1);\n            this.restoreContent(index);\n            var header = select('.' + CLS_HEADERCTN, item);\n            var content = select('.' + CLS_CTENT, item);\n            if (this.isReact || this.isAngular) {\n                this.clearAccordionTemplate(header, 'header', CLS_HEADERCTN);\n                this.clearAccordionTemplate(content, 'content', CLS_CTENT);\n            }\n            detach(item);\n            this.addItem(itemObj, index);\n        }\n    };\n    Accordion.prototype.setTemplate = function (template, toElement, index) {\n        toElement.innerHTML = '';\n        this.templateCompile(toElement, template, index);\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Accordion.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.fetchElement(tempEle, cnt, index, false);\n        if (tempEle.childNodes.length !== 0) {\n            [].slice.call(tempEle.childNodes).forEach(function (childEle) {\n                ele.appendChild(childEle);\n            });\n        }\n    };\n    Accordion.prototype.clearAccordionTemplate = function (templateEle, templateName, className) {\n        if (this.registeredTemplate && this.registeredTemplate[\"\" + templateName]) {\n            var registeredTemplates = this.registeredTemplate;\n            for (var index = 0; index < registeredTemplates[\"\" + templateName].length; index++) {\n                var registeredItem = registeredTemplates[\"\" + templateName][parseInt(index.toString(), 10)].rootNodes[0];\n                var closestItem = closest(registeredItem.containerInfo, '.' + className);\n                if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n                    this.clearTemplate([templateName], [registeredTemplates[\"\" + templateName][parseInt(index.toString(), 10)]]);\n                    break;\n                }\n            }\n        }\n        else if (this.portals && this.portals.length > 0) {\n            var portals = this.portals;\n            for (var index = 0; index < portals.length; index++) {\n                var portalItem = portals[parseInt(index.toString(), 10)];\n                var closestItem = closest(portalItem.containerInfo, '.' + className);\n                if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n                    this.clearTemplate([templateName], index);\n                    break;\n                }\n            }\n        }\n    };\n    Accordion.prototype.getPersistData = function () {\n        var keyEntity = ['expandedIndices'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {AccordionModel} newProp - It contains the new value of data.\n     * @param  {AccordionModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    Accordion.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var acrdn = this.element;\n        var isRefresh = false;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                    if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n                        var changedProp = Object.keys(newProp.items);\n                        for (var j = 0; j < changedProp.length; j++) {\n                            var index = parseInt(Object.keys(newProp.items)[parseInt(j.toString(), 10)], 10);\n                            var property = Object.keys(newProp.items[parseInt(index.toString(), 10)]);\n                            for (var k = 0; k < property.length; k++) {\n                                var item = selectAll('.' + CLS_ITEM$1, this.element)[parseInt(index.toString(), 10)];\n                                var oldVal = Object(oldProp.items[parseInt(index.toString(), 10)])[\"\" + property[parseInt(k.toString(), 10)]];\n                                var newVal = Object(newProp.items[parseInt(index.toString(), 10)])[\"\" + property[parseInt(k.toString(), 10)]];\n                                var temp = property[parseInt(k.toString(), 10)];\n                                var content = select('.' + CLS_CTENT, item);\n                                if (temp === 'header' || temp === 'iconCss' || temp === 'expanded' || ((temp === 'content') && (oldVal === ''))) {\n                                    this.updateItem(item, index);\n                                }\n                                if (property[parseInt(k.toString(), 10)] === 'cssClass' && !isNullOrUndefined(item)) {\n                                    if (oldVal) {\n                                        removeClass([item], oldVal.split(' '));\n                                    }\n                                    if (newVal) {\n                                        addClass([item], newVal.split(' '));\n                                    }\n                                }\n                                if (property[parseInt(k.toString(), 10)] === 'visible' && !isNullOrUndefined(item)) {\n                                    if (Object(newProp.items[parseInt(index.toString(), 10)])[\"\" + property[parseInt(k.toString(), 10)]] === false) {\n                                        item.classList.add(CLS_ITEMHIDE);\n                                    }\n                                    else {\n                                        item.classList.remove(CLS_ITEMHIDE);\n                                    }\n                                }\n                                if (property[parseInt(k.toString(), 10)] === 'disabled' && !isNullOrUndefined(item)) {\n                                    this.enableItem(index, !newVal);\n                                }\n                                if (property[parseInt(k.toString(), 10)] === 'content' && !isNullOrUndefined(item) && item.children.length === 2) {\n                                    if (typeof newVal === 'function') {\n                                        if (this.isAngular || this.isReact) {\n                                            this.clearAccordionTemplate(content, property[parseInt(k.toString(), 10)], CLS_CTENT);\n                                        }\n                                        var activeContent = item.querySelector('.' + CLS_CTENT);\n                                        activeContent.innerHTML = '';\n                                        this.setTemplate(newVal, activeContent, index);\n                                    }\n                                    else {\n                                        if (item.classList.contains(CLS_SLCTED)) {\n                                            this.expandItem(false, index);\n                                        }\n                                        detach(item.querySelector('.' + CLS_CONTENT));\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    else {\n                        isRefresh = true;\n                    }\n                    break;\n                case 'dataSource':\n                case 'expandedIndices':\n                    if (this.expandedIndices === null) {\n                        this.expandedIndices = [];\n                    }\n                    isRefresh = true;\n                    break;\n                case 'headerTemplate':\n                    this.initializeHeaderTemplate();\n                    isRefresh = true;\n                    break;\n                case 'itemTemplate':\n                    this.initializeItemTemplate();\n                    isRefresh = true;\n                    break;\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        this.add(acrdn, CLS_RTL$3);\n                    }\n                    else {\n                        this.remove(acrdn, CLS_RTL$3);\n                    }\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'expandMode':\n                    if (newProp.expandMode === 'Single' && this.expandedIndices.length > 1) {\n                        this.expandItem(false);\n                    }\n                    break;\n            }\n        }\n        if (isRefresh) {\n            this.initExpand = [];\n            if (this.expandedIndices.length > 0) {\n                this.initExpand = this.expandedIndices;\n            }\n            this.destroyItems();\n            this.renderItems();\n            this.initItemExpand();\n        }\n    };\n    __decorate$4([\n        Collection([], AccordionItem)\n    ], Accordion.prototype, \"items\", void 0);\n    __decorate$4([\n        Property([])\n    ], Accordion.prototype, \"dataSource\", void 0);\n    __decorate$4([\n        Property()\n    ], Accordion.prototype, \"itemTemplate\", void 0);\n    __decorate$4([\n        Property()\n    ], Accordion.prototype, \"headerTemplate\", void 0);\n    __decorate$4([\n        Property('100%')\n    ], Accordion.prototype, \"width\", void 0);\n    __decorate$4([\n        Property('auto')\n    ], Accordion.prototype, \"height\", void 0);\n    __decorate$4([\n        Property([])\n    ], Accordion.prototype, \"expandedIndices\", void 0);\n    __decorate$4([\n        Property('Multiple')\n    ], Accordion.prototype, \"expandMode\", void 0);\n    __decorate$4([\n        Property(false)\n    ], Accordion.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$4([\n        Complex({}, AccordionAnimationSettings)\n    ], Accordion.prototype, \"animation\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"clicked\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"expanding\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"expanded\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"created\", void 0);\n    __decorate$4([\n        Event()\n    ], Accordion.prototype, \"destroyed\", void 0);\n    Accordion = __decorate$4([\n        NotifyPropertyChanges\n    ], Accordion);\n    return Accordion;\n}(Component));\n\n/**\n * Accordion all modules\n */\n\nvar __extends$5 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$5 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\n/**\n * The ContextMenu is a graphical user interface that appears on the user right click/touch hold operation.\n * ```html\n * <div id = 'target'></div>\n * <ul id = 'contextmenu'></ul>\n * ```\n * ```typescript\n * <script>\n * var contextMenuObj = new ContextMenu({items: [{ text: 'Cut' }, { text: 'Copy' },{ text: 'Paste' }], target: '#target'});\n * </script>\n * ```\n */\nvar ContextMenu = /** @__PURE__ @class */ (function (_super) {\n    __extends$5(ContextMenu, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {ContextMenuModel} options - Specifies the context menu model\n     * @param {string} element - Specifies the element\n     */\n    function ContextMenu(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    ContextMenu.prototype.preRender = function () {\n        this.isMenu = false;\n        this.element.id = this.element.id || getUniqueID('ej2-contextmenu');\n        _super.prototype.preRender.call(this);\n    };\n    ContextMenu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        this.element.style.zIndex = getZindexPartial(this.element).toString();\n    };\n    /**\n     * This method is used to open the ContextMenu in specified position.\n     *\n     * @param {number} top - To specify ContextMenu vertical positioning.\n     * @param {number} left - To specify ContextMenu horizontal positioning.\n     * @param {HTMLElement} target - To calculate z-index for ContextMenu based upon the specified target.\n     * @function open\n     * @returns {void}\n     */\n    ContextMenu.prototype.open = function (top, left, target) {\n        _super.prototype.openMenu.call(this, null, null, top, left, null, target);\n    };\n    /**\n     * Closes the ContextMenu if it is opened.\n     *\n     * @function close\n     * @returns {void}\n     */\n    ContextMenu.prototype.close = function () {\n        _super.prototype.closeMenu.call(this);\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {ContextMenuModel} newProp - Specifies new properties\n     * @param {ContextMenuModel} oldProp - Specifies old properties\n     * @returns {void}\n     */\n    ContextMenu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'filter':\n                    this.close();\n                    this.filter = newProp.filter;\n                    break;\n                case 'target':\n                    this.unWireEvents(oldProp.target);\n                    this.wireEvents();\n                    break;\n            }\n        }\n    };\n    /**\n     * Get module name.\n     *\n     * @returns {string} - Module Name\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    __decorate$5([\n        Property('')\n    ], ContextMenu.prototype, \"target\", void 0);\n    __decorate$5([\n        Property('')\n    ], ContextMenu.prototype, \"filter\", void 0);\n    __decorate$5([\n        Collection([], MenuItem)\n    ], ContextMenu.prototype, \"items\", void 0);\n    ContextMenu = __decorate$5([\n        NotifyPropertyChanges\n    ], ContextMenu);\n    return ContextMenu;\n}(MenuBase));\n\n/**\n * ContextMenu modules\n */\n\nvar __extends$6 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$6 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/triple-slash-reference */\n/// <reference path='../common/menu-base-model.d.ts'/>\nvar VMENU = 'e-vertical';\nvar SCROLLABLE = 'e-scrollable';\nvar HAMBURGER = 'e-hamburger';\n/**\n * The Menu is a graphical user interface that serve as navigation headers for your application or site.\n * ```html\n * <ul id = 'menu'></ul>\n * ```\n * ```typescript\n * <script>\n * var menuObj = new Menu({ items: [{ text: 'Home' }, { text: 'Contact Us' },{ text: 'Login' }]});\n * menuObj.appendTo(\"#menu\");\n * </script>\n * ```\n */\nvar Menu = /** @__PURE__ @class */ (function (_super) {\n    __extends$6(Menu, _super);\n    /**\n     * Constructor for creating the component.\n     *\n     * @private\n     * @param {MenuModel} options - Specifies the menu model\n     * @param {string} element - Specifies the element\n     */\n    function Menu(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.tempItems = [];\n        return _this;\n    }\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    Menu.prototype.getModuleName = function () {\n        return 'menu';\n    };\n    /**\n     * For internal use only - prerender processing.\n     *\n     * @private\n     * @returns {void}\n     */\n    Menu.prototype.preRender = function () {\n        this.isMenu = true;\n        this.element.id = this.element.id || getUniqueID('ej2-menu');\n        if (this.template) {\n            try {\n                if (document.querySelectorAll(this.template).length) {\n                    this.template = document.querySelector(this.template).innerHTML.trim();\n                    this.clearChanges();\n                }\n            }\n            catch (e) {\n                /* action on catch */\n            }\n            this.updateMenuItems(this.items);\n        }\n        else {\n            this.updateMenuItems(this.items);\n        }\n        _super.prototype.preRender.call(this);\n    };\n    Menu.prototype.initialize = function () {\n        _super.prototype.initialize.call(this);\n        attributes(this.element, { 'role': 'menubar', 'tabindex': '0' });\n        if (this.orientation === 'Vertical') {\n            this.element.classList.add(VMENU);\n            if (this.hamburgerMode && !this.target) {\n                this.element.previousElementSibling.classList.add(VMENU);\n            }\n            this.element.setAttribute('aria-orientation', 'vertical');\n        }\n        else {\n            if (Browser.isDevice && !this.enableScrolling) {\n                this.element.parentElement.classList.add(SCROLLABLE);\n            }\n        }\n        if (this.hamburgerMode) {\n            this.element.parentElement.classList.add(HAMBURGER);\n            if (this.orientation === 'Horizontal') {\n                this.element.classList.add('e-hide-menu');\n            }\n        }\n    };\n    Menu.prototype.updateMenuItems = function (items) {\n        this.tempItems = items;\n        this.items = [];\n        this.tempItems.map(this.createMenuItems, this);\n        this.setProperties({ items: this.items }, true);\n        this.tempItems = [];\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {MenuModel} newProp - Specifies the new properties.\n     * @param {MenuModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    Menu.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'orientation':\n                    if (newProp.orientation === 'Vertical') {\n                        this.element.classList.add(VMENU);\n                        if (this.hamburgerMode) {\n                            if (!this.target) {\n                                this.element.previousElementSibling.classList.add(VMENU);\n                            }\n                            this.element.classList.remove('e-hide-menu');\n                        }\n                        this.element.setAttribute('aria-orientation', 'vertical');\n                    }\n                    else {\n                        this.element.classList.remove(VMENU);\n                        if (this.hamburgerMode) {\n                            if (!this.target) {\n                                this.element.previousElementSibling.classList.remove(VMENU);\n                            }\n                            this.element.classList.add('e-hide-menu');\n                        }\n                        this.element.removeAttribute('aria-orientation');\n                    }\n                    break;\n                case 'items':\n                    if (!Object.keys(oldProp.items).length) {\n                        this.updateMenuItems(newProp.items);\n                    }\n                    break;\n                case 'hamburgerMode':\n                    if (!this.element.previousElementSibling) {\n                        _super.prototype.createHeaderContainer.call(this);\n                    }\n                    if (newProp.hamburgerMode) {\n                        this.element.parentElement.classList.add(HAMBURGER);\n                        [].slice.call(this.element.getElementsByClassName('e-blankicon')).forEach(function (li) {\n                            li.style[_this.enableRtl ? 'paddingRight' : 'paddingLeft'] = '';\n                        });\n                    }\n                    else {\n                        this.element.parentElement.classList.remove(HAMBURGER);\n                        if (this.orientation === 'Vertical') {\n                            this.setBlankIconStyle(this.element);\n                        }\n                    }\n                    if (this.orientation === 'Vertical') {\n                        if (!this.target) {\n                            this.element.previousElementSibling.classList.add(VMENU);\n                        }\n                        this.element.classList.remove('e-hide-menu');\n                    }\n                    else {\n                        if (this.target) {\n                            this.element.previousElementSibling.classList.add(VMENU);\n                        }\n                        else {\n                            this.element.previousElementSibling.classList.remove(VMENU);\n                        }\n                        this.element.classList[newProp.hamburgerMode ? 'add' : 'remove']('e-hide-menu');\n                    }\n                    break;\n                case 'title':\n                    if (this.hamburgerMode && this.element.previousElementSibling) {\n                        newProp.title = (this.enableHtmlSanitizer) ? SanitizeHtmlHelper.sanitize(newProp.title) : newProp.title;\n                        this.element.previousElementSibling.querySelector('.e-menu-title').innerHTML = newProp.title;\n                    }\n                    break;\n                case 'target':\n                    if (this.hamburgerMode) {\n                        this.unWireEvents(oldProp.target);\n                        this.wireEvents();\n                        if (this.orientation === 'Horizontal') {\n                            if (!newProp.target) {\n                                if (!this.element.previousElementSibling) {\n                                    _super.prototype.createHeaderContainer.call(this);\n                                }\n                                this.element.previousElementSibling.classList.remove(VMENU);\n                            }\n                            else {\n                                this.element.previousElementSibling.classList.add(VMENU);\n                            }\n                            this.element.classList.add('e-hide-menu');\n                        }\n                    }\n                    break;\n            }\n        }\n        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n    };\n    Menu.prototype.createMenuItems = function (item) {\n        var idx;\n        var i;\n        var items = this.items;\n        var pIdField = this.getField('parentId');\n        if (item[\"\" + pIdField]) {\n            idx = this.getIndex(item[\"\" + pIdField].toString(), true);\n            for (i = 0; i < idx.length; i++) {\n                if (!items[idx[i]].items) {\n                    items[idx[i]].items = [];\n                }\n                items = items[idx[i]].items;\n            }\n            items.push(item);\n        }\n        else {\n            this.items.push(item);\n        }\n    };\n    /**\n     * This method is used to open the Menu in hamburger mode.\n     *\n     * @function open\n     * @returns {void}\n     */\n    Menu.prototype.open = function () {\n        _super.prototype.openHamburgerMenu.call(this);\n    };\n    /**\n     * Closes the Menu if it is opened in hamburger mode.\n     *\n     * @function close\n     * @returns {void}\n     */\n    Menu.prototype.close = function () {\n        _super.prototype.closeHamburgerMenu.call(this);\n    };\n    __decorate$6([\n        Property('Horizontal')\n    ], Menu.prototype, \"orientation\", void 0);\n    __decorate$6([\n        Property('')\n    ], Menu.prototype, \"target\", void 0);\n    __decorate$6([\n        Property(null)\n    ], Menu.prototype, \"template\", void 0);\n    __decorate$6([\n        Property(false)\n    ], Menu.prototype, \"enableScrolling\", void 0);\n    __decorate$6([\n        Property(false)\n    ], Menu.prototype, \"hamburgerMode\", void 0);\n    __decorate$6([\n        Property('Menu')\n    ], Menu.prototype, \"title\", void 0);\n    __decorate$6([\n        Property(false)\n    ], Menu.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$6([\n        Complex({ itemId: 'id', text: 'text', parentId: 'parentId', iconCss: 'iconCss', url: 'url', separator: 'separator', children: 'items' }, FieldSettings)\n    ], Menu.prototype, \"fields\", void 0);\n    Menu = __decorate$6([\n        NotifyPropertyChanges\n    ], Menu);\n    return Menu;\n}(MenuBase));\n\n/**\n * Menu modules\n */\n\nvar __extends$7 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$7 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CLS_TAB = 'e-tab';\nvar CLS_HEADER$1 = 'e-tab-header';\nvar CLS_BLA_TEM = 'blazor-template';\nvar CLS_CONTENT$1 = 'e-content';\nvar CLS_NEST$1 = 'e-nested';\nvar CLS_ITEMS$1 = 'e-items';\nvar CLS_ITEM$2 = 'e-item';\nvar CLS_TEMPLATE$1 = 'e-template';\nvar CLS_RTL$4 = 'e-rtl';\nvar CLS_ACTIVE$1 = 'e-active';\nvar CLS_DISABLE$4 = 'e-disable';\nvar CLS_HIDDEN$1 = 'e-hidden';\nvar CLS_FOCUS = 'e-focused';\nvar CLS_ICONS = 'e-icons';\nvar CLS_ICON = 'e-icon';\nvar CLS_ICON_TAB = 'e-icon-tab';\nvar CLS_ICON_CLOSE = 'e-close-icon';\nvar CLS_CLOSE_SHOW = 'e-close-show';\nvar CLS_TEXT = 'e-tab-text';\nvar CLS_INDICATOR = 'e-indicator';\nvar CLS_WRAP = 'e-tab-wrap';\nvar CLS_TEXT_WRAP = 'e-text-wrap';\nvar CLS_TAB_ICON = 'e-tab-icon';\nvar CLS_TB_ITEMS = 'e-toolbar-items';\nvar CLS_TB_ITEM = 'e-toolbar-item';\nvar CLS_TB_POP = 'e-toolbar-pop';\nvar CLS_TB_POPUP = 'e-toolbar-popup';\nvar CLS_HOR_NAV = 'e-hor-nav';\nvar CLS_POPUP_OPEN = 'e-popup-open';\nvar CLS_POPUP_CLOSE = 'e-popup-close';\nvar CLS_PROGRESS = 'e-progress';\nvar CLS_IGNORE = 'e-ignore';\nvar CLS_OVERLAY$2 = 'e-overlay';\nvar CLS_HSCRCNT = 'e-hscroll-content';\nvar CLS_VSCRCNT = 'e-vscroll-content';\nvar CLS_VTAB = 'e-vertical-tab';\nvar CLS_VERTICAL$1 = 'e-vertical';\nvar CLS_VLEFT = 'e-vertical-left';\nvar CLS_VRIGHT = 'e-vertical-right';\nvar CLS_HBOTTOM = 'e-horizontal-bottom';\nvar CLS_FILL = 'e-fill-mode';\nvar TABITEMPREFIX = 'tabitem_';\nvar CLS_REORDER_ACTIVE_ITEM = 'e-reorder-active-item';\n/**\n * Objects used for configuring the Tab selecting item action properties.\n */\nvar TabActionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(TabActionSettings, _super);\n    function TabActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Property('SlideLeftIn')\n    ], TabActionSettings.prototype, \"effect\", void 0);\n    __decorate$7([\n        Property(600)\n    ], TabActionSettings.prototype, \"duration\", void 0);\n    __decorate$7([\n        Property('ease')\n    ], TabActionSettings.prototype, \"easing\", void 0);\n    return TabActionSettings;\n}(ChildProperty));\n/**\n * Objects used for configuring the Tab animation properties.\n */\nvar TabAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(TabAnimationSettings, _super);\n    function TabAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Complex({ effect: 'SlideLeftIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"previous\", void 0);\n    __decorate$7([\n        Complex({ effect: 'SlideRightIn', duration: 600, easing: 'ease' }, TabActionSettings)\n    ], TabAnimationSettings.prototype, \"next\", void 0);\n    return TabAnimationSettings;\n}(ChildProperty));\n/**\n * Objects used for configuring the Tab item header properties.\n */\nvar Header = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(Header, _super);\n    function Header() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Property('')\n    ], Header.prototype, \"text\", void 0);\n    __decorate$7([\n        Property('')\n    ], Header.prototype, \"iconCss\", void 0);\n    __decorate$7([\n        Property('left')\n    ], Header.prototype, \"iconPosition\", void 0);\n    return Header;\n}(ChildProperty));\n/**\n * An array of object that is used to configure the Tab.\n */\nvar TabItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(TabItem, _super);\n    function TabItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$7([\n        Complex({}, Header)\n    ], TabItem.prototype, \"header\", void 0);\n    __decorate$7([\n        Property(null)\n    ], TabItem.prototype, \"headerTemplate\", void 0);\n    __decorate$7([\n        Property('')\n    ], TabItem.prototype, \"content\", void 0);\n    __decorate$7([\n        Property('')\n    ], TabItem.prototype, \"cssClass\", void 0);\n    __decorate$7([\n        Property(false)\n    ], TabItem.prototype, \"disabled\", void 0);\n    __decorate$7([\n        Property(true)\n    ], TabItem.prototype, \"visible\", void 0);\n    __decorate$7([\n        Property()\n    ], TabItem.prototype, \"id\", void 0);\n    __decorate$7([\n        Property(-1)\n    ], TabItem.prototype, \"tabIndex\", void 0);\n    return TabItem;\n}(ChildProperty));\n/**\n * Tab is a content panel to show multiple contents in a single space, one at a time.\n * Each Tab item has an associated content, that will be displayed based on the active Tab header item.\n * ```html\n * <div id=\"tab\"></div>\n * <script>\n *   var tabObj = new Tab();\n *   tab.appendTo(\"#tab\");\n * </script>\n * ```\n */\nvar Tab = /** @__PURE__ @class */ (function (_super) {\n    __extends$7(Tab, _super);\n    /**\n     * Initializes a new instance of the Tab class.\n     *\n     * @param {TabModel} options  - Specifies Tab model properties as options.\n     * @param {string | HTMLElement} element  - Specifies the element that is rendered as a Tab.\n     */\n    function Tab(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.show = {};\n        _this.hide = {};\n        _this.maxHeight = 0;\n        _this.title = 'Close';\n        _this.isInteracted = false;\n        _this.lastIndex = 0;\n        _this.isAdd = false;\n        _this.isIconAlone = false;\n        _this.draggableItems = [];\n        _this.resizeContext = _this.refreshActiveTabBorder.bind(_this);\n        /**\n         * Contains the keyboard configuration of the Tab.\n         */\n        _this.keyConfigs = {\n            tab: 'tab',\n            home: 'home',\n            end: 'end',\n            enter: 'enter',\n            space: 'space',\n            delete: 'delete',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        return _this;\n    }\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers, attributes and classes.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.destroy = function () {\n        if (this.isReact || this.isAngular) {\n            this.clearTemplate();\n        }\n        if (!isNullOrUndefined(this.tbObj)) {\n            this.tbObj.destroy();\n            this.tbObj = null;\n        }\n        this.unWireEvents();\n        this.element.removeAttribute('aria-disabled');\n        this.expTemplateContent();\n        if (!this.isTemplate) {\n            while (this.element.firstElementChild) {\n                remove(this.element.firstElementChild);\n            }\n        }\n        else {\n            var cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n            this.element.classList.remove(CLS_TEMPLATE$1);\n            if (!isNullOrUndefined(cntEle)) {\n                cntEle.innerHTML = this.cnt;\n            }\n        }\n        if (this.btnCls) {\n            this.btnCls = null;\n        }\n        this.hdrEle = null;\n        this.cntEle = null;\n        this.tbItems = null;\n        this.tbItem = null;\n        this.tbPop = null;\n        this.prevItem = null;\n        this.popEle = null;\n        this.bdrLine = null;\n        this.content = null;\n        this.dragItem = null;\n        this.cloneElement = null;\n        this.draggingItems = [];\n        if (this.draggableItems && this.draggableItems.length > 0) {\n            for (var i = 0; i < this.draggableItems.length; i++) {\n                this.draggableItems[i].destroy();\n                this.draggableItems[i] = null;\n            }\n            this.draggableItems = [];\n        }\n        _super.prototype.destroy.call(this);\n        this.trigger('destroyed');\n    };\n    /**\n     * Refresh the tab component\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refresh = function () {\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n        _super.prototype.refresh.call(this);\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Initialize component\n     *\n     * @private\n     * @returns {void}\n     */\n    Tab.prototype.preRender = function () {\n        var nested = closest(this.element, '.' + CLS_CONTENT$1);\n        this.prevIndex = 0;\n        this.isNested = false;\n        this.isPopup = false;\n        this.initRender = true;\n        this.isSwipeed = false;\n        this.itemIndexArray = [];\n        this.templateEle = [];\n        if (this.allowDragAndDrop) {\n            this.dragArea = !isNullOrUndefined(this.dragArea) ? this.dragArea : '#' + this.element.id + ' ' + ('.' + CLS_HEADER$1);\n        }\n        if (!isNullOrUndefined(nested)) {\n            nested.parentElement.classList.add(CLS_NEST$1);\n            this.isNested = true;\n        }\n        var name = Browser.info.name;\n        var css = (name === 'msie') ? 'e-ie' : (name === 'edge') ? 'e-edge' : (name === 'safari') ? 'e-safari' : '';\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        this.setCssClass(this.element, this.cssClass, true);\n        attributes(this.element, { 'aria-disabled': 'false' });\n        this.setCssClass(this.element, css, true);\n        this.updatePopAnimationConfig();\n    };\n    /**\n     * Initialize the component rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    Tab.prototype.render = function () {\n        this.btnCls = this.createElement('span', { className: CLS_ICONS + ' ' + CLS_ICON_CLOSE, attrs: { title: this.title } });\n        this.tabId = this.element.id.length > 0 ? ('-' + this.element.id) : getRandomId();\n        this.renderContainer();\n        this.wireEvents();\n        this.initRender = false;\n    };\n    Tab.prototype.renderContainer = function () {\n        var ele = this.element;\n        this.items.forEach(function (item, index) {\n            if (isNullOrUndefined(item.id) && !isNullOrUndefined(item.setProperties)) {\n                item.setProperties({ id: TABITEMPREFIX + index.toString() }, true);\n            }\n        });\n        if (this.items.length > 0 && ele.children.length === 0) {\n            ele.appendChild(this.createElement('div', { className: CLS_CONTENT$1 }));\n            this.setOrientation(this.headerPlacement, this.createElement('div', { className: CLS_HEADER$1 }));\n            this.isTemplate = false;\n        }\n        else if (this.element.children.length > 0) {\n            this.isTemplate = true;\n            ele.classList.add(CLS_TEMPLATE$1);\n            var header = ele.querySelector('.' + CLS_HEADER$1);\n            if (header && this.headerPlacement === 'Bottom') {\n                this.setOrientation(this.headerPlacement, header);\n            }\n        }\n        if (!isNullOrUndefined(select('.' + CLS_HEADER$1, this.element)) && !isNullOrUndefined(select('.' + CLS_CONTENT$1, this.element))) {\n            this.renderHeader();\n            this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n            if (!isNullOrUndefined(this.tbItems)) {\n                rippleEffect(this.tbItems, { selector: '.e-tab-wrap' });\n            }\n            this.renderContent();\n            if (selectAll('.' + CLS_TB_ITEM, this.element).length > 0) {\n                this.tbItems = select('.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEMS, this.element);\n                this.bdrLine = this.createElement('div', { className: CLS_INDICATOR + ' ' + CLS_HIDDEN$1 + ' ' + CLS_IGNORE });\n                var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n                if (!isNullOrUndefined(scrCnt)) {\n                    scrCnt.insertBefore(this.bdrLine, scrCnt.firstChild);\n                }\n                else {\n                    this.tbItems.insertBefore(this.bdrLine, this.tbItems.firstChild);\n                }\n                this.setContentHeight(true);\n                this.select(this.selectedItem);\n            }\n            this.setRTL(this.enableRtl);\n        }\n    };\n    Tab.prototype.renderHeader = function () {\n        var _this = this;\n        var hdrPlace = this.headerPlacement;\n        var tabItems = [];\n        this.hdrEle = this.getTabHeader();\n        this.addVerticalClass();\n        if (!this.isTemplate) {\n            tabItems = this.parseObject(this.items, 0);\n        }\n        else {\n            if (this.element.children.length > 1 && this.element.children[1].classList.contains(CLS_HEADER$1)) {\n                this.setProperties({ headerPlacement: 'Bottom' }, true);\n            }\n            var count = this.hdrEle.children.length;\n            var hdrItems = [];\n            for (var i = 0; i < count; i++) {\n                hdrItems.push(this.hdrEle.children.item(i));\n            }\n            if (count > 0) {\n                var tabItems_1 = this.createElement('div', { className: CLS_ITEMS$1 });\n                this.hdrEle.appendChild(tabItems_1);\n                hdrItems.forEach(function (item, index) {\n                    _this.lastIndex = index;\n                    var attr = {\n                        className: CLS_ITEM$2, id: CLS_ITEM$2 + _this.tabId + '_' + index\n                    };\n                    var txt = _this.createElement('span', {\n                        className: CLS_TEXT, attrs: { 'role': 'presentation' }\n                    }).outerHTML;\n                    var cont = _this.createElement('div', {\n                        className: CLS_TEXT_WRAP, innerHTML: txt + _this.btnCls.outerHTML\n                    }).outerHTML;\n                    var wrap = _this.createElement('div', {\n                        className: CLS_WRAP, innerHTML: cont,\n                        attrs: { role: 'tab', tabIndex: '-1', 'aria-selected': 'false', 'aria-controls': CLS_CONTENT$1 + _this.tabId + '_' + index, 'aria-disabled': 'false' }\n                    });\n                    wrap.querySelector('.' + CLS_TEXT).appendChild(item);\n                    tabItems_1.appendChild(_this.createElement('div', attr));\n                    selectAll('.' + CLS_ITEM$2, tabItems_1)[index].appendChild(wrap);\n                });\n            }\n        }\n        this.tbObj = new Toolbar({\n            width: (hdrPlace === 'Left' || hdrPlace === 'Right') ? 'auto' : '100%',\n            height: (hdrPlace === 'Left' || hdrPlace === 'Right') ? '100%' : 'auto',\n            overflowMode: this.overflowMode,\n            items: (tabItems.length !== 0) ? tabItems : [],\n            clicked: this.clickHandler.bind(this),\n            scrollStep: this.scrollStep,\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            cssClass: this.cssClass\n        });\n        this.tbObj.isStringTemplate = true;\n        this.tbObj.createElement = this.createElement;\n        this.tbObj.appendTo(this.hdrEle);\n        attributes(this.hdrEle, { role: 'tablist' });\n        if (!isNullOrUndefined(this.element.getAttribute('aria-label'))) {\n            this.hdrEle.setAttribute('aria-label', this.element.getAttribute('aria-label'));\n            this.element.removeAttribute('aria-label');\n        }\n        else if (!isNullOrUndefined(this.element.getAttribute('aria-labelledby'))) {\n            this.hdrEle.setAttribute('aria-labelledby', this.element.getAttribute('aria-labelledby'));\n            this.element.removeAttribute('aria-labelledby');\n        }\n        this.setCloseButton(this.showCloseButton);\n        var toolbarHeader = this.tbObj.element.querySelector('.' + CLS_TB_ITEMS);\n        if (!isNullOrUndefined(toolbarHeader)) {\n            if (isNullOrUndefined(toolbarHeader.id) || toolbarHeader.id === '') {\n                toolbarHeader.id = this.element.id + '_' + 'tab_header_items';\n            }\n        }\n    };\n    Tab.prototype.renderContent = function () {\n        this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n        var hdrItem = selectAll('.' + CLS_TB_ITEM, this.element);\n        if (this.isTemplate) {\n            this.cnt = (this.cntEle.children.length > 0) ? this.cntEle.innerHTML : '';\n            var contents = this.cntEle.children;\n            for (var i = 0; i < hdrItem.length; i++) {\n                if (contents.length - 1 >= i) {\n                    addClass([contents.item(i)], CLS_ITEM$2);\n                    attributes(contents.item(i), { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + i });\n                    contents.item(i).id = CLS_CONTENT$1 + this.tabId + '_' + i;\n                }\n            }\n        }\n    };\n    Tab.prototype.reRenderItems = function () {\n        this.renderContainer();\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n    };\n    Tab.prototype.parseObject = function (items, index) {\n        var _this = this;\n        var tbItems = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element);\n        var maxId = this.lastIndex;\n        if (!this.isReplace && tbItems.length > 0) {\n            var idList_1 = [];\n            tbItems.forEach(function (item) {\n                idList_1.push(_this.getIndexFromEle(item.id));\n            });\n            maxId = Math.max.apply(Math, idList_1);\n        }\n        var tItems = [];\n        var txtWrapEle;\n        var spliceArray = [];\n        items.forEach(function (item, i) {\n            var pos = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition)) ? '' : item.header.iconPosition;\n            var css = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss)) ? '' : item.header.iconCss;\n            if ((isNullOrUndefined(item.headerTemplate)) && (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.text) ||\n                ((item.header.text.length === 0)) && (css === ''))) {\n                spliceArray.push(i);\n                return;\n            }\n            var txt = item.headerTemplate || item.header.text;\n            if (typeof txt === 'string' && _this.enableHtmlSanitizer) {\n                txt = SanitizeHtmlHelper.sanitize(txt);\n            }\n            var itemIndex;\n            if (_this.isReplace && !isNullOrUndefined(_this.tbId) && _this.tbId !== '') {\n                itemIndex = parseInt(_this.tbId.substring(_this.tbId.lastIndexOf('_') + 1), 10);\n                _this.tbId = '';\n            }\n            else {\n                itemIndex = index + i;\n            }\n            _this.lastIndex = ((tbItems.length === 0) ? i : ((_this.isReplace) ? (itemIndex) : (maxId + 1 + i)));\n            var disabled = (item.disabled) ? ' ' + CLS_DISABLE$4 + ' ' + CLS_OVERLAY$2 : '';\n            var hidden = (item.visible === false) ? ' ' + CLS_HIDDEN$1 : '';\n            txtWrapEle = _this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n            var tHtml = ((txt instanceof Object) ? txt.outerHTML : txt);\n            var txtEmpty = (!isNullOrUndefined(tHtml) && tHtml !== '');\n            if (!isNullOrUndefined(txt.tagName)) {\n                txtWrapEle.appendChild(txt);\n            }\n            else {\n                _this.headerTextCompile(txtWrapEle, txt, i);\n            }\n            var tEle;\n            var icon = _this.createElement('span', {\n                className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n            });\n            var tCont = _this.createElement('div', { className: CLS_TEXT_WRAP });\n            tCont.appendChild(txtWrapEle);\n            if ((txt !== '' && txt !== undefined) && css !== '') {\n                if ((pos === 'left' || pos === 'top')) {\n                    tCont.insertBefore(icon, tCont.firstElementChild);\n                }\n                else {\n                    tCont.appendChild(icon);\n                }\n                tEle = txtWrapEle;\n                _this.isIconAlone = false;\n            }\n            else {\n                tEle = ((css === '') ? txtWrapEle : icon);\n                if (tEle === icon) {\n                    detach(txtWrapEle);\n                    tCont.appendChild(icon);\n                    _this.isIconAlone = true;\n                }\n            }\n            var tabIndex = isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString();\n            var wrapAttrs = (item.disabled) ? {} : { tabIndex: tabIndex, 'data-tabindex': tabIndex, role: 'tab', 'aria-selected': 'false', 'aria-disabled': 'false' };\n            tCont.appendChild(_this.btnCls.cloneNode(true));\n            var wrap = _this.createElement('div', { className: CLS_WRAP, attrs: wrapAttrs });\n            wrap.appendChild(tCont);\n            if (_this.itemIndexArray === []) {\n                _this.itemIndexArray.push(CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n            }\n            else {\n                _this.itemIndexArray.splice((index + i), 0, CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex);\n            }\n            var attrObj = {\n                id: CLS_ITEM$2 + _this.tabId + '_' + _this.lastIndex, 'data-id': item.id\n            };\n            var tItem = { htmlAttributes: attrObj, template: wrap };\n            tItem.cssClass = ((item.cssClass !== undefined) ? item.cssClass : ' ') + ' ' + disabled + ' ' + hidden + ' '\n                + ((css !== '') ? 'e-i' + pos : '') + ' ' + ((!txtEmpty) ? CLS_ICON : '');\n            if (pos === 'top' || pos === 'bottom') {\n                _this.element.classList.add('e-vertical-icon');\n            }\n            tItems.push(tItem);\n            i++;\n        });\n        if (!this.isAdd) {\n            spliceArray.forEach(function (spliceItemIndex) {\n                _this.items.splice(spliceItemIndex, 1);\n            });\n        }\n        if (this.isIconAlone) {\n            this.element.classList.add(CLS_ICON_TAB);\n        }\n        else {\n            this.element.classList.remove(CLS_ICON_TAB);\n        }\n        return tItems;\n    };\n    Tab.prototype.removeActiveClass = function () {\n        var tabHeader = this.getTabHeader();\n        if (tabHeader) {\n            var tabItems = selectAll('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, tabHeader);\n            [].slice.call(tabItems).forEach(function (node) { return node.classList.remove(CLS_ACTIVE$1); });\n            [].slice.call(tabItems).forEach(function (node) { return node.firstElementChild.setAttribute('aria-selected', 'false'); });\n        }\n    };\n    Tab.prototype.checkPopupOverflow = function (ele) {\n        this.tbPop = select('.' + CLS_TB_POP, this.element);\n        var popIcon = select('.e-hor-nav', this.element);\n        var tbrItems = select('.' + CLS_TB_ITEMS, this.element);\n        var lastChild = tbrItems.lastChild;\n        var isOverflow = false;\n        if (!this.isVertical() && ((this.enableRtl && ((popIcon.offsetLeft + popIcon.offsetWidth) > tbrItems.offsetLeft))\n            || (!this.enableRtl && popIcon.offsetLeft < tbrItems.offsetWidth))) {\n            isOverflow = true;\n        }\n        else if (this.isVertical() && (popIcon.offsetTop < lastChild.offsetTop + lastChild.offsetHeight)) {\n            isOverflow = true;\n        }\n        if (isOverflow) {\n            ele.classList.add(CLS_TB_POPUP);\n            this.tbPop.insertBefore(ele, selectAll('.' + CLS_TB_POPUP, this.tbPop)[0]);\n        }\n        return true;\n    };\n    Tab.prototype.popupHandler = function (target) {\n        var ripEle = target.querySelector('.e-ripple-element');\n        if (!isNullOrUndefined(ripEle)) {\n            ripEle.outerHTML = '';\n            target.querySelector('.' + CLS_WRAP).classList.remove('e-ripple');\n        }\n        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n        var lastChild = this.tbItem[this.tbItem.length - 1];\n        if (this.tbItem.length !== 0) {\n            target.classList.remove(CLS_TB_POPUP);\n            target.removeAttribute('style');\n            this.tbItems.appendChild(target);\n            this.actEleId = target.id;\n            if (this.checkPopupOverflow(lastChild)) {\n                var prevEle = this.tbItems.lastChild.previousElementSibling;\n                this.checkPopupOverflow(prevEle);\n            }\n            this.isPopup = true;\n        }\n        return selectAll('.' + CLS_TB_ITEM, this.tbItems).length - 1;\n    };\n    Tab.prototype.setCloseButton = function (val) {\n        var trg = select('.' + CLS_HEADER$1, this.element);\n        if (val === true) {\n            trg.classList.add(CLS_CLOSE_SHOW);\n        }\n        else {\n            trg.classList.remove(CLS_CLOSE_SHOW);\n        }\n        this.tbObj.refreshOverflow();\n        this.refreshActiveTabBorder();\n    };\n    Tab.prototype.prevCtnAnimation = function (prev, current) {\n        var animation;\n        var checkRTL = this.enableRtl || this.element.classList.contains(CLS_RTL$4);\n        if (this.isPopup || prev <= current) {\n            if (this.animation.previous.effect === 'SlideLeftIn') {\n                animation = {\n                    name: 'SlideLeftOut',\n                    duration: this.animation.previous.duration, timingFunction: this.animation.previous.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        else {\n            if (this.animation.next.effect === 'SlideRightIn') {\n                animation = {\n                    name: 'SlideRightOut',\n                    duration: this.animation.next.duration, timingFunction: this.animation.next.easing\n                };\n            }\n            else {\n                animation = null;\n            }\n        }\n        return animation;\n    };\n    Tab.prototype.triggerPrevAnimation = function (oldCnt, prevIndex) {\n        var _this = this;\n        var animateObj = this.prevCtnAnimation(prevIndex, this.selectedItem);\n        if (!isNullOrUndefined(animateObj)) {\n            animateObj.begin = function () {\n                setStyleAttribute(oldCnt, { 'position': 'absolute' });\n                oldCnt.classList.add(CLS_PROGRESS);\n                oldCnt.classList.add('e-view');\n            };\n            animateObj.end = function () {\n                oldCnt.style.display = 'none';\n                oldCnt.classList.remove(CLS_ACTIVE$1);\n                oldCnt.classList.remove(CLS_PROGRESS);\n                oldCnt.classList.remove('e-view');\n                setStyleAttribute(oldCnt, { 'display': '', 'position': '' });\n                if (oldCnt.childNodes.length === 0 && !_this.isTemplate) {\n                    detach(oldCnt);\n                }\n            };\n            new Animation(animateObj).animate(oldCnt);\n        }\n        else {\n            oldCnt.classList.remove(CLS_ACTIVE$1);\n        }\n    };\n    Tab.prototype.triggerAnimation = function (id, value) {\n        var _this = this;\n        var prevIndex = this.prevIndex;\n        var oldCnt;\n        var itemCollection = [].slice.call(this.element.querySelector('.' + CLS_CONTENT$1).children);\n        itemCollection.forEach(function (item) {\n            if (item.id === _this.prevActiveEle) {\n                oldCnt = item;\n            }\n        });\n        var prevEle = this.tbItem[prevIndex];\n        var newCnt = this.getTrgContent(this.cntEle, this.extIndex(id));\n        if (isNullOrUndefined(oldCnt) && !isNullOrUndefined(prevEle)) {\n            var idNo = this.extIndex(prevEle.id);\n            oldCnt = this.getTrgContent(this.cntEle, idNo);\n        }\n        if (!isNullOrUndefined(newCnt)) {\n            this.prevActiveEle = newCnt.id;\n        }\n        var isPrevent = isNullOrUndefined(this.animation) || this.animation.next === {} || this.animation.previous === {}\n            || isNullOrUndefined(this.animation.next.effect) || isNullOrUndefined(this.animation.previous.effect)\n            || this.animation.previous.effect == 'None' || this.animation.next.effect == 'None';\n        if (this.initRender || value === false || this.animation === {} || isPrevent) {\n            if (oldCnt && oldCnt !== newCnt) {\n                oldCnt.classList.remove(CLS_ACTIVE$1);\n            }\n            return;\n        }\n        var cnt = select('.' + CLS_CONTENT$1, this.element);\n        var animateObj;\n        if (this.prevIndex > this.selectedItem && !this.isPopup) {\n            var openEff = this.animation.previous.effect;\n            animateObj = {\n                name: ((openEff === 'None') ? '' : ((openEff !== 'SlideLeftIn') ? openEff : 'SlideLeftIn')),\n                duration: this.animation.previous.duration,\n                timingFunction: this.animation.previous.easing\n            };\n        }\n        else if (this.isPopup || this.prevIndex < this.selectedItem || this.prevIndex === this.selectedItem) {\n            var clsEff = this.animation.next.effect;\n            animateObj = {\n                name: ((clsEff === 'None') ? '' : ((clsEff !== 'SlideRightIn') ? clsEff : 'SlideRightIn')),\n                duration: this.animation.next.duration,\n                timingFunction: this.animation.next.easing\n            };\n        }\n        animateObj.progress = function () {\n            cnt.classList.add(CLS_PROGRESS);\n            _this.setActiveBorder();\n        };\n        animateObj.end = function () {\n            cnt.classList.remove(CLS_PROGRESS);\n            newCnt.classList.add(CLS_ACTIVE$1);\n        };\n        if (!this.initRender && !isNullOrUndefined(oldCnt)) {\n            this.triggerPrevAnimation(oldCnt, prevIndex);\n        }\n        this.isPopup = false;\n        if (animateObj.name === '') {\n            newCnt.classList.add(CLS_ACTIVE$1);\n        }\n        else {\n            new Animation(animateObj).animate(newCnt);\n        }\n    };\n    Tab.prototype.keyPressed = function (trg) {\n        var trgParent = closest(trg, '.' + CLS_HEADER$1 + ' .' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (!isNullOrUndefined(this.popEle) && trg.classList.contains('e-hor-nav')) {\n            (this.popEle.classList.contains(CLS_POPUP_OPEN)) ? this.popObj.hide(this.hide) : this.popObj.show(this.show);\n        }\n        else if (trg.classList.contains('e-scroll-nav')) {\n            trg.click();\n        }\n        else {\n            if (!isNullOrUndefined(trgParent) && trgParent.classList.contains(CLS_ACTIVE$1) === false) {\n                this.selectTab(trgIndex, null, true);\n                if (!isNullOrUndefined(this.popEle)) {\n                    this.popObj.hide(this.hide);\n                }\n            }\n        }\n    };\n    Tab.prototype.getTabHeader = function () {\n        if (isNullOrUndefined(this.element)) {\n            return undefined;\n        }\n        var headers = [].slice.call(this.element.children).filter(function (e) { return e.classList.contains(CLS_HEADER$1); });\n        if (headers.length > 0) {\n            return headers[0];\n        }\n        else {\n            var wrap = [].slice.call(this.element.children).filter(function (e) { return !e.classList.contains(CLS_BLA_TEM); })[0];\n            if (!wrap) {\n                return undefined;\n            }\n            return [].slice.call(wrap.children).filter(function (e) { return e.classList.contains(CLS_HEADER$1); })[0];\n        }\n    };\n    Tab.prototype.getEleIndex = function (item) {\n        return Array.prototype.indexOf.call(selectAll('.' + CLS_TB_ITEM, this.getTabHeader()), item);\n    };\n    Tab.prototype.extIndex = function (id) {\n        return id.replace(CLS_ITEM$2 + this.tabId + '_', '');\n    };\n    Tab.prototype.expTemplateContent = function () {\n        var _this = this;\n        this.templateEle.forEach(function (eleStr) {\n            if (!isNullOrUndefined(_this.element.querySelector(eleStr))) {\n                document.body.appendChild(_this.element.querySelector(eleStr)).style.display = 'none';\n            }\n        });\n    };\n    Tab.prototype.templateCompile = function (ele, cnt, index) {\n        var tempEle = this.createElement('div');\n        this.compileElement(tempEle, cnt, 'content', index);\n        if (tempEle.childNodes.length !== 0) {\n            ele.appendChild(tempEle);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Tab.prototype.compileElement = function (ele, val, prop, index) {\n        var templateFn;\n        if (typeof val === 'string') {\n            val = val.trim();\n            if (this.isVue) {\n                templateFn = compile(SanitizeHtmlHelper.sanitize(val));\n            }\n            else {\n                ele.innerHTML = SanitizeHtmlHelper.sanitize(val);\n            }\n        }\n        else {\n            templateFn = compile(val);\n        }\n        var templateFUN;\n        if (!isNullOrUndefined(templateFn)) {\n            templateFUN = templateFn({}, this, prop);\n        }\n        if (!isNullOrUndefined(templateFn) && templateFUN.length > 0) {\n            [].slice.call(templateFUN).forEach(function (el) {\n                ele.appendChild(el);\n            });\n        }\n    };\n    Tab.prototype.headerTextCompile = function (element, text, index) {\n        this.compileElement(element, text, 'headerTemplate', index);\n    };\n    Tab.prototype.getContent = function (ele, cnt, callType, index) {\n        var eleStr;\n        cnt = isNullOrUndefined(cnt) ? \"\" : cnt;\n        if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n            if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                cnt = SanitizeHtmlHelper.sanitize(cnt);\n            }\n            if (cnt[0] === '.' || cnt[0] === '#') {\n                if (document.querySelectorAll(cnt).length) {\n                    var eleVal = document.querySelector(cnt);\n                    eleStr = eleVal.outerHTML.trim();\n                    if (callType === 'clone') {\n                        ele.appendChild(eleVal.cloneNode(true));\n                    }\n                    else {\n                        ele.appendChild(eleVal);\n                        eleVal.style.display = '';\n                    }\n                }\n                else {\n                    this.templateCompile(ele, cnt, index);\n                }\n            }\n            else {\n                this.templateCompile(ele, cnt, index);\n            }\n        }\n        else {\n            ele.appendChild(cnt);\n        }\n        if (!isNullOrUndefined(eleStr)) {\n            if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                this.templateEle.push(cnt.toString());\n            }\n        }\n    };\n    Tab.prototype.getTrgContent = function (cntEle, no) {\n        var ele;\n        if (this.element.classList.contains(CLS_NEST$1)) {\n            ele = select('.' + CLS_NEST$1 + '> .' + CLS_CONTENT$1 + ' > #' + CLS_CONTENT$1 + this.tabId + '_' + no, this.element);\n        }\n        else {\n            ele = this.findEle(cntEle.children, CLS_CONTENT$1 + this.tabId + '_' + no);\n        }\n        return ele;\n    };\n    Tab.prototype.findEle = function (items, key) {\n        var ele;\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].id === key) {\n                ele = items[i];\n                break;\n            }\n        }\n        return ele;\n    };\n    Tab.prototype.isVertical = function () {\n        var isVertical = (this.headerPlacement === 'Left' || this.headerPlacement === 'Right') ? true : false;\n        this.scrCntClass = (isVertical) ? CLS_VSCRCNT : CLS_HSCRCNT;\n        return isVertical;\n    };\n    Tab.prototype.addVerticalClass = function () {\n        if (this.isVertical()) {\n            var tbPos = (this.headerPlacement === 'Left') ? CLS_VLEFT : CLS_VRIGHT;\n            addClass([this.hdrEle], [CLS_VERTICAL$1, tbPos]);\n            if (!this.element.classList.contains(CLS_NEST$1)) {\n                addClass([this.element], [CLS_VTAB, tbPos]);\n            }\n            else {\n                addClass([this.hdrEle], [CLS_VTAB, tbPos]);\n            }\n        }\n        if (this.headerPlacement === 'Bottom') {\n            addClass([this.hdrEle], [CLS_HBOTTOM]);\n        }\n    };\n    Tab.prototype.updatePopAnimationConfig = function () {\n        this.show = { name: (this.isVertical() ? 'FadeIn' : 'SlideDown'), duration: 100 };\n        this.hide = { name: (this.isVertical() ? 'FadeOut' : 'SlideUp'), duration: 100 };\n    };\n    Tab.prototype.changeOrientation = function (place) {\n        this.setOrientation(place, this.hdrEle);\n        var activeTab = this.hdrEle.querySelector('.' + CLS_ACTIVE$1);\n        var isVertical = this.hdrEle.classList.contains(CLS_VERTICAL$1) ? true : false;\n        removeClass([this.element], [CLS_VTAB]);\n        removeClass([this.hdrEle], [CLS_VERTICAL$1, CLS_VLEFT, CLS_VRIGHT]);\n        if (isVertical !== this.isVertical()) {\n            this.changeToolbarOrientation();\n            if (!isNullOrUndefined(activeTab) && activeTab.classList.contains(CLS_TB_POPUP)) {\n                this.popupHandler(activeTab);\n            }\n        }\n        this.addVerticalClass();\n        this.setActiveBorder();\n        this.focusItem();\n    };\n    Tab.prototype.focusItem = function () {\n        var curActItem = select(' #' + CLS_ITEM$2 + this.tabId + '_' + this.selectedItem, this.hdrEle);\n        if (!isNullOrUndefined(curActItem)) {\n            curActItem.firstElementChild.focus();\n        }\n    };\n    Tab.prototype.changeToolbarOrientation = function () {\n        this.tbObj.setProperties({ height: (this.isVertical() ? '100%' : 'auto'), width: (this.isVertical() ? 'auto' : '100%') }, true);\n        this.tbObj.changeOrientation();\n        this.updatePopAnimationConfig();\n    };\n    Tab.prototype.setOrientation = function (place, ele) {\n        var headerPos = Array.prototype.indexOf.call(this.element.children, ele);\n        var contentPos = Array.prototype.indexOf.call(this.element.children, this.element.querySelector('.' + CLS_CONTENT$1));\n        if (place === 'Bottom' && (contentPos > headerPos)) {\n            this.element.appendChild(ele);\n        }\n        else {\n            removeClass([ele], [CLS_HBOTTOM]);\n            this.element.insertBefore(ele, select('.' + CLS_CONTENT$1, this.element));\n        }\n    };\n    Tab.prototype.setCssClass = function (ele, cls, val) {\n        if (cls === '') {\n            return;\n        }\n        var list = cls.split(' ');\n        for (var i = 0; i < list.length; i++) {\n            if (val) {\n                ele.classList.add(list[i]);\n            }\n            else {\n                ele.classList.remove(list[i]);\n            }\n        }\n    };\n    Tab.prototype.setContentHeight = function (val) {\n        if (this.element.classList.contains(CLS_FILL)) {\n            removeClass([this.element], [CLS_FILL]);\n        }\n        if (isNullOrUndefined(this.cntEle)) {\n            return;\n        }\n        var hdrEle = this.getTabHeader();\n        if (this.heightAdjustMode === 'None') {\n            if (this.height === 'auto') {\n                return;\n            }\n            else {\n                if (!this.isVertical()) {\n                    setStyleAttribute(this.cntEle, { 'height': (this.element.clientHeight - hdrEle.offsetHeight) + 'px' });\n                }\n            }\n        }\n        else if (this.heightAdjustMode === 'Fill') {\n            addClass([this.element], [CLS_FILL]);\n            setStyleAttribute(this.element, { 'height': '100%' });\n            this.cntEle.style.height = 'calc(100% - ' + this.hdrEle.offsetHeight + 'px)';\n        }\n        else if (this.heightAdjustMode === 'Auto') {\n            if (this.isTemplate === true) {\n                var cnt = selectAll('.' + CLS_CONTENT$1 + ' > .' + CLS_ITEM$2, this.element);\n                for (var i = 0; i < cnt.length; i++) {\n                    cnt[i].setAttribute('style', 'display:block; visibility: visible');\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(cnt[i]));\n                    cnt[i].style.removeProperty('display');\n                    cnt[i].style.removeProperty('visibility');\n                }\n            }\n            else {\n                this.cntEle = select('.' + CLS_CONTENT$1, this.element);\n                if (val === true) {\n                    this.cntEle.appendChild(this.createElement('div', {\n                        id: (CLS_CONTENT$1 + this.tabId + '_' + 0), className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n                        attrs: { 'role': 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + 0 }\n                    }));\n                }\n                var ele = this.cntEle.children.item(0);\n                for (var i = 0; i < this.items.length; i++) {\n                    this.getContent(ele, this.items[i].content, 'clone', i);\n                    this.maxHeight = Math.max(this.maxHeight, this.getHeight(ele));\n                    while (ele.firstChild) {\n                        ele.removeChild(ele.firstChild);\n                    }\n                }\n                if (this.isReact) {\n                    this.clearTemplate(['content']);\n                }\n                this.templateEle = [];\n                this.getContent(ele, this.items[0].content, 'render', 0);\n                if (this.prevIndex !== this.selectedItem) {\n                    ele.classList.remove(CLS_ACTIVE$1);\n                }\n            }\n            setStyleAttribute(this.cntEle, { 'height': this.maxHeight + 'px' });\n        }\n        else {\n            setStyleAttribute(this.cntEle, { 'height': 'auto' });\n        }\n    };\n    Tab.prototype.getHeight = function (ele) {\n        var cs = window.getComputedStyle(ele);\n        return ele.offsetHeight + parseFloat(cs.getPropertyValue('padding-top')) + parseFloat(cs.getPropertyValue('padding-bottom')) +\n            parseFloat(cs.getPropertyValue('margin-top')) + parseFloat(cs.getPropertyValue('margin-bottom'));\n    };\n    Tab.prototype.setActiveBorder = function () {\n        var trgHdrEle = this.getTabHeader();\n        var trg = select('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1, trgHdrEle);\n        if (isNullOrUndefined(trg)) {\n            return;\n        }\n        if (!this.reorderActiveTab) {\n            if (trg.classList.contains(CLS_TB_POPUP) && !this.bdrLine.classList.contains(CLS_HIDDEN$1)) {\n                this.bdrLine.classList.add(CLS_HIDDEN$1);\n            }\n            if (trgHdrEle && !trgHdrEle.classList.contains(CLS_REORDER_ACTIVE_ITEM)) {\n                trgHdrEle.classList.add(CLS_REORDER_ACTIVE_ITEM);\n            }\n        }\n        else if (trgHdrEle) {\n            trgHdrEle.classList.remove(CLS_REORDER_ACTIVE_ITEM);\n        }\n        var root = closest(trg, '.' + CLS_TAB);\n        if (this.element !== root) {\n            return;\n        }\n        this.tbItems = select('.' + CLS_TB_ITEMS, trgHdrEle);\n        var bar = select('.' + CLS_INDICATOR, trgHdrEle);\n        var scrollCnt = select('.' + CLS_TB_ITEMS + ' .' + this.scrCntClass, trgHdrEle);\n        if (this.isVertical()) {\n            setStyleAttribute(bar, { 'left': '', 'right': '' });\n            var tbHeight = (isNullOrUndefined(scrollCnt)) ? this.tbItems.offsetHeight : scrollCnt.offsetHeight;\n            if (tbHeight !== 0) {\n                setStyleAttribute(bar, { 'top': trg.offsetTop + 'px', 'height': trg.offsetHeight + 'px' });\n            }\n            else {\n                setStyleAttribute(bar, { 'top': 0, 'height': 0 });\n            }\n        }\n        else {\n            if (this.overflowMode === 'MultiRow') {\n                var top_1 = this.headerPlacement === 'Bottom' ? trg.offsetTop : trg.offsetHeight + trg.offsetTop;\n                setStyleAttribute(bar, { 'top': top_1 + 'px', 'height': '' });\n            }\n            else {\n                setStyleAttribute(bar, { 'top': '', 'height': '' });\n            }\n            var tbWidth = (isNullOrUndefined(scrollCnt)) ? this.tbItems.offsetWidth : scrollCnt.offsetWidth;\n            if (tbWidth !== 0) {\n                setStyleAttribute(bar, { 'left': trg.offsetLeft + 'px', 'right': tbWidth - (trg.offsetLeft + trg.offsetWidth) + 'px' });\n            }\n            else {\n                setStyleAttribute(bar, { 'left': 'auto', 'right': 'auto' });\n            }\n        }\n        if (!isNullOrUndefined(this.bdrLine) && !trg.classList.contains(CLS_TB_POPUP)) {\n            this.bdrLine.classList.remove(CLS_HIDDEN$1);\n        }\n    };\n    Tab.prototype.setActive = function (value, skipDataBind, isInteracted) {\n        if (skipDataBind === void 0) { skipDataBind = false; }\n        if (isInteracted === void 0) { isInteracted = false; }\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n        var trg = this.tbItem[value];\n        if (value < 0 || isNaN(value) || this.tbItem.length === 0) {\n            return;\n        }\n        if (value >= 0 && !skipDataBind) {\n            this.allowServerDataBinding = false;\n            this.setProperties({ selectedItem: value }, true);\n            this.allowServerDataBinding = true;\n            if (!this.initRender) {\n                this.serverDataBind();\n            }\n        }\n        if (trg.classList.contains(CLS_ACTIVE$1)) {\n            this.setActiveBorder();\n            return;\n        }\n        if (!this.isTemplate) {\n            attributes(trg.firstElementChild, { 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + value });\n        }\n        var id = trg.id;\n        this.removeActiveClass();\n        trg.classList.add(CLS_ACTIVE$1);\n        trg.firstElementChild.setAttribute('aria-selected', 'true');\n        var no = Number(this.extIndex(id));\n        if (isNullOrUndefined(this.prevActiveEle)) {\n            this.prevActiveEle = CLS_CONTENT$1 + this.tabId + '_' + no;\n        }\n        if (this.isTemplate) {\n            if (select('.' + CLS_CONTENT$1, this.element).children.length > 0) {\n                var trg_1 = this.findEle(select('.' + CLS_CONTENT$1, this.element).children, CLS_CONTENT$1 + this.tabId + '_' + no);\n                if (!isNullOrUndefined(trg_1)) {\n                    trg_1.classList.add(CLS_ACTIVE$1);\n                }\n                this.triggerAnimation(id, this.enableAnimation);\n            }\n        }\n        else {\n            this.cntEle = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n            var item = this.getTrgContent(this.cntEle, this.extIndex(id));\n            if (isNullOrUndefined(item)) {\n                this.cntEle.appendChild(this.createElement('div', {\n                    id: CLS_CONTENT$1 + this.tabId + '_' + this.extIndex(id), className: CLS_ITEM$2 + ' ' + CLS_ACTIVE$1,\n                    attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + this.tabId + '_' + this.extIndex(id) }\n                }));\n                var eleTrg = this.getTrgContent(this.cntEle, this.extIndex(id));\n                var itemIndex = Array.prototype.indexOf.call(this.itemIndexArray, id);\n                this.getContent(eleTrg, this.items[itemIndex].content, 'render', itemIndex);\n            }\n            else {\n                item.classList.add(CLS_ACTIVE$1);\n            }\n            this.triggerAnimation(id, this.enableAnimation);\n        }\n        this.setActiveBorder();\n        this.refreshItemVisibility(trg);\n        if (!this.initRender && !skipDataBind) {\n            trg.firstElementChild.focus();\n            var eventArg = {\n                previousItem: this.prevItem,\n                previousIndex: this.prevIndex,\n                selectedItem: trg,\n                selectedIndex: value,\n                selectedContent: select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content),\n                isSwiped: this.isSwipeed,\n                isInteracted: isInteracted\n            };\n            this.trigger('selected', eventArg);\n        }\n    };\n    Tab.prototype.setItems = function (items) {\n        this.isReplace = true;\n        this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n        this.tbObj.items = this.parseObject(items, 0);\n        this.tbObj.dataBind();\n        this.isReplace = false;\n    };\n    Tab.prototype.setRTL = function (value) {\n        this.tbObj.enableRtl = value;\n        this.tbObj.dataBind();\n        this.setCssClass(this.element, CLS_RTL$4, value);\n        this.refreshActiveBorder();\n    };\n    Tab.prototype.refreshActiveBorder = function () {\n        if (!isNullOrUndefined(this.bdrLine)) {\n            this.bdrLine.classList.add(CLS_HIDDEN$1);\n        }\n        this.setActiveBorder();\n    };\n    Tab.prototype.showPopup = function (config) {\n        var tbPop = select('.e-popup.e-toolbar-pop', this.hdrEle);\n        if (tbPop.classList.contains('e-popup-close')) {\n            var tbPopObj = (tbPop && tbPop.ej2_instances[0]);\n            tbPopObj.position.X = (this.headerPlacement === 'Left') ? 'left' : 'right';\n            tbPopObj.dataBind();\n            tbPopObj.show(config);\n        }\n    };\n    Tab.prototype.bindDraggable = function () {\n        var _this = this;\n        if (this.allowDragAndDrop) {\n            var tabHeader = this.element.querySelector('.' + CLS_HEADER$1);\n            if (tabHeader) {\n                var items = tabHeader.querySelectorAll('.' + CLS_TB_ITEM);\n                items.forEach(function (element) {\n                    _this.initializeDrag(element);\n                });\n            }\n        }\n    };\n    Tab.prototype.wireEvents = function () {\n        this.bindDraggable();\n        window.addEventListener('resize', this.resizeContext);\n        EventHandler.add(this.element, 'mouseover', this.hoverHandler, this);\n        EventHandler.add(this.element, 'keydown', this.spaceKeyDown, this);\n        if (!isNullOrUndefined(this.cntEle)) {\n            this.touchModule = new Touch(this.cntEle, { swipe: this.swipeHandler.bind(this) });\n        }\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n        this.tabKeyModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyHandler.bind(this),\n            keyConfigs: { openPopup: 'shift+f10', tab: 'tab', shiftTab: 'shift+tab' },\n            eventName: 'keydown'\n        });\n    };\n    Tab.prototype.unWireEvents = function () {\n        if (!isNullOrUndefined(this.keyModule)) {\n            this.keyModule.destroy();\n        }\n        if (!isNullOrUndefined(this.tabKeyModule)) {\n            this.tabKeyModule.destroy();\n        }\n        if (!isNullOrUndefined(this.cntEle) && !isNullOrUndefined(this.touchModule)) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        window.removeEventListener('resize', this.resizeContext);\n        EventHandler.remove(this.element, 'mouseover', this.hoverHandler);\n        EventHandler.remove(this.element, 'keydown', this.spaceKeyDown);\n        this.element.classList.remove(CLS_RTL$4);\n        this.element.classList.remove(CLS_FOCUS);\n    };\n    Tab.prototype.clickHandler = function (args) {\n        this.element.classList.remove(CLS_FOCUS);\n        var trg = args.originalEvent.target;\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        var trgIndex = this.getEleIndex(trgParent);\n        if (trg.classList.contains(CLS_ICON_CLOSE)) {\n            this.removeTab(trgIndex);\n        }\n        else if (this.isVertical() && closest(trg, '.' + CLS_HOR_NAV)) {\n            this.showPopup(this.show);\n        }\n        else {\n            this.isPopup = false;\n            if (!isNullOrUndefined(trgParent) && (trgIndex !== this.selectedItem)) {\n                this.selectTab(trgIndex, args.originalEvent, true);\n            }\n        }\n    };\n    Tab.prototype.swipeHandler = function (e) {\n        if (e.velocity < 3 && isNullOrUndefined(e.originalEvent.changedTouches)) {\n            return;\n        }\n        if (this.isNested) {\n            this.element.setAttribute('data-swipe', 'true');\n        }\n        var nestedTab = this.element.querySelector('[data-swipe=\"true\"]');\n        if (nestedTab) {\n            nestedTab.removeAttribute('data-swipe');\n            return;\n        }\n        this.isSwipeed = true;\n        if (e.swipeDirection === 'Right' && this.selectedItem !== 0) {\n            for (var k = this.selectedItem - 1; k >= 0; k--) {\n                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                    this.selectTab(k, null, true);\n                    break;\n                }\n            }\n        }\n        else if (e.swipeDirection === 'Left' && (this.selectedItem !== selectAll('.' + CLS_TB_ITEM, this.element).length - 1)) {\n            for (var i = this.selectedItem + 1; i < this.tbItem.length; i++) {\n                if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                    this.selectTab(i, null, true);\n                    break;\n                }\n            }\n        }\n        this.isSwipeed = false;\n    };\n    Tab.prototype.spaceKeyDown = function (e) {\n        if ((e.keyCode === 32 && e.which === 32) || (e.keyCode === 35 && e.which === 35)) {\n            var clstHead = closest(e.target, '.' + CLS_HEADER$1);\n            if (!isNullOrUndefined(clstHead)) {\n                e.preventDefault();\n            }\n        }\n    };\n    Tab.prototype.keyHandler = function (e) {\n        if (this.element.classList.contains(CLS_DISABLE$4)) {\n            return;\n        }\n        this.element.classList.add(CLS_FOCUS);\n        var trg = e.target;\n        var tabHeader = this.getTabHeader();\n        var actEle = select('.' + CLS_ACTIVE$1, tabHeader);\n        this.popEle = select('.' + CLS_TB_POP, tabHeader);\n        if (!isNullOrUndefined(this.popEle)) {\n            this.popObj = this.popEle.ej2_instances[0];\n        }\n        var item = closest(document.activeElement, '.' + CLS_TB_ITEM);\n        var trgParent = closest(trg, '.' + CLS_TB_ITEM);\n        switch (e.action) {\n            case 'space':\n            case 'enter':\n                if (trg.parentElement.classList.contains(CLS_DISABLE$4)) {\n                    return;\n                }\n                if (e.action === 'enter' && trg.classList.contains('e-hor-nav')) {\n                    this.showPopup(this.show);\n                    break;\n                }\n                this.keyPressed(trg);\n                break;\n            case 'tab':\n            case 'shiftTab':\n                if (trg.classList.contains(CLS_WRAP)\n                    && closest(trg, '.' + CLS_TB_ITEM).classList.contains(CLS_ACTIVE$1) === false) {\n                    trg.setAttribute('tabindex', trg.getAttribute('data-tabindex'));\n                }\n                if (this.popObj && isVisible(this.popObj.element)) {\n                    this.popObj.hide(this.hide);\n                }\n                if (!isNullOrUndefined(actEle) && actEle.children.item(0).getAttribute('tabindex') === '-1') {\n                    actEle.children.item(0).setAttribute('tabindex', '0');\n                }\n                break;\n            case 'moveLeft':\n            case 'moveRight':\n                if (!isNullOrUndefined(item)) {\n                    this.refreshItemVisibility(item);\n                }\n                break;\n            case 'openPopup':\n                e.preventDefault();\n                if (!isNullOrUndefined(this.popEle) && this.popEle.classList.contains(CLS_POPUP_CLOSE)) {\n                    this.popObj.show(this.show);\n                }\n                break;\n            case 'delete':\n                if (this.showCloseButton === true && !isNullOrUndefined(trgParent)) {\n                    var nxtSib = trgParent.nextSibling;\n                    if (!isNullOrUndefined(nxtSib) && nxtSib.classList.contains(CLS_TB_ITEM)) {\n                        nxtSib.firstElementChild.focus();\n                    }\n                    this.removeTab(this.getEleIndex(trgParent));\n                }\n                this.setActiveBorder();\n                break;\n        }\n    };\n    Tab.prototype.refreshItemVisibility = function (target) {\n        var scrCnt = select('.' + this.scrCntClass, this.tbItems);\n        if (!this.isVertical() && !isNullOrUndefined(scrCnt)) {\n            var scrBar = select('.e-hscroll-bar', this.tbItems);\n            scrBar.removeAttribute('tabindex');\n            var scrStart = scrBar.scrollLeft;\n            var scrEnd = scrStart + scrBar.offsetWidth;\n            var eleStart = target.offsetLeft;\n            var eleWidth = target.offsetWidth;\n            var eleEnd = target.offsetLeft + target.offsetWidth;\n            if ((scrStart < eleStart) && (scrEnd < eleEnd)) {\n                var eleViewRange = scrEnd - eleStart;\n                scrBar.scrollLeft = scrStart + (eleWidth - eleViewRange);\n            }\n            else {\n                if ((scrStart > eleStart) && (scrEnd > eleEnd)) {\n                    var eleViewRange = eleEnd - scrStart;\n                    scrBar.scrollLeft = scrStart - (eleWidth - eleViewRange);\n                }\n            }\n        }\n        else {\n            return;\n        }\n    };\n    Tab.prototype.getIndexFromEle = function (id) {\n        return parseInt(id.substring(id.lastIndexOf('_') + 1), 10);\n    };\n    Tab.prototype.hoverHandler = function (e) {\n        var trg = e.target;\n        if (!isNullOrUndefined(trg.classList) && trg.classList.contains(CLS_ICON_CLOSE)) {\n            trg.setAttribute('title', new L10n('tab', { closeButtonTitle: this.title }, this.locale).getConstant('closeButtonTitle'));\n        }\n    };\n    Tab.prototype.evalOnPropertyChangeItems = function (newProp, oldProp) {\n        if (!(newProp.items instanceof Array && oldProp.items instanceof Array)) {\n            var changedProp = Object.keys(newProp.items);\n            for (var i = 0; i < changedProp.length; i++) {\n                var index = parseInt(Object.keys(newProp.items)[i], 10);\n                var properties = Object.keys(newProp.items[index]);\n                for (var j = 0; j < properties.length; j++) {\n                    var oldVal = Object(oldProp.items[index])[properties[j]];\n                    var newVal = Object(newProp.items[index])[properties[j]];\n                    var hdr = this.element.querySelectorAll('.' + CLS_TB_ITEM)[index];\n                    var itemIndex = void 0;\n                    if (hdr && !isNullOrUndefined(hdr.id) && hdr.id !== '') {\n                        itemIndex = this.getIndexFromEle(hdr.id);\n                    }\n                    else {\n                        itemIndex = index;\n                    }\n                    var hdrItem = select('.' + CLS_TB_ITEMS + ' #' + CLS_ITEM$2 + this.tabId + '_' + itemIndex, this.element);\n                    var cntItem = select('.' + CLS_CONTENT$1 + ' #' + CLS_CONTENT$1 + this.tabId + '_' + itemIndex, this.element);\n                    if (properties[j] === 'header' || properties[j] === 'headerTemplate') {\n                        var icon = (isNullOrUndefined(this.items[index].header) ||\n                            isNullOrUndefined(this.items[index].header.iconCss)) ? '' : this.items[index].header.iconCss;\n                        var textVal = this.items[index].headerTemplate || this.items[index].header.text;\n                        if (properties[j] === 'headerTemplate') {\n                            this.clearTabTemplate(hdrItem, properties[j], CLS_TB_ITEM);\n                        }\n                        if ((textVal === '') && (icon === '')) {\n                            this.removeTab(index);\n                        }\n                        else {\n                            this.tbId = hdr.id;\n                            var arr = [];\n                            arr.push(this.items[index]);\n                            this.items.splice(index, 1);\n                            this.itemIndexArray.splice(index, 1);\n                            this.tbObj.items.splice(index, 1);\n                            var isHiddenEle = hdrItem.classList.contains(CLS_HIDDEN$1);\n                            detach(hdrItem);\n                            this.isReplace = true;\n                            this.addTab(arr, index);\n                            if (isHiddenEle) {\n                                this.hideTab(index);\n                            }\n                            this.isReplace = false;\n                        }\n                    }\n                    if (properties[j] === 'content' && !isNullOrUndefined(cntItem)) {\n                        var strVal = typeof newVal === 'string' || isNullOrUndefined(newVal.innerHTML);\n                        if (strVal && (newVal[0] === '.' || newVal[0] === '#') && newVal.length) {\n                            var eleVal = document.querySelector(newVal);\n                            cntItem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else if (newVal === '' && oldVal[0] === '#') {\n                            document.body.appendChild(this.element.querySelector(oldVal)).style.display = 'none';\n                            cntItem.innerHTML = newVal;\n                        }\n                        else if (this.isAngular || this.isReact) {\n                            this.clearTabTemplate(cntItem, properties[j], CLS_ITEM$2);\n                            cntItem.innerHTML = '';\n                            this.templateCompile(cntItem, newVal, index);\n                        }\n                        else if (typeof newVal !== 'function') {\n                            cntItem.innerHTML = newVal;\n                        }\n                    }\n                    if (properties[j] === 'cssClass') {\n                        if (!isNullOrUndefined(hdrItem)) {\n                            hdrItem.classList.remove(oldVal);\n                            hdrItem.classList.add(newVal);\n                        }\n                        if (!isNullOrUndefined(cntItem)) {\n                            cntItem.classList.remove(oldVal);\n                            cntItem.classList.add(newVal);\n                        }\n                    }\n                    if (properties[j] === 'disabled') {\n                        this.enableTab(index, ((newVal === true) ? false : true));\n                    }\n                    if (properties[j] === 'visible') {\n                        this.hideTab(index, ((newVal === true) ? false : true));\n                    }\n                }\n            }\n        }\n        else {\n            this.lastIndex = 0;\n            if (isNullOrUndefined(this.tbObj)) {\n                this.reRenderItems();\n            }\n            else {\n                if (this.isReact || this.isAngular) {\n                    this.clearTemplate();\n                }\n                this.setItems(newProp.items);\n                if (this.templateEle.length > 0) {\n                    this.expTemplateContent();\n                }\n                this.templateEle = [];\n                var selectElement = select('.' + CLS_TAB + ' > .' + CLS_CONTENT$1, this.element);\n                while (selectElement.firstElementChild) {\n                    detach(selectElement.firstElementChild);\n                }\n                this.select(this.selectedItem);\n                this.draggableItems = [];\n                this.bindDraggable();\n            }\n        }\n    };\n    Tab.prototype.clearTabTemplate = function (templateEle, templateName, className) {\n        if (this.registeredTemplate && this.registeredTemplate[templateName]) {\n            var registeredTemplates = this.registeredTemplate;\n            for (var index = 0; index < registeredTemplates[templateName].length; index++) {\n                var registeredItem = registeredTemplates[templateName][index].rootNodes[0];\n                var closestItem = closest(registeredItem, '.' + className);\n                if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n                    this.clearTemplate([templateName], [registeredTemplates[templateName][index]]);\n                    break;\n                }\n            }\n        }\n        else if (this.portals && this.portals.length > 0) {\n            var portals = this.portals;\n            for (var index = 0; index < portals.length; index++) {\n                var portalItem = portals[index];\n                var closestItem = closest(portalItem.containerInfo, '.' + className);\n                if (!isNullOrUndefined(closestItem) && closestItem === templateEle) {\n                    this.clearTemplate([templateName], index);\n                    break;\n                }\n            }\n        }\n    };\n    Tab.prototype.initializeDrag = function (target) {\n        var _this = this;\n        var dragObj = new Draggable(target, {\n            dragArea: this.dragArea,\n            dragTarget: '.' + CLS_TB_ITEM,\n            clone: true,\n            helper: this.helper.bind(this),\n            dragStart: this.itemDragStart.bind(this),\n            drag: function (e) {\n                var dragIndex = _this.getEleIndex(_this.dragItem);\n                var dropIndex;\n                var dropItem;\n                var dragArgs = {\n                    draggedItem: _this.dragItem,\n                    event: e.event,\n                    target: e.target,\n                    droppedItem: e.target.closest('.' + CLS_TB_ITEM),\n                    clonedElement: _this.cloneElement,\n                    index: dragIndex\n                };\n                if (!isNullOrUndefined(e.target.closest('.' + CLS_TAB)) && !e.target.closest('.' + CLS_TAB).isEqualNode(_this.element) &&\n                    _this.dragArea !== '.' + CLS_HEADER$1) {\n                    _this.trigger('dragging', dragArgs);\n                }\n                else {\n                    if (!(e.target.closest(_this.dragArea)) && _this.overflowMode !== 'Popup') {\n                        document.body.style.cursor = 'not-allowed';\n                        addClass([_this.cloneElement], CLS_HIDDEN$1);\n                        if (_this.dragItem.classList.contains(CLS_HIDDEN$1)) {\n                            removeClass([_this.dragItem], CLS_HIDDEN$1);\n                        }\n                        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n                    }\n                    else {\n                        document.body.style.cursor = '';\n                        _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n                        if (_this.cloneElement.classList.contains(CLS_HIDDEN$1)) {\n                            removeClass([_this.cloneElement], CLS_HIDDEN$1);\n                        }\n                    }\n                    if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n                        var scrollRightNavEle = _this.element.querySelector('.e-scroll-right-nav');\n                        var scrollLeftNavEle = _this.element.querySelector('.e-scroll-left-nav');\n                        var hscrollBar = _this.element.querySelector('.e-hscroll-bar');\n                        if (!isNullOrUndefined(scrollRightNavEle) && Math.abs((scrollRightNavEle.offsetWidth / 2) +\n                            scrollRightNavEle.offsetLeft) > _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n                            hscrollBar.scrollLeft -= 10;\n                        }\n                        if (!isNullOrUndefined(scrollLeftNavEle) && Math.abs((scrollLeftNavEle.offsetLeft + scrollLeftNavEle.offsetWidth) -\n                            _this.cloneElement.offsetLeft) > (scrollLeftNavEle.offsetWidth / 2)) {\n                            hscrollBar.scrollLeft += 10;\n                        }\n                    }\n                    _this.cloneElement.style.pointerEvents = 'none';\n                    dropItem = closest(e.target, '.' + CLS_TB_ITEM + '.e-draggable');\n                    var scrollContentWidth = 0;\n                    if (_this.overflowMode === 'Scrollable' && !isNullOrUndefined(_this.element.querySelector('.e-hscroll'))) {\n                        scrollContentWidth = _this.element.querySelector('.e-hscroll-content').offsetWidth;\n                    }\n                    if (dropItem != null && !dropItem.isSameNode(_this.dragItem) &&\n                        dropItem.closest('.' + CLS_TAB).isSameNode(_this.dragItem.closest('.' + CLS_TAB))) {\n                        dropIndex = _this.getEleIndex(dropItem);\n                        if (dropIndex < dragIndex &&\n                            (Math.abs((dropItem.offsetLeft + dropItem.offsetWidth) -\n                                _this.cloneElement.offsetLeft) > (dropItem.offsetWidth / 2))) {\n                            _this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                        if (dropIndex > dragIndex &&\n                            (Math.abs(dropItem.offsetWidth / 2) + dropItem.offsetLeft -\n                                scrollContentWidth) < _this.cloneElement.offsetLeft + _this.cloneElement.offsetWidth) {\n                            _this.dragAction(dropItem, dragIndex, dropIndex);\n                        }\n                    }\n                    _this.droppedIndex = _this.getEleIndex(_this.dragItem);\n                    _this.trigger('dragging', dragArgs);\n                }\n            },\n            dragStop: this.itemDragStop.bind(this)\n        });\n        this.draggableItems.push(dragObj);\n    };\n    Tab.prototype.helper = function (e) {\n        this.cloneElement = this.createElement('div');\n        if (e.element) {\n            this.cloneElement = (e.element.cloneNode(true));\n            addClass([this.cloneElement], 'e-tab-clone-element');\n            if (this.element.querySelector('.' + CLS_HEADER$1).classList.contains(CLS_CLOSE_SHOW)) {\n                addClass([this.cloneElement], CLS_CLOSE_SHOW);\n            }\n            removeClass([this.cloneElement.querySelector('.' + CLS_WRAP)], 'e-ripple');\n            if (!isNullOrUndefined(this.cloneElement.querySelector('.e-ripple-element'))) {\n                remove(this.cloneElement.querySelector('.e-ripple-element'));\n            }\n            document.body.appendChild(this.cloneElement);\n        }\n        return this.cloneElement;\n    };\n    Tab.prototype.itemDragStart = function (e) {\n        var _this = this;\n        this.draggingItems = this.items.map(function (x) { return x; });\n        this.dragItem = e.element;\n        var dragArgs = {\n            draggedItem: e.element,\n            event: e.event,\n            target: e.target,\n            droppedItem: null,\n            index: this.getEleIndex(this.dragItem),\n            clonedElement: this.cloneElement,\n            cancel: false\n        };\n        this.trigger('onDragStart', dragArgs, function (tabitemDragArgs) {\n            if (tabitemDragArgs.cancel) {\n                var dragObj = e.element.ej2_instances[0];\n                if (!isNullOrUndefined(dragObj)) {\n                    dragObj.intDestroy(e.event);\n                }\n                detach(_this.cloneElement);\n            }\n            else {\n                _this.removeActiveClass();\n                addClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n                _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'hidden';\n            }\n        });\n    };\n    Tab.prototype.dragAction = function (dropItem, dragsIndex, dropIndex) {\n        if (this.items.length > 0) {\n            var item = this.draggingItems[dragsIndex];\n            this.draggingItems.splice(dragsIndex, 1);\n            this.draggingItems.splice(dropIndex, 0, item);\n        }\n        if (this.overflowMode === 'MultiRow') {\n            dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n        }\n        if (dragsIndex > dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    if (dropItem.isSameNode(dropItem.parentElement.lastChild)) {\n                        var popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(dropItem.parentElement.lastChild, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement.lastChild), this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n                else {\n                    var lastEle = (dropItem.parentElement).lastChild;\n                    if (dropItem.isSameNode(lastEle)) {\n                        var popupContainer = this.dragItem.parentNode;\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                        popupContainer.insertBefore(lastEle, popupContainer.childNodes[0]);\n                    }\n                    else {\n                        this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                        dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                    }\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem);\n            }\n        }\n        if (dragsIndex < dropIndex) {\n            if (!(this.dragItem.parentElement).isSameNode(dropItem.parentElement)) {\n                if (this.overflowMode === 'Extended') {\n                    this.dragItem.parentElement.appendChild(dropItem.parentElement.firstElementChild);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem.nextSibling);\n                }\n                else {\n                    this.dragItem.parentNode.insertBefore((dropItem.parentElement).lastChild, this.dragItem.parentElement.childNodes[0]);\n                    dropItem.parentNode.insertBefore(this.dragItem, dropItem);\n                }\n            }\n            else {\n                this.dragItem.parentNode.insertBefore(this.dragItem, dropItem.nextElementSibling);\n            }\n        }\n    };\n    Tab.prototype.itemDragStop = function (e) {\n        var _this = this;\n        detach(this.cloneElement);\n        this.cloneElement = null;\n        this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = 'visible';\n        document.body.style.cursor = '';\n        var dragStopArgs = {\n            draggedItem: this.dragItem,\n            event: e.event,\n            target: e.target,\n            droppedItem: this.tbItem[this.droppedIndex],\n            clonedElement: null,\n            index: this.droppedIndex,\n            cancel: false\n        };\n        this.trigger('dragged', dragStopArgs, function (tabItemDropArgs) {\n            if (tabItemDropArgs.cancel) {\n                _this.refresh();\n            }\n            else {\n                if (_this.items.length > 0 && _this.draggingItems.length > 0) {\n                    _this.items = _this.draggingItems;\n                    _this.selectedItem = _this.droppedIndex;\n                    _this.refresh();\n                }\n                else {\n                    _this.dragItem.querySelector('.' + CLS_WRAP).style.visibility = '';\n                    removeClass([_this.tbItems.querySelector('.' + CLS_INDICATOR)], CLS_HIDDEN$1);\n                    _this.selectTab(_this.droppedIndex, null, true);\n                }\n            }\n        });\n        this.dragItem = null;\n    };\n    /**\n     * Enables or disables the specified Tab item. On passing value as `false`, the item will be disabled.\n     *\n     * @param {number} index - Index value of target Tab item.\n     * @param {boolean} value - Boolean value that determines whether the command should be enabled or disabled.\n     * By default, isEnable is true.\n     * @returns {void}.\n     */\n    Tab.prototype.enableTab = function (index, value) {\n        var tbItems = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(tbItems)) {\n            return;\n        }\n        if (value === true) {\n            tbItems.classList.remove(CLS_DISABLE$4, CLS_OVERLAY$2);\n            tbItems.firstElementChild.setAttribute('tabindex', tbItems.firstElementChild.getAttribute('data-tabindex'));\n        }\n        else {\n            tbItems.classList.add(CLS_DISABLE$4, CLS_OVERLAY$2);\n            tbItems.firstElementChild.removeAttribute('tabindex');\n            if (tbItems.classList.contains(CLS_ACTIVE$1)) {\n                this.select(index + 1);\n            }\n        }\n        if (!isNullOrUndefined(this.items[index])) {\n            this.items[index].disabled = !value;\n            this.dataBind();\n        }\n        tbItems.firstElementChild.setAttribute('aria-disabled', (value === true) ? 'false' : 'true');\n    };\n    /**\n     * Adds new items to the Tab that accepts an array as Tab items.\n     *\n     * @param {TabItemModel[]} items - An array of item that is added to the Tab.\n     * @param {number} index - Number value that determines where the items to be added. By default, index is 0.\n     * @returns {void}.\n     */\n    Tab.prototype.addTab = function (items, index) {\n        var _this = this;\n        var addArgs = { addedItems: items, cancel: false };\n        if (!this.isReplace) {\n            this.trigger('adding', addArgs, function (tabAddingArgs) {\n                if (!tabAddingArgs.cancel) {\n                    _this.addingTabContent(items, index);\n                }\n            });\n        }\n        else {\n            this.addingTabContent(items, index);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    Tab.prototype.addingTabContent = function (items, index) {\n        var _this = this;\n        var lastEleIndex = 0;\n        this.hdrEle = select('.' + CLS_HEADER$1, this.element);\n        if (isNullOrUndefined(this.hdrEle)) {\n            this.items = items;\n            this.reRenderItems();\n            this.bindDraggable();\n        }\n        else {\n            var itemsCount = selectAll('.e-tab-header .' + CLS_TB_ITEM, this.element).length;\n            if (itemsCount !== 0) {\n                lastEleIndex = this.lastIndex + 1;\n            }\n            if (isNullOrUndefined(index)) {\n                index = itemsCount - 1;\n            }\n            if (itemsCount < index || index < 0 || isNaN(index)) {\n                return;\n            }\n            if (itemsCount === 0 && !isNullOrUndefined(this.hdrEle)) {\n                this.hdrEle.style.display = '';\n            }\n            if (!isNullOrUndefined(this.bdrLine)) {\n                this.bdrLine.classList.add(CLS_HIDDEN$1);\n            }\n            this.tbItems = select('.' + CLS_TB_ITEMS, this.getTabHeader());\n            this.isAdd = true;\n            var tabItems_2 = this.parseObject(items, index);\n            this.isAdd = false;\n            var i_1 = 0;\n            var textValue_1;\n            items.forEach(function (item, place) {\n                textValue_1 = item.headerTemplate || item.header.text;\n                if (!(isNullOrUndefined(item.headerTemplate || item.header) || isNullOrUndefined(textValue_1) ||\n                    (textValue_1.length === 0) && !isNullOrUndefined(item.header) && isNullOrUndefined(item.header.iconCss))) {\n                    if (tabItems_2[place]) {\n                        if (isNullOrUndefined(item.id)) {\n                            item.id = CLS_ITEM$2 + _this.tabId + '_' + TABITEMPREFIX + (lastEleIndex + place).toString();\n                        }\n                        tabItems_2[place].htmlAttributes['data-id'] = item.id;\n                    }\n                    _this.items.splice((index + i_1), 0, item);\n                    i_1++;\n                }\n                if (_this.isTemplate && !isNullOrUndefined(item.header) && !isNullOrUndefined(item.header.text)) {\n                    var no = lastEleIndex + place;\n                    var ele = _this.createElement('div', {\n                        id: CLS_CONTENT$1 + _this.tabId + '_' + no, className: CLS_ITEM$2,\n                        attrs: { role: 'tabpanel', 'aria-labelledby': CLS_ITEM$2 + '_' + no }\n                    });\n                    _this.cntEle.insertBefore(ele, _this.cntEle.children[(index + place)]);\n                    var eleTrg = _this.getTrgContent(_this.cntEle, no.toString());\n                    _this.getContent(eleTrg, item.content, 'render', index);\n                }\n            });\n            this.tbObj.addItems(tabItems_2, index);\n            if (!this.isReplace) {\n                this.trigger('added', { addedItems: items });\n            }\n            if (this.selectedItem === index) {\n                this.select(index);\n            }\n            else {\n                this.setActiveBorder();\n                this.tbItem = selectAll('.' + CLS_TB_ITEM, this.getTabHeader());\n            }\n            this.bindDraggable();\n        }\n    };\n    /**\n     * Removes the items in the Tab from the specified index.\n     *\n     * @param {number} index - Index of target item that is going to be removed.\n     * @returns {void}.\n     */\n    Tab.prototype.removeTab = function (index) {\n        var _this = this;\n        var trg = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(trg)) {\n            return;\n        }\n        var removeArgs = { removedItem: trg, removedIndex: index, cancel: false };\n        this.trigger('removing', removeArgs, function (tabRemovingArgs) {\n            if (!tabRemovingArgs.cancel) {\n                var header = select('#' + CLS_ITEM$2 + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_TB_ITEMS, _this.element));\n                if (!isNullOrUndefined(header)) {\n                    _this.clearTabTemplate(header, 'headerTemplate', CLS_TB_ITEM);\n                }\n                _this.tbObj.removeItems(index);\n                if (_this.allowDragAndDrop && (index !== Array.prototype.indexOf.call(_this.itemIndexArray, trg.id))) {\n                    index = Array.prototype.indexOf.call(_this.itemIndexArray, trg.id);\n                }\n                var targetEleIndex = _this.itemIndexArray.indexOf(trg.id);\n                _this.items.splice(targetEleIndex, 1);\n                _this.itemIndexArray.splice(targetEleIndex, 1);\n                _this.refreshActiveBorder();\n                var cntTrg = select('#' + CLS_CONTENT$1 + _this.tabId + '_' + _this.extIndex(trg.id), select('.' + CLS_CONTENT$1, _this.element));\n                if (!isNullOrUndefined(cntTrg)) {\n                    _this.clearTabTemplate(cntTrg, 'content', CLS_ITEM$2);\n                    detach(cntTrg);\n                }\n                _this.trigger('removed', tabRemovingArgs);\n                if (_this.draggableItems && _this.draggableItems.length > 0) {\n                    _this.draggableItems[index].destroy();\n                    _this.draggableItems[index] = null;\n                    _this.draggableItems.splice(index, 1);\n                }\n                if (trg.classList.contains(CLS_ACTIVE$1)) {\n                    index = (index > selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_TB_POPUP + ')', _this.element).length - 1) ? index - 1 : index;\n                    _this.enableAnimation = false;\n                    _this.selectedItem = index;\n                    _this.select(index);\n                }\n                else if (index !== _this.selectedItem) {\n                    if (index < _this.selectedItem) {\n                        index = _this.itemIndexArray.indexOf(_this.tbItem[_this.selectedItem].id);\n                        _this.setProperties({ selectedItem: index > -1 ? index : _this.selectedItem }, true);\n                        _this.prevIndex = _this.selectedItem;\n                    }\n                    _this.tbItem = selectAll('.' + CLS_TB_ITEM, _this.getTabHeader());\n                }\n                if (selectAll('.' + CLS_TB_ITEM, _this.element).length === 0) {\n                    _this.hdrEle.style.display = 'none';\n                }\n                _this.enableAnimation = true;\n            }\n        });\n    };\n    /**\n     * Shows or hides the Tab that is in the specified index.\n     *\n     * @param {number} index - Index value of target item.\n     * @param {boolean} value - Based on this Boolean value, item will be hide (false) or show (true). By default, value is true.\n     * @returns {void}.\n     */\n    Tab.prototype.hideTab = function (index, value) {\n        var items;\n        var item = selectAll('.' + CLS_TB_ITEM, this.element)[index];\n        if (isNullOrUndefined(item)) {\n            return;\n        }\n        if (isNullOrUndefined(value)) {\n            value = true;\n        }\n        this.bdrLine.classList.add(CLS_HIDDEN$1);\n        if (value === true) {\n            item.classList.add(CLS_HIDDEN$1);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n            if (items.length !== 0 && item.classList.contains(CLS_ACTIVE$1)) {\n                if (index !== 0) {\n                    for (var i = index - 1; i >= 0; i--) {\n                        if (!this.tbItem[i].classList.contains(CLS_HIDDEN$1)) {\n                            this.select(i);\n                            break;\n                        }\n                        else if (i === 0) {\n                            for (var k = index + 1; k < this.tbItem.length; k++) {\n                                if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                                    this.select(k);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                else {\n                    for (var k = index + 1; k < this.tbItem.length; k++) {\n                        if (!this.tbItem[k].classList.contains(CLS_HIDDEN$1)) {\n                            this.select(k);\n                            break;\n                        }\n                    }\n                }\n            }\n            else if (items.length === 0) {\n                this.element.classList.add(CLS_HIDDEN$1);\n            }\n        }\n        else {\n            this.element.classList.remove(CLS_HIDDEN$1);\n            items = selectAll('.' + CLS_TB_ITEM + ':not(.' + CLS_HIDDEN$1 + ')', this.tbItems);\n            item.classList.remove(CLS_HIDDEN$1);\n            if (items.length === 0) {\n                this.select(index);\n            }\n        }\n        this.setActiveBorder();\n        item.setAttribute('aria-hidden', '' + value);\n        if (this.overflowMode === 'Popup' && this.tbObj) {\n            this.tbObj.refreshOverflow();\n        }\n    };\n    Tab.prototype.selectTab = function (args, event, isInteracted) {\n        if (event === void 0) { event = null; }\n        if (isInteracted === void 0) { isInteracted = false; }\n        this.isInteracted = isInteracted;\n        this.select(args, event);\n    };\n    /**\n     * Specifies the index or HTMLElement to select an item from the Tab.\n     *\n     * @param {number | HTMLElement} args - Index or DOM element is used for selecting an item from the Tab.\n     * @param {Event} event - An event which takes place in DOM.\n     * @returns {void}\n     */\n    Tab.prototype.select = function (args, event) {\n        var _this = this;\n        var tabHeader = this.getTabHeader();\n        this.tbItems = select('.' + CLS_TB_ITEMS, tabHeader);\n        this.tbItem = selectAll('.' + CLS_TB_ITEM, tabHeader);\n        this.content = select('.' + CLS_CONTENT$1, this.element);\n        this.prevItem = this.tbItem[this.prevIndex];\n        if (isNullOrUndefined(this.selectedItem) || (this.selectedItem < 0) || (this.tbItem.length <= this.selectedItem) || isNaN(this.selectedItem)) {\n            this.selectedItem = 0;\n        }\n        else {\n            this.selectedID = this.extIndex(this.tbItem[this.selectedItem].id);\n        }\n        var trg = this.tbItem[args];\n        if (isNullOrUndefined(trg)) {\n            this.selectedID = '0';\n        }\n        else {\n            this.selectingID = this.extIndex(trg.id);\n        }\n        if (!isNullOrUndefined(this.prevItem) && !this.prevItem.classList.contains(CLS_DISABLE$4)) {\n            this.prevItem.children.item(0).setAttribute('tabindex', this.prevItem.firstElementChild.getAttribute('tabindex'));\n        }\n        var eventArg = {\n            event: event,\n            previousItem: this.prevItem,\n            previousIndex: this.prevIndex,\n            selectedItem: this.tbItem[this.selectedItem],\n            selectedIndex: this.selectedItem,\n            selectedContent: !isNullOrUndefined(this.content) ?\n                select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectedID, this.content) : null,\n            selectingItem: trg,\n            selectingIndex: args,\n            selectingContent: !isNullOrUndefined(this.content) ?\n                select('#' + CLS_CONTENT$1 + this.tabId + '_' + this.selectingID, this.content) : null,\n            isSwiped: this.isSwipeed,\n            isInteracted: this.isInteracted,\n            cancel: false\n        };\n        if (!this.initRender) {\n            this.trigger('selecting', eventArg, function (selectArgs) {\n                if (!selectArgs.cancel) {\n                    _this.selectingContent(args, _this.isInteracted);\n                }\n            });\n        }\n        else {\n            this.selectingContent(args, this.isInteracted);\n        }\n        this.isInteracted = false;\n    };\n    Tab.prototype.selectingContent = function (args, isInteracted) {\n        if (typeof args === 'number') {\n            if (!isNullOrUndefined(this.tbItem[args]) && (this.tbItem[args].classList.contains(CLS_DISABLE$4) ||\n                this.tbItem[args].classList.contains(CLS_HIDDEN$1))) {\n                for (var i = args + 1; i < this.items.length; i++) {\n                    if (this.items[i].disabled === false && this.items[i].visible === true) {\n                        args = i;\n                        break;\n                    }\n                    else {\n                        args = 0;\n                    }\n                }\n            }\n            if (this.tbItem.length > args && args >= 0 && !isNaN(args)) {\n                this.prevIndex = this.selectedItem;\n                this.prevItem = this.tbItem[this.prevIndex];\n                if (this.tbItem[args].classList.contains(CLS_TB_POPUP) && this.reorderActiveTab) {\n                    this.setActive(this.popupHandler(this.tbItem[args]), null, isInteracted);\n                    if ((!isNullOrUndefined(this.items) && this.items.length > 0) && this.allowDragAndDrop) {\n                        this.tbItem = selectAll('.' + CLS_TB_ITEMS + ' .' + CLS_TB_ITEM, this.hdrEle);\n                        var item = this.items[args];\n                        this.items.splice(args, 1);\n                        this.items.splice(this.tbItem.length - 1, 0, item);\n                        var itemId = this.itemIndexArray[args];\n                        this.itemIndexArray.splice(args, 1);\n                        this.itemIndexArray.splice(this.tbItem.length - 1, 0, itemId);\n                    }\n                }\n                else {\n                    this.setActive(args, null, isInteracted);\n                }\n            }\n            else {\n                this.setActive(0, null, isInteracted);\n            }\n        }\n        else if (args instanceof (HTMLElement)) {\n            this.setActive(this.getEleIndex(args), null, isInteracted);\n        }\n    };\n    /**\n     * Gets the item index from the Tab.\n     *\n     * @param  {string} tabItemId - Item ID is used for getting index from the Tab.\n     * @returns {number} - It returns item index.\n     */\n    Tab.prototype.getItemIndex = function (tabItemId) {\n        var tabIndex;\n        for (var i = 0; i < this.tbItem.length; i++) {\n            var value = this.tbItem[i].getAttribute('data-id');\n            if (tabItemId === value) {\n                tabIndex = i;\n                break;\n            }\n        }\n        return tabIndex;\n    };\n    /**\n     * Specifies the value to disable/enable the Tab component.\n     * When set to `true`, the component will be disabled.\n     *\n     * @param  {boolean} value - Based on this Boolean value, Tab will be enabled (false) or disabled (true).\n     * @returns {void}.\n     */\n    Tab.prototype.disable = function (value) {\n        this.setCssClass(this.element, CLS_DISABLE$4, value);\n        this.element.setAttribute('aria-disabled', '' + value);\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - It returns the persisted state.\n     */\n    Tab.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedItem', 'actEleId']);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - It returns the current module name.\n     * @private\n     */\n    Tab.prototype.getModuleName = function () {\n        return 'tab';\n    };\n    /**\n     * Gets called when the model property changes.The data that describes the old and new values of the property that changed.\n     *\n     * @param  {TabModel} newProp - It contains the new value of data.\n     * @param  {TabModel} oldProp - It contains the old value of data.\n     * @returns {void}\n     * @private\n     */\n    Tab.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var _this = this;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { width: formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { height: formatUnit(newProp.height) });\n                    this.setContentHeight(false);\n                    break;\n                case 'cssClass':\n                    var headerEle = this.element.querySelector('.' + CLS_HEADER$1);\n                    if (oldProp.cssClass !== '' && !isNullOrUndefined(oldProp.cssClass)) {\n                        this.setCssClass(this.element, oldProp.cssClass, false);\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                        if (!isNullOrUndefined(headerEle)) {\n                            this.setCssClass(headerEle, oldProp.cssClass, false);\n                            this.setCssClass(headerEle, newProp.cssClass, true);\n                        }\n                    }\n                    else {\n                        this.setCssClass(this.element, newProp.cssClass, true);\n                        if (!isNullOrUndefined(headerEle)) {\n                            this.setCssClass(headerEle, newProp.cssClass, true);\n                        }\n                    }\n                    break;\n                case 'items':\n                    this.evalOnPropertyChangeItems(newProp, oldProp);\n                    break;\n                case 'showCloseButton':\n                    this.setCloseButton(newProp.showCloseButton);\n                    break;\n                case 'reorderActiveTab':\n                    this.refreshActiveTabBorder();\n                    break;\n                case 'selectedItem':\n                    this.selectedItem = oldProp.selectedItem;\n                    this.select(newProp.selectedItem);\n                    break;\n                case 'headerPlacement':\n                    this.changeOrientation(newProp.headerPlacement);\n                    break;\n                case 'enableRtl':\n                    this.setRTL(newProp.enableRtl);\n                    break;\n                case 'overflowMode':\n                    this.tbObj.overflowMode = newProp.overflowMode;\n                    this.tbObj.dataBind();\n                    this.refreshActiveTabBorder();\n                    break;\n                case 'heightAdjustMode':\n                    this.setContentHeight(false);\n                    this.select(this.selectedItem);\n                    break;\n                case 'scrollStep':\n                    if (this.tbObj) {\n                        this.tbObj.scrollStep = this.scrollStep;\n                    }\n                    break;\n                case 'allowDragAndDrop':\n                    this.bindDraggable();\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.draggableItems.forEach(function (item) {\n                            item.dragArea = _this.dragArea;\n                        });\n                        this.refresh();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * To refresh the active tab contents.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refreshActiveTab = function () {\n        if (this.isReact && this.isTemplate) {\n            this.clearTemplate();\n        }\n        if (!this.isTemplate) {\n            if (this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1)) {\n                detach(this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).children[0]);\n                detach(this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0]);\n                var item = this.items[this.selectedItem];\n                var pos = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconPosition)) ? '' : item.header.iconPosition;\n                var css = (isNullOrUndefined(item.header) || isNullOrUndefined(item.header.iconCss)) ? '' : item.header.iconCss;\n                var text = item.headerTemplate || item.header.text;\n                var txtWrap = this.createElement('div', { className: CLS_TEXT, attrs: { 'role': 'presentation' } });\n                if (!isNullOrUndefined(text.tagName)) {\n                    txtWrap.appendChild(text);\n                }\n                else {\n                    this.headerTextCompile(txtWrap, text, this.selectedItem);\n                }\n                var tEle = void 0;\n                var icon = this.createElement('span', {\n                    className: CLS_ICONS + ' ' + CLS_TAB_ICON + ' ' + CLS_ICON + '-' + pos + ' ' + css\n                });\n                var tConts = this.createElement('div', { className: CLS_TEXT_WRAP });\n                tConts.appendChild(txtWrap);\n                if ((text !== '' && text !== undefined) && css !== '') {\n                    if ((pos === 'left' || pos === 'top')) {\n                        tConts.insertBefore(icon, tConts.firstElementChild);\n                    }\n                    else {\n                        tConts.appendChild(icon);\n                    }\n                    tEle = txtWrap;\n                    this.isIconAlone = false;\n                }\n                else {\n                    tEle = ((css === '') ? txtWrap : icon);\n                    if (tEle === icon) {\n                        detach(txtWrap);\n                        tConts.appendChild(icon);\n                        this.isIconAlone = true;\n                    }\n                }\n                var tabIndex = isNullOrUndefined(item.tabIndex) ? '-1' : item.tabIndex.toString();\n                var wrapAtt = (item.disabled) ? {} : { tabIndex: tabIndex, 'data-tabindex': tabIndex, role: 'tab', 'aria-selected': 'true', 'aria-disabled': 'false' };\n                tConts.appendChild(this.btnCls.cloneNode(true));\n                var wraper = this.createElement('div', { className: CLS_WRAP, attrs: wrapAtt });\n                wraper.appendChild(tConts);\n                if (pos === 'top' || pos === 'bottom') {\n                    this.element.classList.add('e-vertical-icon');\n                }\n                this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wraper);\n                var crElem = this.createElement('div');\n                var cnt = item.content;\n                var eleStr = void 0;\n                if (typeof cnt === 'string' || isNullOrUndefined(cnt.innerHTML)) {\n                    if (typeof cnt === 'string' && this.enableHtmlSanitizer) {\n                        cnt = SanitizeHtmlHelper.sanitize(cnt);\n                    }\n                    if (cnt[0] === '.' || cnt[0] === '#') {\n                        if (document.querySelectorAll(cnt).length) {\n                            var eleVal = document.querySelector(cnt);\n                            eleStr = eleVal.outerHTML.trim();\n                            crElem.appendChild(eleVal);\n                            eleVal.style.display = '';\n                        }\n                        else {\n                            this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                        }\n                    }\n                    else {\n                        this.compileElement(crElem, cnt, 'content', this.selectedItem);\n                    }\n                }\n                else {\n                    crElem.appendChild(cnt);\n                }\n                if (!isNullOrUndefined(eleStr)) {\n                    if (this.templateEle.indexOf(cnt.toString()) === -1) {\n                        this.templateEle.push(cnt.toString());\n                    }\n                }\n                this.element.querySelector('.' + CLS_ITEM$2 + '.' + CLS_ACTIVE$1).appendChild(crElem);\n            }\n        }\n        else {\n            var tabItems = this.element.querySelector('.' + CLS_TB_ITEMS);\n            var element = this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1);\n            var index = this.getIndexFromEle(element.id);\n            var header = element.innerText;\n            var detachContent = this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).children[0];\n            var mainContents = detachContent.innerHTML;\n            detach(element);\n            detach(detachContent);\n            var attr = {\n                className: CLS_TB_ITEM + ' ' + CLS_TEMPLATE$1 + ' ' + CLS_ACTIVE$1, id: CLS_ITEM$2 + this.tabId + '_' + index\n            };\n            var txtString = this.createElement('span', {\n                className: CLS_TEXT, innerHTML: header, attrs: { 'role': 'presentation' }\n            }).outerHTML;\n            var conte = this.createElement('div', {\n                className: CLS_TEXT_WRAP, innerHTML: txtString + this.btnCls.outerHTML\n            }).outerHTML;\n            var tabIndex = element.firstElementChild.getAttribute('data-tabindex');\n            var wrap = this.createElement('div', {\n                className: CLS_WRAP, innerHTML: conte,\n                attrs: { tabIndex: tabIndex, 'data-tabindex': tabIndex, role: 'tab', 'aria-controls': CLS_CONTENT$1 + this.tabId + '_' + index, 'aria-selected': 'true', 'aria-disabled': 'false' }\n            });\n            tabItems.insertBefore(this.createElement('div', attr), tabItems.children[index + 1]);\n            this.element.querySelector('.' + CLS_TB_ITEM + '.' + CLS_ACTIVE$1).appendChild(wrap);\n            var crElem = this.createElement('div', { innerHTML: mainContents });\n            this.element.querySelector('.' + CLS_CONTENT$1).querySelector('.' + CLS_ACTIVE$1).appendChild(crElem);\n        }\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * To refresh the active tab indicator.\n     *\n     * @returns {void}\n     */\n    Tab.prototype.refreshActiveTabBorder = function () {\n        var activeEle = select('.' + CLS_TB_ITEM + '.' + CLS_TB_POPUP + '.' + CLS_ACTIVE$1, this.element);\n        if (!isNullOrUndefined(activeEle) && this.reorderActiveTab) {\n            this.select(this.getEleIndex(activeEle));\n        }\n        this.refreshActiveBorder();\n    };\n    __decorate$7([\n        Collection([], TabItem)\n    ], Tab.prototype, \"items\", void 0);\n    __decorate$7([\n        Property('100%')\n    ], Tab.prototype, \"width\", void 0);\n    __decorate$7([\n        Property('auto')\n    ], Tab.prototype, \"height\", void 0);\n    __decorate$7([\n        Property('')\n    ], Tab.prototype, \"cssClass\", void 0);\n    __decorate$7([\n        Property(0)\n    ], Tab.prototype, \"selectedItem\", void 0);\n    __decorate$7([\n        Property('Top')\n    ], Tab.prototype, \"headerPlacement\", void 0);\n    __decorate$7([\n        Property('Content')\n    ], Tab.prototype, \"heightAdjustMode\", void 0);\n    __decorate$7([\n        Property('Scrollable')\n    ], Tab.prototype, \"overflowMode\", void 0);\n    __decorate$7([\n        Property('Dynamic')\n    ], Tab.prototype, \"loadOn\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"enablePersistence\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"showCloseButton\", void 0);\n    __decorate$7([\n        Property(true)\n    ], Tab.prototype, \"reorderActiveTab\", void 0);\n    __decorate$7([\n        Property()\n    ], Tab.prototype, \"scrollStep\", void 0);\n    __decorate$7([\n        Property()\n    ], Tab.prototype, \"dragArea\", void 0);\n    __decorate$7([\n        Property(false)\n    ], Tab.prototype, \"allowDragAndDrop\", void 0);\n    __decorate$7([\n        Complex({}, TabAnimationSettings)\n    ], Tab.prototype, \"animation\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"created\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"adding\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"added\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"selecting\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"selected\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"removing\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"removed\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"onDragStart\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"dragging\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"dragged\", void 0);\n    __decorate$7([\n        Event()\n    ], Tab.prototype, \"destroyed\", void 0);\n    Tab = __decorate$7([\n        NotifyPropertyChanges\n    ], Tab);\n    return Tab;\n}(Component));\n\n/**\n * Tab modules\n */\n\nvar __extends$8 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$8 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ROOT = 'e-treeview';\nvar CONTROL = 'e-control';\nvar COLLAPSIBLE = 'e-icon-collapsible';\nvar EXPANDABLE = 'e-icon-expandable';\nvar LISTITEM = 'e-list-item';\nvar LISTTEXT = 'e-list-text';\nvar LISTWRAP = 'e-text-wrap';\nvar IELISTWRAP = 'e-ie-wrap';\nvar PARENTITEM = 'e-list-parent';\nvar HOVER = 'e-hover';\nvar ACTIVE = 'e-active';\nvar LOAD = 'e-icons-spinner';\nvar PROCESS = 'e-process';\nvar ICON = 'e-icons';\nvar TEXTWRAP = 'e-text-content';\nvar INPUT = 'e-input';\nvar INPUTGROUP = 'e-input-group';\nvar TREEINPUT = 'e-tree-input';\nvar EDITING = 'e-editing';\nvar RTL$1 = 'e-rtl';\nvar INTERACTION = 'e-interaction';\nvar DRAGITEM = 'e-drag-item';\nvar DROPPABLE = 'e-droppable';\nvar DRAGGING = 'e-dragging';\nvar SIBLING = 'e-sibling';\nvar DROPIN = 'e-drop-in';\nvar DROPNEXT = 'e-drop-next';\nvar DROPOUT = 'e-drop-out';\nvar NODROP = 'e-no-drop';\nvar FULLROWWRAP = 'e-fullrow-wrap';\nvar FULLROW = 'e-fullrow';\nvar SELECTED$1 = 'e-selected';\nvar EXPANDED = 'e-expanded';\nvar NODECOLLAPSED = 'e-node-collapsed';\nvar DISABLE = 'e-disable';\nvar DROPCOUNT = 'e-drop-count';\nvar CHECK = 'e-check';\nvar INDETERMINATE = 'e-stop';\nvar CHECKBOXWRAP = 'e-checkbox-wrapper';\nvar CHECKBOXFRAME = 'e-frame';\nvar CHECKBOXRIPPLE = 'e-ripple-container';\nvar RIPPLE = 'e-ripple';\nvar RIPPLEELMENT = 'e-ripple-element';\nvar FOCUS = 'e-node-focus';\nvar IMAGE = 'e-list-img';\nvar BIGGER = 'e-bigger';\nvar SMALL = 'e-small';\nvar CHILD = 'e-has-child';\nvar ITEM_ANIMATION_ACTIVE = 'e-animation-active';\nvar DISABLED$1 = 'e-disabled';\nvar PREVENTSELECT = 'e-prevent';\nvar treeAriaAttr = {\n    treeRole: 'group',\n    itemRole: 'treeitem',\n    listRole: 'group',\n    itemText: '',\n    wrapperRole: ''\n};\n/**\n * Configures the fields to bind to the properties of node in the TreeView component.\n */\nvar FieldsSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(FieldsSettings, _super);\n    function FieldsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$8([\n        Property('child')\n    ], FieldsSettings.prototype, \"child\", void 0);\n    __decorate$8([\n        Property([])\n    ], FieldsSettings.prototype, \"dataSource\", void 0);\n    __decorate$8([\n        Property('expanded')\n    ], FieldsSettings.prototype, \"expanded\", void 0);\n    __decorate$8([\n        Property('hasChildren')\n    ], FieldsSettings.prototype, \"hasChildren\", void 0);\n    __decorate$8([\n        Property('htmlAttributes')\n    ], FieldsSettings.prototype, \"htmlAttributes\", void 0);\n    __decorate$8([\n        Property('iconCss')\n    ], FieldsSettings.prototype, \"iconCss\", void 0);\n    __decorate$8([\n        Property('id')\n    ], FieldsSettings.prototype, \"id\", void 0);\n    __decorate$8([\n        Property('imageUrl')\n    ], FieldsSettings.prototype, \"imageUrl\", void 0);\n    __decorate$8([\n        Property('isChecked')\n    ], FieldsSettings.prototype, \"isChecked\", void 0);\n    __decorate$8([\n        Property('parentID')\n    ], FieldsSettings.prototype, \"parentID\", void 0);\n    __decorate$8([\n        Property(null)\n    ], FieldsSettings.prototype, \"query\", void 0);\n    __decorate$8([\n        Property('selectable')\n    ], FieldsSettings.prototype, \"selectable\", void 0);\n    __decorate$8([\n        Property('selected')\n    ], FieldsSettings.prototype, \"selected\", void 0);\n    __decorate$8([\n        Property(null)\n    ], FieldsSettings.prototype, \"tableName\", void 0);\n    __decorate$8([\n        Property('text')\n    ], FieldsSettings.prototype, \"text\", void 0);\n    __decorate$8([\n        Property('tooltip')\n    ], FieldsSettings.prototype, \"tooltip\", void 0);\n    __decorate$8([\n        Property('navigateUrl')\n    ], FieldsSettings.prototype, \"navigateUrl\", void 0);\n    return FieldsSettings;\n}(ChildProperty));\n/**\n * Configures animation settings for the TreeView component.\n */\nvar ActionSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(ActionSettings, _super);\n    function ActionSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$8([\n        Property('SlideDown')\n    ], ActionSettings.prototype, \"effect\", void 0);\n    __decorate$8([\n        Property(400)\n    ], ActionSettings.prototype, \"duration\", void 0);\n    __decorate$8([\n        Property('linear')\n    ], ActionSettings.prototype, \"easing\", void 0);\n    return ActionSettings;\n}(ChildProperty));\n/**\n * Configures the animation settings for expanding and collapsing nodes in TreeView.\n */\nvar NodeAnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(NodeAnimationSettings, _super);\n    function NodeAnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$8([\n        Complex({ effect: 'SlideUp', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"collapse\", void 0);\n    __decorate$8([\n        Complex({ effect: 'SlideDown', duration: 400, easing: 'linear' }, ActionSettings)\n    ], NodeAnimationSettings.prototype, \"expand\", void 0);\n    return NodeAnimationSettings;\n}(ChildProperty));\n/**\n * The TreeView component is used to represent hierarchical data in a tree like structure with advanced\n * functions to perform edit, drag and drop, selection with check-box, and more.\n * ```html\n * <div id=\"tree\"></div>\n * ```\n * ```typescript\n * let treeObj: TreeView = new TreeView();\n * treeObj.appendTo('#tree');\n * ```\n */\nvar TreeView = /** @__PURE__ @class */ (function (_super) {\n    __extends$8(TreeView, _super);\n    function TreeView(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isRefreshed = false;\n        _this.preventExpand = false;\n        _this.checkedElement = [];\n        _this.disableNode = [];\n        // eslint-disable-next-line\n        _this.validArr = [];\n        _this.validNodes = [];\n        _this.expandChildren = [];\n        _this.isFieldChange = false;\n        _this.changeDataSource = false;\n        _this.hasTemplate = false;\n        _this.isFirstRender = false;\n        // Specifies whether the node is dropped or not\n        _this.isNodeDropped = false;\n        _this.isInteracted = false;\n        _this.isRightClick = false;\n        _this.mouseDownStatus = false;\n        return _this;\n    }\n    TreeView_1 = TreeView;\n    /**\n     * Get component name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     */\n    TreeView.prototype.getModuleName = function () {\n        return 'treeview';\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     */\n    TreeView.prototype.preRender = function () {\n        var _this = this;\n        this.checkActionNodes = [];\n        this.parentNodeCheck = [];\n        this.dragStartAction = false;\n        this.isAnimate = false;\n        this.keyConfigs = {\n            escape: 'escape',\n            end: 'end',\n            enter: 'enter',\n            f2: 'f2',\n            home: 'home',\n            moveDown: 'downarrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            ctrlDown: 'ctrl+downarrow',\n            ctrlUp: 'ctrl+uparrow',\n            ctrlEnter: 'ctrl+enter',\n            ctrlHome: 'ctrl+home',\n            ctrlEnd: 'ctrl+end',\n            ctrlA: 'ctrl+A',\n            shiftDown: 'shift+downarrow',\n            shiftUp: 'shift+uparrow',\n            shiftEnter: 'shift+enter',\n            shiftHome: 'shift+home',\n            shiftEnd: 'shift+end',\n            csDown: 'ctrl+shift+downarrow',\n            csUp: 'ctrl+shift+uparrow',\n            csEnter: 'ctrl+shift+enter',\n            csHome: 'ctrl+shift+home',\n            csEnd: 'ctrl+shift+end',\n            space: 'space',\n            shiftSpace: 'shift+space',\n            ctrlSpace: 'ctrl+space'\n        };\n        this.listBaseOption = {\n            expandCollapse: true,\n            showIcon: true,\n            expandIconClass: EXPANDABLE,\n            ariaAttributes: treeAriaAttr,\n            expandIconPosition: 'Left',\n            itemCreated: function (e) {\n                _this.beforeNodeCreate(e);\n            },\n            enableHtmlSanitizer: this.enableHtmlSanitizer,\n            itemNavigable: this.fullRowNavigable\n        };\n        this.updateListProp(this.fields);\n        this.aniObj = new Animation({});\n        this.treeList = [];\n        this.isLoaded = false;\n        this.isInitalExpand = false;\n        this.expandChildren = [];\n        this.index = 0;\n        this.setTouchClass();\n        if (isNullOrUndefined(this.selectedNodes)) {\n            this.setProperties({ selectedNodes: [] }, true);\n        }\n        if (isNullOrUndefined(this.checkedNodes)) {\n            this.setProperties({ checkedNodes: [] }, true);\n        }\n        if (isNullOrUndefined(this.expandedNodes)) {\n            this.setProperties({ expandedNodes: [] }, true);\n        }\n        else {\n            this.isInitalExpand = true;\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - returns the persisted data\n     * @hidden\n     */\n    TreeView.prototype.getPersistData = function () {\n        var keyEntity = ['selectedNodes', 'checkedNodes', 'expandedNodes'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @private\n     * @returns {void}\n     */\n    TreeView.prototype.render = function () {\n        this.initialRender = true;\n        this.initialize();\n        this.setDataBinding(false);\n        this.setDisabledMode();\n        this.setExpandOnType();\n        if (!this.disabled) {\n            this.setRipple();\n        }\n        this.wireEditingEvents(this.allowEditing);\n        this.setDragAndDrop(this.allowDragAndDrop);\n        if (!this.disabled) {\n            this.wireEvents();\n        }\n        this.initialRender = false;\n        this.renderComplete();\n    };\n    TreeView.prototype.initialize = function () {\n        this.element.setAttribute('role', 'tree');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n        this.setCssClass(null, this.cssClass);\n        this.setEnableRtl();\n        this.setFullRow(this.fullRowSelect);\n        this.setTextWrap();\n        this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n    };\n    TreeView.prototype.setDisabledMode = function () {\n        if (this.disabled) {\n            this.element.classList.add(DISABLED$1);\n        }\n        else {\n            this.element.classList.remove(DISABLED$1);\n        }\n    };\n    TreeView.prototype.setEnableRtl = function () {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL$1);\n    };\n    TreeView.prototype.setRipple = function () {\n        var tempStr = '.' + FULLROW + ',.' + TEXTWRAP;\n        var rippleModel = {\n            selector: tempStr,\n            ignore: '.' + TEXTWRAP + ' > .' + ICON + ',.' + INPUTGROUP + ',.' + INPUT + ', .' + CHECKBOXWRAP\n        };\n        this.rippleFn = rippleEffect(this.element, rippleModel);\n        var iconModel = {\n            selector: '.' + TEXTWRAP + ' > .' + ICON,\n            isCenterRipple: true\n        };\n        this.rippleIconFn = rippleEffect(this.element, iconModel);\n    };\n    TreeView.prototype.setFullRow = function (isEnabled) {\n        (isEnabled ? addClass : removeClass)([this.element], FULLROWWRAP);\n    };\n    TreeView.prototype.setMultiSelect = function (isEnabled) {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (isEnabled) {\n            firstUl.setAttribute('aria-multiselectable', 'true');\n        }\n        else {\n            firstUl.removeAttribute('aria-multiselectable');\n        }\n    };\n    // eslint-disable-next-line\n    TreeView.prototype.templateComplier = function (template) {\n        if (template) {\n            this.hasTemplate = true;\n            // eslint-disable-next-line\n            this.element.classList.add(INTERACTION);\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (e) {\n                return compile(template);\n            }\n        }\n        this.element.classList.remove(INTERACTION);\n        return undefined;\n    };\n    TreeView.prototype.setDataBinding = function (changeDataSource) {\n        var _this = this;\n        this.treeList.push('false');\n        if (this.fields.dataSource instanceof DataManager) {\n            /* eslint-disable */\n            this.isOffline = this.fields.dataSource.dataSource.offline;\n            if (this.fields.dataSource.ready) {\n                this.fields.dataSource.ready.then(function (e) {\n                    /* eslint-disable */\n                    _this.isOffline = _this.fields.dataSource.dataSource.offline;\n                    if (_this.fields.dataSource instanceof DataManager && _this.isOffline) {\n                        _this.treeList.pop();\n                        _this.treeData = e.result;\n                        _this.isNumberTypeId = _this.getType();\n                        _this.setRootData();\n                        _this.renderItems(true);\n                        if (_this.treeList.length === 0 && !_this.isLoaded) {\n                            _this.finalize();\n                        }\n                    }\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n            else {\n                this.fields.dataSource.executeQuery(this.getQuery(this.fields)).then(function (e) {\n                    _this.treeList.pop();\n                    _this.treeData = e.result;\n                    _this.isNumberTypeId = _this.getType();\n                    _this.setRootData();\n                    if (changeDataSource) {\n                        _this.changeDataSource = true;\n                    }\n                    _this.renderItems(true);\n                    _this.changeDataSource = false;\n                    if (_this.treeList.length === 0 && !_this.isLoaded) {\n                        _this.finalize();\n                    }\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            this.treeList.pop();\n            if (isNullOrUndefined(this.fields.dataSource)) {\n                this.rootData = this.treeData = [];\n            }\n            else {\n                this.treeData = JSON.parse(JSON.stringify(this.fields.dataSource));\n                this.setRootData();\n            }\n            this.isNumberTypeId = this.getType();\n            this.renderItems(false);\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.getQuery = function (mapper, value) {\n        if (value === void 0) { value = null; }\n        var columns = [];\n        var query;\n        if (!mapper.query) {\n            query = new Query();\n            var prop = this.getActualProperties(mapper);\n            for (var _i = 0, _a = Object.keys(prop); _i < _a.length; _i++) {\n                var col = _a[_i];\n                if (col !== 'dataSource' && col !== 'tableName' && col !== 'child' && !!mapper[col]\n                    && col !== 'url' && columns.indexOf(mapper[col]) === -1) {\n                    columns.push(mapper[col]);\n                }\n            }\n            query.select(columns);\n            if (prop.hasOwnProperty('tableName')) {\n                query.from(mapper.tableName);\n            }\n        }\n        else {\n            query = mapper.query.clone();\n        }\n        ListBase.addSorting(this.sortOrder, mapper.text, query);\n        if (!isNullOrUndefined(value) && !isNullOrUndefined(mapper.parentID)) {\n            query.where(mapper.parentID, 'equal', (this.isNumberTypeId ? parseFloat(value) : value));\n        }\n        return query;\n    };\n    TreeView.prototype.getType = function () {\n        return this.treeData[0] ? ((typeof getValue(this.fields.id, this.treeData[0]) === 'number') ? true : false) : false;\n    };\n    TreeView.prototype.setRootData = function () {\n        this.dataType = this.getDataType(this.treeData, this.fields);\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n            var rootItems = this.getChildNodes(this.treeData, undefined, true);\n            if (isNullOrUndefined(rootItems)) {\n                this.rootData = [];\n            }\n            else {\n                this.rootData = rootItems;\n            }\n        }\n        else {\n            this.rootData = this.treeData;\n        }\n    };\n    TreeView.prototype.renderItems = function (isSorted) {\n        /* eslint-disable */\n        this.listBaseOption.ariaAttributes.level = 1;\n        var sortedData = this.getSortedData(this.rootData);\n        this.ulElement = ListBase.createList(this.createElement, isSorted ? this.rootData : sortedData, this.listBaseOption);\n        this.element.appendChild(this.ulElement);\n        var rootNodes = this.ulElement.querySelectorAll('.e-list-item');\n        if (this.loadOnDemand === false) {\n            var i = 0;\n            while (i < rootNodes.length) {\n                this.renderChildNodes(rootNodes[i], true, null, true);\n                i++;\n            }\n        }\n        var parentEle = selectAll('.' + PARENTITEM, this.element);\n        if ((parentEle.length === 1 && (rootNodes && rootNodes.length !== 0)) || this.loadOnDemand) {\n            this.finalizeNode(this.element);\n        }\n        this.parentNodeCheck = [];\n        this.parentCheckData = [];\n        this.updateCheckedStateFromDS();\n        if (this.autoCheck && this.showCheckBox && !this.isLoaded) {\n            this.updateParentCheckState();\n        }\n    };\n    /**\n     * Update the checkedNodes from datasource at initial rendering\n     */\n    TreeView.prototype.updateCheckedStateFromDS = function (id) {\n        this.validNodes = [];\n        if (this.treeData && this.showCheckBox) {\n            if (this.dataType === 1) {\n                var mapper = this.fields;\n                var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (var i = 0; i < resultData.length; i++) {\n                    var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                    var resultPId = resultData[i][this.fields.parentID] ? resultData[i][this.fields.parentID].toString() : null;\n                    if (this.checkedNodes.indexOf(resultId) === -1 && !(this.isLoaded)) {\n                        this.checkedNodes.push(resultId);\n                    }\n                    if (resultData[i][this.fields.hasChildren]) {\n                        var id_1 = resultData[i][this.fields.id];\n                        var childData = new DataManager(this.treeData).\n                            executeLocal(new Query().where(mapper.parentID, 'equal', id_1, false));\n                        for (var child = 0; child < childData.length; child++) {\n                            var childId = childData[child][this.fields.id] ? childData[child][this.fields.id].toString() : null;\n                            if (this.checkedNodes.indexOf(childId) === -1 && this.autoCheck) {\n                                this.checkedNodes.push(childId);\n                            }\n                        }\n                    }\n                }\n                for (var i = 0; i < this.checkedNodes.length; i++) {\n                    var mapper_1 = this.fields;\n                    var checkState = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper_1.id, 'equal', this.checkedNodes[i], true));\n                    if (checkState[0] && this.autoCheck) {\n                        this.getCheckedNodeDetails(mapper_1, checkState);\n                        this.checkIndeterminateState(checkState[0]);\n                    }\n                    if (checkState.length > 0) {\n                        var checkedId = checkState[0][this.fields.id] ? checkState[0][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                    var checkedData = new DataManager(this.treeData).\n                        executeLocal(new Query().where(mapper_1.parentID, 'equal', this.checkedNodes[i], true));\n                    for (var index = 0; index < checkedData.length; index++) {\n                        var checkedId = checkedData[index][this.fields.id] ? checkedData[index][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(checkedId) === -1 && this.autoCheck) {\n                            this.checkedNodes.push(checkedId);\n                        }\n                        if (this.checkedNodes.indexOf(checkedId) > -1 && this.validNodes.indexOf(checkedId) === -1) {\n                            this.validNodes.push(checkedId);\n                        }\n                    }\n                }\n            }\n            else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n                this.isOffline)) {\n                for (var index = 0; index < this.treeData.length; index++) {\n                    var fieldId = this.treeData[index][this.fields.id] ? this.treeData[index][this.fields.id].toString() : '';\n                    if (this.treeData[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(fieldId) === -1) {\n                        this.checkedNodes.push(fieldId);\n                    }\n                    if (this.checkedNodes.indexOf(fieldId) > -1 && this.validNodes.indexOf(fieldId) === -1) {\n                        this.validNodes.push(fieldId);\n                    }\n                    var childItems = getValue(this.fields.child.toString(), this.treeData[index]);\n                    if (childItems) {\n                        this.updateChildCheckState(childItems, this.treeData[index]);\n                    }\n                }\n                this.validNodes = (this.enablePersistence) ? this.checkedNodes : this.validNodes;\n            }\n            this.setProperties({ checkedNodes: this.validNodes }, true);\n        }\n    };\n    /**\n     * To check whether the list data has sub child and to change the parent check state accordingly\n     */\n    TreeView.prototype.getCheckedNodeDetails = function (mapper, checkNodes) {\n        var id = checkNodes[0][this.fields.parentID] ? checkNodes[0][this.fields.parentID].toString() : null;\n        var count = 0;\n        var element = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.id] + '\"]');\n        var parentEle = this.element.querySelector('[data-uid=\"' + checkNodes[0][this.fields.parentID] + '\"]');\n        if (!element && !parentEle) {\n            var len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(id) === -1) {\n                this.parentNodeCheck.push(id);\n            }\n            var childNodes = this.getChildNodes(this.treeData, id);\n            for (var i = 0; i < childNodes.length; i++) {\n                var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n                if (count === childNodes.length && this.checkedNodes.indexOf(id) === -1) {\n                    this.checkedNodes.push(id);\n                }\n            }\n            var preElement = new DataManager(this.treeData).\n                executeLocal(new Query().where(mapper.id, 'equal', id, true));\n            this.getCheckedNodeDetails(mapper, preElement);\n        }\n        else if (parentEle) {\n            var check = select('.' + CHECK, parentEle);\n            if (!check) {\n                this.changeState(parentEle, 'indeterminate', null, true, true);\n            }\n        }\n    };\n    /**\n     * Update the checkedNodes and parent state when all the child Nodes are in checkedstate at initial rendering\n     */\n    TreeView.prototype.updateParentCheckState = function () {\n        var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n        var childCheckedElement;\n        for (var i = 0; i < indeterminate.length; i++) {\n            var node = closest(indeterminate[i], '.' + LISTITEM);\n            var nodeId = node.getAttribute('data-uid').toString();\n            if (this.dataType === 1) {\n                childCheckedElement = new DataManager(this.treeData).\n                    executeLocal(new Query().where(this.fields.parentID, 'equal', nodeId, true));\n            }\n            else {\n                childCheckedElement = this.getChildNodes(this.treeData, nodeId);\n            }\n            var count = 0;\n            if (childCheckedElement) {\n                for (var j = 0; j < childCheckedElement.length; j++) {\n                    var childId = childCheckedElement[j][this.fields.id].toString();\n                    if (this.checkedNodes.indexOf(childId) !== -1) {\n                        count++;\n                    }\n                }\n                if (count === childCheckedElement.length) {\n                    var nodeCheck = node.getAttribute('data-uid');\n                    if (this.checkedNodes.indexOf(nodeCheck) === -1) {\n                        this.checkedNodes.push(nodeCheck);\n                    }\n                    this.changeState(node, 'check', null, true, true);\n                }\n                else if (count === 0 && this.checkedNodes.length === 0) {\n                    this.changeState(node, 'uncheck', null, true, true);\n                }\n            }\n        }\n    };\n    /**\n     * Change the parent to indeterminate state whenever the child is in checked state which is not rendered in DOM\n     */\n    TreeView.prototype.checkIndeterminateState = function (data) {\n        var element;\n        if (this.dataType === 1) {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.parentID] + '\"]');\n        }\n        else {\n            element = this.element.querySelector('[data-uid=\"' + data[this.fields.id] + '\"]');\n        }\n        if (element) {\n            var ariaChecked = element.querySelector('.' + CHECKBOXWRAP).getAttribute('aria-checked');\n            if (ariaChecked !== 'true') {\n                this.changeState(element, 'indeterminate', null, true, true);\n            }\n        }\n        else if (this.dataType === 2) {\n            var len = this.parentNodeCheck.length;\n            if (this.parentNodeCheck.indexOf(data[this.fields.id].toString()) === -1) {\n                this.parentNodeCheck.push(data[this.fields.id].toString());\n            }\n        }\n    };\n    /**\n     * Update the checkedNodes for child and subchild from datasource (hierarchical datasource) at initial rendering\n     */\n    TreeView.prototype.updateChildCheckState = function (childItems, treeData) {\n        var count = 0;\n        var checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n        for (var index = 0; index < childItems.length; index++) {\n            var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n            if (childItems[index][this.fields.isChecked] && !(this.isLoaded) && this.checkedNodes.indexOf(checkedChild) === -1) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1 && this.autoCheck) {\n                this.checkedNodes.push(checkedChild);\n            }\n            if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                count++;\n            }\n            if (this.checkedNodes.indexOf(checkedChild) > -1 && this.validNodes.indexOf(checkedChild) === -1) {\n                this.validNodes.push(checkedChild);\n            }\n            var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n            if (subChildItems && subChildItems.length) {\n                if (this.parentCheckData.indexOf(treeData) === -1)\n                    this.parentCheckData.push(treeData);\n                this.updateChildCheckState(subChildItems, childItems[index]);\n            }\n            if (count === childItems.length && this.autoCheck && this.checkedNodes.indexOf(checkedParent) === -1) {\n                this.checkedNodes.push(checkedParent);\n            }\n        }\n        if (count !== 0 && this.autoCheck) {\n            this.checkIndeterminateState(treeData);\n            for (var len = 0; len < this.parentCheckData.length; len++) {\n                if ((treeData !== this.parentCheckData[len]) && (this.parentCheckData[len])) {\n                    this.checkIndeterminateState(this.parentCheckData[len]);\n                }\n            }\n        }\n        this.parentCheckData = [];\n    };\n    TreeView.prototype.beforeNodeCreate = function (e) {\n        if (this.showCheckBox) {\n            var checkboxEle = createCheckBox(this.createElement, true, { cssClass: this.touchClass });\n            checkboxEle.setAttribute('role', 'checkbox');\n            checkboxEle.setAttribute('aria-label', 'checkbox');\n            var icon = select('div.' + ICON, e.item);\n            var id = e.item.getAttribute('data-uid');\n            e.item.childNodes[0].insertBefore(checkboxEle, e.item.childNodes[0].childNodes[isNullOrUndefined(icon) ? 0 : 1]);\n            var checkValue = getValue(e.fields.isChecked, e.curData);\n            if (this.checkedNodes.indexOf(id) > -1) {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else if (!isNullOrUndefined(checkValue) && checkValue.toString() === 'true') {\n                select('.' + CHECKBOXFRAME, checkboxEle).classList.add(CHECK);\n                checkboxEle.setAttribute('aria-checked', 'true');\n                this.addCheck(e.item);\n            }\n            else {\n                checkboxEle.setAttribute('aria-checked', 'false');\n            }\n            var frame = select('.' + CHECKBOXFRAME, checkboxEle);\n            EventHandler.add(frame, 'mousedown', this.frameMouseHandler, this);\n            EventHandler.add(frame, 'mouseup', this.frameMouseHandler, this);\n        }\n        if (this.fullRowSelect) {\n            this.createFullRow(e.item);\n        }\n        if (this.allowMultiSelection && !e.item.classList.contains(SELECTED$1)) {\n            e.item.setAttribute('aria-selected', 'false');\n        }\n        var fields = e.fields;\n        this.addActionClass(e, fields.selected, SELECTED$1);\n        this.addActionClass(e, fields.expanded, EXPANDED);\n        e.item.setAttribute(\"tabindex\", \"-1\");\n        EventHandler.add(e.item, 'focus', this.focusIn, this);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            var textEle = e.item.querySelector('.' + LISTTEXT);\n            var dataId = e.item.getAttribute('data-uid');\n            textEle.innerHTML = '';\n            this.renderNodeTemplate(e.curData, textEle, dataId);\n        }\n        var eventArgs = {\n            node: e.item,\n            nodeData: e.curData,\n            text: e.text,\n        };\n        if (!this.isRefreshed) {\n            this.trigger('drawNode', eventArgs);\n            if (e.curData[this.fields.selectable] === false && !this.showCheckBox) {\n                e.item.classList.add(PREVENTSELECT);\n                e.item.firstElementChild.setAttribute('style', 'cursor: not-allowed');\n            }\n        }\n    };\n    TreeView.prototype.frameMouseHandler = function (e) {\n        var rippleSpan = select('.' + CHECKBOXRIPPLE, e.target.parentElement);\n        rippleMouseHandler(e, rippleSpan);\n    };\n    TreeView.prototype.addActionClass = function (e, action, cssClass) {\n        var data = e.curData;\n        var actionValue = getValue(action, data);\n        if (!isNullOrUndefined(actionValue) && actionValue.toString() !== 'false') {\n            e.item.classList.add(cssClass);\n        }\n    };\n    TreeView.prototype.getDataType = function (ds, mapper) {\n        if (this.fields.dataSource instanceof DataManager) {\n            for (var i = 0; i < ds.length; i++) {\n                if (this.isOffline) {\n                    if ((typeof mapper.child === 'string') && isNullOrUndefined(getValue(mapper.child, ds[i])) && !isNullOrUndefined(getValue(mapper.parentID, ds[i]))) {\n                        return 1;\n                    }\n                }\n                else if ((typeof mapper.child === 'string') && isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n                    return 1;\n                }\n            }\n            return 2;\n        }\n        for (var i = 0, len = ds.length; i < len; i++) {\n            if ((typeof mapper.child === 'string') && !isNullOrUndefined(getValue(mapper.child, ds[i]))) {\n                return 2;\n            }\n            if (!isNullOrUndefined(getValue(mapper.parentID, ds[i])) || !isNullOrUndefined(getValue(mapper.hasChildren, ds[i]))) {\n                return 1;\n            }\n        }\n        return 1;\n    };\n    TreeView.prototype.getGroupedData = function (dataSource, groupBy) {\n        var cusQuery = new Query().group(groupBy);\n        var ds = ListBase.getDataSource(dataSource, cusQuery);\n        var grpItem = [];\n        for (var j = 0; j < ds.length; j++) {\n            var itemObj = ds[j].items;\n            grpItem.push(itemObj);\n        }\n        return grpItem;\n    };\n    TreeView.prototype.getSortedData = function (list) {\n        if (list && this.sortOrder !== 'None') {\n            list = ListBase.getDataSource(list, ListBase.addSorting(this.sortOrder, this.fields.text));\n        }\n        return list;\n    };\n    TreeView.prototype.finalizeNode = function (element) {\n        var iNodes = selectAll('.' + IMAGE, element);\n        for (var k = 0; k < iNodes.length; k++) {\n            iNodes[k].setAttribute('alt', IMAGE);\n        }\n        if (this.isLoaded) {\n            var sNodes = selectAll('.' + SELECTED$1, element);\n            for (var i = 0; i < sNodes.length; i++) {\n                this.selectNode(sNodes[i], null);\n                break;\n            }\n            removeClass(sNodes, SELECTED$1);\n        }\n        var cNodes = selectAll('.' + LISTITEM + ':not(.' + EXPANDED + ')', element);\n        for (var j = 0; j < cNodes.length; j++) {\n            var icon = select('div.' + ICON, cNodes[j]);\n            if (icon && icon.classList.contains(EXPANDABLE)) {\n                this.disableExpandAttr(cNodes[j]);\n            }\n        }\n        var eNodes = selectAll('.' + EXPANDED, element);\n        if (!this.isInitalExpand) {\n            for (var i = 0; i < eNodes.length; i++) {\n                this.renderChildNodes(eNodes[i]);\n            }\n        }\n        removeClass(eNodes, EXPANDED);\n        this.updateList();\n        if (this.isLoaded) {\n            this.updateCheckedProp();\n        }\n    };\n    TreeView.prototype.updateCheckedProp = function () {\n        if (this.showCheckBox) {\n            var nodes = [].concat([], this.checkedNodes);\n            this.setProperties({ checkedNodes: nodes }, true);\n        }\n    };\n    TreeView.prototype.ensureIndeterminate = function () {\n        if (this.autoCheck) {\n            var liElement = selectAll('li', this.element);\n            var ulElement = void 0;\n            for (var i = 0; i < liElement.length; i++) {\n                if (liElement[i].classList.contains(LISTITEM)) {\n                    ulElement = select('.' + PARENTITEM, liElement[i]);\n                    if (ulElement) {\n                        this.ensureParentCheckState(liElement[i]);\n                    }\n                    else {\n                        this.ensureChildCheckState(liElement[i]);\n                    }\n                }\n            }\n        }\n        else {\n            var indeterminate = selectAll('.' + INDETERMINATE, this.element);\n            for (var i = 0; i < indeterminate.length; i++) {\n                indeterminate[i].classList.remove(INDETERMINATE);\n            }\n        }\n    };\n    TreeView.prototype.ensureParentCheckState = function (element) {\n        if (!isNullOrUndefined(element)) {\n            if (element.classList.contains(ROOT)) {\n                return;\n            }\n            var ulElement = element;\n            if (element.classList.contains(LISTITEM)) {\n                ulElement = select('.' + PARENTITEM, element);\n            }\n            var checkedNodes = selectAll('.' + CHECK, ulElement);\n            var indeterminateNodes = selectAll('.' + INDETERMINATE, ulElement);\n            var nodes = selectAll('.' + LISTITEM, ulElement);\n            var checkBoxEle = element.getElementsByClassName(CHECKBOXWRAP)[0];\n            if (nodes.length === checkedNodes.length) {\n                this.changeState(checkBoxEle, 'check', null, true, true);\n            }\n            else if (checkedNodes.length > 0 || indeterminateNodes.length > 0) {\n                this.changeState(checkBoxEle, 'indeterminate', null, true, true);\n            }\n            else if (checkedNodes.length === 0) {\n                this.changeState(checkBoxEle, 'uncheck', null, true, true);\n            }\n            var parentUL = closest(element, '.' + PARENTITEM);\n            if (!isNullOrUndefined(parentUL)) {\n                var currentParent = closest(parentUL, '.' + LISTITEM);\n                this.ensureParentCheckState(currentParent);\n            }\n        }\n    };\n    TreeView.prototype.ensureChildCheckState = function (element, e) {\n        if (!isNullOrUndefined(element)) {\n            var childElement = select('.' + PARENTITEM, element);\n            var checkBoxes = void 0;\n            if (!isNullOrUndefined(childElement)) {\n                checkBoxes = selectAll('.' + CHECKBOXWRAP, childElement);\n                var isChecked = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                var parentCheck = element.getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(INDETERMINATE);\n                var childCheck = childElement.querySelectorAll('li');\n                var expandState = childElement.parentElement.getAttribute('aria-expanded');\n                var checkedState = void 0;\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    var childId = childCheck[index].getAttribute('data-uid');\n                    if (!isNullOrUndefined(this.currentLoadData) && !isNullOrUndefined(getValue(this.fields.isChecked, this.currentLoadData[index]))) {\n                        checkedState = getValue(this.fields.isChecked, this.currentLoadData[index]) ? 'check' : 'uncheck';\n                        if (this.ele !== -1) {\n                            checkedState = isChecked ? 'check' : 'uncheck';\n                        }\n                        if ((checkedState === 'uncheck') && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                            checkedState = 'indeterminate';\n                        }\n                    }\n                    else {\n                        var isNodeChecked = checkBoxes[index].getElementsByClassName(CHECKBOXFRAME)[0].classList.contains(CHECK);\n                        if (isChecked) {\n                            checkedState = 'check';\n                        }\n                        else if (isNodeChecked && !this.isLoaded) {\n                            checkedState = 'check';\n                        }\n                        else if (this.checkedNodes.indexOf(childId) !== -1 && this.isLoaded && (parentCheck || isChecked)) {\n                            checkedState = 'check';\n                        }\n                        else if (childCheck[index].classList.contains(CHILD) && (!isUndefined(this.parentNodeCheck) && this.autoCheck\n                            && (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else if (this.dataType === 1 && (!isUndefined(this.parentNodeCheck) && this.autoCheck &&\n                            (isChecked || parentCheck) && this.parentNodeCheck.indexOf(childId) !== -1)) {\n                            checkedState = 'indeterminate';\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(childId), 1);\n                        }\n                        else {\n                            checkedState = 'uncheck';\n                        }\n                    }\n                    this.changeState(checkBoxes[index], checkedState, e, true, true);\n                }\n            }\n            if (this.autoCheck && this.isLoaded) {\n                this.updateParentCheckState();\n            }\n        }\n    };\n    TreeView.prototype.doCheckBoxAction = function (nodes, doCheck) {\n        var li = selectAll('.' + LISTITEM, this.element);\n        if (!isNullOrUndefined(nodes)) {\n            for (var len = nodes.length; len >= 0; len--) {\n                var liEle = void 0;\n                if (nodes.length === 1) {\n                    liEle = this.getElement(nodes[len - 1]);\n                }\n                else {\n                    liEle = this.getElement(nodes[len]);\n                }\n                if (isNullOrUndefined(liEle)) {\n                    var node = void 0;\n                    node = nodes[len - nodes.length] ? nodes[len - nodes.length].toString() : nodes[len] ? nodes[len].toString() : null;\n                    if (node !== '' && doCheck && node) {\n                        this.setValidCheckedNode(node);\n                        this.dynamicCheckState(node, doCheck);\n                    }\n                    else if (this.checkedNodes.indexOf(node) !== -1 && node !== '' && !doCheck) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(node), 1);\n                        var childItems = this.getChildNodes(this.treeData, node);\n                        if (childItems) {\n                            for (var i = 0; i < childItems.length; i++) {\n                                var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n                                if (this.checkedNodes.indexOf(id) !== -1) {\n                                    this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                                    var ele = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                                    if (ele) {\n                                        this.changeState(ele, 'uncheck', null);\n                                    }\n                                }\n                            }\n                            if (this.parentNodeCheck.indexOf(node) !== -1) {\n                                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(node), 1);\n                            }\n                        }\n                        if (node) {\n                            this.dynamicCheckState(node, doCheck);\n                        }\n                        this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                    }\n                    continue;\n                }\n                var checkBox = select('.' + PARENTITEM + ' .' + CHECKBOXWRAP, liEle);\n                this.validateCheckNode(checkBox, !doCheck, liEle, null);\n            }\n        }\n        else {\n            var checkBoxes = selectAll('.' + CHECKBOXWRAP, this.element);\n            if (this.loadOnDemand) {\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck', null, null, null, doCheck);\n                }\n            }\n            else {\n                for (var index = 0; index < checkBoxes.length; index++) {\n                    this.updateFieldChecked(checkBoxes[index], doCheck);\n                    this.changeState(checkBoxes[index], doCheck ? 'check' : 'uncheck');\n                }\n            }\n        }\n        if (nodes) {\n            for (var j = 0; j < nodes.length; j++) {\n                var node = nodes[j] ? nodes[j].toString() : '';\n                if (!doCheck) {\n                    this.updateField(this.treeData, this.fields, node, 'isChecked', null);\n                }\n            }\n        }\n        if (this.autoCheck) {\n            this.updateParentCheckState();\n        }\n    };\n    TreeView.prototype.updateFieldChecked = function (checkbox, doCheck) {\n        var currLi = closest(checkbox, '.' + LISTITEM);\n        var id = currLi.getAttribute('data-uid');\n        var nodeDetails = this.getNodeData(currLi);\n        if (nodeDetails.isChecked === 'true' && !doCheck) {\n            this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n        }\n    };\n    /**\n     * Changes the parent and child  check state while changing the checkedNodes via setmodel\n     */\n    TreeView.prototype.dynamicCheckState = function (node, doCheck) {\n        if (this.dataType === 1) {\n            var count = 0;\n            var resultId = new DataManager(this.treeData).executeLocal(new Query().where(this.fields.id, 'equal', node, true));\n            if (resultId[0]) {\n                var id = resultId[0][this.fields.id] ? resultId[0][this.fields.id].toString() : null;\n                var parent_1 = resultId[0][this.fields.parentID] ? resultId[0][this.fields.parentID].toString() : null;\n                var parentElement = this.element.querySelector('[data-uid=\"' + parent_1 + '\"]');\n                var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n                var check = parentElement ? select('.' + CHECK, parentElement) : null;\n                var element = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                var childNodes = this.getChildNodes(this.treeData, parent_1);\n                if (childNodes) {\n                    for (var i = 0; i < childNodes.length; i++) {\n                        var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                }\n                if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (id === node) && this.autoCheck) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && element && (id === node) && !doCheck) {\n                    this.changeState(element, 'uncheck', null);\n                }\n                else if (this.checkedNodes.indexOf(node) !== -1 && element && (id === node) && doCheck) {\n                    this.changeState(element, 'check', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count !== 0) {\n                    this.changeState(parentElement, 'indeterminate', null);\n                }\n                else if (this.checkedNodes.indexOf(node) === -1 && !element && parentElement && (id === node) && this.autoCheck\n                    && count === 0) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else if (!element && !parentElement && (id === node) && this.autoCheck) {\n                    this.updateIndeterminate(node, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 2 || (this.fields.dataSource instanceof DataManager &&\n            this.isOffline)) {\n            var id = void 0;\n            var parentElement = void 0;\n            var check = void 0;\n            for (var i = 0; i < this.treeData.length; i++) {\n                id = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : '';\n                parentElement = this.element.querySelector('[data-uid=\"' + id + '\"]');\n                check = parentElement ? select('.' + CHECK, parentElement) : null;\n                if (this.checkedNodes.indexOf(id) === -1 && parentElement && check && !doCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                var subChild = getValue(this.fields.child.toString(), this.treeData[i]);\n                if (subChild) {\n                    this.updateChildIndeterminate(subChild, id, node, doCheck, id);\n                }\n            }\n        }\n    };\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for listData\n     */\n    TreeView.prototype.updateIndeterminate = function (node, doCheck) {\n        var indeterminateData = this.getTreeData(node);\n        var count = 0;\n        var parent;\n        if (this.dataType === 1) {\n            parent = indeterminateData[0][this.fields.parentID] ? indeterminateData[0][this.fields.parentID].toString() : null;\n        }\n        var childNodes = this.getChildNodes(this.treeData, parent);\n        if (childNodes) {\n            for (var i = 0; i < childNodes.length; i++) {\n                var childId = childNodes[i][this.fields.id] ? childNodes[i][this.fields.id].toString() : null;\n                if (this.checkedNodes.indexOf(childId) !== -1) {\n                    count++;\n                }\n            }\n        }\n        var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n        if (parentElement && doCheck) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count !== 0) {\n            this.changeState(parentElement, 'indeterminate', null);\n        }\n        else if (!doCheck && parentElement && this.parentNodeCheck.indexOf(parent) === -1 && count === 0) {\n            this.changeState(parentElement, 'uncheck', null);\n        }\n        else if (!parentElement) {\n            if (!doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent), 1);\n            }\n            else if (doCheck && this.checkedNodes.indexOf(parent) === -1 && this.parentNodeCheck.indexOf(parent) === -1) {\n                this.parentNodeCheck.push(parent);\n            }\n            else if (!doCheck && this.checkedNodes.indexOf(parent) !== -1 && this.parentNodeCheck.indexOf(parent) === -1\n                && count !== 0) {\n                this.parentNodeCheck.push(parent);\n            }\n            this.updateIndeterminate(parent, doCheck);\n            if (this.checkedNodes.indexOf(parent) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(parent), 1);\n            }\n        }\n    };\n    /**\n     * updates the parent and child  check state while changing the checkedNodes via setmodel for hierarchical data\n     */\n    TreeView.prototype.updateChildIndeterminate = function (subChild, parent, node, doCheck, child) {\n        var count = 0;\n        for (var j = 0; j < subChild.length; j++) {\n            var subId = subChild[j][this.fields.id] ? subChild[j][this.fields.id].toString() : '';\n            if (this.checkedNodes.indexOf(subId) !== -1) {\n                count++;\n            }\n            var parentElement = this.element.querySelector('[data-uid=\"' + parent + '\"]');\n            var indeterminate = parentElement ? select('.' + INDETERMINATE, parentElement) : null;\n            var check = parentElement ? select('.' + CHECK, parentElement) : null;\n            var element = this.element.querySelector('[data-uid=\"' + subId + '\"]');\n            var childElementCheck = element ? select('.' + CHECK, element) : null;\n            if (this.checkedNodes.indexOf(node) !== -1 && parentElement && (subId === node) && this.autoCheck) {\n                this.changeState(parentElement, 'indeterminate', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && parentElement && !element && (subId === node) && !doCheck) {\n                if (this.autoCheck) {\n                    this.changeState(parentElement, 'uncheck', null);\n                }\n                else {\n                    if (count !== 0) {\n                        this.changeState(parentElement, 'indeterminate', null);\n                    }\n                    else {\n                        this.changeState(parentElement, 'uncheck', null);\n                    }\n                }\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && element && (subId === node) && !doCheck) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && indeterminate && (subId === node) && this.autoCheck && count === 0\n                && !doCheck) {\n                indeterminate.classList.remove(INDETERMINATE);\n            }\n            else if (this.checkedNodes.indexOf(node) === -1 && !element && check && (subId === node) && count === 0) {\n                this.changeState(parentElement, 'uncheck', null);\n            }\n            else if (this.checkedNodes.indexOf(subId) === -1 && element && childElementCheck && count === 0) {\n                this.changeState(element, 'uncheck', null);\n            }\n            else if (!element && !parentElement && (subId === node) || (this.parentNodeCheck.indexOf(parent) !== -1) && this.autoCheck) {\n                var childElement = this.element.querySelector('[data-uid=\"' + child + '\"]');\n                if (doCheck && count !== 0) {\n                    this.changeState(childElement, 'indeterminate', null);\n                }\n                else if (doCheck && count === subChild.length && this.checkedNodes.indexOf(parent) === -1) {\n                    this.checkedNodes.push(parent);\n                }\n                else if (!doCheck && count === 0 && this.parentNodeCheck.indexOf(parent) !== -1) {\n                    this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(parent));\n                }\n                if (this.parentNodeCheck.indexOf(parent) === -1) {\n                    this.parentNodeCheck.push(parent);\n                }\n            }\n            var innerChild = getValue(this.fields.child.toString(), subChild[j]);\n            if (innerChild) {\n                this.updateChildIndeterminate(innerChild, subId, node, doCheck, child);\n            }\n        }\n    };\n    TreeView.prototype.changeState = function (wrapper, state, e, isPrevent, isAdd, doCheck) {\n        var _this = this;\n        var eventArgs;\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        if (wrapper === currLi) {\n            wrapper = select('.' + CHECKBOXWRAP, currLi);\n        }\n        if (!isPrevent) {\n            this.checkActionNodes = [];\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeCheckAction(wrapper, state, currLi, observedArgs, e, isPrevent, isAdd, doCheck);\n                }\n            });\n        }\n        else {\n            this.nodeCheckAction(wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck);\n        }\n    };\n    TreeView.prototype.nodeCheckAction = function (wrapper, state, currLi, eventArgs, e, isPrevent, isAdd, doCheck) {\n        var ariaState;\n        var frameSpan = wrapper.getElementsByClassName(CHECKBOXFRAME)[0];\n        if (state === 'check' && !frameSpan.classList.contains(CHECK)) {\n            frameSpan.classList.remove(INDETERMINATE);\n            frameSpan.classList.add(CHECK);\n            this.addCheck(currLi);\n            ariaState = 'true';\n        }\n        else if (state === 'uncheck' && (frameSpan.classList.contains(CHECK) || frameSpan.classList.contains(INDETERMINATE))) {\n            removeClass([frameSpan], [CHECK, INDETERMINATE]);\n            this.removeCheck(currLi);\n            ariaState = 'false';\n        }\n        else if (state === 'indeterminate' && this.autoCheck) {\n            frameSpan.classList.remove(CHECK);\n            frameSpan.classList.add(INDETERMINATE);\n            this.removeCheck(currLi);\n            ariaState = 'mixed';\n        }\n        ariaState = state === 'check' ? 'true' : state === 'uncheck' ? 'false' : ariaState;\n        if (!isNullOrUndefined(ariaState)) {\n            wrapper.setAttribute('aria-checked', ariaState);\n        }\n        if (isAdd) {\n            var data = [].concat([], this.checkActionNodes);\n            eventArgs = this.getCheckEvent(currLi, state, e);\n            if (isUndefined(isPrevent)) {\n                eventArgs.data = data;\n            }\n        }\n        if (doCheck !== undefined) {\n            this.ensureStateChange(currLi, doCheck);\n        }\n        if (!isPrevent) {\n            if (!isNullOrUndefined(ariaState)) {\n                wrapper.setAttribute('aria-checked', ariaState);\n                eventArgs.data[0].checked = ariaState;\n                this.trigger('nodeChecked', eventArgs);\n                this.checkActionNodes = [];\n            }\n        }\n    };\n    TreeView.prototype.addCheck = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.checkedNodes.indexOf(id) === -1) {\n            this.checkedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeCheck = function (liEle) {\n        var index = this.checkedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.checkedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.getCheckEvent = function (currLi, action, e) {\n        this.checkActionNodes.push(this.getNodeData(currLi));\n        var nodeData = this.checkActionNodes;\n        return { action: action, cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, data: nodeData };\n    };\n    TreeView.prototype.finalize = function () {\n        var firstUl = select('.' + PARENTITEM, this.element);\n        if (!isNullOrUndefined(firstUl)) {\n            firstUl.setAttribute('role', treeAriaAttr.treeRole);\n            this.setMultiSelect(this.allowMultiSelection);\n            var firstNode = select('.' + LISTITEM, this.element);\n            if (firstNode) {\n                firstNode.setAttribute('tabindex', '0');\n                this.updateIdAttr(null, firstNode);\n            }\n            if (this.allowTextWrap) {\n                this.updateWrap();\n            }\n            this.renderReactTemplates();\n            this.hasPid = this.rootData[0] ? this.rootData[0].hasOwnProperty(this.fields.parentID) : false;\n            this.doExpandAction();\n        }\n    };\n    TreeView.prototype.setTextWrap = function () {\n        (this.allowTextWrap ? addClass : removeClass)([this.element], LISTWRAP);\n        if (Browser.isIE) {\n            (this.allowTextWrap ? addClass : removeClass)([this.element], IELISTWRAP);\n        }\n    };\n    TreeView.prototype.updateWrap = function (ulEle) {\n        if (!this.fullRowSelect) {\n            return;\n        }\n        var liEle = ulEle ? selectAll('.' + LISTITEM, ulEle) : this.liList;\n        var length = liEle.length;\n        for (var i = 0; i < length; i++) {\n            this.calculateWrap(liEle[i]);\n        }\n    };\n    TreeView.prototype.calculateWrap = function (liEle) {\n        var element = select('.' + FULLROW, liEle);\n        if (element && element.nextElementSibling) {\n            element.style.height = this.allowTextWrap ? element.nextElementSibling.offsetHeight + 'px' : '';\n        }\n    };\n    TreeView.prototype.doExpandAction = function () {\n        var eUids = this.expandedNodes;\n        if (this.isInitalExpand && eUids.length > 0) {\n            this.setProperties({ expandedNodes: [] }, true);\n            /* eslint-disable */\n            if (this.fields.dataSource instanceof DataManager) {\n                this.expandGivenNodes(eUids);\n            }\n            else {\n                for (var i = 0; i < eUids.length; i++) {\n                    var eNode = select('[data-uid=\"' + eUids[i] + '\"]', this.element);\n                    if (!isNullOrUndefined(eNode)) {\n                        var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n                        if (!isNullOrUndefined(icon)) {\n                            this.expandAction(eNode, icon, null);\n                        }\n                    }\n                    else {\n                        if (eUids[i] && this.expandChildren.indexOf(eUids[i]) === -1) {\n                            this.expandChildren.push(eUids[i].toString());\n                        }\n                        continue;\n                    }\n                }\n                this.afterFinalized();\n            }\n        }\n        else {\n            this.afterFinalized();\n        }\n    };\n    TreeView.prototype.expandGivenNodes = function (arr) {\n        var proxy = this;\n        this.expandCallback(arr[this.index], function () {\n            proxy.index++;\n            if (proxy.index < arr.length) {\n                proxy.expandGivenNodes(arr);\n            }\n            else {\n                proxy.afterFinalized();\n            }\n        });\n    };\n    TreeView.prototype.expandCallback = function (eUid, callback) {\n        var eNode = select('[data-uid=\"' + eUid + '\"]', this.element);\n        if (!isNullOrUndefined(eNode)) {\n            var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, eNode));\n            if (!isNullOrUndefined(icon)) {\n                this.expandAction(eNode, icon, null, false, callback);\n            }\n            else {\n                callback();\n            }\n        }\n        else {\n            callback();\n        }\n    };\n    TreeView.prototype.afterFinalized = function () {\n        this.doSelectionAction();\n        this.updateCheckedProp();\n        this.isAnimate = true;\n        this.isInitalExpand = false;\n        if ((!this.isLoaded || this.isFieldChange) && !this.isNodeDropped) {\n            var eventArgs = { data: this.treeData };\n            this.trigger('dataBound', eventArgs);\n        }\n        this.isLoaded = true;\n        this.isNodeDropped = false;\n    };\n    TreeView.prototype.doSelectionAction = function () {\n        var sNodes = selectAll('.' + SELECTED$1, this.element);\n        var sUids = this.selectedNodes;\n        if (sUids.length > 0) {\n            this.setProperties({ selectedNodes: [] }, true);\n            for (var i = 0; i < sUids.length; i++) {\n                var sNode = select('[data-uid=\"' + sUids[i] + '\"]', this.element);\n                if (sNode && !(sNode.classList.contains('e-active'))) {\n                    this.selectNode(sNode, null, true);\n                }\n                else {\n                    this.selectedNodes.push(sUids[i]);\n                }\n                if (!this.allowMultiSelection) {\n                    break;\n                }\n            }\n        }\n        else {\n            this.selectGivenNodes(sNodes);\n        }\n        removeClass(sNodes, SELECTED$1);\n    };\n    TreeView.prototype.selectGivenNodes = function (sNodes) {\n        for (var i = 0; i < sNodes.length; i++) {\n            if (!sNodes[i].classList.contains('e-disable')) {\n                this.selectNode(sNodes[i], null, true);\n            }\n            if (!this.allowMultiSelection) {\n                break;\n            }\n        }\n    };\n    TreeView.prototype.clickHandler = function (event) {\n        var target = Browser.isDevice && !Browser.isIos ? document.elementFromPoint(event.originalEvent.changedTouches[0].clientX, event.originalEvent.changedTouches[0].clientY) : event.originalEvent.target;\n        EventHandler.remove(this.element, 'contextmenu', this.preventContextMenu);\n        if (!target || this.dragStartAction) {\n            return;\n        }\n        else {\n            var classList$$1 = target.classList;\n            var li = closest(target, '.' + LISTITEM);\n            if (!li || (li.classList.contains(PREVENTSELECT) && !(classList$$1.contains(EXPANDABLE) || classList$$1.contains(COLLAPSIBLE)))) {\n                return;\n            }\n            else if (event.originalEvent.which !== 3) {\n                var rippleElement = select('.' + RIPPLEELMENT, li);\n                var rippleIcons = select('.' + ICON, li);\n                this.removeHover();\n                this.setFocusElement(li);\n                if (this.showCheckBox && !li.classList.contains('e-disable')) {\n                    var checkWrapper = closest(target, '.' + CHECKBOXWRAP);\n                    if (!isNullOrUndefined(checkWrapper)) {\n                        var checkElement = select('.' + CHECKBOXFRAME, checkWrapper);\n                        this.validateCheckNode(checkWrapper, checkElement.classList.contains(CHECK), li, event.originalEvent);\n                        this.triggerClickEvent(event.originalEvent, li);\n                        return;\n                    }\n                }\n                if (classList$$1.contains(EXPANDABLE)) {\n                    this.expandAction(li, target, event);\n                }\n                else if (classList$$1.contains(COLLAPSIBLE)) {\n                    this.collapseNode(li, target, event);\n                }\n                else if (rippleElement && rippleIcons) {\n                    if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(EXPANDABLE)) {\n                        this.expandAction(li, rippleIcons, event);\n                    }\n                    else if (rippleIcons.classList.contains(RIPPLE) && rippleIcons.classList.contains(COLLAPSIBLE)) {\n                        this.collapseNode(li, rippleIcons, event);\n                    }\n                    else if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n                else {\n                    if (!classList$$1.contains(PARENTITEM) && !classList$$1.contains(LISTITEM)) {\n                        this.toggleSelect(li, event.originalEvent, false);\n                    }\n                }\n            }\n            if (event.originalEvent.which === 3) {\n                this.isRightClick = true;\n            }\n            this.triggerClickEvent(event.originalEvent, li);\n        }\n    };\n    TreeView.prototype.nodeCheckedEvent = function (wrapper, isCheck, e) {\n        var currLi = closest(wrapper, '.' + LISTITEM);\n        var eventArgs = this.getCheckEvent(wrapper, isCheck ? 'uncheck' : 'check', e);\n        eventArgs.data = eventArgs.data.splice(0, eventArgs.data.length - 1);\n        this.trigger('nodeChecked', eventArgs);\n    };\n    TreeView.prototype.triggerClickEvent = function (e, li) {\n        var eventArgs = {\n            event: e,\n            node: li,\n        };\n        this.trigger('nodeClicked', eventArgs);\n    };\n    TreeView.prototype.expandNode = function (currLi, icon, loaded) {\n        var _this = this;\n        this.renderReactTemplates();\n        if (icon.classList.contains(LOAD)) {\n            this.hideSpinner(icon);\n        }\n        if (!this.initialRender) {\n            icon.classList.add('interaction');\n        }\n        if (loaded !== true || (loaded === true && currLi.classList.contains('e-expanded'))) {\n            if (this.preventExpand !== true) {\n                removeClass([icon], EXPANDABLE);\n                addClass([icon], COLLAPSIBLE);\n                var start_1 = 0;\n                var end_1 = 0;\n                var proxy_1 = this;\n                var ul_1 = select('.' + PARENTITEM, currLi);\n                var liEle_1 = currLi;\n                this.setHeight(liEle_1, ul_1);\n                var activeElement_1 = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n                if (this.isAnimate && !this.isRefreshed) {\n                    this.aniObj.animate(ul_1, {\n                        name: this.animation.expand.effect,\n                        duration: this.animation.expand.duration,\n                        timingFunction: this.animation.expand.easing,\n                        begin: function (args) {\n                            liEle_1.style.overflow = 'hidden';\n                            if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                                activeElement_1.classList.add(ITEM_ANIMATION_ACTIVE);\n                            }\n                            start_1 = liEle_1.offsetHeight;\n                            end_1 = select('.' + TEXTWRAP, currLi).offsetHeight;\n                        },\n                        progress: function (args) {\n                            args.element.style.display = 'block';\n                            proxy_1.animateHeight(args, start_1, end_1);\n                        },\n                        end: function (args) {\n                            args.element.style.display = 'block';\n                            if (!isNullOrUndefined(activeElement_1) && activeElement_1 instanceof HTMLElement) {\n                                activeElement_1.classList.remove(ITEM_ANIMATION_ACTIVE);\n                            }\n                            _this.expandedNode(liEle_1, ul_1, icon);\n                        }\n                    });\n                }\n                else {\n                    this.expandedNode(liEle_1, ul_1, icon);\n                }\n            }\n        }\n        else {\n            var ul = select('.' + PARENTITEM, currLi);\n            ul.style.display = 'none';\n            if (this.fields.dataSource instanceof DataManager === true) {\n                this.preventExpand = false;\n            }\n        }\n        if (this.initialRender) {\n            icon.classList.add('interaction');\n        }\n    };\n    TreeView.prototype.expandedNode = function (currLi, ul, icon) {\n        ul.style.display = 'block';\n        currLi.style.display = 'block';\n        currLi.style.overflow = '';\n        currLi.style.height = '';\n        removeClass([icon], PROCESS);\n        this.addExpand(currLi);\n        if (this.allowTextWrap && this.isLoaded && this.isFirstRender) {\n            this.updateWrap(currLi);\n            this.isFirstRender = false;\n        }\n        if (this.isLoaded && this.expandArgs && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, null);\n            this.expandArgs.isInteracted = this.isInteracted;\n            this.trigger('nodeExpanded', this.expandArgs);\n        }\n    };\n    TreeView.prototype.addExpand = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'true');\n        removeClass([liEle], NODECOLLAPSED);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.expandedNodes.indexOf(id) === -1) {\n            this.expandedNodes.push(id);\n        }\n    };\n    TreeView.prototype.collapseNode = function (currLi, icon, e) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        var colArgs;\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(currLi, e);\n            this.isInteracted = colArgs.isInteracted;\n            this.trigger('nodeCollapsing', colArgs, function (observedArgs) {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    _this.nodeCollapseAction(currLi, icon, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeCollapseAction(currLi, icon, colArgs);\n        }\n    };\n    TreeView.prototype.nodeCollapseAction = function (currLi, icon, colArgs) {\n        var _this = this;\n        removeClass([icon], COLLAPSIBLE);\n        addClass([icon], EXPANDABLE);\n        var start = 0;\n        var end = 0;\n        var proxy = this;\n        var ul = select('.' + PARENTITEM, currLi);\n        var liEle = currLi;\n        var activeElement = select('.' + LISTITEM + '.' + ACTIVE, currLi);\n        if (this.isAnimate) {\n            this.aniObj.animate(ul, {\n                name: this.animation.collapse.effect,\n                duration: this.animation.collapse.duration,\n                timingFunction: this.animation.collapse.easing,\n                begin: function (args) {\n                    liEle.style.overflow = 'hidden';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.add(ITEM_ANIMATION_ACTIVE);\n                    }\n                    start = select('.' + TEXTWRAP, currLi).offsetHeight;\n                    end = liEle.offsetHeight;\n                },\n                progress: function (args) {\n                    proxy.animateHeight(args, start, end);\n                },\n                end: function (args) {\n                    args.element.style.display = 'none';\n                    if (!isNullOrUndefined(activeElement) && activeElement instanceof HTMLElement) {\n                        activeElement.classList.remove(ITEM_ANIMATION_ACTIVE);\n                    }\n                    _this.collapsedNode(liEle, ul, icon, colArgs);\n                }\n            });\n        }\n        else {\n            this.collapsedNode(liEle, ul, icon, colArgs);\n        }\n    };\n    TreeView.prototype.collapsedNode = function (liEle, ul, icon, colArgs) {\n        ul.style.display = 'none';\n        liEle.style.overflow = '';\n        liEle.style.height = '';\n        removeClass([icon], PROCESS);\n        this.removeExpand(liEle);\n        if (this.isLoaded) {\n            colArgs = this.getExpandEvent(liEle, null);\n            colArgs.isInteracted = this.isInteracted;\n            this.trigger('nodeCollapsed', colArgs);\n        }\n    };\n    TreeView.prototype.removeExpand = function (liEle, toRemove) {\n        if (toRemove) {\n            liEle.removeAttribute('aria-expanded');\n        }\n        else {\n            this.disableExpandAttr(liEle);\n        }\n        var index = this.expandedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.expandedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.disableExpandAttr = function (liEle) {\n        liEle.setAttribute('aria-expanded', 'false');\n        addClass([liEle], NODECOLLAPSED);\n    };\n    TreeView.prototype.setHeight = function (currLi, ul) {\n        ul.style.display = 'block';\n        ul.style.visibility = 'hidden';\n        currLi.style.height = currLi.offsetHeight + 'px';\n        ul.style.display = 'none';\n        ul.style.visibility = '';\n    };\n    TreeView.prototype.animateHeight = function (args, start, end) {\n        var remaining = (args.duration - args.timeStamp) / args.duration;\n        var currentHeight = (end - start) * remaining + start;\n        args.element.parentElement.style.height = currentHeight + 'px';\n    };\n    TreeView.prototype.renderChildNodes = function (parentLi, expandChild, callback, loaded) {\n        var _this = this;\n        var eicon = select('div.' + ICON, parentLi);\n        if (isNullOrUndefined(eicon)) {\n            return;\n        }\n        this.showSpinner(eicon);\n        var childItems;\n        /* eslint-disable */\n        if (this.fields.dataSource instanceof DataManager) {\n            var level = this.parents(parentLi, '.' + PARENTITEM).length;\n            var mapper_2 = this.getChildFields(this.fields, level, 1);\n            if (isNullOrUndefined(mapper_2) || isNullOrUndefined(mapper_2.dataSource)) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            this.treeList.push('false');\n            if (this.fields.dataSource instanceof DataManager && this.isOffline) {\n                this.treeList.pop();\n                childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n                this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n            }\n            else {\n                mapper_2.dataSource.executeQuery(this.getQuery(mapper_2, parentLi.getAttribute('data-uid'))).then(function (e) {\n                    _this.treeList.pop();\n                    childItems = e.result;\n                    if (_this.dataType === 1) {\n                        _this.dataType = 2;\n                    }\n                    _this.loadChild(childItems, mapper_2, eicon, parentLi, expandChild, callback, loaded);\n                }).catch(function (e) {\n                    _this.trigger('actionFailure', { error: e });\n                });\n            }\n        }\n        else {\n            childItems = this.getChildNodes(this.treeData, parentLi.getAttribute('data-uid'));\n            this.currentLoadData = this.getSortedData(childItems);\n            if (isNullOrUndefined(childItems) || childItems.length === 0) {\n                detach(eicon);\n                this.removeExpand(parentLi, true);\n                return;\n            }\n            else {\n                this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n                parentLi.appendChild(ListBase.createList(this.createElement, this.currentLoadData, this.listBaseOption));\n                this.expandNode(parentLi, eicon, loaded);\n                this.setSelectionForChildNodes(childItems);\n                this.ensureCheckNode(parentLi);\n                this.finalizeNode(parentLi);\n                this.disableTreeNodes(childItems);\n                this.renderSubChild(parentLi, expandChild, loaded);\n            }\n        }\n    };\n    TreeView.prototype.loadChild = function (childItems, mapper, eicon, parentLi, expandChild, callback, loaded) {\n        this.currentLoadData = childItems;\n        if (isNullOrUndefined(childItems) || childItems.length === 0) {\n            detach(eicon);\n            this.removeExpand(parentLi, true);\n        }\n        else {\n            this.updateListProp(mapper);\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                var id = parentLi.getAttribute('data-uid');\n                var nodeData = this.getNodeObject(id);\n                setValue('child', childItems, nodeData);\n            }\n            this.listBaseOption.ariaAttributes.level = parseFloat(parentLi.getAttribute('aria-level')) + 1;\n            parentLi.appendChild(ListBase.createList(this.createElement, childItems, this.listBaseOption));\n            this.expandNode(parentLi, eicon, loaded);\n            this.setSelectionForChildNodes(childItems);\n            this.ensureCheckNode(parentLi);\n            this.finalizeNode(parentLi);\n            this.disableTreeNodes(childItems);\n            this.renderSubChild(parentLi, expandChild, loaded);\n        }\n        if (callback) {\n            callback();\n        }\n        if (this.treeList.length === 0 && !this.isLoaded) {\n            this.finalize();\n        }\n    };\n    TreeView.prototype.disableTreeNodes = function (childItems) {\n        var i = 0;\n        while (i < childItems.length) {\n            var id = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            if (this.disableNode !== undefined && this.disableNode.indexOf(id) !== -1) {\n                this.doDisableAction([id]);\n            }\n            i++;\n        }\n    };\n    /**\n     * Sets the child Item in selectedState while rendering the child node\n     */\n    TreeView.prototype.setSelectionForChildNodes = function (nodes) {\n        var i;\n        for (i = 0; i < nodes.length; i++) {\n            var id = nodes[i][this.fields.id] ? nodes[i][this.fields.id].toString() : null;\n            if (this.selectedNodes !== undefined && this.selectedNodes.indexOf(id) !== -1) {\n                this.doSelectionAction();\n            }\n        }\n    };\n    TreeView.prototype.ensureCheckNode = function (element) {\n        if (this.showCheckBox) {\n            this.ele = (this.checkedElement) ? this.checkedElement.indexOf(element.getAttribute('data-uid')) : null;\n            if (this.autoCheck) {\n                this.ensureChildCheckState(element);\n                this.ensureParentCheckState(element);\n            }\n        }\n        this.currentLoadData = null;\n    };\n    TreeView.prototype.getFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return mapper;\n        }\n        else {\n            return this.getFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildFields = function (mapper, nodeLevel, dataLevel) {\n        if (nodeLevel === dataLevel) {\n            return this.getChildMapper(mapper);\n        }\n        else {\n            return this.getChildFields(this.getChildMapper(mapper), nodeLevel, dataLevel + 1);\n        }\n    };\n    TreeView.prototype.getChildMapper = function (mapper) {\n        return (typeof mapper.child === 'string' || isNullOrUndefined(mapper.child)) ? mapper : mapper.child;\n    };\n    TreeView.prototype.getChildNodes = function (obj, parentId, isRoot) {\n        var _this = this;\n        if (isRoot === void 0) { isRoot = false; }\n        var childNodes;\n        if (isNullOrUndefined(obj)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            return this.getChildGroup(this.groupedData, parentId, isRoot);\n        }\n        else {\n            if (typeof this.fields.child === 'string') {\n                var index = obj.findIndex(function (data) { return data[_this.fields.id] && data[_this.fields.id].toString() === parentId; });\n                if (index !== -1) {\n                    return getValue(this.fields.child, obj[index]);\n                }\n                if (index === -1) {\n                    for (var i = 0, objlen = obj.length; i < objlen; i++) {\n                        var tempArray = getValue(this.fields.child, obj[i]);\n                        var childIndex = !isNullOrUndefined(tempArray) ? tempArray.findIndex(function (data) { return data[_this.fields.id] && data[_this.fields.id].toString() === parentId; }) : -1;\n                        if (childIndex !== -1) {\n                            return getValue(this.fields.child, tempArray[childIndex]);\n                        }\n                        else if (!isNullOrUndefined(tempArray)) {\n                            childNodes = this.getChildNodes(tempArray, parentId);\n                            if (childNodes !== undefined) {\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildGroup = function (data, parentId, isRoot) {\n        var childNodes;\n        if (isNullOrUndefined(data)) {\n            return childNodes;\n        }\n        for (var i = 0, objlen = data.length; i < objlen; i++) {\n            if (!isNullOrUndefined(data[i][0]) && !isNullOrUndefined(getValue(this.fields.parentID, data[i][0]))) {\n                if (getValue(this.fields.parentID, data[i][0]).toString() === parentId) {\n                    return data[i];\n                }\n            }\n            else if (isRoot) {\n                return data[i];\n            }\n            else {\n                return [];\n            }\n        }\n        return childNodes;\n    };\n    TreeView.prototype.renderSubChild = function (element, expandChild, loaded) {\n        if (expandChild) {\n            var cIcons = selectAll('.' + EXPANDABLE, element);\n            for (var i = 0, len = cIcons.length; i < len; i++) {\n                var icon = cIcons[i];\n                if (element.querySelector('.e-icons') !== cIcons[i]) {\n                    var curLi = closest(icon, '.' + LISTITEM);\n                    this.expandArgs = this.getExpandEvent(curLi, null);\n                    if (loaded !== true) {\n                        this.trigger('nodeExpanding', this.expandArgs);\n                    }\n                    this.renderChildNodes(curLi, expandChild, null, loaded);\n                }\n            }\n        }\n    };\n    TreeView.prototype.toggleSelect = function (li, e, multiSelect) {\n        if (!li.classList.contains('e-disable')) {\n            if (this.allowMultiSelection && ((e && e.ctrlKey) || multiSelect) && this.isActive(li)) {\n                this.unselectNode(li, e);\n            }\n            else {\n                this.selectNode(li, e, multiSelect);\n            }\n        }\n    };\n    TreeView.prototype.isActive = function (li) {\n        return li.classList.contains(ACTIVE) ? true : false;\n    };\n    TreeView.prototype.selectNode = function (li, e, multiSelect) {\n        var _this = this;\n        if (isNullOrUndefined(li) || (!this.allowMultiSelection && this.isActive(li) && !isNullOrUndefined(e))) {\n            this.setFocusElement(li);\n            return;\n        }\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'select', e);\n            this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n                if ((!observedArgs.cancel) && !observedArgs.node.classList.contains(PREVENTSELECT)) {\n                    _this.nodeSelectAction(li, e, observedArgs, multiSelect);\n                }\n            });\n        }\n        else {\n            this.nodeSelectAction(li, e, eventArgs, multiSelect);\n        }\n    };\n    TreeView.prototype.nodeSelectAction = function (li, e, eventArgs, multiSelect) {\n        if (!this.allowMultiSelection || (!multiSelect && (!e || (e && !e.ctrlKey)))) {\n            this.removeSelectAll();\n        }\n        if (this.allowMultiSelection && e && e.shiftKey) {\n            if (!this.startNode) {\n                this.startNode = li;\n            }\n            var startIndex = this.liList.indexOf(this.startNode);\n            var endIndex = this.liList.indexOf(li);\n            if (startIndex > endIndex) {\n                var temp = startIndex;\n                startIndex = endIndex;\n                endIndex = temp;\n            }\n            for (var i = startIndex; i <= endIndex; i++) {\n                var currNode = this.liList[i];\n                if (isVisible(currNode) && !currNode.classList.contains('e-disable')) {\n                    this.addSelect(currNode);\n                }\n            }\n        }\n        else {\n            this.startNode = li;\n            this.addSelect(li);\n        }\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n            this.isRightClick = false;\n        }\n        this.isRightClick = false;\n    };\n    TreeView.prototype.unselectNode = function (li, e) {\n        var _this = this;\n        var eventArgs;\n        if (this.isLoaded) {\n            eventArgs = this.getSelectEvent(li, 'un-select', e);\n            this.trigger('nodeSelecting', eventArgs, function (observedArgs) {\n                if (!observedArgs.cancel) {\n                    _this.nodeUnselectAction(li, observedArgs);\n                }\n            });\n        }\n        else {\n            this.nodeUnselectAction(li, eventArgs);\n        }\n    };\n    TreeView.prototype.nodeUnselectAction = function (li, eventArgs) {\n        this.removeSelect(li);\n        this.setFocusElement(li);\n        if (this.isLoaded) {\n            eventArgs.nodeData = this.getNodeData(li);\n            this.trigger('nodeSelected', eventArgs);\n        }\n    };\n    TreeView.prototype.setFocusElement = function (li) {\n        if (!isNullOrUndefined(li)) {\n            var focusedNode = this.getFocusedNode();\n            if (focusedNode) {\n                removeClass([focusedNode], FOCUS);\n                focusedNode.setAttribute(\"tabindex\", \"-1\");\n            }\n            addClass([li], FOCUS);\n            li.setAttribute('tabindex', '0');\n            EventHandler.add(li, 'blur', this.focusOut, this);\n            this.updateIdAttr(focusedNode, li);\n        }\n    };\n    TreeView.prototype.addSelect = function (liEle) {\n        liEle.setAttribute('aria-selected', 'true');\n        addClass([liEle], ACTIVE);\n        var id = liEle.getAttribute('data-uid');\n        if (!isNullOrUndefined(id) && this.selectedNodes.indexOf(id) === -1) {\n            this.selectedNodes.push(id);\n        }\n    };\n    TreeView.prototype.removeSelect = function (liEle) {\n        if (this.allowMultiSelection) {\n            liEle.setAttribute('aria-selected', 'false');\n        }\n        else {\n            liEle.removeAttribute('aria-selected');\n        }\n        removeClass([liEle], ACTIVE);\n        var index = this.selectedNodes.indexOf(liEle.getAttribute('data-uid'));\n        if (index > -1) {\n            this.selectedNodes.splice(index, 1);\n        }\n    };\n    TreeView.prototype.removeSelectAll = function () {\n        var selectedLI = this.element.querySelectorAll('.' + ACTIVE);\n        for (var _i = 0, selectedLI_1 = selectedLI; _i < selectedLI_1.length; _i++) {\n            var ele = selectedLI_1[_i];\n            if (this.allowMultiSelection) {\n                ele.setAttribute('aria-selected', 'false');\n            }\n            else {\n                ele.removeAttribute('aria-selected');\n            }\n        }\n        removeClass(selectedLI, ACTIVE);\n        this.setProperties({ selectedNodes: [] }, true);\n    };\n    TreeView.prototype.getSelectEvent = function (currLi, action, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { action: action, cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, nodeData: nodeData };\n    };\n    TreeView.prototype.setExpandOnType = function () {\n        this.expandOnType = (this.expandOn === 'Auto') ? (Browser.isDevice ? 'Click' : 'DblClick') : this.expandOn;\n    };\n    TreeView.prototype.expandHandler = function (e) {\n        var target = e.originalEvent.target;\n        if (!target || target.classList.contains(INPUT) || target.classList.contains(ROOT) ||\n            target.classList.contains(PARENTITEM) || target.classList.contains(LISTITEM) ||\n            target.classList.contains(ICON) || this.showCheckBox && closest(target, '.' + CHECKBOXWRAP)) {\n            return;\n        }\n        else {\n            this.expandCollapseAction(closest(target, '.' + LISTITEM), e);\n        }\n    };\n    TreeView.prototype.expandCollapseAction = function (currLi, e) {\n        var icon = select('div.' + ICON, currLi);\n        if (!icon || icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            var classList$$1 = icon.classList;\n            if (classList$$1.contains(EXPANDABLE)) {\n                this.expandAction(currLi, icon, e);\n            }\n            else if (classList$$1.contains(COLLAPSIBLE)) {\n                this.collapseNode(currLi, icon, e);\n            }\n        }\n    };\n    TreeView.prototype.expandAction = function (currLi, icon, e, expandChild, callback) {\n        var _this = this;\n        if (icon.classList.contains(PROCESS)) {\n            return;\n        }\n        else {\n            addClass([icon], PROCESS);\n        }\n        if (this.isLoaded && !this.isRefreshed) {\n            this.expandArgs = this.getExpandEvent(currLi, e);\n            this.isInteracted = this.expandArgs.isInteracted;\n            this.trigger('nodeExpanding', this.expandArgs, function (observedArgs) {\n                if (observedArgs.cancel) {\n                    removeClass([icon], PROCESS);\n                }\n                else {\n                    _this.nodeExpandAction(currLi, icon, expandChild, callback);\n                }\n            });\n        }\n        else {\n            this.nodeExpandAction(currLi, icon, expandChild, callback);\n        }\n    };\n    TreeView.prototype.nodeExpandAction = function (currLi, icon, expandChild, callback) {\n        var ul = select('.' + PARENTITEM, currLi);\n        if (ul && ul.nodeName === 'UL') {\n            this.expandNode(currLi, icon);\n        }\n        else {\n            this.isFirstRender = true;\n            this.renderChildNodes(currLi, expandChild, callback);\n            var liEles = selectAll('.' + LISTITEM, currLi);\n            for (var i = 0; i < liEles.length; i++) {\n                var id = this.getId(liEles[i]);\n                if (this.expandChildren.indexOf(id) !== -1 && this.expandChildren !== undefined) {\n                    var icon_1 = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEles[i]));\n                    if (!isNullOrUndefined(icon_1)) {\n                        this.expandAction(liEles[i], icon_1, null);\n                    }\n                    this.expandChildren.splice(this.expandChildren.indexOf(id), 1);\n                }\n            }\n        }\n    };\n    TreeView.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var target = e.target;\n        var focusedNode = this.getFocusedNode();\n        if (target && target.classList.contains(INPUT)) {\n            var inpEle = target;\n            if (e.action === 'enter') {\n                inpEle.blur();\n            }\n            else if (e.action === 'escape') {\n                inpEle.value = this.oldText;\n                inpEle.blur();\n            }\n            return;\n        }\n        e.preventDefault();\n        var eventArgs = {\n            cancel: false,\n            event: e,\n            node: focusedNode,\n        };\n        this.trigger('keyPress', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                switch (e.action) {\n                    case 'space':\n                        if (_this.showCheckBox) {\n                            _this.checkNode(e);\n                        }\n                        else {\n                            _this.toggleSelect(focusedNode, e);\n                        }\n                        break;\n                    case 'moveRight':\n                        _this.openNode(_this.enableRtl ? false : true, e);\n                        break;\n                    case 'moveLeft':\n                        _this.openNode(_this.enableRtl ? true : false, e);\n                        break;\n                    case 'shiftDown':\n                        _this.shiftKeySelect(true, e);\n                        break;\n                    case 'moveDown':\n                    case 'ctrlDown':\n                    case 'csDown':\n                        _this.navigateNode(true);\n                        break;\n                    case 'shiftUp':\n                        _this.shiftKeySelect(false, e);\n                        break;\n                    case 'moveUp':\n                    case 'ctrlUp':\n                    case 'csUp':\n                        _this.navigateNode(false);\n                        break;\n                    case 'home':\n                    case 'shiftHome':\n                    case 'ctrlHome':\n                    case 'csHome':\n                        _this.navigateRootNode(true);\n                        break;\n                    case 'end':\n                    case 'shiftEnd':\n                    case 'ctrlEnd':\n                    case 'csEnd':\n                        _this.navigateRootNode(false);\n                        break;\n                    case 'enter':\n                    case 'ctrlEnter':\n                    case 'shiftEnter':\n                    case 'csEnter':\n                    case 'shiftSpace':\n                    case 'ctrlSpace':\n                        _this.toggleSelect(focusedNode, e);\n                        break;\n                    case 'f2':\n                        if (_this.allowEditing && !focusedNode.classList.contains('e-disable')) {\n                            _this.createTextbox(focusedNode, e);\n                        }\n                        break;\n                    case 'ctrlA':\n                        if (_this.allowMultiSelection) {\n                            var sNodes = selectAll('.' + LISTITEM + ':not(.' + ACTIVE + ')', _this.element);\n                            _this.selectGivenNodes(sNodes);\n                        }\n                        break;\n                }\n            }\n        });\n    };\n    TreeView.prototype.navigateToFocus = function (isUp) {\n        var focusNode = this.getFocusedNode().querySelector('.' + TEXTWRAP);\n        var pos = focusNode.getBoundingClientRect();\n        var parent = this.getScrollParent(this.element);\n        if (!isNullOrUndefined(parent)) {\n            var parentPos = parent.getBoundingClientRect();\n            if (pos.bottom > parentPos.bottom) {\n                parent.scrollTop += pos.bottom - parentPos.bottom;\n            }\n            else if (pos.top < parentPos.top) {\n                parent.scrollTop -= parentPos.top - pos.top;\n            }\n        }\n        var isVisible$$1 = this.isVisibleInViewport(focusNode);\n        if (!isVisible$$1) {\n            focusNode.scrollIntoView(isUp);\n        }\n    };\n    TreeView.prototype.isVisibleInViewport = function (txtWrap) {\n        var pos = txtWrap.getBoundingClientRect();\n        return (pos.top >= 0 && pos.left >= 0 && pos.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n            pos.right <= (window.innerWidth || document.documentElement.clientWidth));\n    };\n    TreeView.prototype.getScrollParent = function (node) {\n        if (isNullOrUndefined(node)) {\n            return null;\n        }\n        return (node.scrollHeight > node.clientHeight) ? node : this.getScrollParent(node.parentElement);\n    };\n    TreeView.prototype.shiftKeySelect = function (isTowards, e) {\n        if (this.allowMultiSelection) {\n            var focusedNode = this.getFocusedNode();\n            var nextNode = isTowards ? this.getNextNode(focusedNode) : this.getPrevNode(focusedNode);\n            this.removeHover();\n            this.setFocusElement(nextNode);\n            this.toggleSelect(nextNode, e, false);\n            this.navigateToFocus(!isTowards);\n        }\n        else {\n            this.navigateNode(isTowards);\n        }\n    };\n    TreeView.prototype.checkNode = function (e) {\n        var focusedNode = this.getFocusedNode();\n        var checkWrap = select('.' + CHECKBOXWRAP, focusedNode);\n        var isChecked = select(' .' + CHECKBOXFRAME, checkWrap).classList.contains(CHECK);\n        if (!focusedNode.classList.contains('e-disable')) {\n            if (focusedNode.getElementsByClassName(\"e-checkbox-disabled\").length == 0) {\n                this.validateCheckNode(checkWrap, isChecked, focusedNode, e);\n            }\n        }\n    };\n    TreeView.prototype.validateCheckNode = function (checkWrap, isCheck, li, e) {\n        var _this = this;\n        var currLi = closest(checkWrap, '.' + LISTITEM);\n        this.checkActionNodes = [];\n        var ariaState = !isCheck ? 'true' : 'false';\n        if (!isNullOrUndefined(ariaState)) {\n            checkWrap.setAttribute('aria-checked', ariaState);\n        }\n        var eventArgs = this.getCheckEvent(currLi, isCheck ? 'uncheck' : 'check', e);\n        this.trigger('nodeChecking', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.nodeCheckingAction(checkWrap, isCheck, li, observedArgs, e);\n            }\n        });\n    };\n    TreeView.prototype.nodeCheckingAction = function (checkWrap, isCheck, li, eventArgs, e) {\n        if (this.checkedElement.indexOf(li.getAttribute('data-uid')) === -1) {\n            this.checkedElement.push(li.getAttribute('data-uid'));\n            if (this.autoCheck) {\n                var child = this.getChildNodes(this.treeData, li.getAttribute('data-uid'));\n                (child !== null) ? this.allCheckNode(child, this.checkedElement, null, null, false) : child = null;\n            }\n        }\n        this.changeState(checkWrap, isCheck ? 'uncheck' : 'check', e, true);\n        if (this.autoCheck) {\n            this.ensureChildCheckState(li);\n            this.ensureParentCheckState(closest(closest(li, '.' + PARENTITEM), '.' + LISTITEM));\n            var doCheck = void 0;\n            if (eventArgs.action === 'check') {\n                doCheck = true;\n            }\n            else if (eventArgs.action === 'uncheck') {\n                doCheck = false;\n            }\n            this.ensureStateChange(li, doCheck);\n        }\n        this.nodeCheckedEvent(checkWrap, isCheck, e);\n    };\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM\n     */\n    TreeView.prototype.ensureStateChange = function (li, doCheck) {\n        var childElement = select('.' + PARENTITEM, li);\n        var parentIndex = li.getAttribute('data-uid');\n        var mapper = this.fields;\n        if (this.dataType === 1 && this.autoCheck) {\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.parentID, 'equal', parentIndex, true));\n            for (var i = 0; i < resultData.length; i++) {\n                var resultId = resultData[i][this.fields.id] ? resultData[i][this.fields.id].toString() : null;\n                var isCheck = resultData[i][this.fields.isChecked] ? resultData[i][this.fields.isChecked].toString() : null;\n                if (this.checkedNodes.indexOf(parentIndex) !== -1 && this.checkedNodes.indexOf(resultId) === -1) {\n                    this.checkedNodes.push(resultId);\n                    var childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                    if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null &&\n                    this.checkedNodes.indexOf(resultId) !== -1) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(resultId), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, resultId, 'isChecked', null);\n                    }\n                    if (this.checkedNodes.indexOf(parentIndex) === -1 && childElement === null ||\n                        this.parentNodeCheck.indexOf(resultId) !== -1) {\n                        var childNodes = this.getChildNodes(this.treeData, resultId);\n                        this.getChildItems(childNodes, doCheck);\n                        if (this.parentNodeCheck.indexOf(resultId) !== -1) {\n                            this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(resultId), 1);\n                        }\n                    }\n                }\n                else {\n                    var childItems = this.getChildNodes(this.treeData, resultId);\n                    this.getChildItems(childItems, doCheck);\n                }\n            }\n        }\n        else if (this.dataType === 1 && !this.autoCheck) {\n            if (!doCheck) {\n                var checkedData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.isChecked, 'equal', true, false));\n                for (var i = 0; i < checkedData.length; i++) {\n                    var id = checkedData[i][this.fields.id] ? checkedData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(id) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(id), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, id, 'isChecked', null);\n                }\n                this.checkedNodes = [];\n            }\n            else {\n                for (var i = 0; i < this.treeData.length; i++) {\n                    var checkedId = this.treeData[i][this.fields.id] ? this.treeData[i][this.fields.id].toString() : null;\n                    if (this.checkedNodes.indexOf(checkedId) === -1) {\n                        this.checkedNodes.push(checkedId);\n                    }\n                }\n            }\n        }\n        else {\n            var childItems = this.getChildNodes(this.treeData, parentIndex);\n            if (childItems) {\n                this.childStateChange(childItems, parentIndex, childElement, doCheck);\n            }\n        }\n    };\n    TreeView.prototype.getChildItems = function (childItems, doCheck) {\n        for (var i = 0; i < childItems.length; i++) {\n            var childId = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : null;\n            var childIsCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() :\n                null;\n            if (this.checkedNodes.indexOf(childId) !== -1 && !doCheck) {\n                this.checkedNodes.splice(this.checkedNodes.indexOf(childId), 1);\n            }\n            if (this.checkedNodes.indexOf(childId) === -1 && doCheck) {\n                this.checkedNodes.push(childId);\n            }\n            if (childIsCheck === 'true' && !doCheck) {\n                this.updateField(this.treeData, this.fields, childId, 'isChecked', null);\n            }\n            var subChildItems = this.getChildNodes(this.treeData, childId);\n            if (subChildItems.length > 0) {\n                this.getChildItems(subChildItems, doCheck);\n            }\n        }\n    };\n    /**\n     * Update checkedNodes when UI interaction happens before the child node renders in DOM for hierarchical DS\n     */\n    TreeView.prototype.childStateChange = function (childItems, parent, childElement, doCheck) {\n        for (var i = 0; i < childItems.length; i++) {\n            var checkedChild = childItems[i][this.fields.id] ? childItems[i][this.fields.id].toString() : '';\n            var isCheck = childItems[i][this.fields.isChecked] ? childItems[i][this.fields.isChecked].toString() : null;\n            if (this.autoCheck) {\n                if (this.checkedNodes.indexOf(parent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                    this.checkedNodes.push(checkedChild);\n                    if (this.parentNodeCheck.indexOf(checkedChild) !== -1) {\n                        this.parentNodeCheck.splice(this.parentNodeCheck.indexOf(checkedChild), 1);\n                    }\n                }\n                else if (this.checkedNodes.indexOf(parent) === -1 && this.checkedNodes.indexOf(checkedChild) !== -1 && !doCheck) {\n                    this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    if (isCheck === 'true') {\n                        this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    }\n                }\n            }\n            else if (!this.autoCheck) {\n                if (!doCheck) {\n                    if (this.checkedNodes.indexOf(checkedChild) !== -1) {\n                        this.checkedNodes.splice(this.checkedNodes.indexOf(checkedChild), 1);\n                    }\n                    this.updateField(this.treeData, this.fields, checkedChild, 'isChecked', null);\n                    this.checkedNodes = [];\n                }\n                else {\n                    if (this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n            }\n            var subChild = this.getChildNodes([childItems[i]], checkedChild);\n            if (subChild) {\n                this.childStateChange(subChild, parent, childElement, doCheck);\n            }\n        }\n    };\n    //This method can be used to get all child nodes of a parent by passing the children of a parent along with 'validateCheck' set to false\n    TreeView.prototype.allCheckNode = function (child, newCheck, checked, childCheck, validateCheck) {\n        if (child) {\n            for (var length_1 = 0; length_1 < child.length; length_1++) {\n                var childId = getValue(this.fields.id, child[length_1]);\n                var check = this.element.querySelector('[data-uid=\"' + childId + '\"]');\n                //Validates isChecked case while no UI interaction has been performed on the node or it's parent\n                if (validateCheck !== false && this.checkedElement.indexOf(childId.toString()) === -1) {\n                    if (((check === null && !isNullOrUndefined(child[length_1][this.fields.isChecked]) && newCheck.indexOf(childId.toString()) === -1)\n                        || childCheck === 0 || checked === 2)) {\n                        (child[length_1][this.fields.isChecked] !== false || checked === 2) ? newCheck.push(childId.toString())\n                            : childCheck = null;\n                        childCheck = (child[length_1][this.fields.isChecked] !== false || checked === 2) ? 0 : null;\n                    }\n                }\n                //Pushes child checked node done thro' UI interaction\n                if (newCheck.indexOf(childId.toString()) === -1 && isNullOrUndefined(checked)) {\n                    newCheck.push(childId.toString());\n                }\n                var hierChildId = getValue(this.fields.child.toString(), child[length_1]);\n                //Gets if any next level children are available for child nodes\n                if (getValue(this.fields.hasChildren, child[length_1]) === true || hierChildId) {\n                    var id = getValue(this.fields.id, child[length_1]);\n                    var childId_1 = void 0;\n                    if (this.dataType === 1) {\n                        childId_1 = this.getChildNodes(this.treeData, id.toString());\n                    }\n                    else {\n                        childId_1 = hierChildId;\n                    }\n                    if (childId_1) {\n                        (isNullOrUndefined(validateCheck)) ? this.allCheckNode(childId_1, newCheck, checked, childCheck) :\n                            this.allCheckNode(childId_1, newCheck, checked, childCheck, validateCheck);\n                        childCheck = null;\n                    }\n                }\n                childCheck = null;\n            }\n        }\n    };\n    TreeView.prototype.openNode = function (toBeOpened, e) {\n        var focusedNode = this.getFocusedNode();\n        var icon = select('div.' + ICON, focusedNode);\n        if (toBeOpened) {\n            if (!icon) {\n                return;\n            }\n            else if (icon.classList.contains(EXPANDABLE)) {\n                this.expandAction(focusedNode, icon, e);\n            }\n            else {\n                this.focusNextNode(focusedNode, true);\n            }\n        }\n        else {\n            if (icon && icon.classList.contains(COLLAPSIBLE)) {\n                this.collapseNode(focusedNode, icon, e);\n            }\n            else {\n                var parentLi = closest(closest(focusedNode, '.' + PARENTITEM), '.' + LISTITEM);\n                if (!parentLi) {\n                    return;\n                }\n                else {\n                    if (!parentLi.classList.contains('e-disable')) {\n                        this.setFocus(focusedNode, parentLi);\n                        this.navigateToFocus(true);\n                    }\n                }\n            }\n        }\n    };\n    TreeView.prototype.navigateNode = function (isTowards) {\n        var focusedNode = this.getFocusedNode();\n        this.focusNextNode(focusedNode, isTowards);\n    };\n    TreeView.prototype.navigateRootNode = function (isBackwards) {\n        var focusedNode = this.getFocusedNode();\n        var rootNode = isBackwards ? this.getRootNode() : this.getEndNode();\n        if (!rootNode.classList.contains('e-disable')) {\n            this.setFocus(focusedNode, rootNode);\n            this.navigateToFocus(isBackwards);\n        }\n    };\n    TreeView.prototype.getFocusedNode = function () {\n        var selectedItem;\n        var fNode = select('.' + LISTITEM + '[tabindex=\"0\"]', this.element);\n        if (isNullOrUndefined(fNode)) {\n            selectedItem = select('.' + LISTITEM, this.element);\n        }\n        return isNullOrUndefined(fNode) ? (isNullOrUndefined(selectedItem) ? this.element.firstElementChild : selectedItem) : fNode;\n    };\n    TreeView.prototype.focusNextNode = function (li, isTowards) {\n        var nextNode = isTowards ? this.getNextNode(li) : this.getPrevNode(li);\n        this.setFocus(li, nextNode);\n        this.navigateToFocus(!isTowards);\n        if (nextNode.classList.contains('e-disable')) {\n            var lastChild = nextNode.lastChild;\n            if (nextNode.previousSibling == null && nextNode.classList.contains('e-level-1')) {\n                this.focusNextNode(nextNode, true);\n            }\n            else if (nextNode.nextSibling == null && nextNode.classList.contains('e-node-collapsed')) {\n                this.focusNextNode(nextNode, false);\n            }\n            else if (nextNode.nextSibling == null && lastChild.classList.contains(TEXTWRAP)) {\n                this.focusNextNode(nextNode, false);\n            }\n            else {\n                this.focusNextNode(nextNode, isTowards);\n            }\n        }\n    };\n    TreeView.prototype.getNextNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var nextNode;\n        do {\n            index++;\n            nextNode = this.liList[index];\n            if (isNullOrUndefined(nextNode)) {\n                return li;\n            }\n        } while (!isVisible(nextNode));\n        return nextNode;\n    };\n    TreeView.prototype.getPrevNode = function (li) {\n        var index = this.liList.indexOf(li);\n        var prevNode;\n        do {\n            index--;\n            prevNode = this.liList[index];\n            if (isNullOrUndefined(prevNode)) {\n                return li;\n            }\n        } while (!isVisible(prevNode));\n        return prevNode;\n    };\n    TreeView.prototype.getRootNode = function () {\n        var index = 0;\n        var rootNode;\n        do {\n            rootNode = this.liList[index];\n            index++;\n        } while (!isVisible(rootNode));\n        return rootNode;\n    };\n    TreeView.prototype.getEndNode = function () {\n        var index = this.liList.length - 1;\n        var endNode;\n        do {\n            endNode = this.liList[index];\n            index--;\n        } while (!isVisible(endNode));\n        return endNode;\n    };\n    TreeView.prototype.setFocus = function (preNode, nextNode) {\n        removeClass([preNode], FOCUS);\n        preNode.setAttribute(\"tabindex\", \"-1\");\n        if (!nextNode.classList.contains('e-disable') && !nextNode.classList.contains(PREVENTSELECT)) {\n            addClass([nextNode], FOCUS);\n            nextNode.setAttribute('tabindex', '0');\n            nextNode.focus();\n            EventHandler.add(nextNode, 'blur', this.focusOut, this);\n            this.updateIdAttr(preNode, nextNode);\n        }\n    };\n    TreeView.prototype.updateIdAttr = function (preNode, nextNode) {\n        this.element.removeAttribute('aria-activedescendant');\n        if (preNode) {\n            preNode.removeAttribute('id');\n        }\n        nextNode.setAttribute('id', this.element.id + '_active');\n        this.element.setAttribute('aria-activedescendant', this.element.id + '_active');\n    };\n    TreeView.prototype.focusIn = function () {\n        if (!this.mouseDownStatus) {\n            var focusedElement = this.getFocusedNode();\n            focusedElement.setAttribute(\"tabindex\", \"0\");\n            addClass([focusedElement], FOCUS);\n            EventHandler.add(focusedElement, 'blur', this.focusOut, this);\n        }\n        this.mouseDownStatus = false;\n    };\n    TreeView.prototype.focusOut = function (event) {\n        var focusedElement = this.getFocusedNode();\n        if (event.target == focusedElement) {\n            removeClass([focusedElement], FOCUS);\n            EventHandler.remove(focusedElement, 'blur', this.focusOut);\n        }\n    };\n    TreeView.prototype.onMouseOver = function (e) {\n        var target = e.target;\n        var classList$$1 = target.classList;\n        var currentLi = closest(target, '.' + LISTITEM);\n        if (!currentLi || classList$$1.contains(PARENTITEM) || classList$$1.contains(LISTITEM)) {\n            this.removeHover();\n            return;\n        }\n        else {\n            if (currentLi && !currentLi.classList.contains('e-disable')) {\n                this.setHover(currentLi);\n            }\n        }\n    };\n    TreeView.prototype.setHover = function (li) {\n        if (!li.classList.contains(HOVER) && !li.classList.contains(PREVENTSELECT)) {\n            this.removeHover();\n            addClass([li], HOVER);\n        }\n    };\n    \n    TreeView.prototype.onMouseLeave = function (e) {\n        this.removeHover();\n    };\n    TreeView.prototype.removeHover = function () {\n        var hoveredNode = selectAll('.' + HOVER, this.element);\n        if (hoveredNode && hoveredNode.length) {\n            removeClass(hoveredNode, HOVER);\n        }\n    };\n    \n    TreeView.prototype.getNodeData = function (currLi, fromDS) {\n        if (!isNullOrUndefined(currLi) && currLi.classList.contains(LISTITEM) &&\n            !isNullOrUndefined(closest(currLi, '.' + CONTROL)) && closest(currLi, '.' + CONTROL).classList.contains(ROOT)) {\n            var id = currLi.getAttribute('data-uid');\n            var text = this.getText(currLi, fromDS);\n            var pNode = closest(currLi.parentNode, '.' + LISTITEM);\n            var pid = pNode ? pNode.getAttribute('data-uid') : null;\n            var selected = currLi.classList.contains(ACTIVE);\n            var selectable = currLi.classList.contains(PREVENTSELECT) ? false : true;\n            var expanded = (currLi.getAttribute('aria-expanded') === 'true') ? true : false;\n            var hasChildren = currLi.getAttribute('aria-expanded') !== null ? true : (select('.' + EXPANDABLE, currLi) || select('.' + COLLAPSIBLE, currLi)) != null ? true : false;\n            var checked = null;\n            var checkboxElement = select('.' + CHECKBOXWRAP, currLi);\n            if (this.showCheckBox && checkboxElement) {\n                checked = checkboxElement.getAttribute('aria-checked');\n            }\n            return {\n                id: id, text: text, parentID: pid, selected: selected, selectable: selectable, expanded: expanded,\n                isChecked: checked, hasChildren: hasChildren\n            };\n        }\n        return { id: '', text: '', parentID: '', selected: false, expanded: false, isChecked: '', hasChildren: false };\n    };\n    TreeView.prototype.getText = function (currLi, fromDS) {\n        if (fromDS) {\n            var nodeData = this.getNodeObject(currLi.getAttribute('data-uid'));\n            var level = parseFloat(currLi.getAttribute('aria-level'));\n            var nodeFields = this.getFields(this.fields, level, 1);\n            return getValue(nodeFields.text, nodeData);\n        }\n        return select('.' + LISTTEXT, currLi).textContent;\n    };\n    TreeView.prototype.getExpandEvent = function (currLi, e) {\n        var nodeData = this.getNodeData(currLi);\n        return { cancel: false, isInteracted: isNullOrUndefined(e) ? false : true, node: currLi, nodeData: nodeData, event: e };\n    };\n    TreeView.prototype.renderNodeTemplate = function (data, textEle, dataId) {\n        var tempArr = this.nodeTemplateFn(data, this, 'nodeTemplate' + dataId, this.element.id + 'nodeTemplate', this.isStringTemplate, undefined, textEle, this.root);\n        if (tempArr) {\n            tempArr = Array.prototype.slice.call(tempArr);\n            append(tempArr, textEle);\n        }\n    };\n    TreeView.prototype.destroyTemplate = function (liEle) {\n        this.clearTemplate(['nodeTemplate' + liEle.getAttribute('data-uid')]);\n    };\n    TreeView.prototype.reRenderNodes = function () {\n        this.updateListProp(this.fields);\n        if (Browser.isIE) {\n            this.ulElement = this.element.querySelector('.e-list-parent.e-ul');\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        else {\n            this.element.innerHTML = '';\n        }\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            this.clearTemplate();\n        }\n        this.setTouchClass();\n        this.setProperties({ selectedNodes: [], checkedNodes: [], expandedNodes: [] }, true);\n        this.checkedElement = [];\n        this.isLoaded = false;\n        this.setDataBinding(true);\n    };\n    TreeView.prototype.setCssClass = function (oldClass, newClass) {\n        if (!isNullOrUndefined(oldClass) && oldClass !== '') {\n            removeClass([this.element], oldClass.split(' '));\n        }\n        if (!isNullOrUndefined(newClass) && newClass !== '') {\n            addClass([this.element], newClass.split(' '));\n        }\n    };\n    TreeView.prototype.editingHandler = function (e) {\n        var target = e.target;\n        if (!target || target.classList.contains(ROOT) || target.classList.contains(PARENTITEM) ||\n            target.classList.contains(LISTITEM) || target.classList.contains(ICON) ||\n            target.classList.contains(INPUT) || target.classList.contains(INPUTGROUP)) {\n            return;\n        }\n        else {\n            var liEle = closest(target, '.' + LISTITEM);\n            this.createTextbox(liEle, e);\n        }\n    };\n    TreeView.prototype.createTextbox = function (liEle, e) {\n        var _this = this;\n        var oldInpEle = select('.' + TREEINPUT, this.element);\n        if (oldInpEle) {\n            oldInpEle.blur();\n        }\n        var textEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var innerEle = this.createElement('input', { className: TREEINPUT, attrs: { value: this.oldText } });\n        var eventArgs = this.getEditEvent(liEle, null, innerEle.outerHTML);\n        this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                var inpWidth = textEle.offsetWidth + 5;\n                var style_1 = 'width:' + inpWidth + 'px';\n                addClass([liEle], EDITING);\n                if (!isNullOrUndefined(_this.nodeTemplateFn)) {\n                    _this.destroyTemplate(liEle);\n                }\n                if (_this.isReact) {\n                    setTimeout(function () {\n                        _this.renderTextBox(eventArgs, textEle, style_1);\n                    }, 5);\n                }\n                else {\n                    _this.renderTextBox(eventArgs, textEle, style_1);\n                }\n            }\n        });\n    };\n    TreeView.prototype.renderTextBox = function (eventArgs, textEle, style) {\n        textEle.innerHTML = eventArgs.innerHtml;\n        var inpEle = select('.' + TREEINPUT, textEle);\n        this.inputObj = Input.createInput({\n            element: inpEle,\n            properties: {\n                enableRtl: this.enableRtl,\n            }\n        }, this.createElement);\n        this.inputObj.container.setAttribute('style', style);\n        inpEle.focus();\n        var inputEle = inpEle;\n        inputEle.setSelectionRange(0, inputEle.value.length);\n        this.wireInputEvents(inpEle);\n    };\n    TreeView.prototype.updateOldText = function (liEle) {\n        var id = liEle.getAttribute('data-uid');\n        this.editData = this.getNodeObject(id);\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        this.editFields = this.getFields(this.fields, level, 1);\n        this.oldText = getValue(this.editFields.text, this.editData);\n    };\n    TreeView.prototype.inputFocusOut = function (e) {\n        if (!select('.' + TREEINPUT, this.element)) {\n            return;\n        }\n        var target = e.target;\n        var newText = target.value;\n        var txtEle = closest(target, '.' + LISTTEXT);\n        var liEle = closest(target, '.' + LISTITEM);\n        detach(this.inputObj.container);\n        if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n            this.crudOperation('update', null, liEle, newText, null, null, true);\n        }\n        else {\n            this.appendNewText(liEle, txtEle, newText, true);\n        }\n    };\n    TreeView.prototype.appendNewText = function (liEle, txtEle, newText, isInput) {\n        var _this = this;\n        var eventArgs = this.getEditEvent(liEle, newText, null);\n        this.trigger('nodeEdited', eventArgs, function (observedArgs) {\n            newText = observedArgs.cancel ? observedArgs.oldText : observedArgs.newText;\n            _this.updateText(liEle, txtEle, newText, isInput);\n            if (observedArgs.oldText !== newText) {\n                _this.triggerEvent('nodeEdited', [_this.getNode(liEle)]);\n            }\n        });\n    };\n    TreeView.prototype.updateText = function (liEle, txtEle, newText, isInput) {\n        var newData = setValue(this.editFields.text, newText, this.editData);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            txtEle.innerText = '';\n            var dataId = liEle.getAttribute('data-uid');\n            this.renderNodeTemplate(newData, txtEle, dataId);\n            this.renderReactTemplates();\n        }\n        else {\n            this.enableHtmlSanitizer ? txtEle.innerText = newText : txtEle.innerHTML = newText;\n        }\n        if (isInput) {\n            removeClass([liEle], EDITING);\n            liEle.focus();\n            EventHandler.add(liEle, 'blur', this.focusOut, this);\n            addClass([liEle], FOCUS);\n        }\n        if (this.allowTextWrap) {\n            this.calculateWrap(liEle);\n        }\n    };\n    TreeView.prototype.getElement = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return this.element.querySelector('[data-uid=\"' + ele + '\"]');\n        }\n        else if (typeof ele === 'object') {\n            return getElement(ele);\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getId = function (ele) {\n        if (isNullOrUndefined(ele)) {\n            return null;\n        }\n        else if (typeof ele === 'string') {\n            return ele;\n        }\n        else if (typeof ele === 'object') {\n            return (getElement(ele)).getAttribute('data-uid');\n        }\n        else {\n            return null;\n        }\n    };\n    TreeView.prototype.getEditEvent = function (liEle, newText, inpEle) {\n        var data = this.getNodeData(liEle);\n        return { cancel: false, newText: newText, node: liEle, nodeData: data, oldText: this.oldText, innerHtml: inpEle };\n    };\n    TreeView.prototype.getNodeObject = function (id) {\n        var childNodes;\n        if (isNullOrUndefined(id)) {\n            return childNodes;\n        }\n        else if (this.dataType === 1) {\n            for (var i = 0, objlen = this.treeData.length; i < objlen; i++) {\n                var dataId = getValue(this.fields.id, this.treeData[i]);\n                if (!isNullOrUndefined(this.treeData[i]) && !isNullOrUndefined(dataId) && dataId.toString() === id) {\n                    return this.treeData[i];\n                }\n            }\n        }\n        else {\n            return this.getChildNodeObject(this.treeData, this.fields, id);\n        }\n        return childNodes;\n    };\n    TreeView.prototype.getChildNodeObject = function (obj, mapper, id) {\n        var newList;\n        if (isNullOrUndefined(obj)) {\n            return newList;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var dataId = getValue(mapper.id, obj[i]);\n            if (obj[i] && dataId && dataId.toString() === id) {\n                return obj[i];\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                newList = this.getChildNodeObject(childData, this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var child = 'child';\n                newList = this.getChildNodeObject(getValue(child, obj[i]), this.getChildMapper(mapper), id);\n                if (newList !== undefined) {\n                    break;\n                }\n            }\n        }\n        return newList;\n    };\n    TreeView.prototype.setDragAndDrop = function (toBind) {\n        if (toBind && !this.disabled) {\n            this.initializeDrag();\n        }\n        else {\n            this.destroyDrag();\n        }\n    };\n    TreeView.prototype.initializeDrag = function () {\n        var _this = this;\n        var virtualEle;\n        var proxy = this;\n        this.dragObj = new Draggable(this.element, {\n            enableTailMode: true, enableAutoScroll: true,\n            dragArea: this.dragArea,\n            dragTarget: '.' + TEXTWRAP,\n            enableTapHold: true,\n            tapHoldThreshold: 100,\n            helper: function (e) {\n                _this.dragTarget = e.sender.target;\n                var dragRoot = closest(_this.dragTarget, '.' + ROOT);\n                var dragWrap = closest(_this.dragTarget, '.' + TEXTWRAP);\n                _this.dragLi = closest(_this.dragTarget, '.' + LISTITEM);\n                if (_this.fullRowSelect && !dragWrap && _this.dragTarget.classList.contains(FULLROW)) {\n                    dragWrap = _this.dragTarget.nextElementSibling;\n                }\n                if (!_this.dragTarget || !e.element.isSameNode(dragRoot) || !dragWrap ||\n                    _this.dragTarget.classList.contains(ROOT) || _this.dragTarget.classList.contains(PARENTITEM) ||\n                    _this.dragTarget.classList.contains(LISTITEM) || _this.dragLi.classList.contains('e-disable')) {\n                    return false;\n                }\n                var cloneEle = (dragWrap.cloneNode(true));\n                if (isNullOrUndefined(select('div.' + ICON, cloneEle))) {\n                    var icon = proxy.createElement('div', { className: ICON + ' ' + EXPANDABLE });\n                    cloneEle.insertBefore(icon, cloneEle.children[0]);\n                }\n                var cssClass = DRAGITEM + ' ' + ROOT + ' ' + _this.cssClass + ' ' + (_this.enableRtl ? RTL$1 : '');\n                virtualEle = proxy.createElement('div', { className: cssClass });\n                virtualEle.appendChild(cloneEle);\n                var nLen = _this.selectedNodes.length;\n                if (nLen > 1 && _this.allowMultiSelection && _this.dragLi.classList.contains(ACTIVE)) {\n                    var cNode = proxy.createElement('span', { className: DROPCOUNT, innerHTML: '' + nLen });\n                    virtualEle.appendChild(cNode);\n                }\n                document.body.appendChild(virtualEle);\n                document.body.style.cursor = '';\n                _this.dragData = _this.getNodeData(_this.dragLi);\n                return virtualEle;\n            },\n            dragStart: function (e) {\n                addClass([_this.element], DRAGGING);\n                var listItem = closest(e.target, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, null, e.target, null, virtualEle, level);\n                if (eventArgs.draggedNode.classList.contains(EDITING)) {\n                    _this.dragObj.intDestroy(e.event);\n                    _this.dragCancelAction(virtualEle);\n                }\n                else {\n                    _this.trigger('nodeDragStart', eventArgs, function (observedArgs) {\n                        if (observedArgs.cancel) {\n                            _this.dragObj.intDestroy(e.event);\n                            _this.dragCancelAction(virtualEle);\n                        }\n                        else {\n                            _this.dragStartAction = true;\n                        }\n                    });\n                }\n            },\n            drag: function (e) {\n                _this.dragObj.setProperties({ cursorAt: { top: (!isNullOrUndefined(e.event.targetTouches) || Browser.isDevice) ? 60 : -20 } });\n                _this.dragAction(e, virtualEle);\n            },\n            dragStop: function (e) {\n                removeClass([_this.element], DRAGGING);\n                _this.removeVirtualEle();\n                var dropTarget = e.target;\n                var preventTargetExpand = false;\n                var dropRoot = (closest(dropTarget, '.' + DROPPABLE));\n                if (!dropTarget || !dropRoot) {\n                    detach(e.helper);\n                    document.body.style.cursor = '';\n                    \n                }\n                var listItem = closest(dropTarget, '.e-list-item');\n                var level;\n                if (listItem) {\n                    level = parseInt(listItem.getAttribute('aria-level'), 10);\n                }\n                var eventArgs = _this.getDragEvent(e.event, _this, dropTarget, dropTarget, null, e.helper, level);\n                eventArgs.preventTargetExpand = preventTargetExpand;\n                _this.trigger('nodeDragStop', eventArgs, function (observedArgs) {\n                    _this.dragParent = observedArgs.draggedParentNode;\n                    _this.preventExpand = observedArgs.preventTargetExpand;\n                    if (observedArgs.cancel) {\n                        if (e.helper.parentNode) {\n                            detach(e.helper);\n                        }\n                        document.body.style.cursor = '';\n                        \n                    }\n                    _this.dragStartAction = false;\n                });\n            }\n        });\n        this.dropObj = new Droppable(this.element, {\n            out: function (e) {\n                if (!isNullOrUndefined(e) && !e.target.classList.contains(SIBLING) && (_this.dropObj.dragData.default && _this.dropObj.dragData.default.helper.classList.contains(ROOT))) {\n                    document.body.style.cursor = 'not-allowed';\n                }\n            },\n            over: function (e) {\n                document.body.style.cursor = '';\n            },\n            drop: function (e) {\n                _this.dropAction(e);\n            }\n        });\n    };\n    TreeView.prototype.dragCancelAction = function (virtualEle) {\n        detach(virtualEle);\n        removeClass([this.element], DRAGGING);\n        this.dragStartAction = false;\n    };\n    TreeView.prototype.dragAction = function (e, virtualEle) {\n        var dropRoot = closest(e.target, '.' + DROPPABLE);\n        var dropWrap = closest(e.target, '.' + TEXTWRAP);\n        var icon = select('div.' + ICON, virtualEle);\n        removeClass([icon], [DROPIN, DROPNEXT, DROPOUT, NODROP]);\n        this.removeVirtualEle();\n        document.body.style.cursor = '';\n        var classList$$1 = e.target.classList;\n        if (this.fullRowSelect && !dropWrap && !isNullOrUndefined(classList$$1) && classList$$1.contains(FULLROW)) {\n            dropWrap = e.target.nextElementSibling;\n        }\n        if (dropRoot) {\n            var dropLi = closest(e.target, '.' + LISTITEM);\n            var checkWrapper = closest(e.target, '.' + CHECKBOXWRAP);\n            var collapse = closest(e.target, '.' + COLLAPSIBLE);\n            var expand = closest(e.target, '.' + EXPANDABLE);\n            if (!dropRoot.classList.contains(ROOT) || (dropWrap &&\n                (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi)))) {\n                if (this.hasTemplate && dropLi) {\n                    var templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n                    if ((e && (!expand && !collapse) && e.event.offsetY < 7 && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        var index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((e && (!expand && !collapse) && !checkWrapper && templateTarget && e.event.offsetY > templateTarget.offsetHeight - 10) || ((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19))) {\n                        var index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n                else {\n                    if ((dropLi && e && (!expand && !collapse) && (e.event.offsetY < 7) && !checkWrapper) || (((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3)))) {\n                        var index = this.fullRowSelect ? (1) : (0);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else if ((dropLi && e && (!expand && !collapse) && (e.target.offsetHeight > 0 && e.event.offsetY > (e.target.offsetHeight - 10)) && !checkWrapper) || (((expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19)))) {\n                        var index = this.fullRowSelect ? (2) : (1);\n                        this.appendIndicator(dropLi, icon, index);\n                    }\n                    else {\n                        addClass([icon], DROPIN);\n                    }\n                }\n            }\n            else if (e.target.nodeName === 'LI' && (!dropLi.isSameNode(this.dragLi) && !this.isDescendant(this.dragLi, dropLi))) {\n                addClass([icon], DROPNEXT);\n                this.renderVirtualEle(e);\n            }\n            else if (e.target.classList.contains(SIBLING)) {\n                addClass([icon], DROPNEXT);\n            }\n            else {\n                addClass([icon], DROPOUT);\n            }\n        }\n        else {\n            addClass([icon], NODROP);\n            document.body.style.cursor = 'not-allowed';\n        }\n        var listItem = closest(e.target, '.e-list-item');\n        var level;\n        if (listItem) {\n            level = parseInt(listItem.getAttribute('aria-level'), 10);\n        }\n        var eventArgs = this.getDragEvent(e.event, this, e.target, e.target, null, virtualEle, level);\n        if (eventArgs.dropIndicator) {\n            removeClass([icon], eventArgs.dropIndicator);\n        }\n        this.trigger('nodeDragging', eventArgs);\n        if (eventArgs.dropIndicator) {\n            addClass([icon], eventArgs.dropIndicator);\n        }\n    };\n    TreeView.prototype.appendIndicator = function (dropLi, icon, index) {\n        addClass([icon], DROPNEXT);\n        var virEle = this.createElement('div', { className: SIBLING });\n        dropLi.insertBefore(virEle, dropLi.children[index]);\n    };\n    /* eslint-disable */\n    TreeView.prototype.dropAction = function (e) {\n        var offsetY = e.event.offsetY;\n        var dropTarget = e.target;\n        var dragObj;\n        var level;\n        var drop = false;\n        var dragInstance;\n        var nodeData = [];\n        var liArray = [];\n        dragInstance = e.dragData.draggable;\n        for (var i_1 = 0; i_1 < dragInstance.ej2_instances.length; i_1++) {\n            if (dragInstance.ej2_instances[i_1] instanceof TreeView_1) {\n                dragObj = dragInstance.ej2_instances[i_1];\n                break;\n            }\n        }\n        if (dragObj && dragObj.dragTarget) {\n            var dragTarget = dragObj.dragTarget;\n            var dragLi = (closest(dragTarget, '.' + LISTITEM));\n            var dropLi = (closest(dropTarget, '.' + LISTITEM));\n            liArray.push(dragLi);\n            if (dropLi == null && dropTarget.classList.contains(ROOT)) {\n                dropLi = dropTarget.firstElementChild;\n            }\n            detach(e.droppedElement);\n            document.body.style.cursor = '';\n            if (!dropLi || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                if (this.fields.dataSource instanceof DataManager === false) {\n                    this.preventExpand = false;\n                }\n                return;\n            }\n            if (dragObj.allowMultiSelection && dragLi.classList.contains(ACTIVE)) {\n                var sNodes = selectAll('.' + ACTIVE, dragObj.element);\n                liArray = sNodes;\n                if (e.target.offsetHeight <= 33 && offsetY > e.target.offsetHeight - 10 && offsetY > 6) {\n                    for (var i_2 = sNodes.length - 1; i_2 >= 0; i_2--) {\n                        if (dropLi.isSameNode(sNodes[i_2]) || this.isDescendant(sNodes[i_2], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i_2], dropLi, e, dragObj, offsetY);\n                    }\n                }\n                else {\n                    for (var i_3 = 0; i_3 < sNodes.length; i_3++) {\n                        if (dropLi.isSameNode(sNodes[i_3]) || this.isDescendant(sNodes[i_3], dropLi)) {\n                            continue;\n                        }\n                        this.appendNode(dropTarget, sNodes[i_3], dropLi, e, dragObj, offsetY);\n                    }\n                }\n            }\n            else {\n                this.appendNode(dropTarget, dragLi, dropLi, e, dragObj, offsetY);\n            }\n            level = parseInt(dragLi.getAttribute('aria-level'), 10);\n            drop = true;\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        for (var i = 0; i < liArray.length; i++) {\n            nodeData.push(this.getNode(liArray[i]));\n        }\n        this.trigger('nodeDropped', this.getDragEvent(e.event, dragObj, dropTarget, e.target, e.dragData.draggedElement, null, level, drop));\n        if (dragObj.element.id !== this.element.id) {\n            dragObj.triggerEvent('nodeDropped', nodeData);\n            this.isNodeDropped = true;\n            this.fields.dataSource = this.treeData;\n        }\n        this.triggerEvent('nodeDropped', nodeData);\n    };\n    TreeView.prototype.appendNode = function (dropTarget, dragLi, dropLi, e, dragObj, offsetY) {\n        var checkWrapper = closest(dropTarget, '.' + CHECKBOXWRAP);\n        var collapse = closest(e.target, '.' + COLLAPSIBLE);\n        var expand = closest(e.target, '.' + EXPANDABLE);\n        if (!dragLi.classList.contains('e-disable') && !checkWrapper && ((expand && e.event.offsetY < 5) || (collapse && e.event.offsetX < 3) || (expand && e.event.offsetY > 19) || (collapse && e.event.offsetX > 19) || (!expand && !collapse))) {\n            if (dropTarget.nodeName === 'LI') {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else if (dropTarget.firstElementChild && dropTarget.classList.contains(ROOT)) {\n                if (dropTarget.firstElementChild.nodeName === 'UL') {\n                    this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n                }\n            }\n            else if ((dropTarget.classList.contains('e-icon-collapsible')) || (dropTarget.classList.contains('e-icon-expandable'))) {\n                this.dropAsSiblingNode(dragLi, dropLi, e, dragObj);\n            }\n            else {\n                this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY);\n            }\n        }\n        else {\n            this.dropAsChildNode(dragLi, dropLi, dragObj, null, e, offsetY, true);\n        }\n    };\n    TreeView.prototype.dropAsSiblingNode = function (dragLi, dropLi, e, dragObj) {\n        var dropUl = closest(dropLi, '.' + PARENTITEM);\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var pre;\n        if (e.target.offsetHeight > 0 && e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        else if (e.target.classList.contains('e-icon-expandable') || (e.target.classList.contains('e-icon-collapsible'))) {\n            if ((e.event.offsetY < 5) || (e.event.offsetX < 3)) {\n                pre = true;\n            }\n            else if ((e.event.offsetY > 15) || (e.event.offsetX > 17)) {\n                pre = false;\n            }\n        }\n        if ((e.target.classList.contains('e-icon-expandable')) || (e.target.classList.contains('e-icon-collapsible'))) {\n            var target = e.target.closest('li');\n            dropUl.insertBefore(dragLi, pre ? target : target.nextElementSibling);\n        }\n        else {\n            dropUl.insertBefore(dragLi, pre ? e.target : e.target.nextElementSibling);\n        }\n        this.moveData(dragLi, dropLi, dropUl, pre, dragObj);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.dropAsChildNode = function (dragLi, dropLi, dragObj, index, e, pos, isCheck) {\n        var dragParentUl = closest(dragLi, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        var dropParentUl = closest(dropLi, '.' + PARENTITEM);\n        var templateTarget;\n        if (e && e.target) {\n            templateTarget = select(this.fullRowSelect ? '.' + FULLROW : '.' + TEXTWRAP, dropLi);\n        }\n        if (e && (pos < 7) && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi);\n            this.moveData(dragLi, dropLi, dropParentUl, true, dragObj);\n        }\n        else if (e && (e.target.offsetHeight > 0 && pos > (e.target.offsetHeight - 10)) && !isCheck && !this.hasTemplate) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else if (this.hasTemplate && templateTarget && pos > templateTarget.offsetHeight - 10 && !isCheck) {\n            dropParentUl.insertBefore(dragLi, dropLi.nextElementSibling);\n            this.moveData(dragLi, dropLi, dropParentUl, false, dragObj);\n        }\n        else {\n            var dropUl = this.expandParent(dropLi);\n            var childLi = dropUl.childNodes[index];\n            dropUl.insertBefore(dragLi, childLi);\n            this.moveData(dragLi, childLi, dropUl, true, dragObj);\n        }\n        this.updateElement(dragParentUl, dragParentLi);\n        this.updateAriaLevel(dragLi);\n        if (dragObj.element.id === this.element.id) {\n            this.updateList();\n        }\n        else {\n            dragObj.updateInstance();\n            this.updateInstance();\n        }\n    };\n    TreeView.prototype.moveData = function (dragLi, dropLi, dropUl, pre, dragObj) {\n        var dropParentLi = closest(dropUl, '.' + LISTITEM);\n        var id = this.getId(dragLi);\n        var removedData = dragObj.updateChildField(dragObj.treeData, dragObj.fields, id, null, null, true);\n        var refId = this.getId(dropLi);\n        var index = this.getDataPos(this.treeData, this.fields, refId);\n        var parentId = this.getId(dropParentLi);\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', true);\n            var pos = isNullOrUndefined(index) ? this.treeData.length : (pre ? index : index + 1);\n            if (isNullOrUndefined(parentId) && !this.hasPid) {\n                delete removedData[0][this.fields.parentID];\n            }\n            else {\n                var currPid = this.isNumberTypeId ? parseFloat(parentId) : parentId;\n                setValue(this.fields.parentID, currPid, removedData[0]);\n            }\n            this.treeData.splice(pos, 0, removedData[0]);\n            if (dragObj.element.id !== this.element.id) {\n                var childData = dragObj.removeChildNodes(id);\n                pos++;\n                for (var i = 0, len = childData.length; i < len; i++) {\n                    this.treeData.splice(pos, 0, childData[i]);\n                    pos++;\n                }\n                dragObj.groupedData = dragObj.getGroupedData(dragObj.treeData, dragObj.fields.parentID);\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.addChildData(this.treeData, this.fields, parentId, removedData, pre ? index : index + 1);\n        }\n    };\n    TreeView.prototype.expandParent = function (dropLi) {\n        var dropIcon = select('div.' + ICON, dropLi);\n        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && this.preventExpand !== true) {\n            this.expandAction(dropLi, dropIcon, null);\n        }\n        var dropUl = select('.' + PARENTITEM, dropLi);\n        if (this.preventExpand === true && !dropUl && dropIcon) {\n            this.renderChildNodes(dropLi);\n        }\n        dropUl = select('.' + PARENTITEM, dropLi);\n        if (!isNullOrUndefined(dropUl) && this.preventExpand === true) {\n            dropUl.style.display = 'none';\n        }\n        if (!isNullOrUndefined(dropUl) && this.preventExpand === false) {\n            dropUl.style.display = 'block';\n        }\n        if (isNullOrUndefined(dropUl) && this.preventExpand === true) {\n            if (isNullOrUndefined(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                icon.classList.add('e-icon-expandable');\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            if (icon) {\n                removeClass([icon], COLLAPSIBLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, EXPANDABLE, this.listBaseOption);\n            }\n            dropLi.setAttribute('aria-expanded', 'false');\n            dropUl.style.display = 'none';\n        }\n        if (isNullOrUndefined(dropUl)) {\n            var args = this.expandArgs;\n            if (isNullOrUndefined(args) || args.name != 'nodeExpanding') {\n                this.trigger('nodeExpanding', this.getExpandEvent(dropLi, null));\n            }\n            if (isNullOrUndefined(dropIcon)) {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n            }\n            var icon = select('div.' + ICON, dropLi);\n            if (icon) {\n                removeClass([icon], EXPANDABLE);\n            }\n            else {\n                ListBase.generateIcon(this.createElement, dropLi, COLLAPSIBLE, this.listBaseOption);\n                icon = select('div.' + ICON, dropLi);\n                removeClass([icon], EXPANDABLE);\n            }\n            dropUl = ListBase.generateUL(this.createElement, [], null, this.listBaseOption);\n            dropLi.appendChild(dropUl);\n            this.addExpand(dropLi);\n            this.trigger('nodeExpanded', this.getExpandEvent(dropLi, null));\n        }\n        return dropUl;\n    };\n    TreeView.prototype.updateElement = function (dragParentUl, dragParentLi) {\n        if (dragParentLi && dragParentUl.childElementCount === 0) {\n            var dragIcon = select('div.' + ICON, dragParentLi);\n            detach(dragParentUl);\n            detach(dragIcon);\n            var parentId = this.getId(dragParentLi);\n            this.updateField(this.treeData, this.fields, parentId, 'hasChildren', false);\n            this.removeExpand(dragParentLi, true);\n        }\n    };\n    TreeView.prototype.updateAriaLevel = function (dragLi) {\n        var level = this.parents(dragLi, '.' + PARENTITEM).length;\n        dragLi.setAttribute('aria-level', '' + level);\n        this.updateChildAriaLevel(select('.' + PARENTITEM, dragLi), level + 1);\n    };\n    TreeView.prototype.updateChildAriaLevel = function (element, level) {\n        if (!isNullOrUndefined(element)) {\n            var cNodes = element.childNodes;\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                liEle.setAttribute('aria-level', '' + level);\n                this.updateChildAriaLevel(select('.' + PARENTITEM, liEle), level + 1);\n            }\n        }\n    };\n    TreeView.prototype.renderVirtualEle = function (e) {\n        var pre;\n        if (e.event.offsetY > e.target.offsetHeight - 2) {\n            pre = false;\n        }\n        else if (e.event.offsetY < 2) {\n            pre = true;\n        }\n        var virEle = this.createElement('div', { className: SIBLING });\n        var index = this.fullRowSelect ? (pre ? 1 : 2) : (pre ? 0 : 1);\n        e.target.insertBefore(virEle, e.target.children[index]);\n    };\n    TreeView.prototype.removeVirtualEle = function () {\n        var sibEle = select('.' + SIBLING);\n        if (sibEle) {\n            detach(sibEle);\n        }\n    };\n    TreeView.prototype.destroyDrag = function () {\n        if (this.dragObj && this.dropObj) {\n            this.dragObj.destroy();\n            this.dropObj.destroy();\n        }\n    };\n    TreeView.prototype.getDragEvent = function (event, obj, dropTarget, target, dragNode, cloneEle, level, drop) {\n        var dropLi = dropTarget ? closest(dropTarget, '.' + LISTITEM) : null;\n        var dropData = dropLi ? this.getNodeData(dropLi) : null;\n        var draggedNode = obj ? obj.dragLi : dragNode;\n        var draggedNodeData = obj ? obj.dragData : null;\n        var newParent = dropTarget ? this.parents(dropTarget, '.' + LISTITEM) : null;\n        var dragLiParent = obj.dragLi.parentElement;\n        var dragParent = obj.dragLi ? closest(dragLiParent, '.' + LISTITEM) : null;\n        var targetParent = null;\n        var indexValue = null;\n        var iconCss = [DROPNEXT, DROPIN, DROPOUT, NODROP];\n        var iconClass = null;\n        var node = (drop === true) ? draggedNode : dropLi;\n        var index = node ? closest(node, '.e-list-parent') : null;\n        var i = 0;\n        var position = null;\n        dragParent = (obj.dragLi && dragParent === null) ? closest(dragLiParent, '.' + ROOT) : dragParent;\n        dragParent = (drop === true) ? this.dragParent : dragParent;\n        if (cloneEle) {\n            while (i < 4) {\n                if (select('.' + ICON, cloneEle).classList.contains(iconCss[i])) {\n                    iconClass = iconCss[i];\n                    break;\n                }\n                i++;\n            }\n        }\n        if (index) {\n            var dropTar = 0;\n            for (i = 0; i < index.childElementCount; i++) {\n                dropTar = (drop !== true && index.children[i] === draggedNode && dropLi !== draggedNode) ? ++dropTar : dropTar;\n                if ((drop !== true && index.children[i].classList.contains('e-hover'))) {\n                    indexValue = (event.offsetY >= 23) ? i + 1 : i;\n                    break;\n                }\n                else if (index.children[i] === node) {\n                    indexValue = (event.offsetY >= 23) ? i : i;\n                    break;\n                }\n            }\n            indexValue = (dropTar !== 0) ? --indexValue : indexValue;\n            position = (iconClass == \"e-drop-in\") ? \"Inside\" : ((event.offsetY < 7) ? \"Before\" : \"After\");\n        }\n        if (dropTarget) {\n            if (newParent.length === 0) {\n                targetParent = null;\n            }\n            else if (dropTarget.classList.contains(LISTITEM)) {\n                targetParent = newParent[0];\n            }\n            else {\n                targetParent = newParent[1];\n            }\n        }\n        if (dropLi === draggedNode) {\n            targetParent = dropLi;\n        }\n        if (dropTarget && target.offsetHeight <= 33 && event.offsetY < target.offsetHeight - 10 && event.offsetY > 6) {\n            targetParent = dropLi;\n            if (drop !== true) {\n                level = ++level;\n                var parent_2 = targetParent ? select('.e-list-parent', targetParent) : null;\n                indexValue = (parent_2) ? parent_2.children.length : 0;\n                if (!(this.fields.dataSource instanceof DataManager) && parent_2 === null && targetParent) {\n                    var parent_3 = targetParent.hasAttribute('data-uid') ?\n                        this.getChildNodes(this.fields.dataSource, targetParent.getAttribute('data-uid').toString()) : null;\n                    indexValue = (parent_3) ? parent_3.length : 0;\n                }\n            }\n        }\n        return {\n            cancel: false,\n            clonedNode: cloneEle,\n            event: event,\n            draggedNode: draggedNode,\n            draggedNodeData: draggedNodeData,\n            droppedNode: dropLi,\n            droppedNodeData: dropData,\n            dropIndex: indexValue,\n            dropLevel: level,\n            draggedParentNode: dragParent,\n            dropTarget: targetParent,\n            dropIndicator: iconClass,\n            target: target,\n            position: position,\n        };\n    };\n    TreeView.prototype.addFullRow = function (toAdd) {\n        var len = this.liList.length;\n        if (toAdd) {\n            for (var i = 0; i < len; i++) {\n                this.createFullRow(this.liList[i]);\n            }\n        }\n        else {\n            for (var i = 0; i < len; i++) {\n                var rowDiv = select('.' + FULLROW, this.liList[i]);\n                detach(rowDiv);\n            }\n        }\n    };\n    TreeView.prototype.createFullRow = function (item) {\n        var rowDiv = this.createElement('div', { className: FULLROW });\n        item.insertBefore(rowDiv, item.childNodes[0]);\n    };\n    TreeView.prototype.addMultiSelect = function (toAdd) {\n        if (toAdd) {\n            var liEles = selectAll('.' + LISTITEM + ':not([aria-selected=\"true\"])', this.element);\n            for (var _i = 0, liEles_1 = liEles; _i < liEles_1.length; _i++) {\n                var ele = liEles_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n            }\n        }\n        else {\n            var liEles = selectAll('.' + LISTITEM + '[aria-selected=\"false\"]', this.element);\n            for (var _a = 0, liEles_2 = liEles; _a < liEles_2.length; _a++) {\n                var ele = liEles_2[_a];\n                ele.removeAttribute('aria-selected');\n            }\n        }\n    };\n    TreeView.prototype.collapseByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNullOrUndefined(element)) {\n            var cNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var liEle = cNodes[i];\n                var icon = select('.' + COLLAPSIBLE, select('.' + TEXTWRAP, liEle));\n                if (!isNullOrUndefined(icon)) {\n                    this.collapseNode(liEle, icon, null);\n                }\n                this.collapseByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.collapseAllNodes = function (excludeHiddenNodes) {\n        var cIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + COLLAPSIBLE, this.element));\n        for (var i = 0, len = cIcons.length; i < len; i++) {\n            var icon = cIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.collapseNode(liEle, icon, null);\n        }\n    };\n    TreeView.prototype.expandByLevel = function (element, level, excludeHiddenNodes) {\n        if (level > 0 && !isNullOrUndefined(element)) {\n            var eNodes = this.getVisibleNodes(excludeHiddenNodes, element.childNodes);\n            for (var i = 0, len = eNodes.length; i < len; i++) {\n                var liEle = eNodes[i];\n                var icon = select('.' + EXPANDABLE, select('.' + TEXTWRAP, liEle));\n                if (!isNullOrUndefined(icon)) {\n                    this.expandAction(liEle, icon, null);\n                }\n                this.expandByLevel(select('.' + PARENTITEM, liEle), level - 1, excludeHiddenNodes);\n            }\n        }\n    };\n    TreeView.prototype.expandAllNodes = function (excludeHiddenNodes) {\n        var eIcons = this.getVisibleNodes(excludeHiddenNodes, selectAll('.' + EXPANDABLE, this.element));\n        for (var i = 0, len = eIcons.length; i < len; i++) {\n            var icon = eIcons[i];\n            var liEle = closest(icon, '.' + LISTITEM);\n            this.expandAction(liEle, icon, null, true);\n        }\n    };\n    TreeView.prototype.getVisibleNodes = function (excludeHiddenNodes, nodes) {\n        var vNodes = Array.prototype.slice.call(nodes);\n        if (excludeHiddenNodes) {\n            for (var i = 0; i < vNodes.length; i++) {\n                if (!isVisible(vNodes[i])) {\n                    vNodes.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        return vNodes;\n    };\n    TreeView.prototype.removeNode = function (node) {\n        var dragParentUl = closest(node, '.' + PARENTITEM);\n        var dragParentLi = closest(dragParentUl, '.' + LISTITEM);\n        if (!isNullOrUndefined(this.nodeTemplateFn)) {\n            this.destroyTemplate(node);\n        }\n        detach(node);\n        this.updateElement(dragParentUl, dragParentLi);\n        this.removeData(node);\n    };\n    TreeView.prototype.updateInstance = function () {\n        this.updateList();\n        this.updateSelectedNodes();\n        this.updateExpandedNodes();\n    };\n    TreeView.prototype.updateList = function () {\n        this.liList = Array.prototype.slice.call(selectAll('.' + LISTITEM, this.element));\n    };\n    TreeView.prototype.updateSelectedNodes = function () {\n        this.setProperties({ selectedNodes: [] }, true);\n        var sNodes = selectAll('.' + ACTIVE, this.element);\n        this.selectGivenNodes(sNodes);\n    };\n    TreeView.prototype.updateExpandedNodes = function () {\n        this.setProperties({ expandedNodes: [] }, true);\n        var eNodes = selectAll('[aria-expanded=\"true\"]', this.element);\n        for (var i = 0, len = eNodes.length; i < len; i++) {\n            this.addExpand(eNodes[i]);\n        }\n    };\n    TreeView.prototype.removeData = function (node) {\n        if (this.dataType === 1) {\n            var dm = new DataManager(this.treeData);\n            var id = this.getId(node);\n            var data = {};\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            data[this.fields.id] = newId;\n            dm.remove(this.fields.id, data);\n            this.removeChildNodes(id);\n        }\n        else {\n            var id = this.getId(node);\n            this.updateChildField(this.treeData, this.fields, id, null, null, true);\n        }\n    };\n    TreeView.prototype.removeChildNodes = function (parentId) {\n        var cNodes = this.getChildGroup(this.groupedData, parentId, false);\n        var childData = [];\n        if (cNodes) {\n            for (var i = 0, len = cNodes.length; i < len; i++) {\n                var dm = new DataManager(this.treeData);\n                var id = getValue(this.fields.id, cNodes[i]).toString();\n                var data = {};\n                var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                data[this.fields.id] = currId;\n                var nodeData = dm.remove(this.fields.id, data);\n                childData.push(nodeData[0]);\n                this.removeChildNodes(id);\n            }\n        }\n        return childData;\n    };\n    TreeView.prototype.doGivenAction = function (nodes, selector, toExpand) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            var icon = select('.' + selector, select('.' + TEXTWRAP, liEle));\n            if (!isNullOrUndefined(icon)) {\n                toExpand ? this.expandAction(liEle, icon, null) : this.collapseNode(liEle, icon, null);\n            }\n        }\n    };\n    TreeView.prototype.addGivenNodes = function (nodes, dropLi, index, isRemote, dropEle) {\n        if (nodes.length === 0) {\n            return;\n        }\n        var sNodes = this.getSortedData(nodes);\n        var level = dropLi ? parseFloat(dropLi.getAttribute('aria-level')) + 1 : 1;\n        if (isRemote) {\n            this.updateMapper(level);\n        }\n        var li = ListBase.createListItemFromJson(this.createElement, sNodes, this.listBaseOption, level);\n        var id = this.getId(dropLi);\n        var refNode;\n        var dropIcon1;\n        if (!isNullOrUndefined(dropLi)) {\n            dropIcon1 = select('div.' + ICON, dropLi);\n        }\n        if (this.dataType === 1 && dropIcon1 && dropIcon1.classList.contains(EXPANDABLE) && !isNullOrUndefined(this.element.offsetParent) && !this.element.offsetParent.parentElement.classList.contains('e-filemanager')) {\n            this.preventExpand = true;\n        }\n        if (this.dataType !== 1) {\n            this.addChildData(this.treeData, this.fields, id, nodes, index);\n            this.isFirstRender = false;\n        }\n        var dropUl;\n        if (!dropEle) {\n            dropUl = dropLi ? this.expandParent(dropLi) : select('.' + PARENTITEM, this.element);\n        }\n        else {\n            dropUl = dropEle;\n        }\n        refNode = dropUl.childNodes[index];\n        if (!this.isFirstRender || this.dataType === 1) {\n            var args = this.expandArgs;\n            if (refNode || this.sortOrder === 'None') {\n                for (var i = 0; i < li.length; i++) {\n                    dropUl.insertBefore(li[i], refNode);\n                }\n                if (this.dataType === 1 && !isNullOrUndefined(dropLi) && !isNullOrUndefined(this.element.offsetParent) && !this.element.offsetParent.parentElement.classList.contains('e-filemanager')) {\n                    this.preventExpand = false;\n                    var dropIcon = select('div.' + ICON, dropLi);\n                    if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && (isNullOrUndefined(args) || args.name != 'nodeExpanding')) {\n                        this.expandAction(dropLi, dropIcon, null);\n                    }\n                }\n            }\n            if (!refNode && ((this.sortOrder === 'Ascending') || (this.sortOrder === 'Descending'))) {\n                if (dropUl.childNodes.length === 0) {\n                    for (var i = 0; i < li.length; i++) {\n                        dropUl.insertBefore(li[i], refNode);\n                    }\n                    if (this.dataType === 1 && !isNullOrUndefined(dropLi) && !isNullOrUndefined(this.element.offsetParent) && !this.element.offsetParent.parentElement.classList.contains('e-filemanager')) {\n                        this.preventExpand = false;\n                        var dropIcon = select('div.' + ICON, dropLi);\n                        if (dropIcon && dropIcon.classList.contains(EXPANDABLE) && (isNullOrUndefined(args) || args.name != 'nodeExpanding')) {\n                            this.expandAction(dropLi, dropIcon, null);\n                        }\n                    }\n                }\n                else {\n                    var cNodes = dropUl.childNodes;\n                    for (var i = 0; i < li.length; i++) {\n                        for (var j = 0; j < cNodes.length; j++) {\n                            var returnValue = (this.sortOrder === 'Ascending') ? cNodes[j].textContent.toUpperCase() > li[i].innerText.toUpperCase() : cNodes[j].textContent.toUpperCase() < li[i].innerText.toUpperCase();\n                            if (returnValue) {\n                                dropUl.insertBefore(li[i], cNodes[j]);\n                                break;\n                            }\n                            dropUl.insertBefore(li[i], cNodes[cNodes.length]);\n                        }\n                    }\n                }\n            }\n        }\n        if (this.dataType === 1) {\n            this.updateField(this.treeData, this.fields, id, 'hasChildren', true);\n            var refId = this.getId(refNode);\n            var pos = isNullOrUndefined(refId) ? this.treeData.length : this.getDataPos(this.treeData, this.fields, refId);\n            for (var j = 0; j < nodes.length; j++) {\n                if (!isNullOrUndefined(id)) {\n                    var currId = this.isNumberTypeId ? parseFloat(id) : id;\n                    setValue(this.fields.parentID, currId, nodes[j]);\n                }\n                this.treeData.splice(pos, 0, nodes[j]);\n                pos++;\n            }\n        }\n        this.finalizeNode(dropUl);\n    };\n    TreeView.prototype.updateMapper = function (level) {\n        var mapper = (level === 1) ? this.fields : this.getChildFields(this.fields, level - 1, 1);\n        this.updateListProp(mapper);\n    };\n    TreeView.prototype.updateListProp = function (mapper) {\n        var prop = this.getActualProperties(mapper);\n        this.listBaseOption.fields = prop;\n        this.listBaseOption.fields.url = prop.hasOwnProperty('navigateUrl') ? prop.navigateUrl : 'navigateUrl';\n    };\n    TreeView.prototype.getDataPos = function (obj, mapper, id) {\n        var pos = null;\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                return i;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var data = getValue(mapper.child, obj[i]);\n                pos = this.getDataPos(data, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var items = getValue('child', obj[i]);\n                pos = this.getDataPos(items, this.getChildMapper(mapper), id);\n                if (pos !== null) {\n                    break;\n                }\n            }\n        }\n        return pos;\n    };\n    TreeView.prototype.addChildData = function (obj, mapper, id, data, index) {\n        var updated;\n        if (isNullOrUndefined(id)) {\n            index = isNullOrUndefined(index) ? obj.length : index;\n            for (var k = 0, len = data.length; k < len; k++) {\n                obj.splice(index, 0, data[k]);\n                index++;\n            }\n            return updated;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if ((typeof mapper.child === 'string' && (obj[i].hasOwnProperty(mapper.child) && obj[i][mapper.child] !== null)) ||\n                    ((this.fields.dataSource instanceof DataManager) && obj[i].hasOwnProperty('child'))) {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    var childData = getValue(key, obj[i]);\n                    if (isNullOrUndefined(childData)) {\n                        childData = [];\n                    }\n                    index = isNullOrUndefined(index) ? childData.length : index;\n                    for (var k = 0, len = data.length; k < len; k++) {\n                        childData.splice(index, 0, data[k]);\n                        index++;\n                    }\n                }\n                else {\n                    var key = (typeof mapper.child === 'string') ? mapper.child : 'child';\n                    obj[i][key] = data;\n                }\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childObj = getValue(mapper.child, obj[i]);\n                updated = this.addChildData(childObj, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n            else if ((this.fields.dataSource instanceof DataManager) && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var childData = getValue('child', obj[i]);\n                updated = this.addChildData(childData, this.getChildMapper(mapper), id, data, index);\n                if (updated !== undefined) {\n                    break;\n                }\n            }\n        }\n        return updated;\n    };\n    TreeView.prototype.doDisableAction = function (nodes) {\n        var validNodes = this.nodeType(nodes);\n        var validID = this.checkValidId(validNodes);\n        this.validArr = [];\n        for (var i = 0, len = validID.length; i < len; i++) {\n            var id = validID[i][this.fields.id].toString();\n            if (id && this.disableNode.indexOf(id) === -1) {\n                this.disableNode.push(id);\n            }\n            var liEle = this.getElement(id);\n            if (liEle) {\n                liEle.setAttribute('aria-disabled', 'true');\n                addClass([liEle], DISABLE);\n            }\n        }\n    };\n    TreeView.prototype.doEnableAction = function (nodes) {\n        var strNodes = this.nodeType(nodes);\n        for (var i = 0, len = strNodes.length; i < len; i++) {\n            var liEle = this.getElement(strNodes[i]);\n            var id = strNodes[i];\n            if (id && this.disableNode.indexOf(id) !== -1) {\n                this.disableNode.splice(this.disableNode.indexOf(id), 1);\n            }\n            if (liEle) {\n                liEle.removeAttribute('aria-disabled');\n                removeClass([liEle], DISABLE);\n            }\n        }\n    };\n    TreeView.prototype.nodeType = function (nodes) {\n        var validID = [];\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var id = void 0;\n            if (typeof nodes[i] == \"string\") {\n                id = (nodes[i]) ? nodes[i].toString() : null;\n            }\n            else if (typeof nodes[i] === \"object\") {\n                id = nodes[i] ? nodes[i].getAttribute(\"data-uid\").toString() : null;\n            }\n            if (validID.indexOf(id) == -1) {\n                validID.push(id);\n            }\n        }\n        return validID;\n    };\n    TreeView.prototype.checkValidId = function (node) {\n        var _this = this;\n        if (this.dataType === 1) {\n            this.validArr = this.treeData.filter(function (data) {\n                return node.indexOf(data[_this.fields.id] ? data[_this.fields.id].toString() : null) !== -1;\n            });\n        }\n        else if (this.dataType === 2) {\n            for (var k = 0; k < this.treeData.length; k++) {\n                var id = this.treeData[k][this.fields.id] ? this.treeData[k][this.fields.id].toString() : null;\n                if (node.indexOf(id) !== -1) {\n                    this.validArr.push(this.treeData[k]);\n                }\n                var childItems = getValue(this.fields.child.toString(), this.treeData[k]);\n                if (childItems) {\n                    this.filterNestedChild(childItems, node);\n                }\n            }\n        }\n        return this.validArr;\n    };\n    TreeView.prototype.filterNestedChild = function (treeData, nodes) {\n        for (var k = 0; k < treeData.length; k++) {\n            var id = treeData[k][this.fields.id] ? treeData[k][this.fields.id].toString() : null;\n            if (nodes.indexOf(id) !== -1) {\n                this.validArr.push(treeData[k]);\n            }\n            var childItems = getValue(this.fields.child.toString(), treeData[k]);\n            if (childItems) {\n                this.filterNestedChild(childItems, nodes);\n            }\n        }\n    };\n    TreeView.prototype.setTouchClass = function () {\n        var ele = closest(this.element, '.' + BIGGER);\n        this.touchClass = isNullOrUndefined(ele) ? '' : SMALL;\n    };\n    TreeView.prototype.updatePersistProp = function () {\n        this.removeField(this.treeData, this.fields, ['selected', 'expanded']);\n        var sleNodes = this.selectedNodes;\n        for (var l = 0, slelen = sleNodes.length; l < slelen; l++) {\n            this.updateField(this.treeData, this.fields, sleNodes[l], 'selected', true);\n        }\n        var enodes = this.expandedNodes;\n        for (var k = 0, nodelen = enodes.length; k < nodelen; k++) {\n            this.updateField(this.treeData, this.fields, enodes[k], 'expanded', true);\n        }\n        if (this.showCheckBox) {\n            this.removeField(this.treeData, this.fields, ['isChecked']);\n            var cnodes = this.checkedNodes;\n            for (var m = 0, nodelen = cnodes.length; m < nodelen; m++) {\n                this.updateField(this.treeData, this.fields, cnodes[m], 'isChecked', true);\n            }\n        }\n    };\n    TreeView.prototype.removeField = function (obj, mapper, names) {\n        if (isNullOrUndefined(obj) || isNullOrUndefined(mapper)) {\n            return;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            for (var j = 0; j < names.length; j++) {\n                var field = this.getMapperProp(mapper, names[j]);\n                if (!isNullOrUndefined(obj[i][field])) {\n                    delete obj[i][field];\n                }\n            }\n            if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                this.removeField(getValue(mapper.child, obj[i]), this.getChildMapper(mapper), names);\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                this.removeField(getValue('child', obj[i]), this.getChildMapper(mapper), names);\n            }\n        }\n    };\n    TreeView.prototype.getMapperProp = function (mapper, fieldName) {\n        switch (fieldName) {\n            case 'selected':\n                return !isNullOrUndefined(mapper.selected) ? mapper.selected : 'selected';\n            case 'expanded':\n                return !isNullOrUndefined(mapper.expanded) ? mapper.expanded : 'expanded';\n            case 'isChecked':\n                return !isNullOrUndefined(mapper.isChecked) ? mapper.isChecked : 'isChecked';\n            case 'hasChildren':\n                return !isNullOrUndefined(mapper.hasChildren) ? mapper.hasChildren : 'hasChildren';\n            default:\n                return fieldName;\n        }\n    };\n    TreeView.prototype.updateField = function (obj, mapper, id, key, value) {\n        if (isNullOrUndefined(id)) {\n            return;\n        }\n        else if (this.dataType === 1) {\n            var newId = this.isNumberTypeId ? parseFloat(id) : id;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', newId, false));\n            setValue(this.getMapperProp(mapper, key), value, resultData[0]);\n        }\n        else {\n            this.updateChildField(obj, mapper, id, key, value);\n        }\n    };\n    TreeView.prototype.updateChildField = function (obj, mapper, id, key, value, remove$$1) {\n        var removedData;\n        if (isNullOrUndefined(obj)) {\n            return removedData;\n        }\n        for (var i = 0, objlen = obj.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, obj[i]);\n            if (obj[i] && nodeId && nodeId.toString() === id) {\n                if (remove$$1) {\n                    removedData = obj.splice(i, 1);\n                }\n                else {\n                    setValue(this.getMapperProp(mapper, key), value, obj[i]);\n                    removedData = [];\n                }\n                return removedData;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, obj[i]))) {\n                var childData = getValue(mapper.child, obj[i]);\n                removedData = this.updateChildField(childData, this.getChildMapper(mapper), id, key, value, remove$$1);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', obj[i]))) {\n                var childItems = getValue('child', obj[i]);\n                removedData = this.updateChildField(childItems, this.getChildMapper(mapper), id, key, value, remove$$1);\n                if (removedData !== undefined) {\n                    break;\n                }\n            }\n        }\n        return removedData;\n    };\n    TreeView.prototype.triggerEvent = function (action, node) {\n        this.renderReactTemplates();\n        if (action === 'addNodes') {\n            var nodeData = [];\n            for (var i = 0; i < node.length; i++) {\n                nodeData.push(this.getNode(this.getElement(isNullOrUndefined(node[i][this.fields.id]) ? getValue(this.fields.id, node[i]).toString() : null)));\n            }\n            node = nodeData;\n        }\n        var eventArgs = { data: this.treeData, action: action, nodeData: node };\n        this.trigger('dataSourceChanged', eventArgs);\n    };\n    TreeView.prototype.wireInputEvents = function (inpEle) {\n        EventHandler.add(inpEle, 'blur', this.inputFocusOut, this);\n    };\n    TreeView.prototype.wireEditingEvents = function (toBind) {\n        var _this = this;\n        if (toBind && !this.disabled) {\n            var proxy_2 = this;\n            this.touchEditObj = new Touch(this.element, {\n                tap: function (e) {\n                    if (_this.isDoubleTapped(e) && e.tapCount === 2) {\n                        e.originalEvent.preventDefault();\n                        proxy_2.editingHandler(e.originalEvent);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchEditObj) {\n                this.touchEditObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireClickEvent = function (toBind) {\n        if (toBind) {\n            var proxy_3 = this;\n            this.touchClickObj = new Touch(this.element, {\n                tap: function (e) {\n                    proxy_3.clickHandler(e);\n                }\n            });\n        }\n        else {\n            if (this.touchClickObj) {\n                this.touchClickObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.wireExpandOnEvent = function (toBind) {\n        var _this = this;\n        if (toBind) {\n            var proxy_4 = this;\n            this.touchExpandObj = new Touch(this.element, {\n                tap: function (e) {\n                    if ((_this.expandOnType === 'Click' || (_this.expandOnType === 'DblClick' && _this.isDoubleTapped(e) && e.tapCount === 2))\n                        && e.originalEvent.which !== 3) {\n                        proxy_4.expandHandler(e);\n                    }\n                }\n            });\n        }\n        else {\n            if (this.touchExpandObj) {\n                this.touchExpandObj.destroy();\n            }\n        }\n    };\n    TreeView.prototype.mouseDownHandler = function (e) {\n        this.mouseDownStatus = true;\n        if (e.shiftKey || e.ctrlKey) {\n            e.preventDefault();\n        }\n        if (e.ctrlKey && this.allowMultiSelection) {\n            EventHandler.add(this.element, 'contextmenu', this.preventContextMenu, this);\n        }\n    };\n    \n    TreeView.prototype.preventContextMenu = function (e) {\n        e.preventDefault();\n    };\n    TreeView.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'mousedown', this.mouseDownHandler, this);\n        this.wireClickEvent(true);\n        if (this.expandOnType !== 'None') {\n            this.wireExpandOnEvent(true);\n        }\n        EventHandler.add(this.element, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.element, 'mouseout', this.onMouseLeave, this);\n        this.keyboardModule = new KeyboardEvents(this.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown',\n        });\n    };\n    TreeView.prototype.unWireEvents = function () {\n        EventHandler.remove(this.element, 'mousedown', this.mouseDownHandler);\n        this.wireClickEvent(false);\n        this.wireExpandOnEvent(false);\n        EventHandler.remove(this.element, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.element, 'mouseout', this.onMouseLeave);\n        if (!this.disabled) {\n            this.keyboardModule.destroy();\n        }\n    };\n    TreeView.prototype.parents = function (element, selector) {\n        var matched = [];\n        var el = element.parentNode;\n        while (!isNullOrUndefined(el)) {\n            if (matches(el, selector)) {\n                matched.push(el);\n            }\n            el = el.parentNode;\n        }\n        return matched;\n    };\n    TreeView.prototype.isDoubleTapped = function (e) {\n        var target = e.originalEvent.target;\n        var secondTap;\n        if (target && e.tapCount) {\n            if (e.tapCount === 1) {\n                this.firstTap = closest(target, '.' + LISTITEM);\n            }\n            else if (e.tapCount === 2) {\n                secondTap = closest(target, '.' + LISTITEM);\n            }\n        }\n        return (this.firstTap === secondTap);\n    };\n    TreeView.prototype.isDescendant = function (parent, child) {\n        var node = child.parentNode;\n        while (!isNullOrUndefined(node)) {\n            if (node === parent) {\n                return true;\n            }\n            node = node.parentNode;\n        }\n        return false;\n    };\n    TreeView.prototype.showSpinner = function (element) {\n        addClass([element], LOAD);\n        createSpinner({\n            target: element,\n            width: Browser.isDevice ? 16 : 14\n        }, this.createElement);\n        showSpinner(element);\n    };\n    TreeView.prototype.hideSpinner = function (element) {\n        hideSpinner(element);\n        element.innerHTML = '';\n        removeClass([element], LOAD);\n    };\n    TreeView.prototype.setCheckedNodes = function (nodes) {\n        nodes = JSON.parse(JSON.stringify(nodes));\n        this.uncheckAll(this.checkedNodes);\n        this.setIndeterminate(nodes);\n        if (nodes.length > 0) {\n            this.checkAll(nodes);\n        }\n    };\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel\n     */\n    TreeView.prototype.setValidCheckedNode = function (node) {\n        if (this.dataType === 1) {\n            var mapper = this.fields;\n            var resultData = new DataManager(this.treeData).executeLocal(new Query().where(mapper.id, 'equal', node, true));\n            if (resultData[0]) {\n                this.setChildCheckState(resultData, node, resultData[0]);\n                if (this.autoCheck) {\n                    var parent_4 = resultData[0][this.fields.parentID] ? resultData[0][this.fields.parentID].toString() : null;\n                    var childNodes = this.getChildNodes(this.treeData, parent_4);\n                    var count = 0;\n                    for (var len = 0; len < childNodes.length; len++) {\n                        var childId = childNodes[len][this.fields.id].toString();\n                        if (this.checkedNodes.indexOf(childId) !== -1) {\n                            count++;\n                        }\n                    }\n                    if (count === childNodes.length && this.checkedNodes.indexOf(parent_4) === -1 && parent_4) {\n                        this.checkedNodes.push(parent_4);\n                    }\n                }\n            }\n        }\n        else if (this.dataType === 2) {\n            for (var a = 0; a < this.treeData.length; a++) {\n                var index = this.treeData[a][this.fields.id] ? this.treeData[a][this.fields.id].toString() : '';\n                if (index === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                    break;\n                }\n                var childItems = getValue(this.fields.child.toString(), this.treeData[a]);\n                if (childItems) {\n                    this.setChildCheckState(childItems, node, this.treeData[a]);\n                }\n            }\n        }\n    };\n    /**\n     * Checks whether the checkedNodes entered are valid and sets the valid checkedNodes while changing via setmodel(for hierarchical DS)\n     */\n    TreeView.prototype.setChildCheckState = function (childItems, node, treeData) {\n        var checkedParent;\n        var count = 0;\n        if (this.dataType === 1) {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : null;\n            }\n            for (var index = 0; index < childItems.length; index++) {\n                var checkNode = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : null;\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkNode) === -1) {\n                        this.checkedNodes.push(checkNode);\n                    }\n                }\n                if (checkNode === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                var subChildItems = this.getChildNodes(this.treeData, checkNode);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, treeData);\n                }\n            }\n        }\n        else {\n            if (treeData) {\n                checkedParent = treeData[this.fields.id] ? treeData[this.fields.id].toString() : '';\n            }\n            for (var index = 0; index < childItems.length; index++) {\n                var checkedChild = childItems[index][this.fields.id] ? childItems[index][this.fields.id].toString() : '';\n                if (treeData && checkedParent && this.autoCheck) {\n                    if (this.checkedNodes.indexOf(checkedParent) !== -1 && this.checkedNodes.indexOf(checkedChild) === -1) {\n                        this.checkedNodes.push(checkedChild);\n                    }\n                }\n                if (checkedChild === node && this.checkedNodes.indexOf(node) === -1) {\n                    this.checkedNodes.push(node);\n                }\n                var subChildItems = getValue(this.fields.child.toString(), childItems[index]);\n                if (subChildItems) {\n                    this.setChildCheckState(subChildItems, node, childItems[index]);\n                }\n                if (this.checkedNodes.indexOf(checkedChild) !== -1 && this.autoCheck) {\n                    count++;\n                }\n                if (count === childItems.length && this.checkedNodes.indexOf(checkedParent) === -1 && this.autoCheck) {\n                    this.checkedNodes.push(checkedParent);\n                }\n            }\n        }\n    };\n    TreeView.prototype.setIndeterminate = function (nodes) {\n        for (var i = 0; i < nodes.length; i++) {\n            this.setValidCheckedNode(nodes[i]);\n        }\n    };\n    TreeView.prototype.updatePosition = function (id, newData, isRefreshChild, childValue) {\n        if (this.dataType === 1) {\n            var pos = this.getDataPos(this.treeData, this.fields, id);\n            this.treeData.splice(pos, 1, newData);\n            if (isRefreshChild) {\n                this.removeChildNodes(id);\n                for (var j = 0; j < childValue.length; j++) {\n                    this.treeData.splice(pos, 0, childValue[j]);\n                    pos++;\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        else {\n            this.updateChildPosition(this.treeData, this.fields, id, [newData], undefined);\n        }\n    };\n    TreeView.prototype.updateChildPosition = function (treeData, mapper, currID, newData, index) {\n        var found;\n        for (var i = 0, objlen = treeData.length; i < objlen; i++) {\n            var nodeId = getValue(mapper.id, treeData[i]);\n            if (treeData[i] && nodeId && nodeId.toString() === currID) {\n                treeData[i] = newData[0];\n                return true;\n            }\n            else if (typeof mapper.child === 'string' && !isNullOrUndefined(getValue(mapper.child, treeData[i]))) {\n                var childObj = getValue(mapper.child, treeData[i]);\n                found = this.updateChildPosition(childObj, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n            else if (this.fields.dataSource instanceof DataManager && !isNullOrUndefined(getValue('child', treeData[i]))) {\n                var childData = getValue('child', treeData[i]);\n                found = this.updateChildPosition(childData, this.getChildMapper(mapper), currID, newData, index);\n                if (found !== undefined) {\n                    break;\n                }\n            }\n        }\n        return found;\n    };\n    TreeView.prototype.dynamicState = function () {\n        this.setDragAndDrop(this.allowDragAndDrop);\n        this.wireEditingEvents(this.allowEditing);\n        if (!this.disabled) {\n            this.wireEvents();\n            this.setRipple();\n        }\n        else {\n            this.unWireEvents();\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n    };\n    TreeView.prototype.crudOperation = function (operation, nodes, target, newText, newNode, index, prevent) {\n        var _this = this;\n        var data = this.fields.dataSource;\n        var matchedArr = [];\n        var query = this.getQuery(this.fields);\n        var key = this.fields.id;\n        var crud;\n        var changes = {\n            addedRecords: [],\n            deletedRecords: [],\n            changedRecords: []\n        };\n        var nodesID = [];\n        if (nodes) {\n            nodesID = this.nodeType(nodes);\n        }\n        else if (target) {\n            if (typeof target == \"string\") {\n                nodesID[0] = target.toString();\n            }\n            else if (typeof target === \"object\") {\n                nodesID[0] = target.getAttribute(\"data-uid\").toString();\n            }\n        }\n        for (var i = 0, len = nodesID.length; i < len; i++) {\n            var liEle = this.getElement(nodesID[i]);\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            var removedData = this.getNodeObject(nodesID[i]);\n            matchedArr.push(removedData);\n        }\n        switch (operation) {\n            case 'delete':\n                if (nodes.length == 1) {\n                    crud = data.remove(key, matchedArr[0], query.fromTable, query);\n                }\n                else {\n                    changes.deletedRecords = matchedArr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then(function (e) { return _this.deleteSuccess(nodesID); })\n                    .catch(function (e) { return _this.dmFailure(e); });\n                break;\n            case 'update':\n                matchedArr[0][this.fields.text] = newText;\n                crud = data.update(key, matchedArr[0], query.fromTable, query);\n                crud.then(function (e) { return _this.editSucess(target, newText, prevent); })\n                    .catch(function (e) { return _this.dmFailure(e, target, prevent); });\n                break;\n            case 'insert':\n                if (newNode.length == 1) {\n                    crud = data.insert(newNode[0], query.fromTable, query);\n                }\n                else {\n                    var arr = [];\n                    for (var i = 0, len = newNode.length; i < len; i++) {\n                        arr.push(newNode[i]);\n                    }\n                    changes.addedRecords = arr;\n                    crud = data.saveChanges(changes, key, query.fromTable, query);\n                }\n                crud.then(function (e) {\n                    var dropLi = _this.getElement(target);\n                    _this.addSuccess(newNode, dropLi, index);\n                    _this.preventExpand = false;\n                }).catch(function (e) { return _this.dmFailure(e); });\n                break;\n        }\n    };\n    TreeView.prototype.deleteSuccess = function (nodes) {\n        var nodeData = [];\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            var liEle = this.getElement(nodes[i]);\n            nodeData.push(this.getNode(liEle));\n            if (isNullOrUndefined(liEle)) {\n                continue;\n            }\n            this.removeNode(liEle);\n        }\n        this.updateInstance();\n        if (this.dataType === 1) {\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.triggerEvent('removeNode', nodeData);\n    };\n    TreeView.prototype.editSucess = function (target, newText, prevent) {\n        var liEle = this.getElement(target);\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.appendNewText(liEle, txtEle, newText, prevent);\n    };\n    TreeView.prototype.addSuccess = function (nodes, dropLi, index) {\n        var dropUl;\n        var icon = dropLi ? dropLi.querySelector('.' + ICON) : null;\n        var proxy = this;\n        if (dropLi && icon && icon.classList.contains(EXPANDABLE) &&\n            dropLi.querySelector('.' + PARENTITEM) === null) {\n            proxy.renderChildNodes(dropLi, null, function () {\n                dropUl = dropLi.querySelector('.' + PARENTITEM);\n                proxy.addGivenNodes(nodes, dropLi, index, true, dropUl);\n                proxy.triggerEvent('addNodes', nodes);\n            });\n        }\n        else {\n            this.addGivenNodes(nodes, dropLi, index, true);\n            this.triggerEvent('addNodes', nodes);\n        }\n    };\n    TreeView.prototype.dmFailure = function (e, target, prevent) {\n        if (target) {\n            this.updatePreviousText(target, prevent);\n        }\n        this.trigger('actionFailure', { error: e });\n    };\n    TreeView.prototype.updatePreviousText = function (target, prevent) {\n        var liEle = this.getElement(target);\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateText(liEle, txtEle, this.oldText, prevent);\n    };\n    TreeView.prototype.getHierarchicalParentId = function (node, data, parentsID) {\n        var _this = this;\n        var index = data.findIndex(function (data) { return data[_this.fields.id] && data[_this.fields.id].toString() === node; });\n        if (index == -1) {\n            for (var i = 0; i < data.length; i++) {\n                var childItems = getValue(this.fields.child.toString(), data[i]);\n                if (!isNullOrUndefined(childItems)) {\n                    index = childItems.findIndex(function (data) { return data[_this.fields.id] && data[_this.fields.id].toString() === node; });\n                    if (index == -1) {\n                        this.getHierarchicalParentId(node, childItems, parentsID);\n                    }\n                    else {\n                        parentsID.push(data[i][this.fields.id].toString());\n                        this.getHierarchicalParentId(data[i][this.fields.id].toString(), this.treeData, parentsID);\n                        break;\n                    }\n                }\n            }\n        }\n        return parentsID;\n    };\n    /**\n     * Called internally if any of the property value changed.\n     * @param  {TreeView} newProp\n     * @param  {TreeView} oldProp\n     * @returns void\n     * @private\n     */\n    TreeView.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.setDragAndDrop(this.allowDragAndDrop);\n                    break;\n                case 'dragArea':\n                    if (this.allowDragAndDrop) {\n                        this.dragObj.dragArea = this.dragArea;\n                    }\n                    break;\n                case 'allowEditing':\n                    this.wireEditingEvents(this.allowEditing);\n                    break;\n                case 'allowMultiSelection':\n                    if (this.selectedNodes.length > 1) {\n                        var sNode = this.getElement(this.selectedNodes[0]);\n                        this.isLoaded = false;\n                        this.removeSelectAll();\n                        this.selectNode(sNode, null);\n                        this.isLoaded = true;\n                    }\n                    this.setMultiSelect(this.allowMultiSelection);\n                    this.addMultiSelect(this.allowMultiSelection);\n                    break;\n                case 'allowTextWrap':\n                    this.setTextWrap();\n                    this.updateWrap();\n                    break;\n                case 'checkedNodes':\n                    if (this.showCheckBox) {\n                        this.checkedNodes = oldProp.checkedNodes;\n                        this.setCheckedNodes(newProp.checkedNodes);\n                    }\n                    break;\n                case 'autoCheck':\n                    if (this.showCheckBox) {\n                        this.autoCheck = newProp.autoCheck;\n                        this.ensureIndeterminate();\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCssClass(oldProp.cssClass, newProp.cssClass);\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'expandedNodes':\n                    this.isAnimate = false;\n                    this.setProperties({ expandedNodes: [] }, true);\n                    this.collapseAll();\n                    this.isInitalExpand = true;\n                    this.setProperties({ expandedNodes: isNullOrUndefined(newProp.expandedNodes) ? [] : newProp.expandedNodes }, true);\n                    this.doExpandAction();\n                    this.isInitalExpand = false;\n                    this.isAnimate = true;\n                    break;\n                case 'expandOn':\n                    this.wireExpandOnEvent(false);\n                    this.setExpandOnType();\n                    if (this.expandOnType !== 'None' && !this.disabled) {\n                        this.wireExpandOnEvent(true);\n                    }\n                    break;\n                case 'disabled':\n                    this.setDisabledMode();\n                    this.dynamicState();\n                    break;\n                case 'fields':\n                    this.isAnimate = false;\n                    this.isFieldChange = true;\n                    this.initialRender = true;\n                    this.reRenderNodes();\n                    this.initialRender = false;\n                    this.isAnimate = true;\n                    this.isFieldChange = false;\n                    break;\n                case 'fullRowSelect':\n                    this.setFullRow(this.fullRowSelect);\n                    this.addFullRow(this.fullRowSelect);\n                    if (this.allowTextWrap) {\n                        this.setTextWrap();\n                        this.updateWrap();\n                    }\n                    break;\n                case 'loadOnDemand':\n                    if (this.loadOnDemand === false && !this.onLoaded) {\n                        var nodes = this.element.querySelectorAll('li');\n                        var i = 0;\n                        while (i < nodes.length) {\n                            if (nodes[i].getAttribute('aria-expanded') !== 'true') {\n                                this.renderChildNodes(nodes[i], true, null, true);\n                            }\n                            i++;\n                        }\n                        this.onLoaded = true;\n                    }\n                    break;\n                case 'nodeTemplate':\n                    this.hasTemplate = false;\n                    this.nodeTemplateFn = this.templateComplier(this.nodeTemplate);\n                    this.reRenderNodes();\n                    break;\n                case 'selectedNodes':\n                    this.removeSelectAll();\n                    this.setProperties({ selectedNodes: newProp.selectedNodes }, true);\n                    this.doSelectionAction();\n                    break;\n                case 'showCheckBox':\n                    this.reRenderNodes();\n                    break;\n                case 'sortOrder':\n                    this.reRenderNodes();\n                    break;\n                case 'fullRowNavigable':\n                    this.setProperties({ fullRowNavigable: newProp.fullRowNavigable }, true);\n                    this.listBaseOption.itemNavigable = newProp.fullRowNavigable;\n                    this.reRenderNodes();\n                    break;\n            }\n        }\n    };\n    /**\n     * Removes the component from the DOM and detaches all its related event handlers. It also removes the attributes and classes.\n     */\n    TreeView.prototype.destroy = function () {\n        this.clearTemplate();\n        this.element.removeAttribute('aria-activedescendant');\n        this.unWireEvents();\n        this.wireEditingEvents(false);\n        if (!this.disabled) {\n            this.rippleFn();\n            this.rippleIconFn();\n        }\n        this.setCssClass(this.cssClass, null);\n        this.setDragAndDrop(false);\n        this.setFullRow(false);\n        if (this.ulElement && this.ulElement.parentElement) {\n            this.ulElement.parentElement.removeChild(this.ulElement);\n        }\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * Adds the collection of TreeView nodes based on target and index position. If target node is not specified,\n     * then the nodes are added as children of the given parentID or in the root level of TreeView.\n     * @param  { { [key: string]: Object }[] } nodes - Specifies the array of JSON data that has to be added.\n     * @param  { string | Element } target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  { number } index - Specifies the index to place the newly added nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.addNodes = function (nodes, target, index, preventTargetExpand) {\n        if (isNullOrUndefined(nodes)) {\n            return;\n        }\n        nodes = JSON.parse(JSON.stringify(nodes));\n        var dropLi = this.getElement(target);\n        this.preventExpand = preventTargetExpand;\n        if (this.fields.dataSource instanceof DataManager) {\n            if (!this.isOffline) {\n                this.crudOperation('insert', null, target, null, nodes, index, this.preventExpand);\n            }\n            else {\n                this.addSuccess(nodes, dropLi, index);\n            }\n        }\n        else if (this.dataType === 2) {\n            this.addGivenNodes(nodes, dropLi, index);\n        }\n        else {\n            if (dropLi) {\n                this.addGivenNodes(nodes, dropLi, index);\n            }\n            else {\n                nodes = this.getSortedData(nodes);\n                for (var i = 0; i < nodes.length; i++) {\n                    var pid = getValue(this.fields.parentID, nodes[i]);\n                    dropLi = pid ? this.getElement(pid.toString()) : pid;\n                    this.addGivenNodes([nodes[i]], dropLi, index);\n                }\n            }\n            this.groupedData = this.getGroupedData(this.treeData, this.fields.parentID);\n        }\n        this.updateCheckedStateFromDS();\n        if (this.showCheckBox && dropLi) {\n            this.ensureParentCheckState(dropLi);\n        }\n        if ((this.fields.dataSource instanceof DataManager === false)) {\n            this.preventExpand = false;\n            this.triggerEvent('addNodes', nodes);\n        }\n    };\n    /**\n     * Editing can also be enabled by using the `beginEdit` property, instead of clicking on the\n     * TreeView node. On passing the node ID or element through this property, the edit textBox\n     * will be created for the particular node thus allowing us to edit it.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.beginEdit = function (node) {\n        var ele = this.getElement(node);\n        if (isNullOrUndefined(ele) || this.disabled) {\n            return;\n        }\n        this.createTextbox(ele, null);\n    };\n    /**\n     * Checks all the unchecked nodes. You can also check specific nodes by passing array of unchecked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.checkAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, true);\n        }\n    };\n    /**\n     * Collapses all the expanded TreeView nodes. You can collapse specific nodes by passing array of nodes as argument to this method.\n     * You can also collapse all the nodes excluding the hidden nodes by setting **excludeHiddenNodes** to true. If you want to collapse\n     * a specific level of nodes, set **level** as argument to collapseAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/ array of TreeView node.\n     * @param  {number} level - TreeView nodes will collapse up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes of TreeView when collapsing all nodes.\n     */\n    TreeView.prototype.collapseAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doGivenAction(nodes, COLLAPSIBLE, false);\n        }\n        else {\n            if (level > 0) {\n                this.collapseByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.collapseAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Disables the collection of nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.disableNodes = function (nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doDisableAction(nodes);\n        }\n    };\n    /**\n     * Enables the collection of disabled nodes by passing the ID of nodes or node elements in the array.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     */\n    TreeView.prototype.enableNodes = function (nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doEnableAction(nodes);\n        }\n    };\n    /**\n     * Ensures visibility of the TreeView node by using node ID or node element.\n     * When many TreeView nodes are present and we need to find a particular node, `ensureVisible` property\n     * helps bring the node to visibility by expanding the TreeView and scrolling to the specific node.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView nodes.\n     */\n    TreeView.prototype.ensureVisible = function (node) {\n        var parentsId = [];\n        if (this.dataType == 1) {\n            var nodeData = this.getTreeData(node);\n            while (nodeData.length != 0 && !isNullOrUndefined(nodeData[0][this.fields.parentID])) {\n                parentsId.push(nodeData[0][this.fields.parentID].toString());\n                nodeData = this.getTreeData(nodeData[0][this.fields.parentID].toString());\n            }\n        }\n        else if (this.dataType == 2) {\n            parentsId = this.getHierarchicalParentId(node, this.treeData, parentsId).reverse();\n        }\n        this.expandAll(parentsId);\n        var liEle = this.getElement(node);\n        if (!isNullOrUndefined(liEle)) {\n            if (typeof node == 'object') {\n                var parents = this.parents(liEle, '.' + LISTITEM);\n                this.expandAll(parents);\n            }\n            setTimeout(function () { liEle.scrollIntoView({ behavior: \"smooth\" }); }, 450);\n        }\n    };\n    /**\n     * Expands all the collapsed TreeView nodes. You can expand the specific nodes by passing the array of collapsed nodes\n     * as argument to this method. You can also expand all the collapsed nodes by excluding the hidden nodes by setting\n     * **excludeHiddenNodes** to true to this method. To expand a specific level of nodes, set **level** as argument to expandAll method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView nodes.\n     * @param  {number} level - TreeView nodes will expand up to the given level.\n     * @param  {boolean} excludeHiddenNodes - Whether or not to exclude hidden nodes when expanding all nodes.\n     */\n    TreeView.prototype.expandAll = function (nodes, level, excludeHiddenNodes) {\n        if (!isNullOrUndefined(nodes)) {\n            this.doGivenAction(nodes, EXPANDABLE, true);\n        }\n        else {\n            if (level > 0) {\n                this.expandByLevel(select('.' + PARENTITEM, this.element), level, excludeHiddenNodes);\n            }\n            else {\n                this.expandAllNodes(excludeHiddenNodes);\n            }\n        }\n    };\n    /**\n     * Gets all the checked nodes including child, whether it is loaded or not.\n     */\n    TreeView.prototype.getAllCheckedNodes = function () {\n        var checkNodes = this.checkedNodes;\n        return checkNodes;\n    };\n    /**\n    * Gets all the disabled nodes including child, whether it is loaded or not.\n    */\n    TreeView.prototype.getDisabledNodes = function () {\n        var disabledNodes = this.disableNode;\n        return disabledNodes;\n    };\n    /**\n     * Gets the node's data such as id, text, parentID, selected, isChecked, and expanded by passing the node element or it's ID.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     */\n    TreeView.prototype.getNode = function (node) {\n        var ele = this.getElement(node);\n        return this.getNodeData(ele, true);\n    };\n    /**\n     * To get the updated data source of TreeView after performing some operation like drag and drop, node editing,\n     * node selecting/unSelecting, node expanding/collapsing, node checking/unChecking, adding and removing node.\n     * * If you pass the ID of TreeView node as arguments for this method then it will return the updated data source\n     * of the corresponding node otherwise it will return the entire updated data source of TreeView.\n     * * The updated data source also contains custom attributes if you specified in data source.\n     * @param  {string | Element} node - Specifies ID of TreeView node/TreeView node.\n     * @isGenericType true\n     */\n    TreeView.prototype.getTreeData = function (node) {\n        var id = this.getId(node);\n        this.updatePersistProp();\n        if (isNullOrUndefined(id)) {\n            return this.treeData;\n        }\n        else {\n            var data = this.getNodeObject(id);\n            return isNullOrUndefined(data) ? [] : [data];\n        }\n    };\n    /**\n     * Moves the collection of nodes within the same TreeView based on target or its index position.\n     * @param  {string[] | Element[]} sourceNodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {number} index - Specifies the index to place the moved nodes in the target element.\n     * @param { boolean } preventTargetExpand - If set to true, the target parent node will be prevented from auto expanding.\n     */\n    TreeView.prototype.moveNodes = function (sourceNodes, target, index, preventTargetExpand) {\n        var dropLi = this.getElement(target);\n        var nodeData = [];\n        if (isNullOrUndefined(dropLi)) {\n            return;\n        }\n        for (var i = 0; i < sourceNodes.length; i++) {\n            var dragLi = this.getElement(sourceNodes[i]);\n            nodeData.push(this.getNode(dragLi));\n            if (isNullOrUndefined(dragLi) || dropLi.isSameNode(dragLi) || this.isDescendant(dragLi, dropLi)) {\n                continue;\n            }\n            this.preventExpand = preventTargetExpand;\n            this.dropAsChildNode(dragLi, dropLi, this, index);\n        }\n        if (this.fields.dataSource instanceof DataManager === false) {\n            this.preventExpand = false;\n        }\n        this.triggerEvent('moveNodes', nodeData);\n    };\n    /**\n     * Refreshes a particular node of the TreeView.\n     * @param  {string | Element} target - Specifies the ID of TreeView node or TreeView node as target element.\n     * @param  {{ [key: string]: Object }[]} newData - Specifies the new data of TreeView node.\n     */\n    TreeView.prototype.refreshNode = function (target, newData) {\n        if (isNullOrUndefined(target) || isNullOrUndefined(newData)) {\n            return;\n        }\n        var id;\n        var isRefreshChild = false;\n        if (this.dataType == 1 && newData.length > 1) {\n            isRefreshChild = true;\n        }\n        else if (this.dataType == 2 && newData.length === 1) {\n            var updatedChildValue = getValue(this.fields.child.toString(), newData[0]);\n            if (!isNullOrUndefined(updatedChildValue)) {\n                isRefreshChild = true;\n            }\n        }\n        var liEle = this.getElement(target);\n        id = liEle ? liEle.getAttribute('data-uid') : ((target) ? target.toString() : null);\n        this.refreshData = this.getNodeObject(id);\n        newData = JSON.parse(JSON.stringify(newData));\n        /* eslint-disable */\n        var newNodeData;\n        var parentData;\n        if (this.dataType == 1 && isRefreshChild) {\n            for (var k = 0; k < newData.length; k++) {\n                if (isNullOrUndefined(newData[k][this.fields.parentID])) {\n                    parentData = newData[k];\n                    newData.splice(k, 1);\n                    break;\n                }\n            }\n            newNodeData = extend({}, this.refreshData, parentData);\n        }\n        else {\n            newNodeData = extend({}, this.refreshData, newData[0]);\n        }\n        if (isNullOrUndefined(liEle)) {\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            return;\n        }\n        this.isRefreshed = true;\n        var level = parseFloat(liEle.getAttribute('aria-level'));\n        var newliEle = ListBase.createListItemFromJson(this.createElement, [newNodeData], this.listBaseOption, level);\n        var ul = select('.' + PARENTITEM, liEle);\n        var childItems = getValue(this.fields.child.toString(), newNodeData);\n        if ((isRefreshChild && ul) || (isRefreshChild && !isNullOrUndefined(childItems))) {\n            var parentEle = liEle.parentElement;\n            var index = Array.prototype.indexOf.call(parentEle.childNodes, liEle);\n            remove(liEle);\n            parentEle.insertBefore(newliEle[0], parentEle.childNodes[index]);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n            if (isRefreshChild && ul) {\n                this.expandAll([id]);\n            }\n        }\n        else {\n            var txtEle = select('.' + TEXTWRAP, liEle);\n            var newTextEle = select('.' + TEXTWRAP, newliEle[0]);\n            var icon = select('div.' + ICON, txtEle);\n            var newIcon = select('div.' + ICON, newTextEle);\n            if (icon && newIcon) {\n                if (newIcon.classList.contains(EXPANDABLE) && icon.classList.contains(COLLAPSIBLE)) {\n                    removeClass([newIcon], EXPANDABLE);\n                    addClass([newIcon], COLLAPSIBLE);\n                }\n                else if (newIcon.classList.contains(COLLAPSIBLE) && icon.classList.contains(EXPANDABLE)) {\n                    removeClass([newIcon], COLLAPSIBLE);\n                    addClass([newIcon], EXPANDABLE);\n                }\n                else if (icon.classList.contains('interaction')) {\n                    addClass([newIcon], 'interaction');\n                }\n            }\n            remove(txtEle);\n            var fullEle = select('.' + FULLROW, liEle);\n            fullEle.parentNode.insertBefore(newTextEle, fullEle.nextSibling);\n            this.updatePosition(id, newNodeData, isRefreshChild, newData);\n        }\n        liEle = this.getElement(target);\n        if (newNodeData[this.fields.tooltip]) {\n            liEle.setAttribute(\"title\", newNodeData[this.fields.tooltip]);\n        }\n        if (newNodeData.hasOwnProperty(this.fields.htmlAttributes) && newNodeData[this.fields.htmlAttributes]) {\n            var attr = {};\n            merge(attr, newNodeData[this.fields.htmlAttributes]);\n            if (attr.class) {\n                addClass([liEle], attr.class.split(' '));\n                delete attr.class;\n            }\n            else {\n                attributes(liEle, attr);\n            }\n        }\n        if (this.selectedNodes.indexOf(id) !== -1) {\n            liEle.setAttribute('aria-selected', 'true');\n            addClass([liEle], ACTIVE);\n        }\n        this.isRefreshed = false;\n        this.triggerEvent('refreshNode', [this.getNode(liEle)]);\n    };\n    /**\n     * Removes the collection of TreeView nodes by passing the array of node details as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.removeNodes = function (nodes) {\n        if (!isNullOrUndefined(nodes)) {\n            if (this.fields.dataSource instanceof DataManager && !this.isOffline) {\n                this.crudOperation('delete', nodes);\n            }\n            else {\n                this.deleteSuccess(nodes);\n            }\n        }\n    };\n    /**\n     * Replaces the text of the TreeView node with the given text.\n     * @param  {string | Element} target - Specifies ID of TreeView node/TreeView node as target element.\n     * @param  {string} newText - Specifies the new text of TreeView node.\n     */\n    TreeView.prototype.updateNode = function (target, newText) {\n        var _this = this;\n        if (isNullOrUndefined(target) || isNullOrUndefined(newText) || !this.allowEditing) {\n            return;\n        }\n        var liEle = this.getElement(target);\n        if (isNullOrUndefined(liEle)) {\n            return;\n        }\n        var txtEle = select('.' + LISTTEXT, liEle);\n        this.updateOldText(liEle);\n        var eventArgs = this.getEditEvent(liEle, null, null);\n        this.trigger('nodeEditing', eventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                if (_this.fields.dataSource instanceof DataManager && !_this.isOffline) {\n                    _this.crudOperation('update', null, target, newText, null, null, false);\n                }\n                else {\n                    _this.appendNewText(liEle, txtEle, newText, false);\n                }\n            }\n        });\n    };\n    /**\n     * Unchecks all the checked nodes. You can also uncheck the specific nodes by passing array of checked nodes\n     * as argument to this method.\n     * @param  {string[] | Element[]} nodes - Specifies the array of TreeView nodes ID/array of TreeView node.\n     */\n    TreeView.prototype.uncheckAll = function (nodes) {\n        if (this.showCheckBox) {\n            this.doCheckBoxAction(nodes, false);\n        }\n    };\n    var TreeView_1;\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowDragAndDrop\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowEditing\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowMultiSelection\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"allowTextWrap\", void 0);\n    __decorate$8([\n        Complex({}, NodeAnimationSettings)\n    ], TreeView.prototype, \"animation\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"checkedNodes\", void 0);\n    __decorate$8([\n        Property('')\n    ], TreeView.prototype, \"cssClass\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"disabled\", void 0);\n    __decorate$8([\n        Property(null)\n    ], TreeView.prototype, \"dragArea\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"enablePersistence\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"expandedNodes\", void 0);\n    __decorate$8([\n        Property('Auto')\n    ], TreeView.prototype, \"expandOn\", void 0);\n    __decorate$8([\n        Complex({}, FieldsSettings)\n    ], TreeView.prototype, \"fields\", void 0);\n    __decorate$8([\n        Property(true)\n    ], TreeView.prototype, \"fullRowSelect\", void 0);\n    __decorate$8([\n        Property(true)\n    ], TreeView.prototype, \"loadOnDemand\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"locale\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"nodeTemplate\", void 0);\n    __decorate$8([\n        Property()\n    ], TreeView.prototype, \"selectedNodes\", void 0);\n    __decorate$8([\n        Property('None')\n    ], TreeView.prototype, \"sortOrder\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"showCheckBox\", void 0);\n    __decorate$8([\n        Property(true)\n    ], TreeView.prototype, \"autoCheck\", void 0);\n    __decorate$8([\n        Property(false)\n    ], TreeView.prototype, \"fullRowNavigable\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"actionFailure\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"created\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"dataBound\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"dataSourceChanged\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"drawNode\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"destroyed\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"keyPress\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeChecked\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeChecking\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeClicked\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsed\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeCollapsing\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDragging\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDragStart\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDragStop\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeDropped\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeEdited\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeEditing\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeExpanded\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeExpanding\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeSelected\", void 0);\n    __decorate$8([\n        Event()\n    ], TreeView.prototype, \"nodeSelecting\", void 0);\n    TreeView = TreeView_1 = __decorate$8([\n        NotifyPropertyChanges\n    ], TreeView);\n    return TreeView;\n}(Component));\n\n/**\n * TreeView modules\n */\n\nvar __extends$9 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$9 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar CONTROL$1 = 'e-control';\nvar ROOT$1 = 'e-sidebar';\nvar DOCKER = 'e-dock';\nvar CLOSE = 'e-close';\nvar OPEN = 'e-open';\nvar TRASITION = 'e-transition';\nvar DEFAULTBACKDROP = 'e-sidebar-overlay';\nvar RTL$2 = 'e-rtl';\nvar RIGHT = 'e-right';\nvar LEFT = 'e-left';\nvar OVER = 'e-over';\nvar PUSH = 'e-push';\nvar SLIDE = 'e-slide';\nvar VISIBILITY = 'e-visibility';\nvar DISPLAY = 'e-sidebar-display';\nvar MAINCONTENTANIMATION = 'e-content-animation';\nvar DISABLEANIMATION = 'e-disable-animation';\nvar CONTEXT = 'e-sidebar-context';\nvar SIDEBARABSOLUTE = 'e-sidebar-absolute';\n/**\n * Sidebar is an expandable or collapsible\n * component that typically act as a side container to place the primary or secondary content alongside of the main content.\n * ```html\n * <aside id=\"sidebar\">\n * </aside>\n * ```\n * ```typescript\n * <script>\n *   let sidebarObject: Sidebar = new Sidebar();\n *   sidebarObject.appendTo(\"#sidebar\");\n * </script>\n * ```\n */\nvar Sidebar = /** @__PURE__ @class */ (function (_super) {\n    __extends$9(Sidebar, _super);\n    /* eslint-enable */\n    function Sidebar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Sidebar.prototype.preRender = function () {\n        this.setWidth();\n    };\n    Sidebar.prototype.render = function () {\n        this.initialize();\n        this.wireEvents();\n        this.renderComplete();\n    };\n    Sidebar.prototype.initialize = function () {\n        this.setTarget();\n        this.addClass();\n        this.setZindex();\n        if (this.enableDock) {\n            this.setDock();\n        }\n        if (this.isOpen) {\n            this.show();\n            this.firstRender = true;\n        }\n        else {\n            this.setMediaQuery();\n        }\n        this.checkType(true);\n        this.setType(this.type);\n        this.setCloseOnDocumentClick();\n        this.setEnableRTL();\n        if (Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    };\n    Sidebar.prototype.setEnableRTL = function () {\n        (this.enableRtl ? addClass : removeClass)([this.element], RTL$2);\n    };\n    Sidebar.prototype.setTarget = function () {\n        this.targetEle = this.element.nextElementSibling;\n        this.sidebarEleCopy = this.element.cloneNode(true);\n        if (typeof (this.target) === 'string') {\n            this.setProperties({ target: document.querySelector(this.target) }, true);\n        }\n        if (this.target) {\n            this.target.insertBefore(this.element, this.target.children[0]);\n            addClass([this.element], SIDEBARABSOLUTE);\n            addClass([this.target], CONTEXT);\n            this.targetEle = this.getTargetElement();\n        }\n    };\n    Sidebar.prototype.getTargetElement = function () {\n        var siblingElement = this.element.nextElementSibling;\n        while (!isNullOrUndefined(siblingElement)) {\n            if (!siblingElement.classList.contains(ROOT$1)) {\n                break;\n            }\n            siblingElement = siblingElement.nextElementSibling;\n        }\n        return siblingElement;\n    };\n    Sidebar.prototype.setCloseOnDocumentClick = function () {\n        if (this.closeOnDocumentClick) {\n            EventHandler.add(document, 'mousedown touchstart', this.documentclickHandler, this);\n        }\n        else {\n            EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        }\n    };\n    Sidebar.prototype.setWidth = function () {\n        if (this.enableDock && this.position === 'Left') {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (this.enableDock && this.position === 'Right') {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n        else if (!this.enableDock) {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.width) });\n        }\n    };\n    Sidebar.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    Sidebar.prototype.setZindex = function () {\n        setStyleAttribute(this.element, { 'z-index': '' + this.zIndex });\n    };\n    Sidebar.prototype.addClass = function () {\n        if (this.element.tagName === 'EJS-SIDEBAR') {\n            addClass([this.element], DISPLAY);\n        }\n        var classELement = document.querySelector('.e-main-content');\n        if (!isNullOrUndefined(classELement || this.targetEle)) {\n            addClass([classELement || this.targetEle], [MAINCONTENTANIMATION]);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : null;\n        if (!this.enableDock && this.type !== 'Auto') {\n            addClass([this.element], [VISIBILITY]);\n        }\n        removeClass([this.element], [OPEN, CLOSE, RIGHT, LEFT, SLIDE, PUSH, OVER]);\n        this.element.classList.add(ROOT$1);\n        addClass([this.element], (this.position === 'Right') ? RIGHT : LEFT);\n        if (this.enableDock) {\n            addClass([this.element], DOCKER);\n        }\n        if (!isNullOrUndefined(this.tabIndex)) {\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        if (this.type === 'Auto' && !Browser.isDevice) {\n            this.show();\n        }\n        else if (!this.isOpen) {\n            addClass([this.element], CLOSE);\n        }\n    };\n    Sidebar.prototype.checkType = function (val) {\n        if (!(this.type === 'Push' || this.type === 'Over' || this.type === 'Slide')) {\n            this.type = 'Auto';\n        }\n        else {\n            if (!this.element.classList.contains(CLOSE) && !val) {\n                this.hide();\n            }\n        }\n    };\n    Sidebar.prototype.transitionEnd = function (e) {\n        this.setDock();\n        if (!isNullOrUndefined(e) && !this.firstRender) {\n            this.triggerChange();\n        }\n        this.firstRender = false;\n        EventHandler.remove(this.element, 'transitionend', this.transitionEnd);\n    };\n    Sidebar.prototype.destroyBackDrop = function () {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (this.target && this.showBackdrop && sibling && !isNullOrUndefined(this.defaultBackdropDiv)) {\n            removeClass([this.defaultBackdropDiv], DEFAULTBACKDROP);\n        }\n        else if (this.showBackdrop && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Hide the Sidebar component, if it is in an open state.\n     *\n     * @returns {void}\n     *\n     */\n    Sidebar.prototype.hide = function (e) {\n        var _this = this;\n        var closeArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !isNullOrUndefined(e),\n            event: (e || null)\n        };\n        this.trigger('close', closeArguments, function (observedcloseArgs) {\n            if (!observedcloseArgs.cancel) {\n                if (_this.element.classList.contains(CLOSE)) {\n                    return;\n                }\n                if (_this.element.classList.contains(OPEN) && !_this.animate) {\n                    _this.triggerChange();\n                }\n                addClass([_this.element], CLOSE);\n                removeClass([_this.element], OPEN);\n                setStyleAttribute(_this.element, { 'width': formatUnit(_this.enableDock ? _this.dockSize : _this.width) });\n                _this.setType(_this.type);\n                var sibling = document.querySelector('.e-main-content') || _this.targetEle;\n                if (!_this.enableDock && sibling) {\n                    sibling.style.transform = 'translateX(' + 0 + 'px)';\n                    sibling.style[_this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n                }\n                _this.destroyBackDrop();\n                _this.setAnimation();\n                if (_this.type === 'Slide') {\n                    document.body.classList.remove('e-sidebar-overflow');\n                }\n                _this.setProperties({ isOpen: false }, true);\n                if (_this.enableDock) {\n                    setTimeout(function () { return _this.setTimeOut(); }, 50);\n                }\n                EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n            }\n        });\n    };\n    Sidebar.prototype.setTimeOut = function () {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        var elementWidth = this.element.getBoundingClientRect().width;\n        if (this.element.classList.contains(OPEN) && sibling && !(this.type === 'Over' && this.enableDock)) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.width === 'auto' ? elementWidth : this.width);\n            }\n        }\n        else if (this.element.classList.contains(CLOSE) && sibling) {\n            if (this.position === 'Left') {\n                sibling.style.marginLeft = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n            else {\n                sibling.style.marginRight = this.setDimension(this.dockSize === 'auto' ? elementWidth : this.dockSize);\n            }\n        }\n    };\n    /* eslint-disable */\n    /**\n     * Shows the Sidebar component, if it is in closed state.\n     *\n     * @returns {void}\n     */\n    Sidebar.prototype.show = function (e) {\n        var _this = this;\n        var openArguments = {\n            model: this,\n            element: this.element,\n            cancel: false,\n            isInteracted: !isNullOrUndefined(e),\n            event: (e || null)\n        };\n        this.trigger('open', openArguments, function (observedopenArgs) {\n            if (!observedopenArgs.cancel) {\n                removeClass([_this.element], VISIBILITY);\n                if (_this.element.classList.contains(OPEN)) {\n                    return;\n                }\n                if (_this.element.classList.contains(CLOSE) && !_this.animate) {\n                    _this.triggerChange();\n                }\n                addClass([_this.element], [OPEN, TRASITION]);\n                setStyleAttribute(_this.element, { 'transform': '' });\n                removeClass([_this.element], CLOSE);\n                setStyleAttribute(_this.element, { 'width': formatUnit(_this.width) });\n                _this.setType(_this.type);\n                _this.createBackDrop();\n                _this.setAnimation();\n                if (_this.type === 'Slide') {\n                    document.body.classList.add('e-sidebar-overflow');\n                }\n                _this.setProperties({ isOpen: true }, true);\n                EventHandler.add(_this.element, 'transitionend', _this.transitionEnd, _this);\n            }\n        });\n    };\n    Sidebar.prototype.setAnimation = function () {\n        if (this.animate) {\n            removeClass([this.element], DISABLEANIMATION);\n        }\n        else {\n            addClass([this.element], DISABLEANIMATION);\n        }\n    };\n    Sidebar.prototype.triggerChange = function () {\n        var changeArguments = { name: 'change', element: this.element };\n        this.trigger('change', changeArguments);\n    };\n    Sidebar.prototype.setDock = function () {\n        if (this.enableDock && this.position === 'Left' && !this.getState()) {\n            setStyleAttribute(this.element, { 'transform': 'translateX(' + -100 + '%) translateX(' + this.setDimension(this.dockSize) + ')' });\n        }\n        else if (this.enableDock && this.position === 'Right' && !this.getState()) {\n            setStyleAttribute(this.element, { 'transform': 'translateX(' + 100 + '%) translateX(' + '-' + this.setDimension(this.dockSize) + ')' });\n        }\n        if (this.element.classList.contains(CLOSE) && this.enableDock) {\n            setStyleAttribute(this.element, { 'width': this.setDimension(this.dockSize) });\n        }\n    };\n    Sidebar.prototype.createBackDrop = function () {\n        if (this.target && this.showBackdrop && this.getState()) {\n            var targetString = this.target;\n            var sibling = document.querySelector('.e-main-content') || this.targetEle;\n            this.defaultBackdropDiv = this.createElement('div');\n            addClass([this.defaultBackdropDiv], DEFAULTBACKDROP);\n            setStyleAttribute(this.defaultBackdropDiv, { height: targetString.style.height });\n            sibling.appendChild(this.defaultBackdropDiv);\n        }\n        else if (this.showBackdrop && !this.modal && this.getState()) {\n            this.modal = this.createElement('div');\n            this.modal.className = DEFAULTBACKDROP;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n    };\n    Sidebar.prototype.getPersistData = function () {\n        return this.addOnPersist(['type', 'position', 'isOpen']);\n    };\n    /**\n     * Returns the current module name.\n     *\n     * @returns {string} - returns module name.\n     * @private\n     *\n     */\n    Sidebar.prototype.getModuleName = function () {\n        return 'sidebar';\n    };\n    /**\n     * Shows or hides the Sidebar based on the current state.\n     *\n     * @returns {void}\n     */\n    Sidebar.prototype.toggle = function () {\n        if (this.element.classList.contains(OPEN)) {\n            this.hide();\n        }\n        else {\n            this.show();\n        }\n    };\n    Sidebar.prototype.getState = function () {\n        return this.element.classList.contains(OPEN) ? true : false;\n    };\n    Sidebar.prototype.setMediaQuery = function () {\n        if (this.mediaQuery) {\n            var media = false;\n            if (typeof (this.mediaQuery) === 'string') {\n                media = window.matchMedia(this.mediaQuery).matches;\n            }\n            else {\n                media = (this.mediaQuery).matches;\n            }\n            if (media && this.windowWidth !== window.innerWidth) {\n                this.show();\n            }\n            else if (this.getState() && this.windowWidth !== window.innerWidth) {\n                this.hide();\n            }\n        }\n    };\n    Sidebar.prototype.resize = function () {\n        if (this.type === 'Auto') {\n            if (Browser.isDevice) {\n                addClass([this.element], OVER);\n            }\n            else {\n                addClass([this.element], PUSH);\n            }\n        }\n        this.setMediaQuery();\n        if (Browser.isDevice) {\n            this.windowWidth = window.innerWidth;\n        }\n    };\n    Sidebar.prototype.documentclickHandler = function (e) {\n        if (closest(e.target, '.' + CONTROL$1 + '' + '.' + ROOT$1)) {\n            return;\n        }\n        this.hide(e);\n    };\n    Sidebar.prototype.enableGestureHandler = function (args) {\n        if (!this.isOpen && this.position === 'Left' && args.swipeDirection === 'Right' &&\n            (args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n        else if (this.isOpen && this.position === 'Left' && args.swipeDirection === 'Left') {\n            this.hide();\n        }\n        else if (this.isOpen && this.position === 'Right' && args.swipeDirection === 'Right') {\n            this.hide();\n        }\n        else if (!this.isOpen && this.position === 'Right' && args.swipeDirection === 'Left'\n            && (window.innerWidth - args.startX <= 20 && args.distanceX >= 50 && args.velocity >= 0.5)) {\n            this.show();\n        }\n    };\n    Sidebar.prototype.setEnableGestures = function () {\n        if (this.enableGestures) {\n            this.mainContentEle = new Touch(document.body, { swipe: this.enableGestureHandler.bind(this) });\n            this.sidebarEle = new Touch(this.element, { swipe: this.enableGestureHandler.bind(this) });\n        }\n        else {\n            if (this.mainContentEle && this.sidebarEle) {\n                this.mainContentEle.destroy();\n                this.sidebarEle.destroy();\n            }\n        }\n    };\n    Sidebar.prototype.wireEvents = function () {\n        this.setEnableGestures();\n        EventHandler.add(window, 'resize', this.resize, this);\n    };\n    Sidebar.prototype.unWireEvents = function () {\n        EventHandler.remove(window, 'resize', this.resize);\n        EventHandler.remove(document, 'mousedown touchstart', this.documentclickHandler);\n        if (this.mainContentEle) {\n            this.mainContentEle.destroy();\n        }\n        if (this.sidebarEle) {\n            this.sidebarEle.destroy();\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {SidebarModel} newProp - specifies newProp value.\n     * @param {SidebarModel} oldProp - specifies oldProp value.\n     * @returns {void}\n     * @private\n     *\n     */\n    Sidebar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        var isRendered = this.isServerRendered;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'isOpen':\n                    if (this.isOpen) {\n                        this.show();\n                    }\n                    else {\n                        this.hide();\n                    }\n                    break;\n                case 'width':\n                    this.setWidth();\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'animate':\n                    this.setAnimation();\n                    break;\n                case 'type':\n                    this.checkType(false);\n                    removeClass([this.element], [VISIBILITY]);\n                    this.addClass();\n                    addClass([this.element], this.type === 'Auto' ? (Browser.isDevice ? ['e-over'] :\n                        ['e-push']) : ['e-' + this.type.toLowerCase()]);\n                    break;\n                case 'position':\n                    this.element.style.transform = '';\n                    this.setDock();\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginRight' : 'marginLeft'] = '0px';\n                    }\n                    if (this.position === 'Right') {\n                        removeClass([this.element], LEFT);\n                        addClass([this.element], RIGHT);\n                    }\n                    else {\n                        removeClass([this.element], RIGHT);\n                        addClass([this.element], LEFT);\n                    }\n                    this.setType(this.type);\n                    break;\n                case 'showBackdrop':\n                    if (this.showBackdrop) {\n                        this.createBackDrop();\n                    }\n                    else {\n                        if (this.modal) {\n                            this.modal.style.display = 'none';\n                            this.modal.outerHTML = '';\n                            this.modal = null;\n                        }\n                    }\n                    break;\n                case 'target':\n                    if (typeof (this.target) === 'string') {\n                        this.setProperties({ target: document.querySelector(this.target) }, true);\n                    }\n                    if (isNullOrUndefined(this.target)) {\n                        removeClass([this.element], SIDEBARABSOLUTE);\n                        removeClass([oldProp.target], CONTEXT);\n                        setStyleAttribute(sibling, { 'margin-left': 0, 'margin-right': 0 });\n                        document.body.insertAdjacentElement('afterbegin', this.element);\n                    }\n                    this.isServerRendered = false;\n                    _super.prototype.refresh.call(this);\n                    this.isServerRendered = isRendered;\n                    break;\n                case 'closeOnDocumentClick':\n                    this.setCloseOnDocumentClick();\n                    break;\n                case 'enableDock':\n                    if (!this.getState()) {\n                        this.setDock();\n                    }\n                    break;\n                case 'zIndex':\n                    this.setZindex();\n                    break;\n                case 'mediaQuery':\n                    this.setMediaQuery();\n                    break;\n                case 'enableGestures':\n                    this.setEnableGestures();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n            }\n        }\n    };\n    Sidebar.prototype.setType = function (type) {\n        var elementWidth = this.element.getBoundingClientRect().width;\n        this.setZindex();\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (sibling) {\n            sibling.style.transform = 'translateX(' + 0 + 'px)';\n            if (!Browser.isDevice && this.type !== 'Auto' && !(this.type === 'Over' && this.enableDock)) {\n                sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = '0px';\n            }\n        }\n        var margin = this.position === 'Left' ? elementWidth + 'px' : elementWidth + 'px';\n        var eleWidth = this.position === 'Left' ? elementWidth : -(elementWidth);\n        removeClass([this.element], [PUSH, OVER, SLIDE]);\n        switch (type) {\n            case 'Push':\n                addClass([this.element], [PUSH]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                }\n                break;\n            case 'Slide':\n                addClass([this.element], [SLIDE]);\n                if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                    sibling.style.transform = 'translateX(' + eleWidth + 'px)';\n                }\n                break;\n            case 'Over':\n                addClass([this.element], [OVER]);\n                if (this.enableDock && (this.element.classList.contains(CLOSE) || this.isOpen)) {\n                    if (sibling) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = this.setDimension(this.dockSize);\n                    }\n                }\n                break;\n            case 'Auto':\n                addClass([this.element], [TRASITION]);\n                if (Browser.isDevice) {\n                    if (sibling && (this.enableDock) && !this.getState()) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                        addClass([this.element], PUSH);\n                    }\n                    else {\n                        addClass([this.element], OVER);\n                    }\n                }\n                else {\n                    addClass([this.element], PUSH);\n                    if (sibling && (this.enableDock || this.element.classList.contains(OPEN))) {\n                        sibling.style[this.position === 'Left' ? 'marginLeft' : 'marginRight'] = margin;\n                    }\n                }\n                this.createBackDrop();\n        }\n    };\n    /**\n     * Removes the control from the DOM and detaches all its related event handlers. Also it removes the attributes and classes.\n     *\n     * @returns {void}\n     *\n     */\n    Sidebar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.target) {\n            removeClass([this.target], CONTEXT);\n        }\n        this.destroyBackDrop();\n        if (this.element) {\n            removeClass([this.element], [OPEN, CLOSE, PUSH, SLIDE, OVER, LEFT, RIGHT, TRASITION]);\n            removeClass([this.element], SIDEBARABSOLUTE);\n            this.element.style.width = '';\n            this.element.style.zIndex = '';\n            this.element.style.transform = '';\n            if (!isNullOrUndefined(this.sidebarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        this.windowWidth = null;\n        var sibling = document.querySelector('.e-main-content') || this.targetEle;\n        if (!isNullOrUndefined(sibling)) {\n            sibling.style.margin = '';\n            sibling.style.transform = '';\n        }\n        this.unWireEvents();\n    };\n    __decorate$9([\n        Property('auto')\n    ], Sidebar.prototype, \"dockSize\", void 0);\n    __decorate$9([\n        Property(null)\n    ], Sidebar.prototype, \"mediaQuery\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"enableDock\", void 0);\n    __decorate$9([\n        Property('en-US')\n    ], Sidebar.prototype, \"locale\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"enablePersistence\", void 0);\n    __decorate$9([\n        Property(true)\n    ], Sidebar.prototype, \"enableGestures\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"isOpen\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"enableRtl\", void 0);\n    __decorate$9([\n        Property(true)\n    ], Sidebar.prototype, \"animate\", void 0);\n    __decorate$9([\n        Property('auto')\n    ], Sidebar.prototype, \"height\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"closeOnDocumentClick\", void 0);\n    __decorate$9([\n        Property('Left')\n    ], Sidebar.prototype, \"position\", void 0);\n    __decorate$9([\n        Property(null)\n    ], Sidebar.prototype, \"target\", void 0);\n    __decorate$9([\n        Property(false)\n    ], Sidebar.prototype, \"showBackdrop\", void 0);\n    __decorate$9([\n        Property('Auto')\n    ], Sidebar.prototype, \"type\", void 0);\n    __decorate$9([\n        Property('auto')\n    ], Sidebar.prototype, \"width\", void 0);\n    __decorate$9([\n        Property(1000)\n    ], Sidebar.prototype, \"zIndex\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"created\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"close\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"open\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"change\", void 0);\n    __decorate$9([\n        Event()\n    ], Sidebar.prototype, \"destroyed\", void 0);\n    Sidebar = __decorate$9([\n        NotifyPropertyChanges\n    ], Sidebar);\n    return Sidebar;\n}(Component));\n\n/**\n * Sidebar modules\n */\n\nvar __extends$10 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$10 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ICONRIGHT = 'e-icon-right';\nvar ITEMTEXTCLASS = 'e-breadcrumb-text';\nvar ICONCLASS = 'e-breadcrumb-icon';\nvar MENUCLASS = 'e-breadcrumb-menu';\nvar ITEMCLASS = 'e-breadcrumb-item';\nvar POPUPCLASS = 'e-breadcrumb-popup';\nvar WRAPMODECLASS = 'e-breadcrumb-wrap-mode';\nvar SCROLLMODECLASS = 'e-breadcrumb-scroll-mode';\nvar TABINDEX = 'tabindex';\nvar DISABLEDCLASS = 'e-disabled';\nvar ARIADISABLED = 'aria-disabled';\nvar DOT = '.';\n/**\n * Defines the Breadcrumb overflow modes.\n */\nvar BreadcrumbOverflowMode;\n(function (BreadcrumbOverflowMode) {\n    /**\n     * Hidden mode shows the maximum number of items possible in the container space and hides the remaining items.\n     * Clicking on a previous item will make the hidden item visible.\n     */\n    BreadcrumbOverflowMode[\"Hidden\"] = \"Hidden\";\n    /**\n     * Collapsed mode shows the first and last Breadcrumb items and hides the remaining items with a collapsed icon.\n     * When the collapsed icon is clicked, all items become visible and navigable.\n     */\n    BreadcrumbOverflowMode[\"Collapsed\"] = \"Collapsed\";\n    /**\n     * Menu mode shows the number of Breadcrumb items that can be accommodated within the container space and creates a submenu with the remaining items.\n     */\n    BreadcrumbOverflowMode[\"Menu\"] = \"Menu\";\n    /**\n     * Wrap mode wraps the items to multiple lines when the Breadcrumbs width exceeds the container space.\n     */\n    BreadcrumbOverflowMode[\"Wrap\"] = \"Wrap\";\n    /**\n     * Scroll mode shows an HTML scroll bar when the Breadcrumbs width exceeds the container space.\n     */\n    BreadcrumbOverflowMode[\"Scroll\"] = \"Scroll\";\n    /**\n     * None mode shows all the items in a single line.\n     */\n    BreadcrumbOverflowMode[\"None\"] = \"None\";\n})(BreadcrumbOverflowMode || (BreadcrumbOverflowMode = {}));\nvar BreadcrumbItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$10(BreadcrumbItem, _super);\n    function BreadcrumbItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$10([\n        Property('')\n    ], BreadcrumbItem.prototype, \"text\", void 0);\n    __decorate$10([\n        Property('')\n    ], BreadcrumbItem.prototype, \"url\", void 0);\n    __decorate$10([\n        Property(null)\n    ], BreadcrumbItem.prototype, \"iconCss\", void 0);\n    __decorate$10([\n        Property(false)\n    ], BreadcrumbItem.prototype, \"disabled\", void 0);\n    return BreadcrumbItem;\n}(ChildProperty));\n/**\n * Breadcrumb is a graphical user interface that helps to identify or highlight the current location within a hierarchical structure of websites.\n * The aim is to make the user aware of their current position in a hierarchy of website links.\n * ```html\n * <nav id='breadcrumb'></nav>\n * ```\n * ```typescript\n * <script>\n * var breadcrumbObj = new Breadcrumb({ items: [{ text: 'Home', url: '/' }, { text: 'Index', url: './index.html }]});\n * breadcrumbObj.appendTo(\"#breadcrumb\");\n * </script>\n * ```\n */\nvar Breadcrumb = /** @__PURE__ @class */ (function (_super) {\n    __extends$10(Breadcrumb, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @private\n     * @param {BreadcrumbModel} options - Specifies the Breadcrumb model.\n     * @param {string | HTMLElement} element - Specifies the element.\n     */\n    function Breadcrumb(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isPopupCreated = false;\n        return _this;\n    }\n    /**\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.preRender = function () {\n        // pre render code\n    };\n    /**\n     * Initialize the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Breadcrumb.prototype.render = function () {\n        this.initialize();\n        this.renderItems(this.items);\n        this.wireEvents();\n    };\n    Breadcrumb.prototype.initialize = function () {\n        this._maxItems = this.maxItems;\n        this.element.setAttribute('aria-label', 'breadcrumb');\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n        }\n        if (this.enableRtl) {\n            this.element.classList.add('e-rtl');\n        }\n        if (this.disabled) {\n            this.element.classList.add(DISABLEDCLASS);\n            this.element.setAttribute(ARIADISABLED, 'true');\n        }\n        if (this.overflowMode === 'Wrap') {\n            this.element.classList.add(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            this.element.classList.add(SCROLLMODECLASS);\n        }\n        this.initItems();\n        this.initPvtProps();\n    };\n    Breadcrumb.prototype.initPvtProps = function () {\n        if (this.overflowMode === 'Hidden' && this._maxItems > 0) {\n            this.endIndex = this.getEndIndex();\n            this.startIndex = this.endIndex + 1 - (this._maxItems - 1);\n        }\n        if (this.overflowMode === 'Menu') {\n            if (this._maxItems >= 0) {\n                this.startIndex = this._maxItems > 1 ? 1 : 0;\n                this.endIndex = this.getEndIndex();\n                this.popupUl = this.createElement('ul', { attrs: { TABINDEX: '0', 'role': 'menu' } });\n            }\n            else {\n                this.startIndex = this.endIndex = null;\n            }\n        }\n    };\n    Breadcrumb.prototype.getEndIndex = function () {\n        var _this = this;\n        var endIndex;\n        if (this.activeItem) {\n            this.items.forEach(function (item, idx) {\n                if (item.url === _this.activeItem || item.text === _this.activeItem) {\n                    endIndex = idx;\n                }\n            });\n        }\n        else {\n            endIndex = this.items.length - 1;\n        }\n        return endIndex;\n    };\n    Breadcrumb.prototype.initItems = function () {\n        if (!this.items.length) {\n            var baseUri = void 0;\n            var uri = void 0;\n            var items = [];\n            if (this.url) {\n                var url = new URL(this.url, window.location.origin);\n                baseUri = url.origin + '/';\n                uri = url.href.split(baseUri)[1].split('/');\n            }\n            else {\n                baseUri = window.location.origin + '/';\n                uri = window.location.href.split(baseUri)[1].split('/');\n            }\n            items.push({ iconCss: 'e-icons e-home', url: baseUri });\n            for (var i = 0; i < uri.length; i++) {\n                if (uri[i]) {\n                    items.push({ text: uri[i], url: baseUri + uri[i] });\n                    baseUri += uri[i] + '/';\n                }\n            }\n            this.setProperties({ items: items }, true);\n        }\n    };\n    Breadcrumb.prototype.renderItems = function (items) {\n        var _this = this;\n        var item;\n        var isSingleLevel;\n        var isIconRight = this.element.classList.contains(ICONRIGHT);\n        var itemsLength = items.length;\n        if (itemsLength) {\n            var isActiveItem = void 0;\n            var isLastItem = void 0;\n            var isLastItemInPopup_1;\n            var j_1 = 0;\n            var wrapDiv = void 0;\n            var len = (itemsLength * 2) - 1;\n            var isItemCancelled_1 = false;\n            var ol = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-wrapped-ol' : '' });\n            var firstOl = this.createElement('ol', { className: this.overflowMode === 'Wrap' ? 'e-breadcrumb-first-ol' : '' });\n            var showIcon = this.hasField(items, 'iconCss');\n            var isCollasped = (this.overflowMode === 'Collapsed' && this._maxItems > 0 && itemsLength > this._maxItems && !this.isExpanded);\n            var isDefaultOverflowMode_1 = (this.overflowMode === 'Hidden' && this._maxItems > 0);\n            if (this.overflowMode === 'Menu' && this.popupUl) {\n                this.popupUl.innerHTML = '';\n            }\n            var listBaseOptions = {\n                moduleName: this.getModuleName(),\n                showIcon: showIcon,\n                itemNavigable: true,\n                itemCreated: function (args) {\n                    var isLastItem = args.curData.isLastItem;\n                    if (isLastItem && args.item.children.length && !_this.itemTemplate) {\n                        delete args.curData.isLastItem;\n                        if (!isLastItemInPopup_1 && !_this.enableActiveItemNavigation) {\n                            args.item.innerHTML = _this.createElement('span', { className: ITEMTEXTCLASS, innerHTML: args.item.children[0].innerHTML }).outerHTML;\n                        }\n                    }\n                    if (args.curData.iconCss && !args.curData.text && !_this.itemTemplate) {\n                        args.item.classList.add('e-icon-item');\n                    }\n                    if (isDefaultOverflowMode_1) {\n                        args.item.setAttribute('item-index', j_1.toString());\n                    }\n                    var eventArgs = {\n                        item: extend({}, args.curData.properties ?\n                            args.curData.properties : args.curData), element: args.item, cancel: false\n                    };\n                    _this.trigger('beforeItemRender', eventArgs);\n                    isItemCancelled_1 = eventArgs.cancel;\n                    var containsRightIcon = (isIconRight || eventArgs.element.classList.contains(ICONRIGHT));\n                    if (containsRightIcon && args.curData.iconCss && !_this.itemTemplate) {\n                        args.item.querySelector('.e-anchor-wrap').appendChild(args.item.querySelector(DOT + ICONCLASS));\n                    }\n                    if (eventArgs.item.disabled) {\n                        args.item.setAttribute(ARIADISABLED, 'true');\n                        args.item.classList.add(DISABLEDCLASS);\n                    }\n                    if ((eventArgs.item.disabled || _this.disabled) && args.item.children.length && !_this.itemTemplate) {\n                        args.item.children[0].setAttribute(TABINDEX, '-1');\n                    }\n                    if (args.curData.isEmptyUrl) {\n                        args.item.children[0].removeAttribute('href');\n                        if ((!isLastItem || (isLastItem && _this.enableActiveItemNavigation)) && !(eventArgs.item.disabled\n                            || _this.disabled)) {\n                            args.item.children[0].setAttribute(TABINDEX, '0');\n                            EventHandler.add(args.item.children[0], 'keydown', _this.keyDownHandler, _this);\n                        }\n                    }\n                    args.item.removeAttribute('role');\n                    if (isLastItem) {\n                        args.item.setAttribute('data-active-item', '');\n                    }\n                    if (!_this.itemTemplate) {\n                        _this.beforeItemRenderChanges(args.curData, eventArgs.item, args.item, containsRightIcon);\n                    }\n                }\n            };\n            for (var i = 0; i < len; i % 2 && j_1++, i++) {\n                isActiveItem = (this.activeItem && (this.activeItem === items[j_1].url ||\n                    this.activeItem === items[j_1].text));\n                if (isCollasped && i > 1 && i < len - 2) {\n                    continue;\n                }\n                else if (isDefaultOverflowMode_1 && ((j_1 < this.startIndex || j_1 > this.endIndex)\n                    && (i % 2 ? j_1 !== this.startIndex - 1 : true)) && j_1 !== 0) {\n                    continue;\n                }\n                if (i % 2) {\n                    // separator item\n                    wrapDiv = this.createElement('div', { className: 'e-breadcrumb-item-wrapper' });\n                    listBaseOptions.template = this.separatorTemplate ? this.separatorTemplate : '/';\n                    listBaseOptions.itemClass = 'e-breadcrumb-separator';\n                    isSingleLevel = false;\n                    item = [{ previousItem: items[j_1], nextItem: items[j_1 + 1] }];\n                }\n                else {\n                    // list item\n                    listBaseOptions.itemClass = '';\n                    if (this.itemTemplate) {\n                        listBaseOptions.template = this.itemTemplate;\n                        isSingleLevel = false;\n                    }\n                    else {\n                        isSingleLevel = true;\n                    }\n                    item = [extend({}, items[j_1].properties ?\n                            items[j_1].properties\n                            : items[j_1])];\n                    if (!item[0].url && !this.itemTemplate) {\n                        item = [extend({}, item[0], { isEmptyUrl: true, url: '#' })];\n                    }\n                    isLastItem = (isDefaultOverflowMode_1 || this.overflowMode === 'Menu') && (j_1 === this.endIndex);\n                    if (((i === len - 1 || isLastItem) && !this.itemTemplate) || isActiveItem) {\n                        item[0].isLastItem = true;\n                    }\n                }\n                var parent_1 = ol;\n                var lastPopupItemIdx = this.startIndex + this.endIndex - this._maxItems;\n                if (this.overflowMode === 'Menu' && ((j_1 >= this.startIndex && (j_1 <= lastPopupItemIdx && (i % 2 ? !(j_1 === lastPopupItemIdx) : true)) && this.endIndex >= this._maxItems && this._maxItems > 0) || this._maxItems === 0)) {\n                    if (i % 2) {\n                        continue;\n                    }\n                    else {\n                        parent_1 = this.popupUl;\n                        if (isLastItem) {\n                            isLastItemInPopup_1 = true;\n                        }\n                    }\n                }\n                else if (this.overflowMode === 'Wrap') {\n                    if (i === 0) {\n                        parent_1 = firstOl;\n                    }\n                    else {\n                        parent_1 = wrapDiv;\n                    }\n                }\n                var li = ListBase.createList(this.createElement, item, listBaseOptions, isSingleLevel, this).childNodes;\n                if (!isItemCancelled_1) {\n                    append(li, parent_1);\n                }\n                else if (isDefaultOverflowMode_1 || isCollasped || this.overflowMode === 'Menu' || this.overflowMode === 'Wrap') {\n                    items.splice(j_1, 1);\n                    this.initPvtProps();\n                    return this.reRenderItems();\n                }\n                else if ((i === len - 1 || isLastItem)) {\n                    remove(parent_1.lastElementChild);\n                }\n                if (this.overflowMode === 'Wrap' && i !== 0 && i % 2 === 0) {\n                    ol.appendChild(wrapDiv);\n                }\n                if (isCollasped && i === 1) {\n                    var li_1 = this.createElement('li', { className: 'e-icons e-breadcrumb-collapsed', attrs: { TABINDEX: '0' } });\n                    EventHandler.add(li_1, 'keyup', this.expandHandler, this);\n                    ol.appendChild(li_1);\n                }\n                if (this.overflowMode === 'Menu' && this.startIndex === i && this.endIndex >= this._maxItems && this._maxItems >= 0) {\n                    var menu = this.getMenuElement();\n                    EventHandler.add(menu, 'keyup', this.keyDownHandler, this);\n                    ol.appendChild(menu);\n                }\n                if (isActiveItem || isLastItem) {\n                    break;\n                }\n                if (isItemCancelled_1) {\n                    i++;\n                }\n            }\n            if (this.isReact) {\n                this.renderReactTemplates();\n            }\n            if (this.overflowMode === 'Wrap') {\n                this.element.appendChild(firstOl);\n            }\n            this.element.appendChild(ol);\n            this.calculateMaxItems();\n        }\n    };\n    Breadcrumb.prototype.calculateMaxItems = function () {\n        if (this.overflowMode === 'Hidden' || this.overflowMode === 'Collapsed' || this.overflowMode === 'Menu') {\n            var maxItems = void 0;\n            var width = this.element.offsetWidth;\n            var liElems = [].slice.call(this.element.children[0].children).reverse();\n            var liWidth = this.overflowMode === 'Menu' ? 0 : liElems[liElems.length - 1].offsetWidth + (liElems[liElems.length - 2] ? liElems[liElems.length - 2].offsetWidth : 0);\n            if (this.overflowMode === 'Menu') {\n                var menuEle = this.getMenuElement();\n                this.element.appendChild(menuEle);\n                liWidth += menuEle.offsetWidth;\n                remove(menuEle);\n            }\n            for (var i = 0; i < liElems.length - 2; i++) {\n                if (liWidth > width) {\n                    maxItems = Math.ceil((i - 1) / 2) + ((this.overflowMode === 'Menu' && i <= 2) ? 0 : 1);\n                    if (((this.maxItems > maxItems && !(this.maxItems > -1 && maxItems === -1)) ||\n                        this.maxItems === -1) && this._maxItems !== maxItems) {\n                        this._maxItems = maxItems;\n                        this.initPvtProps();\n                        return this.reRenderItems();\n                    }\n                    else {\n                        break;\n                    }\n                }\n                else {\n                    if (this.overflowMode === 'Menu' && i === 2) {\n                        liWidth += liElems[liElems.length - 1].offsetWidth + liElems[liElems.length - 2].offsetWidth;\n                        if (liWidth > width) {\n                            this._maxItems = 1;\n                            this.initPvtProps();\n                            return this.reRenderItems();\n                        }\n                    }\n                    if (!(this.overflowMode === 'Menu' && liElems[i].classList.contains(MENUCLASS))) {\n                        liWidth += liElems[i].offsetWidth;\n                    }\n                }\n            }\n        }\n        else if ((this.overflowMode === 'Wrap' || this.overflowMode === 'Scroll') && this._maxItems > 0) {\n            var width = 0;\n            var liElems = this.element.querySelectorAll(DOT + ITEMCLASS);\n            if (liElems.length > this._maxItems + this._maxItems - 1) {\n                for (var i = this.overflowMode === 'Wrap' ? 1 : 0; i < this._maxItems + this._maxItems - 1; i++) {\n                    width += liElems[i].offsetWidth;\n                }\n                width = width + 5 + (parseInt(getComputedStyle(this.element.children[0]).paddingLeft, 10) * 2);\n                if (this.overflowMode === 'Wrap') {\n                    this.element.querySelector('.e-breadcrumb-wrapped-ol').style.width = width + 'px';\n                }\n                else {\n                    this.element.style.width = width + 'px';\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.hasField = function (items, field) {\n        for (var i = 0, len = items.length; i < len; i++) {\n            if (items[i][\"\" + field]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Breadcrumb.prototype.getMenuElement = function () {\n        return this.createElement('li', { className: 'e-icons e-breadcrumb-menu', attrs: { TABINDEX: '0' } });\n    };\n    Breadcrumb.prototype.beforeItemRenderChanges = function (prevItem, currItem, elem, isRightIcon) {\n        var wrapElem = elem.querySelector('.e-anchor-wrap');\n        if (currItem.text !== prevItem.text) {\n            wrapElem.childNodes.forEach(function (child) {\n                if (child.nodeType === Node.TEXT_NODE) {\n                    child.textContent = currItem.text;\n                }\n            });\n        }\n        if (currItem.iconCss !== prevItem.iconCss && wrapElem) { // wrapElem - for checking it is item not a separator\n            var iconElem = elem.querySelector(DOT + ICONCLASS);\n            if (iconElem) {\n                if (currItem.iconCss) {\n                    removeClass([iconElem], prevItem.iconCss.split(' '));\n                    addClass([iconElem], currItem.iconCss.split(' '));\n                }\n                else {\n                    remove(iconElem);\n                }\n            }\n            else if (currItem.iconCss) {\n                var iconElem_1 = this.createElement('span', { className: ICONCLASS + ' ' + currItem.iconCss });\n                if (isRightIcon) {\n                    append([iconElem_1], wrapElem);\n                }\n                else {\n                    wrapElem.insertBefore(iconElem_1, wrapElem.childNodes[0]);\n                }\n            }\n        }\n        if (currItem.url !== prevItem.url && this.enableNavigation) {\n            var anchor = elem.querySelector('a.' + ITEMTEXTCLASS);\n            if (anchor) {\n                if (currItem.url) {\n                    anchor.setAttribute('href', currItem.url);\n                }\n                else {\n                    anchor.removeAttribute('href');\n                }\n            }\n        }\n    };\n    Breadcrumb.prototype.reRenderItems = function () {\n        this.element.innerHTML = '';\n        this.renderItems(this.items);\n    };\n    Breadcrumb.prototype.clickHandler = function (e) {\n        var li = closest(e.target, DOT + ITEMCLASS + ':not(.e-breadcrumb-separator)');\n        if (!this.enableNavigation) {\n            e.preventDefault();\n        }\n        if (li && (closest(e.target, DOT + ITEMTEXTCLASS) || this.itemTemplate)) {\n            var idx = void 0;\n            if (this.overflowMode === 'Wrap') {\n                idx = [].slice.call(this.element.querySelectorAll(DOT + ITEMCLASS)).indexOf(li);\n            }\n            else {\n                idx = [].slice.call(li.parentElement.children).indexOf(li);\n            }\n            if (this.overflowMode === 'Menu') {\n                if (closest(e.target, DOT + POPUPCLASS)) {\n                    idx += this.startIndex;\n                    this.endIndex = idx;\n                    if (e.type === 'keydown') {\n                        this.documentClickHandler(e);\n                    }\n                }\n                else if (this.element.querySelector(DOT + MENUCLASS)) {\n                    if (idx > [].slice.call(this.element.children[0].children).indexOf(this.element.querySelector(DOT + MENUCLASS))) {\n                        idx += (this.popupUl.childElementCount * 2) - 2;\n                        idx = Math.floor(idx / 2);\n                        this.endIndex = idx;\n                    }\n                    else {\n                        this.startIndex = this.endIndex = idx;\n                    }\n                }\n                else {\n                    idx = Math.floor(idx / 2);\n                    this.startIndex = this.endIndex = idx;\n                }\n            }\n            else {\n                idx = Math.floor(idx / 2);\n            }\n            if (this.overflowMode === 'Hidden' && this._maxItems > 0 && this.endIndex !== 0) {\n                idx = parseInt(li.getAttribute('item-index'), 10);\n                if (this.startIndex > 1) {\n                    this.startIndex -= (this.endIndex - idx);\n                }\n                this.endIndex = idx;\n            }\n            this.trigger('itemClick', { element: li, item: this.items[idx], event: e });\n            this.activeItem = this.items[idx].url || this.items[idx].text;\n            this.dataBind();\n        }\n        if (e.target.classList.contains('e-breadcrumb-collapsed')) {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n        if (e.target.classList.contains(MENUCLASS) && !this.isPopupCreated) {\n            this.renderPopup();\n        }\n    };\n    Breadcrumb.prototype.renderPopup = function () {\n        var _this = this;\n        var wrapper = this.createElement('div', { className: POPUPCLASS + ' ' + this.cssClass + (this.enableRtl ? ' e-rtl' : '') });\n        document.body.appendChild(wrapper);\n        this.isPopupCreated = true;\n        this.popupObj = new Popup(wrapper, {\n            content: this.popupUl,\n            relateTo: this.element.querySelector(DOT + MENUCLASS),\n            enableRtl: this.enableRtl,\n            position: { X: 'left', Y: 'bottom' },\n            collision: { X: 'fit', Y: 'flip' },\n            open: function () {\n                _this.popupUl.focus();\n            }\n        });\n        this.popupWireEvents();\n        this.popupObj.show();\n    };\n    Breadcrumb.prototype.documentClickHandler = function (e) {\n        if (this.overflowMode === 'Menu' && this.popupObj && this.popupObj.element.classList.contains('e-popup-open') && !closest(e.target, DOT + MENUCLASS)) {\n            this.popupObj.hide();\n            this.popupObj.destroy();\n            this.isPopupCreated = false;\n            detach(this.popupObj.element);\n        }\n    };\n    Breadcrumb.prototype.resize = function () {\n        this._maxItems = this.maxItems;\n        this.initPvtProps();\n        this.reRenderItems();\n    };\n    Breadcrumb.prototype.expandHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.isExpanded = true;\n            this.reRenderItems();\n        }\n    };\n    Breadcrumb.prototype.keyDownHandler = function (e) {\n        if (e.key === 'Enter') {\n            this.clickHandler(e);\n        }\n    };\n    Breadcrumb.prototype.popupKeyDownHandler = function (e) {\n        if (e.key === 'Escape') {\n            this.documentClickHandler(e);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @private\n     * @param {BreadcrumbModel} newProp - Specifies the new properties.\n     * @param {BreadcrumbModel} oldProp - Specifies the old properties.\n     * @returns {void}\n     */\n    Breadcrumb.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'items':\n                case 'enableActiveItemNavigation':\n                    this.reRenderItems();\n                    break;\n                case 'activeItem':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    break;\n                case 'overflowMode':\n                case 'maxItems':\n                    this._maxItems = this.maxItems;\n                    this.initPvtProps();\n                    this.reRenderItems();\n                    if (oldProp.overflowMode === 'Wrap') {\n                        this.element.classList.remove(WRAPMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Wrap') {\n                        this.element.classList.add(WRAPMODECLASS);\n                    }\n                    if (oldProp.overflowMode === 'Scroll') {\n                        this.element.classList.remove(SCROLLMODECLASS);\n                    }\n                    else if (newProp.overflowMode === 'Scroll') {\n                        this.element.classList.add(SCROLLMODECLASS);\n                    }\n                    break;\n                case 'url':\n                    this.initItems();\n                    this.reRenderItems();\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.replace(/\\s+/g, ' ').trim().split(' '));\n                    }\n                    if ((oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) && !(newProp.cssClass &&\n                        newProp.cssClass.indexOf(ICONRIGHT) > -1) || !(oldProp.cssClass && oldProp.cssClass.indexOf(ICONRIGHT) > -1) &&\n                        (newProp.cssClass && newProp.cssClass.indexOf(ICONRIGHT) > -1)) {\n                        this.reRenderItems();\n                    }\n                    break;\n                case 'enableRtl':\n                    this.element.classList.toggle('e-rtl');\n                    break;\n                case 'disabled':\n                    this.element.classList.toggle(DISABLEDCLASS);\n                    this.element.setAttribute(ARIADISABLED, newProp.disabled + '');\n                    break;\n            }\n        }\n    };\n    Breadcrumb.prototype.wireEvents = function () {\n        this.delegateClickHanlder = this.documentClickHandler.bind(this);\n        EventHandler.add(document, 'click', this.delegateClickHanlder, this);\n        EventHandler.add(this.element, 'click', this.clickHandler, this);\n        window.addEventListener('resize', this.resize.bind(this));\n    };\n    Breadcrumb.prototype.popupWireEvents = function () {\n        EventHandler.add(this.popupObj.element, 'click', this.clickHandler, this);\n        EventHandler.add(this.popupObj.element, 'keydown', this.popupKeyDownHandler, this);\n    };\n    Breadcrumb.prototype.unWireEvents = function () {\n        EventHandler.remove(document, 'click', this.delegateClickHanlder);\n        EventHandler.remove(this.element, 'click', this.clickHandler);\n        window.removeEventListener('resize', this.resize.bind(this));\n        if (this.popupObj) {\n            EventHandler.remove(this.popupObj.element, 'click', this.clickHandler);\n            EventHandler.remove(this.popupObj.element, 'keydown', this.popupKeyDownHandler);\n        }\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {string} - Persist data\n     */\n    Breadcrumb.prototype.getPersistData = function () {\n        return this.addOnPersist(['activeItem']);\n    };\n    /**\n     * Get module name.\n     *\n     * @private\n     * @returns {string} - Module Name\n     */\n    Breadcrumb.prototype.getModuleName = function () {\n        return 'breadcrumb';\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Breadcrumb.prototype.destroy = function () {\n        var _this = this;\n        var classes = [];\n        var attributes$$1 = ['aria-label'];\n        if (this.cssClass) {\n            classes.concat(this.cssClass.split(' '));\n        }\n        if (this.enableRtl) {\n            classes.push('e-rtl');\n        }\n        if (this.disabled) {\n            classes.push(DISABLEDCLASS);\n            attributes$$1.push(ARIADISABLED);\n        }\n        if (this.overflowMode === 'Wrap') {\n            classes.push(WRAPMODECLASS);\n        }\n        else if (this.overflowMode === 'Scroll') {\n            classes.push(SCROLLMODECLASS);\n        }\n        this.unWireEvents();\n        this.element.innerHTML = '';\n        removeClass([this.element], classes);\n        attributes$$1.forEach(function (attribute) {\n            _this.element.removeAttribute(attribute);\n        });\n        _super.prototype.destroy.call(this);\n    };\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"url\", void 0);\n    __decorate$10([\n        Collection([], BreadcrumbItem)\n    ], Breadcrumb.prototype, \"items\", void 0);\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"activeItem\", void 0);\n    __decorate$10([\n        Property(-1)\n    ], Breadcrumb.prototype, \"maxItems\", void 0);\n    __decorate$10([\n        Property('Menu')\n    ], Breadcrumb.prototype, \"overflowMode\", void 0);\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"cssClass\", void 0);\n    __decorate$10([\n        Property(null)\n    ], Breadcrumb.prototype, \"itemTemplate\", void 0);\n    __decorate$10([\n        Property('/')\n    ], Breadcrumb.prototype, \"separatorTemplate\", void 0);\n    __decorate$10([\n        Property(true)\n    ], Breadcrumb.prototype, \"enableNavigation\", void 0);\n    __decorate$10([\n        Property(false)\n    ], Breadcrumb.prototype, \"enableActiveItemNavigation\", void 0);\n    __decorate$10([\n        Property(false)\n    ], Breadcrumb.prototype, \"disabled\", void 0);\n    __decorate$10([\n        Property('')\n    ], Breadcrumb.prototype, \"locale\", void 0);\n    __decorate$10([\n        Event()\n    ], Breadcrumb.prototype, \"beforeItemRender\", void 0);\n    __decorate$10([\n        Event()\n    ], Breadcrumb.prototype, \"itemClick\", void 0);\n    __decorate$10([\n        Event()\n    ], Breadcrumb.prototype, \"created\", void 0);\n    Breadcrumb = __decorate$10([\n        NotifyPropertyChanges\n    ], Breadcrumb);\n    return Breadcrumb;\n}(Component));\n\n/**\n * Breadcrumb modules\n */\n\nvar __extends$11 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$11 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// Constant variables\nvar CLS_CAROUSEL = 'e-carousel';\nvar CLS_ACTIVE$2 = 'e-active';\nvar CLS_RTL$5 = 'e-rtl';\nvar CLS_PARTIAL = 'e-partial';\nvar CLS_SLIDE_CONTAINER = 'e-carousel-slide-container';\nvar CLS_ITEMS$2 = 'e-carousel-items';\nvar CLS_CLONED = 'e-cloned';\nvar CLS_ITEM$3 = 'e-carousel-item';\nvar CLS_PREVIOUS = 'e-previous';\nvar CLS_NEXT = 'e-next';\nvar CLS_PREV_ICON = 'e-previous-icon';\nvar CLS_NEXT_ICON = 'e-next-icon';\nvar CLS_NAVIGATORS = 'e-carousel-navigators';\nvar CLS_INDICATORS = 'e-carousel-indicators';\nvar CLS_INDICATOR_BARS = 'e-indicator-bars';\nvar CLS_INDICATOR_BAR = 'e-indicator-bar';\nvar CLS_INDICATOR$1 = 'e-indicator';\nvar CLS_ICON$1 = 'e-icons';\nvar CLS_PLAY_PAUSE = 'e-play-pause';\nvar CLS_PLAY_ICON = 'e-play-icon';\nvar CLS_PAUSE_ICON = 'e-pause-icon';\nvar CLS_PREV_BUTTON = 'e-previous-button';\nvar CLS_NEXT_BUTTON = 'e-next-button';\nvar CLS_PLAY_BUTTON = 'e-play-button';\nvar CLS_FLAT = 'e-flat';\nvar CLS_ROUND = 'e-round';\nvar CLS_HOVER_ARROWS = 'e-hover-arrows';\nvar CLS_HOVER = 'e-carousel-hover';\nvar CLS_TEMPLATE$2 = 'e-template';\nvar CLS_SLIDE_ANIMATION = 'e-carousel-slide-animation';\nvar CLS_FADE_ANIMATION = 'e-carousel-fade-animation';\nvar CLS_CUSTOM_ANIMATION = 'e-carousel-custom-animation';\nvar CLS_ANIMATION_NONE = 'e-carousel-animation-none';\nvar CLS_PREV_SLIDE = 'e-prev';\nvar CLS_NEXT_SLIDE = 'e-next';\nvar CLS_TRANSITION_START = 'e-transition-start';\nvar CLS_TRANSITION_END = 'e-transition-end';\n/** Specifies the carousel individual item. */\nvar CarouselItem = /** @__PURE__ @class */ (function (_super) {\n    __extends$11(CarouselItem, _super);\n    function CarouselItem() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"cssClass\", void 0);\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"interval\", void 0);\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"template\", void 0);\n    __decorate$11([\n        Property()\n    ], CarouselItem.prototype, \"htmlAttributes\", void 0);\n    return CarouselItem;\n}(ChildProperty));\nvar Carousel = /** @__PURE__ @class */ (function (_super) {\n    __extends$11(Carousel, _super);\n    /**\n     * Constructor for creating the Carousel widget\n     *\n     * @param {CarouselModel} options Accepts the carousel model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function Carousel(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    Carousel.prototype.getModuleName = function () {\n        return CLS_CAROUSEL.replace('e-', '');\n    };\n    Carousel.prototype.getPersistData = function () {\n        return this.addOnPersist(['selectedIndex']);\n    };\n    Carousel.prototype.preRender = function () {\n        this.keyConfigs = {\n            home: 'home',\n            end: 'end',\n            space: 'space',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow'\n        };\n        var defaultLocale = {\n            nextSlide: 'Next slide',\n            of: 'of',\n            pauseSlideTransition: 'Pause slide transition',\n            playSlideTransition: 'Play slide transition',\n            previousSlide: 'Previous slide',\n            slide: 'Slide',\n            slideShow: 'Slide show'\n        };\n        this.localeObj = new L10n(this.getModuleName(), defaultLocale, this.locale);\n    };\n    Carousel.prototype.render = function () {\n        this.initialize();\n        this.renderSlides();\n        this.renderNavigators();\n        this.renderPlayButton();\n        this.renderIndicators();\n        this.applyAnimation();\n        this.wireEvents();\n    };\n    Carousel.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var target;\n        var rtlElement;\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'animationEffect':\n                    this.applyAnimation();\n                    break;\n                case 'cssClass':\n                    classList(this.element, [newProp.cssClass], [oldProp.cssClass]);\n                    break;\n                case 'selectedIndex':\n                    this.setActiveSlide(this.selectedIndex, oldProp.selectedIndex > this.selectedIndex ? 'Previous' : 'Next');\n                    this.autoSlide();\n                    break;\n                case 'htmlAttributes':\n                    if (!isNullOrUndefined(this.htmlAttributes)) {\n                        this.setHtmlAttributes(this.htmlAttributes, this.element);\n                    }\n                    break;\n                case 'enableTouchSwipe':\n                    if (!this.enableTouchSwipe && this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    if (this.element.querySelector(\".\" + CLS_ITEMS$2)) {\n                        this.renderTouchActions();\n                    }\n                    break;\n                case 'loop':\n                    if (this.loop && isNullOrUndefined(this.autoSlideInterval)) {\n                        this.applySlideInterval();\n                    }\n                    this.handleNavigatorsActions(this.selectedIndex);\n                    if (this.partialVisible) {\n                        this.reRenderSlides();\n                    }\n                    break;\n                case 'enableRtl':\n                    rtlElement = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREV_BUTTON + \",\\n                .\" + CLS_NEXT_BUTTON + \", .\" + CLS_PLAY_BUTTON));\n                    rtlElement.push(this.element);\n                    if (this.enableRtl) {\n                        addClass(rtlElement, CLS_RTL$5);\n                    }\n                    else {\n                        removeClass(rtlElement, CLS_RTL$5);\n                    }\n                    if (this.partialVisible) {\n                        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n                        var cloneCount = this.loop ? 2 : 0;\n                        var slideWidth = itemsContainer.firstElementChild.clientWidth;\n                        itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n                    }\n                    break;\n                case 'buttonsVisibility':\n                    target = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n                    if (target) {\n                        switch (this.buttonsVisibility) {\n                            case 'Hidden':\n                                this.resetTemplates(['previousButtonTemplate', 'nextButtonTemplate']);\n                                remove(target);\n                                break;\n                            case 'VisibleOnHover':\n                                addClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                                break;\n                            case 'Visible':\n                                removeClass([].slice.call(target.childNodes), CLS_HOVER_ARROWS);\n                                break;\n                        }\n                    }\n                    else {\n                        this.renderNavigators();\n                        this.renderPlayButton();\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(this.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(this.height) });\n                    break;\n                case 'autoPlay':\n                    if (this.showPlayButton && isNullOrUndefined(this.playButtonTemplate)) {\n                        this.playButtonClickHandler(null, true);\n                    }\n                    this.autoSlide();\n                    break;\n                case 'interval':\n                    this.autoSlide();\n                    break;\n                case 'showIndicators':\n                    target = this.element.querySelector(\".\" + CLS_INDICATORS);\n                    if (!this.showIndicators && target) {\n                        this.resetTemplates(['indicatorsTemplate']);\n                        remove(target);\n                    }\n                    this.renderIndicators();\n                    break;\n                case 'showPlayButton':\n                    target = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n                    if (!this.showPlayButton && target) {\n                        remove(target);\n                        this.resetTemplates(['playButtonTemplate']);\n                    }\n                    this.renderPlayButton();\n                    break;\n                case 'items':\n                case 'dataSource':\n                    this.reRenderSlides();\n                    break;\n                case 'partialVisible':\n                    if (this.partialVisible) {\n                        addClass([this.element], CLS_PARTIAL);\n                    }\n                    else {\n                        removeClass([this.element], CLS_PARTIAL);\n                    }\n                    this.reRenderSlides();\n                    break;\n            }\n        }\n    };\n    Carousel.prototype.reRenderSlides = function () {\n        var target = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        if (target) {\n            this.resetTemplates(['itemTemplate']);\n            remove(target);\n        }\n        this.renderSlides();\n    };\n    Carousel.prototype.initialize = function () {\n        var carouselClasses = [];\n        if (this.cssClass) {\n            carouselClasses.push(this.cssClass);\n        }\n        if (this.enableRtl) {\n            carouselClasses.push(CLS_RTL$5);\n        }\n        if (this.partialVisible) {\n            carouselClasses.push(CLS_PARTIAL);\n        }\n        addClass([this.element], carouselClasses);\n        setStyleAttribute(this.element, { 'width': formatUnit(this.width), 'height': formatUnit(this.height) });\n        attributes(this.element, { 'tabindex': '0', 'aria-roledescription': 'carousel', 'aria-label': this.localeObj.getConstant('slideShow') });\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n        }\n    };\n    Carousel.prototype.renderSlides = function () {\n        var _this = this;\n        var slideContainer = this.element.querySelector('.' + CLS_SLIDE_CONTAINER);\n        if (!slideContainer) {\n            slideContainer = this.createElement('div', { className: CLS_SLIDE_CONTAINER });\n            this.element.appendChild(slideContainer);\n        }\n        var itemsContainer = this.createElement('div', { className: CLS_ITEMS$2, attrs: { 'aria-live': this.autoPlay ? 'off' : 'polite' } });\n        slideContainer.appendChild(itemsContainer);\n        if (this.partialVisible && this.loop) {\n            if (this.items.length > 0) {\n                this.items.slice(-2).forEach(function (item, index) {\n                    _this.renderSlide(item, item.template, index, itemsContainer, true);\n                });\n            }\n            else if (this.dataSource.length > 0) {\n                this.dataSource.slice(-2).forEach(function (item, index) {\n                    _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n                });\n            }\n        }\n        if (this.items.length > 0) {\n            this.slideItems = this.items;\n            this.items.forEach(function (item, index) {\n                _this.renderSlide(item, item.template, index, itemsContainer);\n            });\n        }\n        else if (this.dataSource.length > 0) {\n            this.slideItems = this.dataSource;\n            this.dataSource.forEach(function (item, index) {\n                _this.renderSlide(item, _this.itemTemplate, index, itemsContainer);\n            });\n        }\n        if (this.partialVisible && this.loop) {\n            if (this.items.length > 0) {\n                this.items.slice(0, 2).forEach(function (item, index) {\n                    _this.renderSlide(item, item.template, index, itemsContainer, true);\n                });\n            }\n            else if (this.dataSource.length > 0) {\n                this.dataSource.slice(0, 2).forEach(function (item, index) {\n                    _this.renderSlide(item, _this.itemTemplate, index, itemsContainer, true);\n                });\n            }\n        }\n        this.renderTemplates();\n        if (this.partialVisible) {\n            itemsContainer.style.setProperty('--carousel-items-count', \"\" + itemsContainer.children.length);\n            var slideWidth = itemsContainer.firstElementChild.clientWidth;\n            var cloneCount = this.loop ? 2 : 0;\n            itemsContainer.style.transitionProperty = 'none';\n            itemsContainer.style.transform = this.getTranslateX(slideWidth, this.selectedIndex + cloneCount);\n        }\n        this.autoSlide();\n        this.renderTouchActions();\n        this.renderKeyboardActions();\n    };\n    Carousel.prototype.getTranslateX = function (slideWidth, count) {\n        if (count === void 0) { count = 1; }\n        return this.enableRtl ? \"translateX(\" + (slideWidth) * (count) + \"px)\" :\n            \"translateX(\" + -(slideWidth) * (count) + \"px)\";\n    };\n    Carousel.prototype.renderSlide = function (item, itemTemplate, index, container, isClone) {\n        if (isClone === void 0) { isClone = false; }\n        var itemEle = this.createElement('div', {\n            id: getUniqueID('carousel_item'),\n            className: CLS_ITEM$3 + \" \" + (item.cssClass ? item.cssClass : '') + \" \" + (this.selectedIndex === index && !isClone ? CLS_ACTIVE$2 : ''),\n            attrs: {\n                'aria-hidden': this.selectedIndex === index && !isClone ? 'false' : 'true', 'data-index': index.toString(),\n                'aria-role': 'group', 'aria-roledescription': 'slide'\n            }\n        });\n        if (isClone) {\n            itemEle.classList.add(CLS_CLONED);\n        }\n        if (!isNullOrUndefined(item.htmlAttributes)) {\n            this.setHtmlAttributes(item.htmlAttributes, itemEle);\n        }\n        var templateId = this.element.id + '_template';\n        var template = this.templateParser(itemTemplate)(item, this, 'itemTemplate', templateId, false);\n        append(template, itemEle);\n        container.appendChild(itemEle);\n    };\n    Carousel.prototype.renderNavigators = function () {\n        if (this.buttonsVisibility === 'Hidden') {\n            return;\n        }\n        var navigators = this.createElement('div', { className: CLS_NAVIGATORS });\n        var itemsContainer = this.element.querySelector(\".\" + CLS_SLIDE_CONTAINER);\n        itemsContainer.insertAdjacentElement('afterend', navigators);\n        if (!isNullOrUndefined(this.slideItems) && this.slideItems.length > 1) {\n            this.renderNavigatorButton('Previous');\n            this.renderNavigatorButton('Next');\n        }\n        this.renderTemplates();\n    };\n    Carousel.prototype.renderNavigatorButton = function (direction) {\n        var buttonContainer = this.createElement('div', {\n            className: (direction === 'Previous' ? CLS_PREVIOUS : CLS_NEXT) + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n        });\n        if (direction === 'Previous' && this.previousButtonTemplate) {\n            addClass([buttonContainer], CLS_TEMPLATE$2);\n            var templateId = this.element.id + '_previousButtonTemplate';\n            var template = this.templateParser(this.previousButtonTemplate)({ type: 'Previous' }, this, 'previousButtonTemplate', templateId, false);\n            append(template, buttonContainer);\n        }\n        else if (direction === 'Next' && this.nextButtonTemplate) {\n            addClass([buttonContainer], CLS_TEMPLATE$2);\n            var templateId = this.element.id + '_nextButtonTemplate';\n            var template = this.templateParser(this.nextButtonTemplate)({ type: 'Next' }, this, 'nextButtonTemplate', templateId, false);\n            append(template, buttonContainer);\n        }\n        else {\n            var button = this.createElement('button', {\n                attrs: { 'aria-label': this.localeObj.getConstant(direction === 'Previous' ? 'previousSlide' : 'nextSlide'), 'type': 'button' }\n            });\n            var buttonObj = new Button({\n                cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + (direction === 'Previous' ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON),\n                iconCss: CLS_ICON$1 + ' ' + (direction === 'Previous' ? CLS_PREV_ICON : CLS_NEXT_ICON),\n                enableRtl: this.enableRtl,\n                disabled: !this.loop && this.selectedIndex === (direction === 'Previous' ? 0 : this.slideItems.length - 1)\n            });\n            buttonObj.appendTo(button);\n            buttonContainer.appendChild(button);\n        }\n        this.element.querySelector('.' + CLS_NAVIGATORS).appendChild(buttonContainer);\n        EventHandler.add(buttonContainer, 'click', this.navigatorClickHandler, this);\n    };\n    Carousel.prototype.renderPlayButton = function () {\n        if (isNullOrUndefined(this.slideItems) || this.buttonsVisibility === 'Hidden' || !this.showPlayButton || this.slideItems.length <= 1) {\n            return;\n        }\n        var playPauseWrap = this.createElement('div', {\n            className: CLS_PLAY_PAUSE + ' ' + (this.buttonsVisibility === 'VisibleOnHover' ? CLS_HOVER_ARROWS : '')\n        });\n        if (this.playButtonTemplate) {\n            addClass([playPauseWrap], CLS_TEMPLATE$2);\n            var templateId = this.element.id + '_playButtonTemplate';\n            var template = this.templateParser(this.playButtonTemplate)({}, this, 'playButtonTemplate', templateId, false);\n            append(template, playPauseWrap);\n        }\n        else {\n            var playButton = this.createElement('button', {\n                attrs: { 'aria-label': this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'), 'type': 'button' }\n            });\n            var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n            var buttonObj = new Button({\n                cssClass: CLS_FLAT + ' ' + CLS_ROUND + ' ' + CLS_PLAY_BUTTON,\n                iconCss: CLS_ICON$1 + ' ' + (this.autoPlay && !isLastSlide ? CLS_PAUSE_ICON : CLS_PLAY_ICON),\n                isToggle: true,\n                enableRtl: this.enableRtl\n            });\n            if (isLastSlide) {\n                this.setProperties({ autoPlay: false }, true);\n                playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n                var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n                itemsContainer.setAttribute('aria-live', 'polite');\n            }\n            buttonObj.appendTo(playButton);\n            playPauseWrap.appendChild(playButton);\n        }\n        var navigators = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n        navigators.insertBefore(playPauseWrap, navigators.lastElementChild);\n        this.renderTemplates();\n        EventHandler.add(playPauseWrap, 'click', this.playButtonClickHandler, this);\n    };\n    Carousel.prototype.renderIndicators = function () {\n        var _this = this;\n        if (!this.showIndicators) {\n            return;\n        }\n        var indicatorWrap = this.createElement('div', { className: CLS_INDICATORS });\n        var indicatorBars = this.createElement('div', { className: CLS_INDICATOR_BARS });\n        indicatorWrap.appendChild(indicatorBars);\n        if (this.slideItems) {\n            this.slideItems.forEach(function (item, index) {\n                var indicatorBar = _this.createElement('div', {\n                    className: CLS_INDICATOR_BAR + ' ' + (_this.selectedIndex === index ? CLS_ACTIVE$2 : ''),\n                    attrs: { 'data-index': index.toString(), 'aria-current': _this.selectedIndex === index ? 'true' : 'false' }\n                });\n                if (_this.indicatorsTemplate) {\n                    addClass([indicatorBar], CLS_TEMPLATE$2);\n                    var templateId = _this.element.id + '_indicatorsTemplate';\n                    var template = _this.templateParser(_this.indicatorsTemplate)({ index: index, selectedIndex: _this.selectedIndex }, _this, 'indicatorsTemplate', templateId, false);\n                    append(template, indicatorBar);\n                }\n                else {\n                    var indicator = _this.createElement('button', { className: CLS_INDICATOR$1, attrs: { 'type': 'button', 'aria-label': _this.localeObj.getConstant('slide') + ' ' + (index + 1) + ' ' + _this.localeObj.getConstant('of') + ' ' + _this.slideItems.length } });\n                    indicatorBar.appendChild(indicator);\n                    indicator.appendChild(_this.createElement('div', {}));\n                    var buttonObj = new Button({ cssClass: 'e-flat e-small' });\n                    buttonObj.appendTo(indicator);\n                }\n                indicatorBars.appendChild(indicatorBar);\n                EventHandler.add(indicatorBar, 'click', _this.indicatorClickHandler, _this);\n            });\n        }\n        this.element.appendChild(indicatorWrap);\n    };\n    Carousel.prototype.renderKeyboardActions = function () {\n        this.keyModule = new KeyboardEvents(this.element, { keyAction: this.keyHandler.bind(this), keyConfigs: this.keyConfigs });\n    };\n    Carousel.prototype.renderTouchActions = function () {\n        if (!this.enableTouchSwipe) {\n            return;\n        }\n        this.touchModule = new Touch(this.element, { swipe: this.swipeHandler.bind(this) });\n    };\n    Carousel.prototype.applyAnimation = function () {\n        removeClass([this.element], [CLS_CUSTOM_ANIMATION, CLS_FADE_ANIMATION, CLS_SLIDE_ANIMATION, CLS_ANIMATION_NONE]);\n        switch (this.animationEffect) {\n            case 'Slide':\n                addClass([this.element], CLS_SLIDE_ANIMATION);\n                break;\n            case 'Fade':\n                addClass([this.element], CLS_FADE_ANIMATION);\n                break;\n            case 'None':\n                addClass([this.element], CLS_ANIMATION_NONE);\n                break;\n            case 'Custom':\n                addClass([this.element], CLS_CUSTOM_ANIMATION);\n                break;\n        }\n    };\n    Carousel.prototype.autoSlide = function () {\n        if (isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n            return;\n        }\n        this.resetSlideInterval();\n        this.applySlideInterval();\n    };\n    Carousel.prototype.autoSlideChange = function () {\n        var activeSlide = this.element.querySelector(\".\" + CLS_ACTIVE$2);\n        if (isNullOrUndefined(activeSlide)) {\n            return;\n        }\n        var activeIndex = parseInt(activeSlide.dataset.index, 10);\n        if (!this.loop && activeIndex === this.slideItems.length - 1) {\n            this.resetSlideInterval();\n        }\n        else {\n            var index = (activeIndex + 1) % this.slideItems.length;\n            if (!this.element.classList.contains(CLS_HOVER)) {\n                this.setActiveSlide(index, 'Next');\n            }\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.applySlideInterval = function () {\n        var _this = this;\n        if (!this.autoPlay || this.element.classList.contains(CLS_HOVER)) {\n            return;\n        }\n        var itemInterval = this.interval;\n        if (this.items.length > 0 && !isNullOrUndefined(this.items[this.selectedIndex].interval)) {\n            itemInterval = this.items[this.selectedIndex].interval;\n        }\n        this.autoSlideInterval = setInterval(function () { return _this.autoSlideChange(); }, itemInterval);\n    };\n    Carousel.prototype.resetSlideInterval = function () {\n        clearInterval(this.autoSlideInterval);\n        this.autoSlideInterval = null;\n    };\n    Carousel.prototype.getSlideIndex = function (direction) {\n        var currentIndex = this.selectedIndex;\n        if (direction === 'Previous') {\n            currentIndex--;\n            if (currentIndex < 0) {\n                currentIndex = this.slideItems.length - 1;\n            }\n        }\n        else {\n            currentIndex++;\n            if (currentIndex === this.slideItems.length) {\n                currentIndex = 0;\n            }\n        }\n        return currentIndex;\n    };\n    Carousel.prototype.setActiveSlide = function (currentIndex, direction, isSwiped) {\n        var _this = this;\n        if (isSwiped === void 0) { isSwiped = false; }\n        if (this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \".\" + CLS_PREV_SLIDE + \",.\" + CLS_ITEM$3 + \".\" + CLS_NEXT_SLIDE).length > 0) {\n            return;\n        }\n        var allSlides = [].slice.call(this.element.querySelectorAll(\".\" + CLS_ITEM$3 + \":not(.e-cloned)\"));\n        var activeSlide = this.element.querySelector(\".\" + CLS_ITEM$3 + \".\" + CLS_ACTIVE$2);\n        if (isNullOrUndefined(activeSlide) && this.showIndicators) {\n            var activeIndicator = this.element.querySelector(\".\" + CLS_INDICATOR_BAR + \".\" + CLS_ACTIVE$2);\n            var activeIndex_1 = parseInt(activeIndicator.dataset.index, 10);\n            addClass([allSlides[parseInt(activeIndex_1.toString(), 10)]], CLS_ACTIVE$2);\n            return;\n        }\n        else if (isNullOrUndefined(activeSlide)) {\n            addClass([allSlides[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE$2);\n            return;\n        }\n        var activeIndex = parseInt(activeSlide.dataset.index, 10);\n        var currentSlide = allSlides[parseInt(currentIndex.toString(), 10)];\n        var eventArgs = {\n            currentIndex: activeIndex,\n            nextIndex: currentIndex,\n            currentSlide: activeSlide,\n            nextSlide: currentSlide,\n            slideDirection: direction,\n            isSwiped: isSwiped,\n            cancel: false\n        };\n        this.trigger('slideChanging', eventArgs, function (args) {\n            if (args.cancel) {\n                return;\n            }\n            _this.setProperties({ selectedIndex: currentIndex }, true);\n            attributes(args.currentSlide, { 'aria-hidden': 'true' });\n            attributes(args.nextSlide, { 'aria-hidden': 'false' });\n            var slideIndicators = [].slice.call(_this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n            if (slideIndicators.length > 0) {\n                attributes(slideIndicators[parseInt(activeIndex.toString(), 10)], { 'aria-current': 'false' });\n                attributes(slideIndicators[parseInt(currentIndex.toString(), 10)], { 'aria-current': 'true' });\n                removeClass(slideIndicators, CLS_ACTIVE$2);\n                addClass([slideIndicators[parseInt(currentIndex.toString(), 10)]], CLS_ACTIVE$2);\n            }\n            _this.slideChangedEventArgs = {\n                currentIndex: args.nextIndex,\n                previousIndex: args.currentIndex,\n                currentSlide: args.nextSlide,\n                previousSlide: args.currentSlide,\n                slideDirection: direction,\n                isSwiped: isSwiped\n            };\n            if (_this.partialVisible) {\n                var container = _this.element.querySelector('.' + CLS_ITEMS$2);\n                var slideWidth = allSlides[parseInt(currentIndex.toString(), 10)].clientWidth;\n                container.style.transitionProperty = 'transform';\n                if (_this.loop) {\n                    if (_this.slideChangedEventArgs.currentIndex === 0 && _this.slideChangedEventArgs.slideDirection === 'Next') {\n                        container.style.transform = _this.getTranslateX(slideWidth, allSlides.length + 2);\n                    }\n                    else if (_this.slideChangedEventArgs.currentIndex === _this.slideItems.length - 1 && _this.slideChangedEventArgs.slideDirection === 'Previous') {\n                        container.style.transform = _this.getTranslateX(slideWidth);\n                    }\n                    else {\n                        container.style.transform = _this.getTranslateX(slideWidth, currentIndex + 2);\n                    }\n                }\n                else {\n                    container.style.transform = _this.getTranslateX(slideWidth, currentIndex);\n                }\n            }\n            if (_this.animationEffect === 'Slide') {\n                if (direction === 'Previous') {\n                    addClass([args.nextSlide], CLS_PREV_SLIDE);\n                    args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n                    addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_END);\n                }\n                else {\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                    args.nextSlide.setAttribute('data-slide-height', args.nextSlide.offsetHeight.toString());\n                    addClass([args.currentSlide, args.nextSlide], CLS_TRANSITION_START);\n                }\n            }\n            else if (_this.animationEffect === 'Fade') {\n                removeClass([args.currentSlide], CLS_ACTIVE$2);\n                addClass([args.nextSlide], CLS_ACTIVE$2);\n            }\n            else if (_this.animationEffect === 'Custom') {\n                if (direction === 'Previous') {\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                    addClass([args.currentSlide], CLS_PREV_SLIDE);\n                }\n                else {\n                    addClass([args.currentSlide], CLS_PREV_SLIDE);\n                    addClass([args.nextSlide], CLS_NEXT_SLIDE);\n                }\n            }\n            else {\n                _this.onTransitionEnd();\n            }\n            _this.handleNavigatorsActions(currentIndex);\n        });\n    };\n    Carousel.prototype.onTransitionEnd = function () {\n        var _this = this;\n        if (this.slideChangedEventArgs) {\n            if (this.partialVisible && this.loop && (this.slideChangedEventArgs.currentIndex === 0 && this.slideChangedEventArgs.slideDirection === 'Next' ||\n                this.slideChangedEventArgs.currentIndex === this.slideItems.length - 1 && this.slideChangedEventArgs.slideDirection === 'Previous')) {\n                var container = this.element.querySelector('.' + CLS_ITEMS$2);\n                var slideWidth = this.slideChangedEventArgs.currentSlide.clientWidth;\n                container.style.transitionProperty = 'none';\n                container.style.transform = this.getTranslateX(slideWidth, this.slideChangedEventArgs.currentIndex + 2);\n            }\n            addClass([this.slideChangedEventArgs.currentSlide], CLS_ACTIVE$2);\n            removeClass([this.slideChangedEventArgs.previousSlide], CLS_ACTIVE$2);\n            this.trigger('slideChanged', this.slideChangedEventArgs, function () {\n                removeClass(_this.element.querySelectorAll(\".\" + CLS_ITEM$3), [CLS_PREV_SLIDE, CLS_NEXT_SLIDE, CLS_TRANSITION_START, CLS_TRANSITION_END]);\n                _this.slideChangedEventArgs = null;\n            });\n        }\n    };\n    Carousel.prototype.setHtmlAttributes = function (attribute, element) {\n        var keys = Object.keys(attribute);\n        for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n            var key = keys_1[_i];\n            if (key === 'class') {\n                addClass([element], attribute[\"\" + key]);\n            }\n            else {\n                element.setAttribute(key, attribute[\"\" + key]);\n            }\n        }\n    };\n    Carousel.prototype.templateParser = function (template) {\n        if (template) {\n            try {\n                if (document.querySelectorAll(template).length) {\n                    return compile(document.querySelector(template).innerHTML.trim());\n                }\n                else {\n                    return compile(template);\n                }\n            }\n            catch (error) {\n                return compile(template);\n            }\n        }\n        return undefined;\n    };\n    Carousel.prototype.getNavigatorState = function (target, isPrevious) {\n        var button = target.querySelector(\".\" + (isPrevious ? CLS_PREV_BUTTON : CLS_NEXT_BUTTON));\n        if (button) {\n            var buttonObj = getInstance(button, Button);\n            return buttonObj.disabled;\n        }\n        return false;\n    };\n    Carousel.prototype.navigatorClickHandler = function (e) {\n        var target = e.currentTarget;\n        var isDisabled = this.getNavigatorState(target, target.classList.contains(CLS_PREVIOUS));\n        if (isDisabled) {\n            return;\n        }\n        var direction = target.classList.contains(CLS_PREVIOUS) ? 'Previous' : 'Next';\n        this.setActiveSlide(this.getSlideIndex(direction), direction);\n        this.autoSlide();\n    };\n    Carousel.prototype.indicatorClickHandler = function (e) {\n        var target = closest(e.target, \".\" + CLS_INDICATOR_BAR);\n        var index = parseInt(target.dataset.index, 10);\n        if (this.selectedIndex !== index) {\n            this.setActiveSlide(index, this.selectedIndex > index ? 'Previous' : 'Next');\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.playButtonClickHandler = function (e, isPropertyChange) {\n        if (isPropertyChange === void 0) { isPropertyChange = false; }\n        var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n        if (playButton) {\n            var buttonObj = getInstance(playButton, Button);\n            if (!isPropertyChange) {\n                this.setProperties({ autoPlay: !this.autoPlay }, true);\n            }\n            playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n            buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n            buttonObj.dataBind();\n            var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n            itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n            if (this.autoPlay && !this.loop && this.selectedIndex === this.slideItems.length - 1) {\n                this.setActiveSlide(0, 'Next');\n            }\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.keyHandler = function (e) {\n        var direction;\n        var slideIndex;\n        var isSlideTransition = false;\n        var target = e.target;\n        e.preventDefault();\n        switch (e.action) {\n            case 'space':\n                if (this.showIndicators && target.classList.contains(CLS_INDICATOR$1)) {\n                    target.click();\n                }\n                else if (target.classList.contains(CLS_CAROUSEL) || target.classList.contains(CLS_PLAY_BUTTON)) {\n                    this.playButtonClickHandler(e);\n                }\n                else if (target.classList.contains(CLS_NEXT_BUTTON)) {\n                    this.next();\n                }\n                else if (target.classList.contains(CLS_PREV_BUTTON)) {\n                    this.prev();\n                }\n                break;\n            case 'end':\n                slideIndex = this.slideItems.length - 1;\n                direction = 'Next';\n                isSlideTransition = true;\n                break;\n            case 'home':\n                slideIndex = 0;\n                direction = 'Previous';\n                isSlideTransition = true;\n                break;\n            case 'moveUp':\n            case 'moveLeft':\n            case 'moveDown':\n            case 'moveRight':\n                if (this.showIndicators && isNullOrUndefined(this.indicatorsTemplate)) {\n                    this.element.focus();\n                }\n                direction = (e.action === 'moveUp' || e.action === 'moveLeft') ? 'Previous' : 'Next';\n                slideIndex = this.getSlideIndex(direction);\n                isSlideTransition = !this.isSuspendSlideTransition(slideIndex, direction);\n                break;\n        }\n        if (isSlideTransition) {\n            this.setActiveSlide(slideIndex, direction);\n            this.autoSlide();\n            isSlideTransition = false;\n        }\n    };\n    Carousel.prototype.swipeHandler = function (e) {\n        if (this.element.classList.contains(CLS_HOVER) || isNullOrUndefined(this.slideItems) || this.slideItems.length <= 1) {\n            return;\n        }\n        var direction = (e.swipeDirection === 'Right') ? 'Previous' : 'Next';\n        var slideIndex = this.getSlideIndex(direction);\n        if (!this.isSuspendSlideTransition(slideIndex, direction)) {\n            this.setActiveSlide(slideIndex, direction, true);\n            this.autoSlide();\n        }\n    };\n    Carousel.prototype.isSuspendSlideTransition = function (index, direction) {\n        return !this.loop && (direction === 'Next' && index === 0 || direction === 'Previous' && index === this.slideItems.length - 1);\n    };\n    Carousel.prototype.handleNavigatorsActions = function (index) {\n        if (this.buttonsVisibility === 'Hidden') {\n            return;\n        }\n        if (this.showPlayButton) {\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            var isLastSlide = this.selectedIndex === this.slideItems.length - 1 && !this.loop;\n            var isButtonUpdate = isNullOrUndefined(this.playButtonTemplate) && playButton && isLastSlide;\n            if (isNullOrUndefined(this.playButtonTemplate) && playButton && !isLastSlide) {\n                isButtonUpdate = !playButton.classList.contains(CLS_ACTIVE$2);\n            }\n            if (isButtonUpdate) {\n                this.setProperties({ autoPlay: !isLastSlide }, true);\n                playButton.setAttribute('aria-label', this.localeObj.getConstant(this.autoPlay ? 'pauseSlideTransition' : 'playSlideTransition'));\n                var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n                itemsContainer.setAttribute('aria-live', this.autoPlay ? 'off' : 'polite');\n                var buttonObj = getInstance(playButton, Button);\n                buttonObj.iconCss = CLS_ICON$1 + ' ' + (this.autoPlay ? CLS_PAUSE_ICON : CLS_PLAY_ICON);\n                buttonObj.dataBind();\n            }\n        }\n        var prevButton = this.element.querySelector(\".\" + CLS_PREV_BUTTON);\n        if (prevButton && isNullOrUndefined(this.previousButtonTemplate)) {\n            var buttonObj = getInstance(prevButton, Button);\n            buttonObj.disabled = !this.loop && index === 0;\n            buttonObj.dataBind();\n        }\n        var nextButton = this.element.querySelector(\".\" + CLS_NEXT_BUTTON);\n        if (nextButton && isNullOrUndefined(this.nextButtonTemplate)) {\n            var buttonObj = getInstance(nextButton, Button);\n            buttonObj.disabled = !this.loop && index === this.slideItems.length - 1;\n            buttonObj.dataBind();\n        }\n    };\n    Carousel.prototype.onHoverActions = function (e) {\n        var navigator = this.element.querySelector(\".\" + CLS_NAVIGATORS);\n        switch (e.type) {\n            case 'mouseenter':\n                if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n                    removeClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n                }\n                if (this.pauseOnHover) {\n                    addClass([this.element], CLS_HOVER);\n                }\n                break;\n            case 'mouseleave':\n                if (this.buttonsVisibility === 'VisibleOnHover' && navigator) {\n                    addClass([].slice.call(navigator.childNodes), CLS_HOVER_ARROWS);\n                }\n                removeClass([this.element], CLS_HOVER);\n                break;\n        }\n        this.autoSlide();\n    };\n    Carousel.prototype.onFocusActions = function (e) {\n        switch (e.type) {\n            case 'focusin':\n                addClass([this.element], CLS_HOVER);\n                break;\n            case 'focusout':\n                removeClass([this.element], CLS_HOVER);\n                break;\n        }\n        this.autoSlide();\n    };\n    Carousel.prototype.destroyButtons = function () {\n        var buttonCollections = [].slice.call(this.element.querySelectorAll('.e-control.e-btn'));\n        for (var _i = 0, buttonCollections_1 = buttonCollections; _i < buttonCollections_1.length; _i++) {\n            var button = buttonCollections_1[_i];\n            var instance = getInstance(button, Button);\n            if (instance) {\n                instance.destroy();\n            }\n        }\n    };\n    Carousel.prototype.wireEvents = function () {\n        EventHandler.add(this.element, 'focusin focusout', this.onFocusActions, this);\n        EventHandler.add(this.element, 'mouseenter mouseleave', this.onHoverActions, this);\n        EventHandler.add(this.element.firstElementChild, 'animationend', this.onTransitionEnd, this);\n        EventHandler.add(this.element.firstElementChild, 'transitionend', this.onTransitionEnd, this);\n    };\n    Carousel.prototype.unWireEvents = function () {\n        var _this = this;\n        var indicators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_INDICATOR_BAR));\n        indicators.forEach(function (indicator) {\n            EventHandler.remove(indicator, 'click', _this.indicatorClickHandler);\n        });\n        var navigators = [].slice.call(this.element.querySelectorAll(\".\" + CLS_PREVIOUS + \",.\" + CLS_NEXT));\n        navigators.forEach(function (navigator) {\n            EventHandler.remove(navigator, 'click', _this.navigatorClickHandler);\n        });\n        var playIcon = this.element.querySelector(\".\" + CLS_PLAY_PAUSE);\n        if (playIcon) {\n            EventHandler.remove(playIcon, 'click', this.playButtonClickHandler);\n        }\n        EventHandler.remove(this.element.firstElementChild, 'animationend', this.onTransitionEnd);\n        EventHandler.remove(this.element.firstElementChild, 'transitionend', this.onTransitionEnd);\n        EventHandler.clearEvents(this.element);\n    };\n    /**\n     * Method to transit from the current slide to the previous slide.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.prev = function () {\n        if (!this.loop && this.selectedIndex === 0) {\n            return;\n        }\n        var index = (this.selectedIndex === 0) ? this.slideItems.length - 1 : this.selectedIndex - 1;\n        this.setActiveSlide(index, 'Previous');\n        this.autoSlide();\n    };\n    /**\n     * Method to transit from the current slide to the next slide.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.next = function () {\n        if (!this.loop && this.selectedIndex === this.slideItems.length - 1) {\n            return;\n        }\n        var index = (this.selectedIndex === this.slideItems.length - 1) ? 0 : this.selectedIndex + 1;\n        this.setActiveSlide(index, 'Next');\n        this.autoSlide();\n    };\n    /**\n     * Method to play the slides programmatically.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.play = function () {\n        var playIcon = this.element.querySelector(\".\" + CLS_PLAY_ICON);\n        if (this.showPlayButton && playIcon) {\n            classList(playIcon, [CLS_PAUSE_ICON], [CLS_PLAY_ICON]);\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            playButton.setAttribute('aria-label', this.localeObj.getConstant('pauseSlideTransition'));\n        }\n        this.setProperties({ autoPlay: true }, true);\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', 'off');\n        this.applySlideInterval();\n    };\n    /**\n     * Method to pause the slides programmatically.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.pause = function () {\n        var pauseIcon = this.element.querySelector(\".\" + CLS_PAUSE_ICON);\n        if (this.showPlayButton && pauseIcon) {\n            var playButton = this.element.querySelector(\".\" + CLS_PLAY_BUTTON);\n            playButton.setAttribute('aria-label', this.localeObj.getConstant('playSlideTransition'));\n            classList(pauseIcon, [CLS_PLAY_ICON], [CLS_PAUSE_ICON]);\n        }\n        this.setProperties({ autoPlay: false }, true);\n        var itemsContainer = this.element.querySelector(\".\" + CLS_ITEMS$2);\n        itemsContainer.setAttribute('aria-live', 'off');\n        this.resetSlideInterval();\n    };\n    /**\n     * Method to render react and angular templates\n     *\n     * @returns {void}\n     * @private\n     */\n    Carousel.prototype.renderTemplates = function () {\n        if (this.isAngular || this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Method to reset react and angular templates\n     *\n     * @param {string[]} templates Accepts the template ID\n     * @returns {void}\n     * @private\n     */\n    Carousel.prototype.resetTemplates = function (templates) {\n        if (this.isAngular || this.isReact) {\n            this.clearTemplate(templates);\n        }\n    };\n    /**\n     * Method for destroy the carousel component.\n     *\n     * @returns {void}\n     */\n    Carousel.prototype.destroy = function () {\n        var _this = this;\n        this.resetTemplates();\n        if (this.touchModule) {\n            this.touchModule.destroy();\n            this.touchModule = null;\n        }\n        this.keyModule.destroy();\n        this.keyModule = null;\n        this.resetSlideInterval();\n        this.destroyButtons();\n        this.unWireEvents();\n        [].slice.call(this.element.children).forEach(function (ele) { _this.element.removeChild(ele); });\n        removeClass([this.element], [CLS_CAROUSEL, this.cssClass, CLS_RTL$5]);\n        ['tabindex', 'role', 'style'].forEach(function (attr) { _this.element.removeAttribute(attr); });\n        _super.prototype.destroy.call(this);\n    };\n    __decorate$11([\n        Collection([], CarouselItem)\n    ], Carousel.prototype, \"items\", void 0);\n    __decorate$11([\n        Property('Slide')\n    ], Carousel.prototype, \"animationEffect\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"previousButtonTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"nextButtonTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"indicatorsTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"playButtonTemplate\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"cssClass\", void 0);\n    __decorate$11([\n        Property([])\n    ], Carousel.prototype, \"dataSource\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"itemTemplate\", void 0);\n    __decorate$11([\n        Property(0)\n    ], Carousel.prototype, \"selectedIndex\", void 0);\n    __decorate$11([\n        Property('100%')\n    ], Carousel.prototype, \"width\", void 0);\n    __decorate$11([\n        Property('100%')\n    ], Carousel.prototype, \"height\", void 0);\n    __decorate$11([\n        Property(5000)\n    ], Carousel.prototype, \"interval\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"autoPlay\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"pauseOnHover\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"loop\", void 0);\n    __decorate$11([\n        Property(false)\n    ], Carousel.prototype, \"showPlayButton\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"enableTouchSwipe\", void 0);\n    __decorate$11([\n        Property(true)\n    ], Carousel.prototype, \"showIndicators\", void 0);\n    __decorate$11([\n        Property('Visible')\n    ], Carousel.prototype, \"buttonsVisibility\", void 0);\n    __decorate$11([\n        Property(false)\n    ], Carousel.prototype, \"partialVisible\", void 0);\n    __decorate$11([\n        Property()\n    ], Carousel.prototype, \"htmlAttributes\", void 0);\n    __decorate$11([\n        Event()\n    ], Carousel.prototype, \"slideChanging\", void 0);\n    __decorate$11([\n        Event()\n    ], Carousel.prototype, \"slideChanged\", void 0);\n    Carousel = __decorate$11([\n        NotifyPropertyChanges\n    ], Carousel);\n    return Carousel;\n}(Component));\n\n/** Carousel export modules */\n\nvar __extends$12 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$12 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// Constant variables\nvar CLS_APPBAR = 'e-appbar';\nvar CLS_HORIZONTAL_BOTTOM = 'e-horizontal-bottom';\nvar CLS_STICKY = 'e-sticky';\nvar CLS_PROMINENT = 'e-prominent';\nvar CLS_DENSE = 'e-dense';\nvar CLS_RTL$6 = 'e-rtl';\nvar CLS_LIGHT = 'e-light';\nvar CLS_DARK = 'e-dark';\nvar CLS_PRIMARY = 'e-primary';\nvar CLS_INHERIT = 'e-inherit';\n/**\n * The AppBar displays the information and actions related to the current application screen. It is used to show branding, screen titles, navigation, and actions.\n * Support to inherit colors from AppBar provided to <c>Button</c>, <c>DropDownButton</c>, <c>Menu</c> and <c>TextBox</c>.\n * Set <c>CssClass</c> property with <code>e-inherit</code> CSS class to inherit the background and color from AppBar.\n */\nvar AppBar = /** @__PURE__ @class */ (function (_super) {\n    __extends$12(AppBar, _super);\n    /**\n     * Constructor for creating the AppBar widget\n     *\n     * @param {AppBarModel} options Accepts the AppBar model properties to initiate the rendering\n     * @param {string | HTMLElement} element Accepts the DOM element reference\n     */\n    function AppBar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Removes the control from the DOM and also removes all its related events.\n     *\n     * @returns {void}\n     */\n    AppBar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this.element.classList.remove(CLS_APPBAR);\n        this.element.removeAttribute('style');\n        this.element.removeAttribute('role');\n    };\n    AppBar.prototype.getModuleName = function () {\n        return 'appbar';\n    };\n    AppBar.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    AppBar.prototype.preRender = function () {\n        // pre render code\n    };\n    AppBar.prototype.render = function () {\n        if (this.element.tagName !== 'HEADER') {\n            this.element.setAttribute('role', 'header');\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n        }\n        if (this.position === 'Bottom') {\n            this.element.classList.add(CLS_HORIZONTAL_BOTTOM);\n        }\n        if (this.isSticky) {\n            this.element.classList.add(CLS_STICKY);\n        }\n        if (this.enableRtl) {\n            this.element.classList.add(CLS_RTL$6);\n        }\n        this.setHeightMode();\n        this.setColorMode();\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            this.setHtmlAttributes(this.htmlAttributes, this.element);\n        }\n    };\n    AppBar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'mode':\n                    removeClass([this.element], [CLS_DENSE, CLS_PROMINENT]);\n                    this.setHeightMode();\n                    break;\n                case 'position':\n                    if (this.position === 'Bottom') {\n                        addClass([this.element], CLS_HORIZONTAL_BOTTOM);\n                    }\n                    else {\n                        removeClass([this.element], CLS_HORIZONTAL_BOTTOM);\n                    }\n                    break;\n                case 'cssClass':\n                    if (oldProp.cssClass) {\n                        removeClass([this.element], oldProp.cssClass.split(' '));\n                    }\n                    if (newProp.cssClass) {\n                        addClass([this.element], newProp.cssClass.split(' '));\n                    }\n                    break;\n                case 'isSticky':\n                    if (this.isSticky) {\n                        addClass([this.element], CLS_STICKY);\n                    }\n                    else {\n                        removeClass([this.element], CLS_STICKY);\n                    }\n                    break;\n                case 'htmlAttributes':\n                    if (!isNullOrUndefined(this.htmlAttributes)) {\n                        if (!isNullOrUndefined(oldProp.htmlAttributes)) {\n                            var keys = Object.keys(oldProp.htmlAttributes);\n                            for (var _b = 0, keys_1 = keys; _b < keys_1.length; _b++) {\n                                var key = keys_1[_b];\n                                if (key === 'class') {\n                                    removeClass([this.element], oldProp.htmlAttributes[\"\" + key]);\n                                }\n                                else {\n                                    this.element.removeAttribute(key);\n                                }\n                            }\n                        }\n                        this.setHtmlAttributes(newProp.htmlAttributes, this.element);\n                    }\n                    break;\n                case 'colorMode':\n                    removeClass([this.element], [CLS_DARK, CLS_PRIMARY, CLS_INHERIT, CLS_LIGHT]);\n                    this.setColorMode();\n                    break;\n                case 'enableRtl':\n                    if (this.enableRtl) {\n                        addClass([this.element], CLS_RTL$6);\n                    }\n                    else {\n                        removeClass([this.element], CLS_RTL$6);\n                    }\n                    break;\n            }\n        }\n    };\n    AppBar.prototype.setHtmlAttributes = function (attribute, element) {\n        var keys = Object.keys(attribute);\n        for (var _i = 0, keys_2 = keys; _i < keys_2.length; _i++) {\n            var key = keys_2[_i];\n            if (key === 'class') {\n                addClass([element], attribute[\"\" + key]);\n            }\n            else {\n                element.setAttribute(key, attribute[\"\" + key]);\n            }\n        }\n    };\n    AppBar.prototype.setHeightMode = function () {\n        if (this.mode === 'Prominent') {\n            this.element.classList.add(CLS_PROMINENT);\n        }\n        else if (this.mode === 'Dense') {\n            this.element.classList.add(CLS_DENSE);\n        }\n    };\n    AppBar.prototype.setColorMode = function () {\n        switch (this.colorMode) {\n            case 'Light':\n                this.element.classList.add(CLS_LIGHT);\n                break;\n            case 'Dark':\n                this.element.classList.add(CLS_DARK);\n                break;\n            case 'Primary':\n                this.element.classList.add(CLS_PRIMARY);\n                break;\n            case 'Inherit':\n                this.element.classList.add(CLS_INHERIT);\n                break;\n        }\n    };\n    __decorate$12([\n        Property('Regular')\n    ], AppBar.prototype, \"mode\", void 0);\n    __decorate$12([\n        Property('Top')\n    ], AppBar.prototype, \"position\", void 0);\n    __decorate$12([\n        Property()\n    ], AppBar.prototype, \"cssClass\", void 0);\n    __decorate$12([\n        Property(false)\n    ], AppBar.prototype, \"isSticky\", void 0);\n    __decorate$12([\n        Property()\n    ], AppBar.prototype, \"htmlAttributes\", void 0);\n    __decorate$12([\n        Property('Light')\n    ], AppBar.prototype, \"colorMode\", void 0);\n    __decorate$12([\n        Event()\n    ], AppBar.prototype, \"created\", void 0);\n    __decorate$12([\n        Event()\n    ], AppBar.prototype, \"destroyed\", void 0);\n    AppBar = __decorate$12([\n        NotifyPropertyChanges\n    ], AppBar);\n    return AppBar;\n}(Component));\n\n/** AppBar export modules */\n\n/**\n * Navigation all modules\n */\n\nexport { MenuAnimationSettings, MenuItem, FieldSettings, HScroll, VScroll, addScrolling, destroyScroll, Item, Toolbar, AccordionActionSettings, AccordionAnimationSettings, AccordionItem, Accordion, ContextMenu, Menu, TabActionSettings, TabAnimationSettings, Header, TabItem, Tab, FieldsSettings, ActionSettings, NodeAnimationSettings, TreeView, Sidebar, BreadcrumbOverflowMode, BreadcrumbItem, Breadcrumb, CarouselItem, Carousel, AppBar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}