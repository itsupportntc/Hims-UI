{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-expressions */\n//class constant defination.\n\n\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\n\nvar CalendarBase =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(CalendarBase, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function CalendarBase(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.effect = '';\n    _this.isPopupClicked = false;\n    _this.isDateSelected = true;\n    _this.isTodayClicked = false;\n    _this.preventChange = false;\n    _this.isAngular = false;\n    _this.previousDates = false;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  CalendarBase.prototype.render = function () {\n    this.rangeValidation(this.min, this.max);\n    this.calendarEleCopy = this.element.cloneNode(true);\n\n    if (this.calendarMode === 'Islamic') {\n      if (+this.min.setSeconds(0) === +new Date(1900, 0, 1, 0, 0, 0)) {\n        this.min = new Date(1944, 2, 18);\n      }\n\n      if (+this.max === +new Date(2099, 11, 31)) {\n        this.max = new Date(2069, 10, 16);\n      }\n    }\n\n    this.globalize = new Internationalization(this.locale);\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.todayDisabled = false;\n    this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.classList.add(ROOT);\n\n      if (this.enableRtl) {\n        this.element.classList.add(RTL);\n      }\n\n      if (Browser.isDevice) {\n        this.element.classList.add(DEVICE);\n      }\n\n      attributes(this.element, {\n        'data-role': 'calendar'\n      });\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.calendarElement = this.createElement('div');\n      this.calendarElement.classList.add(ROOT);\n\n      if (this.enableRtl) {\n        this.calendarElement.classList.add(RTL);\n      }\n\n      if (Browser.isDevice) {\n        this.calendarElement.classList.add(DEVICE);\n      }\n\n      attributes(this.calendarElement, {\n        'data-role': 'calendar'\n      });\n    }\n\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n\n    this.createHeader();\n    this.createContent();\n    this.wireEvents();\n  };\n\n  CalendarBase.prototype.rangeValidation = function (min, max) {\n    if (isNullOrUndefined(min)) {\n      this.setProperties({\n        min: new Date(1900, 0, 1)\n      }, true);\n    }\n\n    if (isNullOrUndefined(max)) {\n      this.setProperties({\n        max: new Date(2099, 11, 31)\n      }, true);\n    }\n  };\n\n  CalendarBase.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      altUpArrow: 'alt+uparrow',\n      spacebar: 'space',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow'\n    };\n    return this.defaultKeyConfigs;\n  };\n\n  CalendarBase.prototype.validateDate = function (value) {\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n\n    if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n      this.currentDate = new Date(this.checkValue(value));\n    }\n  };\n\n  CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n\n  CalendarBase.prototype.minMaxUpdate = function (value) {\n    if (!(+this.min <= +this.max)) {\n      this.setProperties({\n        min: this.min\n      }, true);\n      addClass([this.element], OVERLAY);\n    } else {\n      removeClass([this.element], OVERLAY);\n    }\n\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n      this.currentDate = new Date(this.checkValue(value));\n    } else {\n      if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n        this.currentDate = new Date(this.checkValue(this.max));\n      } else {\n        if (+this.currentDate < +this.min) {\n          this.currentDate = new Date(this.checkValue(this.min));\n        }\n      }\n    }\n  };\n\n  CalendarBase.prototype.createHeader = function () {\n    var ariaPrevAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'previous month'\n    };\n    var ariaNextAttrs = {\n      'aria-disabled': 'false',\n      'aria-label': 'next month'\n    };\n    var ariaTitleAttrs = {\n      'aria-atomic': 'true',\n      'aria-live': 'assertive',\n      'aria-label': 'title'\n    };\n    this.headerElement = this.createElement('div', {\n      className: HEADER\n    });\n    var iconContainer = this.createElement('div', {\n      className: ICONCONTAINER\n    });\n    this.previousIcon = this.createElement('button', {\n      className: '' + PREVICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.previousIcon, {\n      duration: 400,\n      selector: '.e-prev',\n      isCenterRipple: true\n    });\n    attributes(this.previousIcon, ariaPrevAttrs);\n    this.nextIcon = this.createElement('button', {\n      className: '' + NEXTICON,\n      attrs: {\n        type: 'button'\n      }\n    });\n    rippleEffect(this.nextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.getModuleName() === 'daterangepicker') {\n      attributes(this.previousIcon, {\n        tabIndex: '-1'\n      });\n      attributes(this.nextIcon, {\n        tabIndex: '-1'\n      });\n    }\n\n    attributes(this.nextIcon, ariaNextAttrs);\n    this.headerTitleElement = this.createElement('div', {\n      className: '' + LINK + ' ' + TITLE\n    });\n    attributes(this.headerTitleElement, ariaTitleAttrs);\n    this.headerElement.appendChild(this.headerTitleElement);\n    this.previousIcon.appendChild(this.createElement('span', {\n      className: '' + PREVSPAN + ' ' + ICON\n    }));\n    this.nextIcon.appendChild(this.createElement('span', {\n      className: '' + NEXTSPAN + ' ' + ICON\n    }));\n    iconContainer.appendChild(this.previousIcon);\n    iconContainer.appendChild(this.nextIcon);\n    this.headerElement.appendChild(iconContainer);\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.headerElement);\n    } else {\n      this.calendarElement.appendChild(this.headerElement);\n    }\n\n    this.adjustLongHeaderSize();\n  };\n\n  CalendarBase.prototype.createContent = function () {\n    this.contentElement = this.createElement('div', {\n      className: CONTENT\n    });\n    this.table = this.createElement('table', {\n      attrs: {\n        tabIndex: '0',\n        'role': 'grid',\n        'aria-activedescendant': '',\n        'aria-labelledby': this.element.id\n      }\n    });\n\n    if (this.getModuleName() === 'calendar') {\n      this.element.appendChild(this.contentElement);\n    } else {\n      this.calendarElement.appendChild(this.contentElement);\n    }\n\n    this.contentElement.appendChild(this.table);\n    this.createContentHeader();\n    this.createContentBody();\n\n    if (this.showTodayButton) {\n      this.createContentFooter();\n    }\n  };\n\n  CalendarBase.prototype.getCultureValues = function () {\n    var culShortNames = [];\n    var cldrObj;\n    var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrObj = getValue(dayFormat, getDefaultDateObject());\n    } else {\n      cldrObj = this.getCultureObjects(cldrData, '' + this.locale);\n    }\n\n    if (!isNullOrUndefined(cldrObj)) {\n      for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n        var obj = _a[_i];\n        culShortNames.push(getValue(obj, cldrObj));\n      }\n    }\n\n    return culShortNames;\n  };\n\n  CalendarBase.prototype.toCapitalize = function (text) {\n    return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n  };\n\n  CalendarBase.prototype.createContentHeader = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n      }\n    }\n\n    var daysCount = 6;\n    var html = '';\n\n    if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: 0\n      }, true);\n    }\n\n    this.tableHeadElement = this.createElement('thead', {\n      className: WEEKHEADER\n    });\n\n    if (this.weekNumber) {\n      html += '<th class=\"e-week-number\"></th>';\n\n      if (this.getModuleName() === 'calendar') {\n        addClass([this.element], '' + WEEKNUMBER);\n      } else {\n        addClass([this.calendarElement], '' + WEEKNUMBER);\n      }\n    } // eslint-disable-next-line max-len\n\n\n    var shortNames = this.getCultureValues().length > 0 && this.getCultureValues() ? this.shiftArray(this.getCultureValues().length > 0 && this.getCultureValues(), this.firstDayOfWeek) : null;\n\n    if (!isNullOrUndefined(shortNames)) {\n      for (var days = 0; days <= daysCount; days++) {\n        html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n      }\n    }\n\n    html = '<tr>' + html + '</tr>';\n    this.tableHeadElement.innerHTML = html;\n    this.table.appendChild(this.tableHeadElement);\n  };\n\n  CalendarBase.prototype.createContentBody = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.element.querySelectorAll('.e-content tbody')[0]);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n        detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n      }\n    }\n\n    switch (this.start) {\n      case 'Year':\n        this.renderYears();\n        break;\n\n      case 'Decade':\n        this.renderDecades();\n        break;\n\n      default:\n        this.renderMonths();\n    }\n  };\n\n  CalendarBase.prototype.updateFooter = function () {\n    this.todayElement.textContent = this.l10.getConstant('today');\n    this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n  };\n\n  CalendarBase.prototype.createContentFooter = function () {\n    if (this.showTodayButton) {\n      var minimum = new Date(+this.min);\n      var maximum = new Date(+this.max);\n      var l10nLocale = {\n        today: 'Today'\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n      this.todayElement = this.createElement('button', {\n        attrs: {\n          role: 'button'\n        }\n      });\n      rippleEffect(this.todayElement);\n      this.updateFooter();\n      addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n\n      if (!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate && +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0))) || this.todayDisabled) {\n        addClass([this.todayElement], DISABLED);\n      }\n\n      this.footer = this.createElement('div', {\n        className: FOOTER\n      });\n      this.footer.appendChild(this.todayElement);\n\n      if (this.getModuleName() === 'calendar') {\n        this.element.appendChild(this.footer);\n      }\n\n      if (this.getModuleName() === 'datepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n\n      if (this.getModuleName() === 'datetimepicker') {\n        this.calendarElement.appendChild(this.footer);\n      }\n\n      if (!this.todayElement.classList.contains(DISABLED)) {\n        EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n      }\n    }\n  };\n\n  CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n    EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n\n    if (this.getModuleName() === 'calendar') {\n      this.keyboardModule = new KeyboardEvents(this.element, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n        eventName: 'keydown',\n        keyAction: this.keyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n  };\n\n  CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n    this.serverModuleName = moduleName;\n  };\n\n  CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n    if (this.showTodayButton) {\n      if (this.currentView() === this.depth) {\n        this.effect = '';\n      } else {\n        this.effect = 'e-zoomin';\n      }\n\n      if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n        this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n      } else {\n        this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n      }\n    }\n  };\n\n  CalendarBase.prototype.resetCalendar = function () {\n    this.calendarElement && detach(this.calendarElement);\n    this.tableBodyElement && detach(this.tableBodyElement);\n    this.table && detach(this.table);\n    this.tableHeadElement && detach(this.tableHeadElement);\n    this.nextIcon && detach(this.nextIcon);\n    this.previousIcon && detach(this.previousIcon);\n    this.footer && detach(this.footer);\n    this.todayElement = null;\n    this.renderDayCellArgs = null;\n    this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement = this.nextIcon = this.previousIcon = this.table = null;\n  };\n\n  CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n    var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedDate;\n\n    if (multiSelection) {\n      if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n        selectedDate = focusedDate;\n      } else {\n        selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n      }\n    } else {\n      selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    }\n\n    var view = this.getViewNumber(this.currentView());\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    this.effect = '';\n\n    switch (e.action) {\n      case 'moveLeft':\n        this.keyboardNavigate(-1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n\n      case 'moveRight':\n        this.keyboardNavigate(1, view, e, this.max, this.min);\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          this.keyboardNavigate(7, view, e, this.max, this.min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'select':\n        if (e.target === this.todayElement) {\n          this.todayButtonClick(e, value);\n        } else {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n            if (levelRestrict) {\n              // eslint-disable-next-line radix\n              var d = new Date(parseInt('' + element.id, 0));\n              this.selectDate(e, d, element);\n            } else {\n              this.contentClick(null, --view, element, value);\n            }\n          }\n        }\n\n        break;\n\n      case 'controlUp':\n        this.title();\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if (!isNullOrUndefined(focusedDate) && !levelRestrict || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n          this.contentClick(null, --view, focusedDate || selectedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        detach(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        detach(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'pageUp':\n        this.addMonths(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'pageDown':\n        this.addMonths(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'shiftPageUp':\n        this.addYears(this.currentDate, -1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'shiftPageDown':\n        this.addYears(this.currentDate, 1);\n        this.navigateTo('Month', this.currentDate);\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n        e.preventDefault();\n        break;\n    }\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n\n  CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n    var date = new Date(this.checkValue(this.currentDate));\n\n    switch (currentView) {\n      case 2:\n        this.addYears(this.currentDate, number);\n\n        if (this.isMonthYearRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderDecades(e);\n        } else {\n          this.currentDate = date;\n        }\n\n        break;\n\n      case 1:\n        this.addMonths(this.currentDate, number);\n\n        if (this.calendarMode === 'Gregorian') {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        } else {\n          if (this.isMonthYearRange(this.currentDate)) {\n            detach(this.tableBodyElement);\n            this.renderYears(e);\n          } else {\n            this.currentDate = date;\n          }\n        }\n\n        break;\n\n      case 0:\n        this.addDay(this.currentDate, number, e, max, min);\n\n        if (this.isMinMaxRange(this.currentDate)) {\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        } else {\n          this.currentDate = date;\n        }\n\n        break;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @param {Date} value - Specifies value of date.\n   * @returns {void}\n   * @private\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.preRender = function (value) {\n    var _this = this;\n\n    this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n    this.navigateNextHandler = this.navigateNext.bind(this);\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n\n    this.navigateHandler = function (e) {\n      _this.triggerNavigate(e);\n    };\n  };\n\n  CalendarBase.prototype.minMaxDate = function (localDate) {\n    var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n    var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n    var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n\n    if (+currentDate === +minDate || +currentDate === +maxDate) {\n      if (+localDate < +this.min) {\n        localDate = new Date(+this.min);\n      }\n\n      if (+localDate > +this.max) {\n        localDate = new Date(+this.max);\n      }\n    }\n\n    return localDate;\n  };\n\n  CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n    var numCells = this.weekNumber ? 8 : 7;\n    var tdEles;\n\n    if (this.calendarMode === 'Gregorian') {\n      tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n    } else {\n      tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n    }\n\n    this.createContentHeader();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.renderTemplate(tdEles, numCells, MONTH, e, value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n    }\n  };\n\n  CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n    var localDate = new Date(this.checkValue(currentDate));\n    var minMaxDate;\n    var currentMonth = localDate.getMonth();\n    this.titleUpdate(currentDate, 'days');\n    var d = localDate;\n    localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n\n    while (localDate.getDay() !== this.firstDayOfWeek) {\n      this.setStartDate(localDate, -1 * dayMilliSeconds);\n    }\n\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.createElement('td', {\n        className: CELL\n      });\n      var weekAnchor = this.createElement('span');\n\n      if (day % 7 === 0 && this.weekNumber) {\n        // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n        var numberOfDays = this.weekRule === 'FirstDay' ? 6 : this.weekRule === 'FirstFourDayWeek' ? 3 : 0;\n        var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), localDate.getDate() + numberOfDays);\n        weekAnchor.textContent = '' + this.getWeek(finalDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER);\n        tdEles.push(weekEle);\n      }\n\n      minMaxDate = new Date(+localDate);\n      localDate = this.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full'\n      };\n      var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.dayCell(localDate);\n      var title = this.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full'\n      });\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: 'd',\n        type: 'date',\n        skeleton: 'yMd'\n      });\n      var disabled = this.min > localDate || this.max < localDate;\n\n      if (disabled) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n\n      if (currentMonth !== localDate.getMonth()) {\n        addClass([tdEle], OTHERMONTH);\n      }\n\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND);\n      }\n\n      tdEle.appendChild(dayLink);\n      this.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.renderDayCellArgs;\n      this.renderDayCellEvent(argument);\n\n      if (argument.isDisabled) {\n        var selectDate = new Date(this.checkValue(value));\n        var argsDate = new Date(this.checkValue(argument.date));\n\n        if (multiSelection) {\n          if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n              var tempDateString = +new Date(this.globalize.formatDate(values[index], {\n                type: 'date',\n                skeleton: 'yMd'\n              }));\n\n              if (localDateString === tempDateString) {\n                values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (selectDate && +selectDate === +argsDate) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n        addClass([tdEle], DISABLED);\n        addClass([tdEle], OVERLAY);\n\n        if (+this.renderDayCellArgs.date === +this.todayDate) {\n          this.todayDisabled = true;\n        }\n      }\n\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n      var disabledCls = tdEle.classList.contains(DISABLED);\n\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      } // to set the value as null while setting the disabled date onProperty change.\n      // if (args.isDisabled && +this.value === +args.date) {\n      //     this.setProperties({ value: null }, true);\n      // }\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      var currentTarget = void 0;\n\n      if (!isNullOrUndefined(e) && e.type === 'click') {\n        currentTarget = e.currentTarget;\n      }\n\n      if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n        for (var tempValue = 0; tempValue < values.length; tempValue++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(localDate, formatOptions);\n          var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n\n          if (localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]) || this.getDateVal(localDate, value)) {\n            addClass([tdEle], SELECTED);\n          }\n\n          if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText && this.previousDates && tdEle.classList.contains(SELECTED) && currentTarget.classList.contains(SELECTED)) {\n            removeClass([tdEle], SELECTED);\n            this.previousDates = false;\n            var copyValues = this.copyValues(values);\n\n            for (var i = 0; i < copyValues.length; i++) {\n              var type_1 = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n              var formatOptions_1 = {\n                format: null,\n                type: 'date',\n                skeleton: 'short',\n                calendar: type_1\n              };\n              var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n              var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n\n              if (localDateString_1 === tempDateString_1) {\n                var index = copyValues.indexOf(copyValues[i]);\n                copyValues.splice(index, 1);\n                values.splice(index, 1);\n              }\n            }\n\n            this.setProperties({\n              values: copyValues\n            }, true);\n          } else {\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n\n        if (values.length <= 0) {\n          this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!disabledCls && this.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED);\n      }\n\n      this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n\n      if (!isNullOrUndefined(date) && date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth() && date.getDate() === todayDate.getDate()) {\n        addClass([tdEle], TODAY);\n      }\n\n      tdEles.push(this.renderDayCellArgs.element);\n      localDate = new Date(+minMaxDate);\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    return tdEles;\n  };\n\n  CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n    if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n      addClass([tableElement], FOCUSEDDATE);\n    } else {\n      // eslint-disable-next-line radix\n      if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      } // eslint-disable-next-line radix\n\n\n      if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n        addClass([tableElement], FOCUSEDDATE);\n      }\n    }\n  };\n\n  CalendarBase.prototype.renderYears = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.checkValue(this.currentDate));\n    var mon = curDate.getMonth();\n    var yr = curDate.getFullYear();\n    var localDate = curDate;\n    var curYrs = localDate.getFullYear();\n    var minYr = new Date(this.checkValue(this.min)).getFullYear();\n    var minMonth = new Date(this.checkValue(this.min)).getMonth();\n    var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n    var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n    localDate.setMonth(0);\n    this.titleUpdate(this.currentDate, 'months');\n    localDate.setDate(1);\n\n    for (var month = 0; month < 12; ++month) {\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      var localMonth = value && value.getMonth() === localDate.getMonth();\n      var select$$1 = value && value.getFullYear() === yr && localMonth;\n      dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'MMM'\n      }));\n\n      if (this.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED);\n      } else if (!valueUtil && select$$1) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n\n      localDate.setDate(1);\n      localDate.setMonth(localDate.getMonth() + 1);\n\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.renderTemplate(tdEles, numCells, YEAR, e, value);\n  };\n\n  CalendarBase.prototype.renderDecades = function (e, value) {\n    this.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.checkValue(this.currentDate));\n    localDate.setMonth(0);\n    localDate.setDate(1);\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(localDate.setFullYear(localYr - localYr % 10));\n    var endYr = new Date(localDate.setFullYear(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.globalize.formatDate(startYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    var endHdrYr = this.globalize.formatDate(endYr, {\n      format: null,\n      type: 'dateTime',\n      skeleton: 'y'\n    });\n    this.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    var start = new Date(localYr - localYr % 10 - 1, 0, 1);\n    var startYear = start.getFullYear();\n\n    for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n      var year = startYear + rowIterator;\n      localDate.setFullYear(year);\n      var tdEle = this.dayCell(localDate);\n      var dayLink = this.createElement('span');\n      dayLink.textContent = this.globalize.formatDate(localDate, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y'\n      });\n\n      if (year < startFullYr || year > endFullYr) {\n        addClass([tdEle], OTHERDECADE);\n\n        if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n          addClass([tdEle], SELECTED);\n        }\n\n        if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n          addClass([tdEle], DISABLED);\n        }\n      } else if (year < new Date(this.checkValue(this.min)).getFullYear() || year > new Date(this.checkValue(this.max)).getFullYear()) {\n        addClass([tdEle], DISABLED);\n      } else if (!isNullOrUndefined(value) && localDate.getFullYear() === value.getFullYear()) {\n        addClass([tdEle], SELECTED);\n      } else {\n        if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n          addClass([tdEle], FOCUSEDDATE);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED)) {\n        EventHandler.add(tdEle, 'click', this.clickHandler, this);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n\n  CalendarBase.prototype.dayCell = function (localDate) {\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: type\n    };\n    var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n    var value;\n\n    if (!isNullOrUndefined(date)) {\n      value = date.valueOf();\n    }\n\n    var attrs = {\n      className: CELL,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false'\n      }\n    };\n    return this.createElement('td', attrs);\n  };\n\n  CalendarBase.prototype.firstDay = function (date) {\n    var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n\n    if (collection.length) {\n      for (var i = 0; i < collection.length; i++) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n\n    return date;\n  };\n\n  CalendarBase.prototype.lastDay = function (date, view) {\n    var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n\n    if (view !== 2) {\n      var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n\n      if (timeOffset) {\n        lastDate.setHours(this.firstDay(date).getHours() + timeOffset / 60);\n      }\n\n      return this.findLastDay(lastDate);\n    } else {\n      return this.findLastDay(this.firstDay(lastDate));\n    }\n  };\n\n  CalendarBase.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n\n  CalendarBase.prototype.findLastDay = function (date) {\n    var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') : this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n\n    if (collection.length) {\n      for (var i = collection.length - 1; i >= 0; i--) {\n        if (!collection[i].classList.contains(DISABLED)) {\n          // eslint-disable-next-line radix\n          date = new Date(parseInt(collection[i].id, 0));\n          break;\n        }\n      }\n    }\n\n    return date;\n  };\n\n  CalendarBase.prototype.removeTableHeadElement = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    } else {\n      if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n        detach(this.tableHeadElement);\n      }\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.getViewNumber(this.currentView());\n    var trEle;\n    this.tableBodyElement = this.createElement('tbody');\n    this.table.appendChild(this.tableBodyElement);\n    removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n    addClass([this.contentElement, this.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowIterator = 0;\n\n    for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n      trEle = this.createElement('tr');\n\n      for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n        if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n          addClass([elements[rowIterator].children[0]], [LINK]);\n          rippleEffect(elements[rowIterator].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n\n        trEle.appendChild(elements[rowIterator]);\n\n        if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n\n        if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH)) {\n          addClass([trEle], OTHERMONTHROW);\n        }\n\n        if (this.weekNumber) {\n          if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        } else {\n          if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n            addClass([trEle], OTHERMONTHROW);\n          }\n        }\n      }\n\n      row = row + count;\n      rowIterator = rowIterator + 0;\n      this.tableBodyElement.appendChild(trEle);\n    }\n\n    this.table.querySelector('tbody').className = this.effect;\n\n    if (this.calendarMode === 'Gregorian') {\n      this.iconHandler();\n    } else {\n      this.islamicModule.islamicIconHandler();\n    }\n\n    if (view !== this.getViewNumber(this.currentView()) || view === 0 && view !== this.getViewNumber(this.currentView())) {\n      this.navigateHandler(e);\n    }\n\n    this.setAriaActiveDescendant();\n  };\n\n  CalendarBase.prototype.clickHandler = function (e, value) {\n    this.clickEventEmitter(e);\n    var eve = e.currentTarget;\n    var view = this.getViewNumber(this.currentView());\n\n    if (eve.classList.contains(OTHERMONTH)) {\n      this.contentClick(e, 0, null, value);\n    } else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n      this.contentClick(e, 1, null, value);\n    } else if (2 === view) {\n      this.contentClick(e, 1, null, value);\n    } else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n      this.selectDate(e, this.getIdValue(e, null), null);\n    } else {\n      this.contentClick(e, 0, eve, value);\n    }\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  }; // Content click event handler required for extended components\n\n\n  CalendarBase.prototype.clickEventEmitter = function (e) {\n    e.preventDefault();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.contentClick = function (e, view, element, value) {\n    var currentView = this.getViewNumber(this.currentView());\n    var d = this.getIdValue(e, element);\n\n    switch (view) {\n      case 0:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          detach(this.tableBodyElement);\n          this.currentDate = d;\n          this.effect = ZOOMIN;\n          this.renderMonths(e);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setMonth(d.getMonth());\n\n            if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n              this.currentDate.setDate(0);\n            }\n\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.currentDate = d;\n          }\n\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderMonths(e);\n        }\n\n        break;\n\n      case 1:\n        if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n          this.selectDate(e, d, null);\n        } else {\n          if (this.calendarMode === 'Gregorian') {\n            this.currentDate.setFullYear(d.getFullYear());\n          } else {\n            this.islamicPreviousHeader = this.headerElement.textContent;\n            var islamicDate = this.islamicModule.getIslamicDate(d);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n          }\n\n          this.effect = ZOOMIN;\n          detach(this.tableBodyElement);\n          this.renderYears(e);\n        }\n\n    }\n  };\n\n  CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n    switch (view) {\n      case 0:\n        detach(this.tableBodyElement);\n        this.renderMonths(e, null, isCustomDate);\n        break;\n\n      case 1:\n        detach(this.tableBodyElement);\n        this.renderYears(e);\n        break;\n\n      case 2:\n        detach(this.tableBodyElement);\n        this.renderDecades(e);\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  CalendarBase.prototype.getModuleName = function () {\n    return 'calendar';\n  };\n  /**\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  CalendarBase.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    return modules;\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  CalendarBase.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n   * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n   * @param {Date[]} values - Specifies the dates.\n   * @returns {void}\n   * @private\n   */\n\n\n  CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n    this.effect = '';\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'enableRtl':\n          if (newProp.enableRtl) {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.add('e-rtl');\n            } else {\n              this.calendarElement.classList.add('e-rtl');\n            }\n          } else {\n            if (this.getModuleName() === 'calendar') {\n              this.element.classList.remove('e-rtl');\n            } else {\n              this.calendarElement.classList.remove('e-rtl');\n            }\n          }\n\n          break;\n\n        case 'dayHeaderFormat':\n          this.getCultureValues();\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n          }\n\n          this.adjustLongHeaderSize();\n          break;\n\n        case 'min':\n        case 'max':\n          this.rangeValidation(this.min, this.max);\n\n          if (prop === 'min') {\n            this.setProperties({\n              min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n            }, true);\n          } else {\n            this.setProperties({\n              max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n            }, true);\n          }\n\n          this.setProperties({\n            start: this.currentView()\n          }, true);\n\n          if (this.tableBodyElement) {\n            detach(this.tableBodyElement);\n          }\n\n          this.minMaxUpdate();\n\n          if (multiSelection) {\n            this.validateValues(multiSelection, values);\n          }\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentBody();\n          }\n\n          if ((this.todayDate < this.min || this.max < this.todayDate) && this.footer && this.todayElement) {\n            detach(this.todayElement);\n            detach(this.footer);\n            this.todayElement = this.footer = null;\n            this.createContentFooter();\n          } else {\n            if (this.footer && this.todayElement && this.todayElement.classList.contains('e-disabled')) {\n              removeClass([this.todayElement], DISABLED);\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = null;\n              this.createContentFooter();\n            }\n          }\n\n          break;\n\n        case 'start':\n        case 'depth':\n        case 'weekNumber':\n        case 'firstDayOfWeek':\n        case 'weekRule':\n          this.checkView();\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n\n          if (this.getModuleName() !== 'datepicker') {\n            this.createContentHeader();\n            this.createContentBody();\n          } else if (this.calendarElement) {\n            this.createContentHeader();\n            this.createContentBody();\n          }\n\n          this.l10.setLocale(this.locale);\n          this.updateFooter();\n          break;\n\n        case 'showTodayButton':\n          if (newProp.showTodayButton) {\n            this.createContentFooter();\n          } else {\n            if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n              detach(this.todayElement);\n              detach(this.footer);\n              this.todayElement = this.footer = undefined;\n            }\n          }\n\n          this.setProperties({\n            showTodayButton: newProp.showTodayButton\n          }, true);\n          break;\n      }\n    }\n  };\n  /**\n   * values property updated with considered disabled dates of the calendar.\n   *\n   * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n   * @param {Date[]} values - Specifies the dates to validate.\n   * @returns {void}\n   */\n\n\n  CalendarBase.prototype.validateValues = function (multiSelection, values) {\n    if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n      var copyValues = this.copyValues(values);\n\n      for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n        var tempValue = copyValues[skipIndex];\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var tempValueString = void 0;\n\n        if (this.calendarMode === 'Gregorian') {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'date',\n            skeleton: 'yMd'\n          });\n        } else {\n          tempValueString = this.globalize.formatDate(tempValue, {\n            type: 'dateTime',\n            skeleton: 'full',\n            calendar: 'islamic'\n          });\n        }\n\n        var minFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n        var minString = minStringValue;\n        var maxFormatOption = {\n          type: 'date',\n          skeleton: 'yMd',\n          calendar: type\n        };\n        var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n        var maxString = maxStringValue;\n\n        if (+new Date(tempValueString) < +new Date(minString) || +new Date(tempValueString) > +new Date(maxString)) {\n          copyValues.splice(skipIndex, 1);\n          skipIndex = -1;\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n    }\n  };\n\n  CalendarBase.prototype.setValueUpdate = function () {\n    if (!isNullOrUndefined(this.tableBodyElement)) {\n      detach(this.tableBodyElement);\n      this.setProperties({\n        start: this.currentView()\n      }, true);\n      this.createContentBody();\n    }\n  };\n\n  CalendarBase.prototype.copyValues = function (values) {\n    var copyValues = [];\n\n    if (!isNullOrUndefined(values) && values.length > 0) {\n      for (var index = 0; index < values.length; index++) {\n        copyValues.push(new Date(+values[index]));\n      }\n    }\n\n    return copyValues;\n  };\n\n  CalendarBase.prototype.titleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.locale);\n    var dayFormatOptions;\n    var monthFormatOptions;\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n\n    if (this.calendarMode === 'Gregorian') {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        skeleton: 'yMMMM',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        format: null,\n        type: 'dateTime',\n        skeleton: 'y',\n        calendar: type\n      });\n    } else {\n      dayFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'MMMM y',\n        calendar: type\n      });\n      monthFormatOptions = globalize.formatDate(date, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: type\n      });\n    }\n\n    switch (view) {\n      case 'days':\n        this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n        break;\n\n      case 'months':\n        this.headerTitleElement.textContent = monthFormatOptions;\n    }\n  };\n\n  CalendarBase.prototype.setActiveDescendant = function () {\n    var id;\n    var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n    var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var title;\n    var view = this.currentView();\n\n    if (view === 'Month') {\n      title = this.globalize.formatDate(this.currentDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: type\n      });\n    } else if (view === 'Year') {\n      if (type !== 'islamic') {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'yMMMM',\n          calendar: type\n        });\n      } else {\n        title = this.globalize.formatDate(this.currentDate, {\n          type: 'date',\n          skeleton: 'GyMMM',\n          calendar: type\n        });\n      }\n    } else {\n      title = this.globalize.formatDate(this.currentDate, {\n        format: null,\n        type: 'date',\n        skeleton: 'y',\n        calendar: type\n      });\n    }\n\n    if (selectedEle || focusedEle) {\n      if (!isNullOrUndefined(selectedEle)) {\n        selectedEle.setAttribute('aria-selected', 'true');\n      }\n\n      (focusedEle || selectedEle).setAttribute('aria-label', title);\n      id = (focusedEle || selectedEle).getAttribute('id');\n    }\n\n    return id;\n  };\n\n  CalendarBase.prototype.iconHandler = function () {\n    new Date(this.checkValue(this.currentDate)).setDate(1);\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n\n      case 'Year':\n        this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        break;\n\n      case 'Decade':\n        this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n        this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n    }\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  CalendarBase.prototype.destroy = function () {\n    if (this.getModuleName() === 'calendar' && this.element) {\n      removeClass([this.element], [ROOT]);\n    } else {\n      if (this.calendarElement && this.element) {\n        removeClass([this.element], [ROOT]);\n      }\n    }\n\n    if (this.getModuleName() === 'calendar' && this.element) {\n      if (!isNullOrUndefined(this.headerTitleElement)) {\n        EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n      }\n\n      if (this.todayElement) {\n        EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n      }\n\n      this.previousIconHandler(true);\n      this.nextIconHandler(true);\n      this.keyboardModule.destroy();\n      this.element.removeAttribute('data-role');\n\n      if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n        this.element.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.element.removeAttribute('tabindex');\n      }\n    }\n\n    if (this.element) {\n      this.element.innerHTML = '';\n    }\n\n    this.todayElement = null;\n    this.tableBodyElement = null;\n    this.renderDayCellArgs = null;\n    this.headerElement = null;\n    this.nextIcon = null;\n    this.table = null;\n    this.tableHeadElement = null;\n    this.previousIcon = null;\n    this.headerTitleElement = null;\n    this.footer = null;\n    this.contentElement = null;\n\n    _super.prototype.destroy.call(this);\n  };\n\n  CalendarBase.prototype.title = function (e) {\n    var currentView = this.getViewNumber(this.currentView());\n    this.effect = ZOOMIN;\n    this.switchView(++currentView, e);\n  };\n\n  CalendarBase.prototype.getViewNumber = function (stringVal) {\n    if (stringVal === 'Month') {\n      return 0;\n    } else if (stringVal === 'Year') {\n      return 1;\n    } else {\n      return 2;\n    }\n  };\n\n  CalendarBase.prototype.navigateTitle = function (e) {\n    e.preventDefault();\n    this.title(e);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n\n  CalendarBase.prototype.previous = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.addYears(this.currentDate, -1);\n        this.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.addYears(this.currentDate, -10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n\n  CalendarBase.prototype.navigatePrevious = function (e) {\n    e.preventDefault();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.previous();\n    } else {\n      this.islamicModule.islamicPrevious();\n    }\n\n    this.triggerNavigate(e);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n\n  CalendarBase.prototype.next = function () {\n    this.effect = '';\n    var currentView = this.getViewNumber(this.currentView());\n\n    switch (this.currentView()) {\n      case 'Month':\n        this.addMonths(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.addYears(this.currentDate, 1);\n        this.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.addYears(this.currentDate, 10);\n        this.switchView(currentView);\n        break;\n    }\n  };\n\n  CalendarBase.prototype.navigateNext = function (eve) {\n    eve.preventDefault();\n\n    if (this.calendarMode === 'Gregorian') {\n      this.next();\n    } else {\n      this.islamicModule.islamicNext();\n    }\n\n    this.triggerNavigate(eve);\n\n    if (this.getModuleName() === 'calendar') {\n      this.table.focus();\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   */\n\n\n  CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n    if (+date >= +this.min && +date <= +this.max) {\n      this.currentDate = date;\n    }\n\n    if (+date <= +this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n\n    if (+date >= +this.max) {\n      this.currentDate = new Date(this.checkValue(this.max));\n    }\n\n    if (this.getViewNumber(this.depth) >= this.getViewNumber(view)) {\n      if (this.getViewNumber(this.depth) <= this.getViewNumber(this.start) || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n        view = this.depth;\n      }\n    }\n\n    this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   */\n\n\n  CalendarBase.prototype.currentView = function () {\n    if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(YEAR)) {\n      return 'Year';\n    } else if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(DECADE)) {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n\n  CalendarBase.prototype.getDateVal = function (date, value) {\n    return !isNullOrUndefined(value) && date.getDate() === value.getDate() && date.getMonth() === value.getMonth() && date.getFullYear() === value.getFullYear();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  CalendarBase.prototype.getCultureObjects = function (ld, c) {\n    var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n    var mainVal = 'main.';\n\n    if (this.calendarMode === 'Gregorian') {\n      return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n    } else {\n      return getValue('main.' + '' + this.locale + islamicFormat, ld);\n    }\n  };\n\n  CalendarBase.prototype.getWeek = function (d) {\n    var currentDate = new Date(this.checkValue(d)).valueOf();\n    var date = new Date(d.getFullYear(), 0, 1).valueOf();\n    return Math.ceil((currentDate - date + dayMilliSeconds) / dayMilliSeconds / 7);\n  };\n\n  CalendarBase.prototype.setStartDate = function (date, time) {\n    var tzOffset = date.getTimezoneOffset();\n    var d = new Date(date.getTime() + time);\n    var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n    date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n  };\n\n  CalendarBase.prototype.addMonths = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setMonth(date.getMonth() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month + i, 1);\n    }\n  };\n\n  CalendarBase.prototype.addYears = function (date, i) {\n    if (this.calendarMode === 'Gregorian') {\n      var day = date.getDate();\n      date.setDate(1);\n      date.setFullYear(date.getFullYear() + i);\n      date.setDate(Math.min(day, this.getMaxDays(date)));\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, islamicDate.month, 1);\n    }\n  };\n\n  CalendarBase.prototype.getIdValue = function (e, element) {\n    var eve;\n\n    if (e) {\n      eve = e.currentTarget;\n    } else {\n      eve = element;\n    }\n\n    var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n    var dateFormatOptions = {\n      type: 'dateTime',\n      skeleton: 'full',\n      calendar: type\n    }; // eslint-disable-next-line radix\n\n    var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n    var date = this.globalize.parseDate(dateString, dateFormatOptions);\n    var value = date.valueOf() - date.valueOf() % 1000;\n    return new Date(value); //return this.globalize.parseDate(dateString, dateFormatOptions);\n  };\n\n  CalendarBase.prototype.adjustLongHeaderSize = function () {\n    removeClass([this.element], DAYHEADERLONG);\n\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n    }\n  };\n\n  CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n    var element = node || e.currentTarget;\n    this.isDateSelected = false;\n\n    if (this.currentView() === 'Decade') {\n      this.setDateDecade(this.currentDate, date.getFullYear());\n    } else if (this.currentView() === 'Year') {\n      this.setDateYear(this.currentDate, date);\n    } else {\n      if (multiSelection && !this.checkPresentDate(date, values)) {\n        var copyValues = this.copyValues(values);\n\n        if (!isNullOrUndefined(values) && copyValues.length > 0) {\n          copyValues.push(new Date(this.checkValue(date)));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: values[values.length - 1]\n          }, true);\n        } else {\n          this.setProperties({\n            values: [new Date(this.checkValue(date))]\n          }, true);\n        }\n      } else {\n        this.setProperties({\n          value: new Date(this.checkValue(date))\n        }, true);\n      }\n\n      this.currentDate = new Date(this.checkValue(date));\n    }\n\n    var tableBodyElement = closest(element, '.' + ROOT);\n\n    if (isNullOrUndefined(tableBodyElement)) {\n      tableBodyElement = this.tableBodyElement;\n    }\n\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n      removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n    }\n\n    if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n      removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n    }\n\n    if (multiSelection) {\n      var copyValues = this.copyValues(values);\n      var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n\n      for (var index = 0; index < collection.length; index++) {\n        var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n        var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n\n        if (collection[index] === tempElement) {\n          removeClass([collection[index]], FOCUSEDDATE);\n        }\n\n        if (collection[index] === selectedElement && !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n          removeClass([collection[index]], SELECTED);\n        }\n      }\n\n      if (element.classList.contains(SELECTED)) {\n        removeClass([element], SELECTED);\n\n        for (var i = 0; i < copyValues.length; i++) {\n          var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n          var formatOptions = {\n            format: null,\n            type: 'date',\n            skeleton: 'short',\n            calendar: type\n          };\n          var localDateString = this.globalize.formatDate(date, formatOptions);\n          var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n\n          if (localDateString === tempDateString) {\n            var index = copyValues.indexOf(copyValues[i]);\n            copyValues.splice(index, 1);\n            addClass([element], FOCUSEDDATE);\n          }\n        }\n\n        this.setProperties({\n          values: copyValues\n        }, true);\n      } else {\n        addClass([element], SELECTED);\n      }\n    } else {\n      addClass([element], SELECTED);\n    }\n\n    this.isDateSelected = true;\n  };\n\n  CalendarBase.prototype.checkPresentDate = function (dates, values) {\n    var previousValue = false;\n\n    if (!isNullOrUndefined(values)) {\n      for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n        var type = this.calendarMode === 'Gregorian' ? 'gregorian' : 'islamic';\n        var localDateString = this.globalize.formatDate(dates, {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n        var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n          format: null,\n          type: 'date',\n          skeleton: 'short',\n          calendar: type\n        });\n\n        if (localDateString === tempDateString) {\n          previousValue = true;\n        }\n      }\n    }\n\n    return previousValue;\n  };\n\n  CalendarBase.prototype.setAriaActiveDescendant = function () {\n    attributes(this.table, {\n      'aria-activedescendant': '' + this.setActiveDescendant()\n    });\n  };\n\n  CalendarBase.prototype.previousIconHandler = function (disabled) {\n    if (disabled) {\n      if (!isNullOrUndefined(this.previousIcon)) {\n        EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n        addClass([this.previousIcon], '' + DISABLED);\n        addClass([this.previousIcon], '' + OVERLAY);\n        this.previousIcon.setAttribute('aria-disabled', 'true');\n      }\n    } else {\n      EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n      removeClass([this.previousIcon], '' + DISABLED);\n      removeClass([this.previousIcon], '' + OVERLAY);\n      this.previousIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n\n  CalendarBase.prototype.renderDayCellEvent = function (args) {\n    extend(this.renderDayCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n\n  CalendarBase.prototype.navigatedEvent = function (eve) {\n    extend(this.navigatedArgs, {\n      name: 'navigated',\n      event: eve\n    });\n    this.trigger('navigated', this.navigatedArgs);\n  };\n\n  CalendarBase.prototype.triggerNavigate = function (event) {\n    this.navigatedArgs = {\n      view: this.currentView(),\n      date: this.currentDate\n    };\n    this.navigatedEvent(event);\n  };\n\n  CalendarBase.prototype.nextIconHandler = function (disabled) {\n    if (disabled) {\n      if (!isNullOrUndefined(this.previousIcon)) {\n        EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n        addClass([this.nextIcon], DISABLED);\n        addClass([this.nextIcon], OVERLAY);\n        this.nextIcon.setAttribute('aria-disabled', 'true');\n      }\n    } else {\n      EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n      removeClass([this.nextIcon], DISABLED);\n      removeClass([this.nextIcon], OVERLAY);\n      this.nextIcon.setAttribute('aria-disabled', 'false');\n    }\n  };\n\n  CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n    var start = endDate.getFullYear();\n    var end;\n    var result;\n    end = start;\n    result = 0;\n\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n\n    if (startDate.getFullYear() > end) {\n      result = 1;\n    } else if (startDate.getFullYear() < start) {\n      result = -1;\n    }\n\n    return result;\n  };\n\n  CalendarBase.prototype.isMinMaxRange = function (date) {\n    return +date >= +this.min && +date <= +this.max;\n  };\n\n  CalendarBase.prototype.isMonthYearRange = function (date) {\n    if (this.calendarMode === 'Gregorian') {\n      return date.getMonth() >= this.min.getMonth() && date.getFullYear() >= this.min.getFullYear() && date.getMonth() <= this.max.getMonth() && date.getFullYear() <= this.max.getFullYear();\n    } else {\n      var islamicDate = this.islamicModule.getIslamicDate(date);\n      return islamicDate.month >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).month && islamicDate.year >= this.islamicModule.getIslamicDate(new Date(1944, 1, 18)).year && islamicDate.month <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).month && islamicDate.year <= this.islamicModule.getIslamicDate(new Date(2069, 1, 16)).year;\n    }\n  };\n\n  CalendarBase.prototype.compareYear = function (start, end) {\n    return this.compare(start, end, 0);\n  };\n\n  CalendarBase.prototype.compareDecade = function (start, end) {\n    return this.compare(start, end, 10);\n  };\n\n  CalendarBase.prototype.shiftArray = function (array, i) {\n    return array.slice(i).concat(array.slice(0, i));\n  };\n\n  CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n    var column = i;\n    var value = new Date(+date);\n\n    if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n      while (this.findNextTD(new Date(+date), column, max, min)) {\n        column += i;\n      }\n\n      var rangeValue = new Date(value.setDate(value.getDate() + column));\n      column = +rangeValue > +max || +rangeValue < +min ? column === i ? i - i : i : column;\n    }\n\n    date.setDate(date.getDate() + column);\n  };\n\n  CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n    var value = new Date(date.setDate(date.getDate() + column));\n    var collection = [];\n    var isDisabled = false;\n\n    if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n      var tdEles = void 0;\n\n      if (this.calendarMode === 'Gregorian') {\n        tdEles = this.renderDays(value);\n      } else {\n        tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n      }\n\n      collection = tdEles.filter(function (element) {\n        return element.classList.contains(DISABLED);\n      });\n    } else {\n      collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n    }\n\n    if (+value <= +max && +value >= +min) {\n      if (collection.length) {\n        for (var i = 0; i < collection.length; i++) {\n          // eslint-disable-next-line radix\n          isDisabled = +value === +new Date(parseInt(collection[i].id, 0)) ? true : false;\n\n          if (isDisabled) {\n            break;\n          }\n        }\n      }\n    }\n\n    return isDisabled;\n  };\n\n  CalendarBase.prototype.getMaxDays = function (d) {\n    var date;\n    var tmpDate = new Date(this.checkValue(d));\n    date = 28;\n    var month = tmpDate.getMonth();\n\n    while (tmpDate.getMonth() === month) {\n      ++date;\n      tmpDate.setDate(date);\n    }\n\n    return date - 1;\n  };\n\n  CalendarBase.prototype.setDateDecade = function (date, year) {\n    date.setFullYear(year);\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n\n  CalendarBase.prototype.setDateYear = function (date, value) {\n    date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n\n    if (value.getMonth() !== date.getMonth()) {\n      date.setDate(0);\n      this.currentDate = new Date(this.checkValue(value));\n    }\n\n    this.setProperties({\n      value: new Date(this.checkValue(date))\n    }, true);\n  };\n\n  CalendarBase.prototype.compareMonth = function (start, end) {\n    var result;\n\n    if (start.getFullYear() > end.getFullYear()) {\n      result = 1;\n    } else if (start.getFullYear() < end.getFullYear()) {\n      result = -1;\n    } else {\n      result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n    }\n\n    return result;\n  };\n\n  CalendarBase.prototype.checkValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  CalendarBase.prototype.checkView = function () {\n    if (this.start !== 'Decade' && this.start !== 'Year') {\n      this.setProperties({\n        start: 'Month'\n      }, true);\n    }\n\n    if (this.depth !== 'Decade' && this.depth !== 'Year') {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n\n    if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n      this.setProperties({\n        depth: 'Month'\n      }, true);\n    }\n  };\n\n  CalendarBase.prototype.getDate = function (date, timezone) {\n    if (timezone) {\n      date = new Date(date.toLocaleString('en-US', {\n        timeZone: timezone\n      }));\n    }\n\n    return date;\n  };\n\n  __decorate([Property(new Date(1900, 0, 1))], CalendarBase.prototype, \"min\", void 0);\n\n  __decorate([Property(true)], CalendarBase.prototype, \"enabled\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(new Date(2099, 11, 31))], CalendarBase.prototype, \"max\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate([Property('Gregorian')], CalendarBase.prototype, \"calendarMode\", void 0);\n\n  __decorate([Property('Month')], CalendarBase.prototype, \"start\", void 0);\n\n  __decorate([Property('Month')], CalendarBase.prototype, \"depth\", void 0);\n\n  __decorate([Property(false)], CalendarBase.prototype, \"weekNumber\", void 0);\n\n  __decorate([Property('FirstDay')], CalendarBase.prototype, \"weekRule\", void 0);\n\n  __decorate([Property(true)], CalendarBase.prototype, \"showTodayButton\", void 0);\n\n  __decorate([Property('Short')], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n\n  __decorate([Property(false)], CalendarBase.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"keyConfigs\", void 0);\n\n  __decorate([Property(null)], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"created\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"navigated\", void 0);\n\n  __decorate([Event()], CalendarBase.prototype, \"renderDayCell\", void 0);\n\n  CalendarBase = __decorate([NotifyPropertyChanges], CalendarBase);\n  return CalendarBase;\n}(Component);\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\n\n\nvar Calendar =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(Calendar, _super);\n  /**\n   * Initialized new instance of Calendar Class.\n   * Constructor for creating the widget\n   *\n   * @param {CalendarModel} options - Specifies the Calendar model.\n   * @param {string | HTMLElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function Calendar(options, element) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Calendar.prototype.render = function () {\n    if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n      throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n    }\n\n    if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var tempValues = [];\n      var copyValues = [];\n\n      for (var limit = 0; limit < this.values.length; limit++) {\n        if (tempValues.indexOf(+this.values[limit]) === -1) {\n          tempValues.push(+this.values[limit]);\n          copyValues.push(this.values[limit]);\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n\n      for (var index = 0; index < this.values.length; index++) {\n        if (!this.checkDateValue(this.values[index])) {\n          if (typeof this.values[index] === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n            var copyDate = new Date(this.checkValue(this.values[index]));\n            this.values.splice(index, 1);\n            this.values.splice(index, 0, copyDate);\n          } else {\n            this.values.splice(index, 1);\n          }\n        }\n      }\n\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n      this.previousValues = this.values.length;\n    }\n\n    this.validateDate();\n    this.minMaxUpdate();\n\n    if (this.getModuleName() === 'calendar') {\n      this.setEnable(this.enabled);\n      this.setClass(this.cssClass);\n    }\n\n    _super.prototype.render.call(this);\n\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n\n      if (form) {\n        EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n      }\n\n      this.setTimeZone(this.serverTimezoneOffset);\n    }\n\n    this.renderComplete();\n  };\n\n  Calendar.prototype.setEnable = function (enable) {\n    if (!enable) {\n      addClass([this.element], DISABLED);\n    } else {\n      removeClass([this.element], DISABLED);\n    }\n  };\n\n  Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n      removeClass([this.element], oldCssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      addClass([this.element], newCssClass.split(' '));\n    }\n  };\n\n  Calendar.prototype.isDayLightSaving = function () {\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n\n  Calendar.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var serverTimezoneDiff = offsetValue;\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n    }\n  };\n\n  Calendar.prototype.formResetHandler = function () {\n    this.setProperties({\n      value: null\n    }, true);\n  };\n\n  Calendar.prototype.validateDate = function () {\n    if (typeof this.value === 'string') {\n      this.setProperties({\n        value: this.checkDateValue(new Date(this.checkValue(this.value)))\n      }, true); // persist the value property.\n    }\n\n    _super.prototype.validateDate.call(this, this.value);\n\n    if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n      this.currentDate = new Date(this.checkValue(this.value));\n    }\n\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n  };\n\n  Calendar.prototype.minMaxUpdate = function () {\n    if (this.getModuleName() === 'calendar') {\n      if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n        this.setProperties({\n          value: this.min\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n          this.setProperties({\n            value: this.max\n          }, true);\n          this.changedArgs = {\n            value: this.value\n          };\n        }\n      }\n    }\n\n    if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n      if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n        _super.prototype.minMaxUpdate.call(this, this.min);\n      } else {\n        if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n          _super.prototype.minMaxUpdate.call(this, this.max);\n        }\n      }\n    } else {\n      _super.prototype.minMaxUpdate.call(this, this.value);\n    }\n  };\n\n  Calendar.prototype.generateTodayVal = function (value) {\n    var tempValue = new Date();\n\n    if (!isNullOrUndefined(this.timezone)) {\n      tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n    }\n\n    if (value && isNullOrUndefined(this.timezone)) {\n      tempValue.setHours(value.getHours());\n      tempValue.setMinutes(value.getMinutes());\n      tempValue.setSeconds(value.getSeconds());\n      tempValue.setMilliseconds(value.getMilliseconds());\n    } else {\n      tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n    }\n\n    return tempValue;\n  };\n\n  Calendar.prototype.todayButtonClick = function (e) {\n    if (this.showTodayButton) {\n      var tempValue = this.generateTodayVal(this.value);\n      this.setProperties({\n        value: tempValue\n      }, true);\n      this.isTodayClicked = true;\n      this.todayButtonEvent = e;\n\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n\n        if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n          copyValues.push(tempValue);\n          this.setProperties({\n            values: copyValues\n          });\n        }\n      }\n\n      _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n    }\n  };\n\n  Calendar.prototype.keyActionHandle = function (e) {\n    _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Calendar.prototype.preRender = function () {\n    var _this = this;\n\n    this.changeHandler = function (e) {\n      _this.triggerChange(e);\n    };\n\n    this.checkView();\n\n    _super.prototype.preRender.call(this, this.value);\n  };\n  /**\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.createContent = function () {\n    this.previousDate = this.value;\n    this.previousDateTime = this.value;\n\n    _super.prototype.createContent.call(this);\n  };\n\n  Calendar.prototype.minMaxDate = function (localDate) {\n    return _super.prototype.minMaxDate.call(this, localDate);\n  };\n\n  Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n    _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n  };\n\n  Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n    var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n\n    if (this.isMultiSelection) {\n      _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n    }\n\n    return tempDays;\n  };\n\n  Calendar.prototype.renderYears = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderYears.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderYears(e, this.value);\n    }\n  };\n\n  Calendar.prototype.renderDecades = function (e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderDecades.call(this, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderDecade(e, this.value);\n    }\n  };\n\n  Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n    if (this.calendarMode === 'Gregorian') {\n      _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n    } else {\n      this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n    }\n\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler();\n  };\n\n  Calendar.prototype.clickHandler = function (e) {\n    var eve = e.currentTarget;\n    this.isPopupClicked = true;\n\n    if (eve.classList.contains(OTHERMONTH)) {\n      if (this.isMultiSelection) {\n        var copyValues = this.copyValues(this.values);\n\n        if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n          copyValues.push(this.getIdValue(e, null));\n          this.setProperties({\n            values: copyValues\n          }, true);\n          this.setProperties({\n            value: this.values[this.values.length - 1]\n          }, true);\n        } else {\n          this.previousDates = true;\n        }\n      } else {\n        this.setProperties({\n          value: this.getIdValue(e, null)\n        }, true);\n      }\n    }\n\n    var storeView = this.currentView();\n\n    _super.prototype.clickHandler.call(this, e, this.value);\n\n    if (this.isMultiSelection && this.currentDate !== this.value && !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n      this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n    }\n  };\n\n  Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n    _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Return the component name.\n   * @private\n   */\n\n\n  Calendar.prototype.getModuleName = function () {\n    _super.prototype.getModuleName.call(this);\n\n    return 'calendar';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  Calendar.prototype.getPersistData = function () {\n    _super.prototype.getPersistData.call(this);\n\n    var keyEntity = ['value', 'values'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n   * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n    this.effect = '';\n    this.rangeValidation(this.min, this.max);\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          if (this.isDateSelected) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: new Date(this.checkValue(newProp.value))\n              }, true);\n            } else {\n              newProp.value = new Date(this.checkValue(newProp.value));\n            }\n\n            if (isNaN(+this.value)) {\n              this.setProperties({\n                value: oldProp.value\n              }, true);\n            }\n\n            this.update();\n          }\n\n          break;\n\n        case 'values':\n          if (this.isDateSelected) {\n            if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n              this.setProperties({\n                values: null\n              }, true);\n            } else {\n              var copyValues = this.copyValues(this.values);\n\n              for (var index = 0; index < copyValues.length; index++) {\n                var tempDate = copyValues[index];\n\n                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                  copyValues.push(tempDate);\n                }\n              }\n\n              this.setProperties({\n                values: copyValues\n              }, true);\n\n              if (this.values.length > 0) {\n                this.setProperties({\n                  value: newProp.values[newProp.values.length - 1]\n                }, true);\n              }\n            }\n\n            this.validateValues(this.isMultiSelection, this.values);\n            this.update();\n          }\n\n          break;\n\n        case 'isMultiSelection':\n          if (this.isDateSelected) {\n            this.setProperties({\n              isMultiSelection: newProp.isMultiSelection\n            }, true);\n            this.update();\n          }\n\n          break;\n\n        case 'enabled':\n          this.setEnable(this.enabled);\n          break;\n\n        case 'cssClass':\n          if (this.getModuleName() === 'calendar') {\n            this.setClass(newProp.cssClass, oldProp.cssClass);\n          }\n\n          break;\n\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n\n      }\n    }\n\n    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n  };\n  /**\n   * Destroys the widget.\n   *\n   * @returns {void}\n   */\n\n\n  Calendar.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.getModuleName() === 'calendar') {\n      var form = closest(this.element, 'form');\n\n      if (form) {\n        EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n      }\n    }\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param {string} view - Specifies the view of the Calendar.\n   * @param {Date} date - Specifies the focused date in a view.\n   * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n    this.minMaxUpdate();\n\n    _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * This method is used to add the single or multiple dates to the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.addDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number') {\n      var copyValues = this.copyValues(this.values);\n\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n\n        for (var i = 0; i < tempDates.length; i++) {\n          if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n            if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n              copyValues.push(tempDates[i]);\n            } else {\n              copyValues = [new Date(+tempDates[i])];\n            }\n          }\n        }\n      } else {\n        if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n          if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n            copyValues.push(dates);\n          } else {\n            copyValues = [new Date(+dates)];\n          }\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, true);\n\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.validateValues(this.isMultiSelection, copyValues);\n      this.update();\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * This method is used to remove the single or multiple dates from the values property of the Calendar.\n   *\n   * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  Calendar.prototype.removeDate = function (dates) {\n    if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      var copyValues = this.copyValues(this.values);\n\n      if (typeof dates === 'object' && dates.length > 0) {\n        var tempDates = dates;\n\n        for (var index = 0; index < tempDates.length; index++) {\n          for (var i = 0; i < copyValues.length; i++) {\n            if (+copyValues[i] === +tempDates[index]) {\n              copyValues.splice(i, 1);\n            }\n          }\n        }\n      } else {\n        for (var i = 0; i < copyValues.length; i++) {\n          if (+copyValues[i] === +dates) {\n            copyValues.splice(i, 1);\n          }\n        }\n      }\n\n      this.setProperties({\n        values: copyValues\n      }, false);\n      this.update();\n\n      if (this.isMultiSelection) {\n        this.setProperties({\n          value: this.values[this.values.length - 1]\n        }, true);\n      }\n\n      this.changedArgs = {\n        value: this.value,\n        values: this.values\n      };\n      this.changeHandler();\n    }\n  };\n  /**\n   * To set custom today date in calendar\n   *\n   * @param {Date} date - Specifies date value to be set.\n   * @private\n   * @returns {void}\n   */\n\n\n  Calendar.prototype.setTodayDate = function (date) {\n    var todayDate = new Date(+date);\n    this.setProperties({\n      value: todayDate\n    }, true);\n\n    _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n  };\n\n  Calendar.prototype.update = function () {\n    this.validateDate();\n    this.minMaxUpdate();\n\n    _super.prototype.setValueUpdate.call(this);\n  };\n\n  Calendar.prototype.selectDate = function (e, date, element) {\n    _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n\n    if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n      this.setProperties({\n        value: this.values[this.values.length - 1]\n      }, true);\n    }\n\n    this.changedArgs = {\n      value: this.value,\n      values: this.values\n    };\n    this.changeHandler(e);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Calendar.prototype.changeEvent = function (e) {\n    if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf()) || this.isMultiSelection) {\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.changedArgs);\n      }\n\n      this.previousDate = new Date(+this.value);\n    }\n  };\n\n  Calendar.prototype.triggerChange = function (e) {\n    if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n      e = this.todayButtonEvent;\n      this.isTodayClicked = false;\n    }\n\n    this.changedArgs.event = e || null;\n    this.changedArgs.isInteracted = !isNullOrUndefined(e);\n\n    if (!isNullOrUndefined(this.value)) {\n      this.setProperties({\n        value: this.value\n      }, true);\n    } // eslint-disable-next-line use-isnan\n\n\n    if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || this.previousDate === null && !isNaN(+this.value))) {\n      this.changeEvent(e);\n    } else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n      this.changeEvent(e);\n      this.previousValues = this.values.length;\n    }\n  };\n\n  __decorate([Property(null)], Calendar.prototype, \"value\", void 0);\n\n  __decorate([Property(null)], Calendar.prototype, \"values\", void 0);\n\n  __decorate([Property(false)], Calendar.prototype, \"isMultiSelection\", void 0);\n\n  __decorate([Event()], Calendar.prototype, \"change\", void 0);\n\n  Calendar = __decorate([NotifyPropertyChanges], Calendar);\n  return Calendar;\n}(CalendarBase);\n/**\n *\n */\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\n\n\nvar OTHERMONTH$1 = 'e-other-month';\nvar YEAR$1 = 'e-year';\nvar MONTH$1 = 'e-month';\nvar DECADE$1 = 'e-decade';\nvar DISABLED$1 = 'e-disabled';\nvar OVERLAY$1 = 'e-overlay';\nvar WEEKEND$1 = 'e-weekend';\nvar WEEKNUMBER$1 = 'e-week-number';\nvar SELECTED$1 = 'e-selected';\nvar FOCUSEDDATE$1 = 'e-focused-date';\nvar OTHERMONTHROW$1 = 'e-month-hide';\nvar TODAY$1 = 'e-today';\nvar LINK$1 = 'e-day';\nvar CELL$1 = 'e-cell';\nvar dayMilliSeconds$1 = 86400000;\nvar minDecade = 2060;\nvar maxDecade = 2069;\n\nvar Islamic =\n/** @__PURE__ @class */\nfunction () {\n  function Islamic(instance) {\n    this.calendarInstance = instance;\n  }\n\n  Islamic.prototype.getModuleName = function () {\n    return 'islamic';\n  };\n\n  Islamic.prototype.islamicTitleUpdate = function (date, view) {\n    var globalize = new Internationalization(this.calendarInstance.locale);\n\n    switch (view) {\n      case 'days':\n        this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'MMMMyyyy',\n          calendar: 'islamic'\n        });\n        break;\n\n      case 'months':\n        this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, {\n          type: 'dateTime',\n          format: 'yyyy',\n          calendar: 'islamic'\n        });\n    }\n  };\n\n  Islamic.prototype.islamicRenderDays = function (currentDate, value, multiSelection, values) {\n    var tdEles = [];\n    var cellsCount = 42;\n    var localDate = new Date(this.islamicInValue(currentDate));\n    var minMaxDate;\n    this.islamicTitleUpdate(currentDate, 'days');\n    var islamicDate = this.getIslamicDate(localDate);\n    var gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n    var currentMonth = islamicDate.month;\n    localDate = gregorianObject;\n\n    while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n      this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n    }\n\n    for (var day = 0; day < cellsCount; ++day) {\n      var weekEle = this.calendarInstance.createElement('td', {\n        className: CELL$1\n      });\n      var weekAnchor = this.calendarInstance.createElement('span');\n\n      if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n        weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n        weekEle.appendChild(weekAnchor);\n        addClass([weekEle], '' + WEEKNUMBER$1);\n        tdEles.push(weekEle);\n      }\n\n      minMaxDate = new Date(+localDate);\n      localDate = this.calendarInstance.minMaxDate(localDate);\n      var dateFormatOptions = {\n        type: 'dateTime',\n        skeleton: 'full',\n        calendar: 'islamic'\n      };\n      var date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n      var tdEle = this.islamicDayCell(localDate);\n      var title = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'full',\n        calendar: 'islamic'\n      });\n      var dayLink = this.calendarInstance.createElement('span');\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'date',\n        skeleton: 'd',\n        calendar: 'islamic'\n      });\n      var disabled = this.calendarInstance.min > localDate || this.calendarInstance.max < localDate;\n\n      if (disabled) {\n        addClass([tdEle], DISABLED$1);\n        addClass([tdEle], OVERLAY$1);\n      } else {\n        dayLink.setAttribute('title', '' + title);\n      }\n\n      var hijriMonthObject = this.getIslamicDate(localDate);\n\n      if (currentMonth !== hijriMonthObject.month) {\n        addClass([tdEle], OTHERMONTH$1);\n      }\n\n      if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n        addClass([tdEle], WEEKEND$1);\n      }\n\n      tdEle.appendChild(dayLink);\n      this.calendarInstance.renderDayCellArgs = {\n        date: localDate,\n        isDisabled: false,\n        element: tdEle,\n        isOutOfRange: disabled\n      };\n      var argument = this.calendarInstance.renderDayCellArgs;\n      this.calendarInstance.renderDayCellEvent(argument);\n\n      if (argument.isDisabled) {\n        if (this.calendarInstance.isMultiSelection) {\n          if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n              var localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, {\n                type: 'date',\n                skeleton: 'yMd',\n                calendar: 'islamic'\n              }));\n              var tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], {\n                type: 'date',\n                skeleton: 'yMd',\n                calendar: 'islamic'\n              }));\n\n              if (localDateString === tempDateString) {\n                this.calendarInstance.values.splice(index, 1);\n                index = -1;\n              }\n            }\n          }\n        } else if (value && +value === +argument.date) {\n          this.calendarInstance.setProperties({\n            value: null\n          }, true);\n        }\n      }\n\n      if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n        addClass([tdEle], DISABLED$1);\n        addClass([tdEle], OVERLAY$1);\n\n        if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n          this.calendarInstance.todayDisabled = true;\n        }\n      }\n\n      var otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n      var disabledCls = tdEle.classList.contains(DISABLED$1);\n\n      if (!disabledCls) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) && !otherMnthBool && !disabledCls) {\n        for (var tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n          var localDateString = this.calendarInstance.globalize.formatDate(localDate, {\n            type: 'date',\n            skeleton: 'short',\n            calendar: 'islamic'\n          });\n          var tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], {\n            type: 'date',\n            skeleton: 'short',\n            calendar: 'islamic'\n          });\n\n          if (localDateString === tempDateString && this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n            addClass([tdEle], SELECTED$1);\n          } else {\n            this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n          }\n        }\n\n        if (this.calendarInstance.values.length <= 0) {\n          this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n        }\n      } else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n      }\n\n      if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n        if (date.getFullYear() === new Date().getFullYear()) {\n          addClass([tdEle], TODAY$1);\n        }\n      }\n\n      localDate = new Date(+minMaxDate);\n      tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n      this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n    }\n\n    return tdEles;\n  };\n\n  Islamic.prototype.islamicIconHandler = function () {\n    new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n    var date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Month':\n        {\n          var prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n          var nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevMonthCompare);\n          this.calendarInstance.nextIconHandler(nextMonthCompare);\n        }\n        break;\n\n      case 'Year':\n        {\n          var prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n          var nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n          this.calendarInstance.previousIconHandler(prevYearCompare);\n          this.calendarInstance.nextIconHandler(nextYearCompare);\n        }\n        break;\n\n      case 'Decade':\n        {\n          var startIslamicYear = 1361;\n          var gregorianValue = HijriParser.toGregorian(startIslamicYear, 1, 1);\n          var prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n          var nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n          prevDecadeCompare = HijriParser.toGregorian(this.calendarInstance.headerTitleElement.textContent.split('-')[0].trim(), 1, 1).getFullYear() === gregorianValue.getFullYear() ? true : prevDecadeCompare;\n          this.calendarInstance.previousIconHandler(prevDecadeCompare);\n          this.calendarInstance.nextIconHandler(nextDecadeCompare);\n        }\n    }\n  };\n\n  Islamic.prototype.islamicNext = function () {\n    this.calendarInstance.effect = '';\n    var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Year':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n        this.calendarInstance.switchView(view);\n        break;\n\n      case 'Month':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n        this.calendarInstance.switchView(view);\n        break;\n\n      case 'Decade':\n        this.calendarInstance.nextIconClicked = true;\n\n        if (islamicDate.year - this.calendarInstance.headerElement.textContent.split('-')[0].trim() === 1) {\n          islamicDate.year = islamicDate.year - this.calendarInstance.headerElement.textContent.split('-')[0].trim() === 1 ? islamicDate.year + 1 : islamicDate.year;\n        }\n\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n        this.calendarInstance.switchView(view);\n        break;\n    }\n  };\n\n  Islamic.prototype.islamicPrevious = function () {\n    var currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    this.calendarInstance.effect = '';\n    var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n\n    switch (this.calendarInstance.currentView()) {\n      case 'Month':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n\n      case 'Year':\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n\n      case 'Decade':\n        this.calendarInstance.previousIconClicked = true;\n        this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n        this.calendarInstance.switchView(currentView);\n        break;\n    }\n  };\n\n  Islamic.prototype.islamicRenderYears = function (e, value) {\n    this.calendarInstance.removeTableHeadElement();\n    var numCells = 4;\n    var tdEles = [];\n    var valueUtil = isNullOrUndefined(value);\n    var curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n    var localDate = curDate;\n    var islamicDate = this.getIslamicDate(localDate);\n    var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n    localDate = gregorianObject;\n    var mon = islamicDate.month;\n    var yr = islamicDate.year;\n    var curYrs = islamicDate.year;\n    var minYr = this.getIslamicDate(this.calendarInstance.min).year;\n    var minMonth = this.getIslamicDate(this.calendarInstance.min).month;\n    var maxYr = this.getIslamicDate(this.calendarInstance.max).year;\n    var maxMonth = this.getIslamicDate(this.calendarInstance.max).month;\n    this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n\n    for (var month = 1; month <= 12; ++month) {\n      var islamicDate_1 = this.getIslamicDate(localDate);\n      var gregorianObject_1 = HijriParser.toGregorian(islamicDate_1.year, month, 1);\n      localDate = gregorianObject_1;\n      var tdEle = this.islamicDayCell(localDate);\n      var dayLink = this.calendarInstance.createElement('span');\n      var localMonth = value && this.getIslamicDate(value).month === this.getIslamicDate(localDate).month;\n      var select$$1 = value && this.getIslamicDate(value).year === yr && localMonth;\n      dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n        type: 'dateTime',\n        format: 'MMM',\n        calendar: 'islamic'\n      });\n\n      if (this.calendarInstance.min && (curYrs < minYr || month < minMonth && curYrs === minYr) || this.calendarInstance.max && (curYrs > maxYr || month > maxMonth && curYrs >= maxYr)) {\n        addClass([tdEle], DISABLED$1);\n      } else if (!valueUtil && select$$1) {\n        addClass([tdEle], SELECTED$1);\n      } else {\n        if (this.getIslamicDate(localDate).month === mon && this.getIslamicDate(this.calendarInstance.currentDate).month === mon) {\n          addClass([tdEle], FOCUSEDDATE$1);\n        }\n      }\n\n      if (!tdEle.classList.contains(DISABLED$1)) {\n        EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n      }\n\n      tdEle.appendChild(dayLink);\n      tdEles.push(tdEle);\n    }\n\n    this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n  };\n\n  Islamic.prototype.islamicRenderDecade = function (e, value) {\n    this.calendarInstance.removeTableHeadElement();\n    var numCells = 4;\n    var yearCell = 12;\n    var tdEles = [];\n    var localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n    var islamicDate = this.getIslamicDate(localDate);\n    var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n    localDate = gregorianObject;\n    var localYr = localDate.getFullYear();\n    var startYr = new Date(this.islamicInValue(localYr - localYr % 10));\n    var endYr = new Date(this.islamicInValue(localYr - localYr % 10 + (10 - 1)));\n    var startFullYr = startYr.getFullYear();\n    var endFullYr = endYr.getFullYear();\n    var startHdrYr = this.calendarInstance.globalize.formatDate(startYr, {\n      type: 'dateTime',\n      format: 'y',\n      calendar: 'islamic'\n    });\n    var endHdrYr = this.calendarInstance.globalize.formatDate(endYr, {\n      type: 'dateTime',\n      format: 'y',\n      calendar: 'islamic'\n    });\n\n    if (this.calendarInstance.locale === 'ar') {\n      startHdrYr = Number(startHdrYr.replace(/[]/g, function (d) {\n        return String.fromCharCode(d.charCodeAt(0) - 1632 + 48);\n      }));\n      endHdrYr = Number(endHdrYr.replace(/[]/g, function (d) {\n        return String.fromCharCode(d.charCodeAt(0) - 1632 + 48);\n      }));\n    }\n\n    var splityear = this.calendarInstance.headerElement.textContent.split('-');\n\n    if (!isNullOrUndefined(e) && splityear[0] !== startHdrYr && e.action === 'home' || !isNullOrUndefined(e) && e.type === 'keydown' && e.action === 'end') {\n      startHdrYr = this.calendarInstance.headerElement.textContent.split('-')[0].trim();\n      endHdrYr = this.calendarInstance.headerElement.textContent.split('-')[1].trim();\n    }\n\n    if (this.calendarInstance.islamicPreviousHeader) {\n      startHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[0].trim();\n      endHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[1].trim();\n      this.calendarInstance.islamicPreviousHeader = null;\n    }\n\n    if (this.calendarInstance.previousIconClicked) {\n      // eslint-disable-next-line no-var\n      for (var i = 0; i <= splityear.length; i++) {\n        endHdrYr = endHdrYr - splityear[i] === 2 || splityear[i] - endHdrYr === 2 ? (parseInt(endHdrYr, 10) + 1).toString() : endHdrYr - splityear[i] === 3 || splityear[i] - endHdrYr === 3 ? (parseInt(endHdrYr, 10) + 2).toString() : endHdrYr - splityear[i] === 4 || splityear[i] - endHdrYr === 4 ? (parseInt(endHdrYr, 10) + 3).toString() : endHdrYr - splityear[i] === 5 || splityear[i] - endHdrYr === 5 ? (parseInt(endHdrYr, 10) + 4).toString() : endHdrYr;\n\n        if (endHdrYr - splityear[i] === 0 || splityear[i] - endHdrYr === 0) {\n          endHdrYr = (parseInt(endHdrYr, 10) - 1).toString();\n        }\n      }\n\n      if (endHdrYr - splityear[i] === 8 || splityear[i] - endHdrYr === 8) {\n        endHdrYr = (parseInt(endHdrYr, 10) - 9).toString();\n        startHdrYr = (parseInt(endHdrYr, 10) - 9).toString();\n      }\n\n      if (endHdrYr - splityear[i] === 7 || splityear[i] - endHdrYr === 7) {\n        endHdrYr = (parseInt(endHdrYr, 10) - 8).toString();\n        startHdrYr = (parseInt(endHdrYr, 10) - 9).toString();\n      }\n\n      startHdrYr = endHdrYr - startHdrYr === 10 ? (parseInt(startHdrYr, 10) + 1).toString() : endHdrYr - startHdrYr === 11 ? (parseInt(startHdrYr, 10) + 2).toString() : endHdrYr - startHdrYr === 12 ? (parseInt(startHdrYr, 10) + 3).toString() : startHdrYr;\n\n      if (endHdrYr - startHdrYr === 8) {\n        startHdrYr = (parseInt(startHdrYr, 10) - 1).toString();\n      }\n    }\n\n    if (this.calendarInstance.nextIconClicked) {\n      for (var i_1 = 0; i_1 <= splityear.length; i_1++) {\n        if (startHdrYr - splityear[i_1] === 0 || splityear[i_1] - startHdrYr === 0) {\n          startHdrYr = (parseInt(startHdrYr, 10) + 1).toString();\n        }\n\n        if (startHdrYr - splityear[i_1] === 2 && startHdrYr > splityear[i_1].trim()) {\n          startHdrYr = (parseInt(startHdrYr, 10) - 1).toString();\n        }\n\n        if (splityear[i_1] - startHdrYr === 1 && startHdrYr < splityear[i_1].trim()) {\n          startHdrYr = (parseInt(startHdrYr, 10) + 2).toString();\n        }\n      }\n\n      if (startHdrYr - this.calendarInstance.headerTitleElement.textContent.split('-')[1].trim() > 1) {\n        startHdrYr = (parseInt(this.calendarInstance.headerTitleElement.textContent.split('-')[1].trim(), 10) + 1).toString();\n        endHdrYr = (parseInt(startHdrYr, 10) + 9).toString();\n      }\n\n      endHdrYr = endHdrYr - startHdrYr === 10 ? (parseInt(endHdrYr, 10) - 1).toString() : endHdrYr;\n      endHdrYr = endHdrYr - startHdrYr === 7 ? (parseInt(endHdrYr, 10) + 2).toString() : endHdrYr - startHdrYr === 8 ? (parseInt(endHdrYr, 10) + 1).toString() : endHdrYr;\n    }\n\n    if (this.calendarInstance.locale === 'ar') {\n      var startHeaderYear = this.calendarInstance.globalize.formatDate(startYr, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: 'islamic'\n      });\n      var endHeaderYear = this.calendarInstance.globalize.formatDate(endYr, {\n        type: 'dateTime',\n        format: 'y',\n        calendar: 'islamic'\n      });\n      this.calendarInstance.headerTitleElement.textContent = startHeaderYear + ' - ' + endHeaderYear;\n    } else {\n      this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + endHdrYr;\n    }\n\n    this.calendarInstance.nextIconClicked = this.calendarInstance.previousIconClicked = false;\n    var year = (parseInt(startHdrYr, 10) - 2).toString();\n    startFullYr = Math.round(parseInt(startHdrYr, 10) * 0.97 + 622);\n    endFullYr = Math.round(parseInt(endHdrYr, 10) * 0.97 + 622);\n    var startYear = Math.round(parseInt(year, 10) * 0.97 + 622);\n\n    for (var rowCount = 1; rowCount <= yearCell; ++rowCount) {\n      var year_1 = startYear + rowCount;\n      localDate.setFullYear(year_1);\n      localDate.setDate(1);\n      localDate.setMonth(0);\n\n      if (this.getIslamicDate(localDate).year - islamicDate.year > 1) {\n        localDate.setMonth(1);\n        rowCount = rowCount - 1;\n        localDate.setFullYear(localDate.getFullYear() - 1);\n      }\n\n      islamicDate = this.getIslamicDate(localDate);\n      var gregorianObject_2 = HijriParser.toGregorian(islamicDate.year, 1, 1);\n      localDate = gregorianObject_2;\n\n      if (islamicDate.year === parseInt(startHdrYr, 10) - 1 || islamicDate.year >= startHdrYr && islamicDate.year <= endFullYr || islamicDate.year === parseInt(endHdrYr, 10) + 1) {\n        var tdEle = this.islamicDayCell(localDate);\n        attributes(tdEle, {\n          'role': 'gridcell'\n        });\n        var dayLink = this.calendarInstance.createElement('span');\n        dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, {\n          type: 'dateTime',\n          format: 'y',\n          calendar: 'islamic'\n        });\n\n        if (islamicDate.year === parseInt(startHdrYr, 10) - 1 || year_1 < startFullYr || year_1 > endFullYr && islamicDate.year !== parseInt(endHdrYr, 10)) {\n          addClass([tdEle], OTHERMONTH$1);\n        } else if (year_1 < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear() || year_1 > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n          addClass([tdEle], DISABLED$1);\n        } else if (!isNullOrUndefined(value) && this.getIslamicDate(localDate).year === this.getIslamicDate(value).year) {\n          addClass([tdEle], SELECTED$1);\n        } else {\n          if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED$1)) {\n            addClass([tdEle], FOCUSEDDATE$1);\n          }\n        }\n\n        if (!tdEle.classList.contains(DISABLED$1)) {\n          EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n        }\n\n        tdEle.appendChild(dayLink);\n\n        if (!isNullOrUndefined(e) && e.action === 'home' && islamicDate.year.toString() === startHdrYr || !isNullOrUndefined(e) && e.action === 'end' && islamicDate.year.toString() === endHdrYr) {\n          addClass([tdEle], FOCUSEDDATE$1);\n        }\n\n        tdEles.push(tdEle);\n      }\n    }\n\n    this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n  };\n\n  Islamic.prototype.islamicDayCell = function (localDate) {\n    var dateFormatOptions = {\n      skeleton: 'full',\n      type: 'dateTime',\n      calendar: 'islamic'\n    };\n    var formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n    var date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n    var value = date.valueOf();\n    var attrs = {\n      className: CELL$1,\n      attrs: {\n        'id': '' + getUniqueID('' + value),\n        'aria-selected': 'false',\n        'role': 'gridcell'\n      }\n    };\n    return this.calendarInstance.createElement('td', attrs);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  Islamic.prototype.islamicRenderTemplate = function (elements, count, classNm, e, value) {\n    var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n    var trEle;\n    this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n    this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n    removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n    addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n    var weekNumCell = 41;\n    var numberCell = 35;\n    var otherMonthCell = 6;\n    var row = count;\n    var rowCount = 0;\n\n    for (var dayCell = 0; dayCell < Math.round(elements.length / count); ++dayCell) {\n      trEle = this.calendarInstance.createElement('tr', {\n        attrs: {\n          'role': 'row'\n        }\n      });\n\n      for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n        if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n          addClass([elements[rowCount].children[0]], [LINK$1]);\n          rippleEffect(elements[rowCount].children[0], {\n            duration: 600,\n            isCenterRipple: true\n          });\n        }\n\n        trEle.appendChild(elements[rowCount]);\n\n        if (this.calendarInstance.weekNumber && rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n          addClass([trEle], OTHERMONTHROW$1);\n        }\n\n        if (!this.calendarInstance.weekNumber && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n          addClass([trEle], OTHERMONTHROW$1);\n        }\n\n        if (this.calendarInstance.weekNumber) {\n          if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n        } else {\n          if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n            addClass([trEle], OTHERMONTHROW$1);\n          }\n        }\n      }\n\n      row = row + count;\n      rowCount = rowCount + 0;\n      this.calendarInstance.tableBodyElement.appendChild(trEle);\n    }\n\n    this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n    this.islamicIconHandler();\n\n    if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()) || view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())) {\n      this.calendarInstance.navigateHandler(e);\n    }\n\n    this.calendarInstance.setAriaActiveDescendant();\n    this.calendarInstance.changedArgs = {\n      value: this.calendarInstance.value,\n      values: this.calendarInstance.values\n    };\n    this.calendarInstance.changeHandler();\n  };\n\n  Islamic.prototype.islamicCompareMonth = function (start, end) {\n    var hijriStart = this.getIslamicDate(start);\n    var hijriEnd = this.getIslamicDate(end);\n    var result;\n\n    if (hijriStart.year > hijriEnd.year) {\n      result = 1;\n    } else if (hijriStart.year < hijriEnd.year) {\n      result = -1;\n    } else {\n      result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n    }\n\n    return result;\n  };\n\n  Islamic.prototype.islamicCompare = function (startDate, endDate, modifier) {\n    var hijriStart = this.getIslamicDate(startDate);\n    var hijriEnd = this.getIslamicDate(endDate);\n    var start = hijriEnd.year;\n    var end;\n    var result;\n    end = start;\n    result = 0;\n\n    if (modifier) {\n      start = start - start % modifier;\n      end = start - start % modifier + modifier - 1;\n    }\n\n    if (hijriStart.year > end) {\n      result = 1;\n    } else if (this.calendarInstance.currentView() === 'Decade' && hijriStart.year < start && !(startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade)) {\n      result = -1;\n    } else if (hijriStart.year < start && this.calendarInstance.currentView() === 'Year') {\n      result = -1;\n    }\n\n    return result;\n  };\n\n  Islamic.prototype.getIslamicDate = function (date) {\n    return HijriParser.getHijriDate(date);\n  };\n\n  Islamic.prototype.toGregorian = function (year, month, date) {\n    return HijriParser.toGregorian(year, month, date);\n  };\n\n  Islamic.prototype.hijriCompareYear = function (start, end) {\n    return this.islamicCompare(start, end, 0);\n  };\n\n  Islamic.prototype.hijriCompareDecade = function (start, end) {\n    return this.islamicCompare(start, end, 10);\n  };\n\n  Islamic.prototype.destroy = function () {\n    this.calendarInstance = null;\n  };\n\n  Islamic.prototype.islamicInValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  return Islamic;\n}();\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\n\n\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT$1 = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar OFFSETVALUE = 4;\nvar SELECTED$2 = 'e-selected';\nvar FOCUSEDDATE$2 = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\n\nvar DatePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(DatePicker, _super);\n  /**\n   * Constructor for creating the widget.\n   *\n   * @param {DatePickerModel} options - Specifies the DatePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DatePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isDateIconClicked = false;\n    _this.isAltKeyPressed = false;\n    _this.isInteracted = true;\n    _this.invalidValueString = null;\n    _this.checkPreviousValue = null;\n    _this.maskedDateValue = '';\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.isIconClicked = false;\n    _this.isDynamicValueChanged = false;\n    _this.moduleName = _this.getModuleName();\n    _this.isFocused = false;\n    _this.datepickerOptions = options;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DatePicker.prototype.render = function () {\n    this.initialize();\n    this.bindEvents();\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n    }\n\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n\n    this.renderComplete();\n    this.setTimeZone(this.serverTimezoneOffset);\n  };\n\n  DatePicker.prototype.setTimeZone = function (offsetValue) {\n    if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n      var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n      var serverTimezoneDiff = offsetValue;\n      var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n      timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n      this.value = new Date(this.value.getTime() + timeZoneDiff * 60 * 60 * 1000);\n      this.updateInput();\n    }\n  };\n\n  DatePicker.prototype.isDayLightSaving = function () {\n    var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n    var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n    return this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset);\n  };\n\n  DatePicker.prototype.setAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateIconState();\n  };\n\n  DatePicker.prototype.updateIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDIT]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDIT]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDIT]);\n    }\n  };\n\n  DatePicker.prototype.initialize = function () {\n    this.checkInvalidValue(this.value);\n\n    if (this.enableMask) {\n      this.notify('createMask', {\n        module: 'MaskedDateTime'\n      });\n    }\n\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setAllowEdit();\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType === 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInput(true);\n      this.updateInputValue(this.maskedDateValue);\n    } else if (!this.enableMask) {\n      this.updateInput(true);\n    }\n\n    this.previousElementValue = this.inputElement.value;\n    this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputValueCopy = this.value;\n  };\n\n  DatePicker.prototype.createInput = function () {\n    var ariaAttrs = {\n      'aria-atomic': 'true',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-invalid': 'false'\n    };\n\n    if (this.getModuleName() === 'datepicker') {\n      var l10nLocale = {\n        placeholder: this.placeholder\n      };\n      this.globalize = new Internationalization(this.locale);\n      this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n      this.setProperties({\n        placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n      }, true);\n    }\n\n    var updatedCssClassValues = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValues = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    var isBindClearAction = this.enableMask ? false : true;\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      floatLabelType: this.floatLabelType,\n      bindClearAction: isBindClearAction,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValues,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n    }, this.createElement);\n    this.setWidth(this.width);\n\n    if (this.inputElement.name !== '') {\n      this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n    } else {\n      this.inputElement.setAttribute('name', '' + this.element.id);\n    }\n\n    attributes(this.inputElement, ariaAttrs);\n\n    if (!this.enabled) {\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.inputElement.tabIndex = -1;\n    } else {\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    }\n\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n    addClass([this.inputWrapper.container], DATEWRAPPER);\n  };\n\n  DatePicker.prototype.updateInput = function (isDynamic) {\n    if (isDynamic === void 0) {\n      isDynamic = false;\n    }\n\n    var formatOptions;\n\n    if (this.value && !this.isCalendar()) {\n      this.disabledDates(isDynamic);\n    }\n\n    if (isNaN(+new Date(this.checkValue(this.value)))) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (this.strictMode) {\n      //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n      _super.prototype.validateDate.call(this);\n\n      this.minMaxUpdates();\n\n      _super.prototype.minMaxUpdate.call(this);\n    }\n\n    if (!isNullOrUndefined(this.value)) {\n      var dateValue = this.value;\n      var dateString = void 0;\n      var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          dateString = this.globalize.formatDate(this.value, {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          });\n        } else {\n          dateString = this.globalize.formatDate(this.value, {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          });\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        dateString = this.globalize.formatDate(this.value, formatOptions);\n      }\n\n      if (+dateValue <= +this.max && +dateValue >= +this.min) {\n        this.updateInputValue(dateString);\n      } else {\n        var value = +dateValue >= +this.max || !+this.value || !+this.value || +dateValue <= +this.min;\n\n        if (!this.strictMode && value) {\n          this.updateInputValue(dateString);\n        }\n      }\n    }\n\n    if (isNullOrUndefined(this.value) && this.strictMode) {\n      if (!this.enableMask) {\n        this.updateInputValue('');\n      } else {\n        this.updateInputValue(this.maskedDateValue);\n        this.notify('createMask', {\n          module: 'MaskedDateTime'\n        });\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.changedArgs = {\n      value: this.value\n    };\n    this.errorClass();\n    this.updateIconState();\n  };\n\n  DatePicker.prototype.minMaxUpdates = function () {\n    if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n      this.setProperties({\n        value: this.min\n      }, true);\n      this.changedArgs = {\n        value: this.value\n      };\n    } else {\n      if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n        this.setProperties({\n          value: this.max\n        }, true);\n        this.changedArgs = {\n          value: this.value\n        };\n      }\n    }\n  };\n\n  DatePicker.prototype.checkStringValue = function (val) {\n    var returnDate = null;\n    var formatOptions = null;\n    var formatDateTime = null;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      var culture = new Internationalization(this.locale);\n\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n        formatDateTime = {\n          format: culture.getDatePattern({\n            skeleton: 'yMd'\n          }),\n          type: 'dateTime'\n        };\n      } else {\n        formatOptions = {\n          format: this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n        formatDateTime = {\n          format: culture.getDatePattern({\n            skeleton: 'yMd'\n          }),\n          type: 'dateTime',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    }\n\n    returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n\n    if (isNullOrUndefined(returnDate) && this.getModuleName() === 'datetimepicker') {\n      returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n    }\n\n    return returnDate;\n  };\n\n  DatePicker.prototype.checkInvalidValue = function (value) {\n    if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n      var valueDate = null;\n      var valueString = value;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      }\n\n      var formatOptions = null;\n      var formatDateTime = null;\n\n      if (this.getModuleName() === 'datetimepicker') {\n        var culture = new Internationalization(this.locale);\n\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime'\n          };\n        } else {\n          formatOptions = {\n            format: this.dateTimeFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n          formatDateTime = {\n            format: culture.getDatePattern({\n              skeleton: 'yMd'\n            }),\n            type: 'dateTime',\n            calendar: 'islamic'\n          };\n        }\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          // eslint-disable-next-line @typescript-eslint/no-unused-vars\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n      }\n\n      var invalid = false;\n\n      if (typeof valueString !== 'string') {\n        valueString = null;\n        invalid = true;\n      } else {\n        if (typeof valueString === 'string') {\n          valueString = valueString.trim();\n        }\n\n        valueDate = this.checkStringValue(valueString);\n\n        if (!valueDate) {\n          var extISOString = null;\n          var basicISOString = null; // eslint-disable-next-line\n\n          extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n          basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n          if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n            invalid = true;\n          } else {\n            valueDate = new Date(valueString);\n          }\n        }\n      }\n\n      if (invalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n      } else {\n        this.setProperties({\n          value: valueDate\n        }, true);\n      }\n    }\n  };\n\n  DatePicker.prototype.bindInputEvent = function () {\n    if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n      if (this.enableMask || this.formatString.indexOf('y') === -1) {\n        EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n      } else {\n        EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n      }\n    }\n  };\n\n  DatePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n    EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    this.bindInputEvent(); // To prevent the twice triggering.\n\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n    }\n\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardModules = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyActionHandle.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  };\n\n  DatePicker.prototype.keydownHandler = function (e) {\n    switch (e.code) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'ArrowUp':\n      case 'ArrowDown':\n      case 'Home':\n      case 'End':\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          if (e.code !== 'Delete') {\n            e.preventDefault();\n          }\n\n          this.notify('keyDownHandler', {\n            module: 'MaskedDateTime',\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  DatePicker.prototype.unBindEvents = function () {\n    if (!isNullOrUndefined(this.inputWrapper)) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n    }\n\n    EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.enableMask) {\n      EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n    }\n  };\n\n  DatePicker.prototype.resetFormHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      var value = this.inputElement.getAttribute('value');\n\n      if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n        value = '';\n        this.inputValueCopy = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: this.inputValueCopy\n      }, true);\n      this.restoreValue();\n\n      if (this.inputElement) {\n        this.updateInputValue(value);\n        this.errorClass();\n      }\n    }\n  };\n\n  DatePicker.prototype.restoreValue = function () {\n    this.currentDate = this.value ? this.value : new Date();\n    this.previousDate = this.value;\n    this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.globalize.formatDate(this.inputValueCopy, {\n      format: this.formatString,\n      type: 'dateTime',\n      skeleton: 'yMd'\n    });\n  };\n\n  DatePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  };\n\n  DatePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n  };\n\n  DatePicker.prototype.resetHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n    this.clear(e);\n  };\n\n  DatePicker.prototype.mouseUpHandler = function (e) {\n    if (this.enableMask) {\n      e.preventDefault();\n      this.notify('setMaskSelection', {\n        module: 'MaskedDateTime'\n      });\n    }\n  };\n\n  DatePicker.prototype.clear = function (event) {\n    this.setProperties({\n      value: null\n    }, true);\n\n    if (!this.enableMask) {\n      this.updateInputValue('');\n    }\n\n    var clearedArgs = {\n      event: event\n    };\n    this.trigger('cleared', clearedArgs);\n    this.invalidValueString = '';\n    this.updateInput();\n    this.popupUpdate();\n    this.changeEvent(event);\n\n    if (this.enableMask) {\n      this.notify('clearHandler', {\n        module: 'MaskedDateTime'\n      });\n    }\n\n    if (closest(this.element, 'form')) {\n      var element = this.element;\n      var keyupEvent = document.createEvent('KeyboardEvent');\n      keyupEvent.initEvent('keyup', false, true);\n      element.dispatchEvent(keyupEvent);\n    }\n  };\n\n  DatePicker.prototype.preventEventBubbling = function (e) {\n    e.preventDefault(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n  };\n\n  DatePicker.prototype.updateInputValue = function (value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n\n  DatePicker.prototype.dateIconHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n      this.inputElement.blur();\n    }\n\n    e.preventDefault();\n\n    if (!this.readonly) {\n      if (this.isCalendar()) {\n        this.hide(e);\n      } else {\n        this.isDateIconClicked = true;\n        this.show(null, e);\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.inputElement.focus();\n        }\n\n        this.inputElement.focus();\n        addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        addClass(this.inputWrapper.buttons, ACTIVE);\n      }\n    }\n\n    this.isIconClicked = false;\n  };\n\n  DatePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (!isNullOrUndefined(this.htmlAttributes[\"\" + key])) {\n          if (containerAttr.indexOf(key) > -1) {\n            if (key === 'class') {\n              var updatedClassValues = this.htmlAttributes[\"\" + key].replace(/\\s+/g, ' ').trim();\n\n              if (updatedClassValues !== '') {\n                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n              }\n            } else if (key === 'style') {\n              var setStyle = this.inputWrapper.container.getAttribute(key);\n\n              if (!isNullOrUndefined(setStyle)) {\n                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                  setStyle = setStyle + this.htmlAttributes[\"\" + key];\n                } else {\n                  setStyle = setStyle + ';' + this.htmlAttributes[\"\" + key];\n                }\n              } else {\n                setStyle = this.htmlAttributes[\"\" + key];\n              }\n\n              this.inputWrapper.container.setAttribute(key, setStyle);\n            } else {\n              this.inputWrapper.container.setAttribute(key, this.htmlAttributes[\"\" + key]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DatePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (containerAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[\"\" + key]);\n        }\n      }\n    }\n  };\n\n  DatePicker.prototype.updateCssClass = function (newCssClass, oldCssClass) {\n    if (!isNullOrUndefined(oldCssClass)) {\n      oldCssClass = oldCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(newCssClass)) {\n      newCssClass = newCssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n    }\n  };\n\n  DatePicker.prototype.calendarKeyActionHandle = function (e) {\n    switch (e.action) {\n      case 'escape':\n        if (this.isCalendar()) {\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[this.index].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isCalendar()) {\n          this.show(null, e);\n        } else {\n          if (+this.value !== +this.currentDate && !this.isCalendar()) {\n            this.inputWrapper.container.children[this.index].focus();\n          }\n        }\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.inputElement.focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n    }\n  };\n\n  DatePicker.prototype.inputFocusHandler = function () {\n    this.isFocused = true;\n\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    var focusArguments = {\n      model: this\n    };\n    this.isDateIconClicked = false;\n    this.trigger('focus', focusArguments);\n    this.updateIconState();\n\n    if (this.openOnFocus && !this.isIconClicked) {\n      this.show();\n    }\n  };\n\n  DatePicker.prototype.inputHandler = function () {\n    this.isPopupClicked = false;\n\n    if (this.enableMask) {\n      this.notify('inputHandler', {\n        module: 'MaskedDateTime'\n      });\n    }\n  };\n\n  DatePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.strictModeUpdate();\n\n    if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n      this.invalidValueString = null;\n      this.updateInputValue('');\n    }\n\n    this.updateInput();\n    this.popupUpdate();\n    this.changeTrigger(e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value === this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    this.errorClass();\n\n    if (this.isCalendar() && document.activeElement === this.inputElement) {\n      this.hide(e);\n    }\n\n    if (this.getModuleName() === 'datepicker') {\n      var blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n\n    if (this.isCalendar()) {\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n        eventName: 'keydown',\n        keyAction: this.calendarKeyActionHandle.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    }\n\n    this.isPopupClicked = false;\n  };\n\n  DatePicker.prototype.documentHandler = function (e) {\n    if (!isNullOrUndefined(this.popupObj) && !isNullOrUndefined(this.inputWrapper) && (this.inputWrapper.container.contains(e.target) && e.type !== 'mousedown' || this.popupObj.element && this.popupObj.element.contains(e.target)) && e.type !== 'touchstart') {\n      e.preventDefault();\n    }\n\n    var target = e.target;\n\n    if (!closest(target, '.e-datepicker.e-popup-wrapper') && !isNullOrUndefined(this.inputWrapper) && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container) && !target.classList.contains('e-day')) {\n      this.hide(e);\n      this.focusOut();\n    } else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n      // Fix for close the popup when select the previously selected value.\n      if (target.classList.contains('e-day') && !isNullOrUndefined(e.target.parentElement) && e.target.parentElement.classList.contains('e-selected') && closest(target, '.e-content') && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n        this.hide(e);\n      } else if (closest(target, '.e-footer-container') && target.classList.contains('e-today') && target.classList.contains('e-btn') && +new Date(+this.value) === +_super.prototype.generateTodayVal.call(this, this.value)) {\n        this.hide(e);\n      }\n    }\n  };\n\n  DatePicker.prototype.inputKeyActionHandle = function (e) {\n    var clickedView = this.currentView();\n\n    switch (e.action) {\n      case 'altUpArrow':\n        this.isAltKeyPressed = false;\n        this.hide(e);\n        this.inputElement.focus();\n        break;\n\n      case 'altDownArrow':\n        this.isAltKeyPressed = true;\n        this.strictModeUpdate();\n        this.updateInput();\n        this.changeTrigger(e);\n\n        if (this.getModuleName() === 'datepicker') {\n          this.show(null, e);\n        }\n\n        break;\n\n      case 'escape':\n        this.hide(e);\n        break;\n\n      case 'enter':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        this.errorClass();\n\n        if (!this.isCalendar() && document.activeElement === this.inputElement) {\n          this.hide(e);\n        }\n\n        if (this.isCalendar()) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        {\n          var start = this.inputElement.selectionStart;\n          var end = this.inputElement.selectionEnd;\n\n          if (this.enableMask && !this.popupObj && !this.readonly) {\n            var length_1 = this.inputElement.value.length;\n\n            if (start === 0 && end === length_1 || end !== length_1 && e.action === 'tab' || start !== 0 && e.action === 'shiftTab') {\n              e.preventDefault();\n            }\n\n            this.notify('keyDownHandler', {\n              module: 'MaskedDateTime',\n              e: e\n            });\n            start = this.inputElement.selectionStart;\n            end = this.inputElement.selectionEnd;\n          }\n\n          this.strictModeUpdate();\n          this.updateInput();\n          this.popupUpdate();\n          this.changeTrigger(e);\n          this.errorClass();\n\n          if (this.enableMask) {\n            this.inputElement.selectionStart = start;\n            this.inputElement.selectionEnd = end;\n          }\n\n          this.hide(e);\n          break;\n        }\n\n      default:\n        this.defaultAction(e); // Fix for close the popup when select the previously selected value.\n\n        if (e.action === 'select' && clickedView === this.depth) {\n          this.hide(e);\n        }\n\n    }\n  };\n\n  DatePicker.prototype.defaultAction = function (e) {\n    this.previousDate = !isNullOrUndefined(this.value) && new Date(+this.value) || null;\n\n    if (this.isCalendar()) {\n      _super.prototype.keyActionHandle.call(this, e);\n\n      if (this.isCalendar()) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n      }\n    }\n  };\n\n  DatePicker.prototype.popupUpdate = function () {\n    if (isNullOrUndefined(this.value) && !isNullOrUndefined(this.previousDate) || +this.value !== +this.previousDate) {\n      if (this.popupObj) {\n        if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n          removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n        }\n      }\n\n      if (!isNullOrUndefined(this.value)) {\n        if (+this.value >= +this.min && +this.value <= +this.max) {\n          var targetdate = new Date(this.checkValue(this.value));\n\n          _super.prototype.navigateTo.call(this, 'Month', targetdate);\n        }\n      }\n    }\n  };\n\n  DatePicker.prototype.strictModeUpdate = function () {\n    var format;\n    var formatOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n    } else {\n      format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n    }\n\n    if (!isNullOrUndefined(format)) {\n      var len = format.split('M').length - 1;\n\n      if (len < 3) {\n        format = format.replace('MM', 'M');\n      }\n    }\n\n    var dateOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: format,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: format,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      dateOptions = formatOptions;\n    }\n\n    var date;\n\n    if (typeof this.inputElement.value === 'string') {\n      this.inputElement.value = this.inputElement.value.trim();\n    }\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n        date = this.globalize.parseDate(this.inputElement.value.toLocaleUpperCase(), dateOptions);\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n      }\n    } else {\n      date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n      date = !isNullOrUndefined(date) && isNaN(+date) ? null : date;\n\n      if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n        if ((this.isPopupClicked || !this.isPopupClicked && this.inputElement.value === this.previousElementValue) && this.formatString.indexOf('y') === -1) {\n          date.setFullYear(this.value.getFullYear());\n        }\n      }\n    } // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n\n\n    if (this.getModuleName() === 'datepicker' && this.value && !isNaN(+this.value) && date) {\n      date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n    }\n\n    if (this.strictMode && date) {\n      this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n\n      if (this.inputElement.value !== this.previousElementValue) {\n        this.setProperties({\n          value: date\n        }, true);\n      }\n    } else if (!this.strictMode) {\n      if (this.inputElement.value !== this.previousElementValue) {\n        this.setProperties({\n          value: date\n        }, true);\n      }\n    }\n\n    if (this.strictMode && !date && this.inputElement.value === (this.enableMask ? this.maskedDateValue : '')) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (isNaN(+this.value)) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    if (isNullOrUndefined(this.value)) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n  };\n\n  DatePicker.prototype.createCalendar = function () {\n    var _this = this;\n\n    this.popupWrapper = this.createElement('div', {\n      className: '' + ROOT$1 + ' ' + POPUPWRAPPER\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (Browser.isDevice) {\n      this.modelHeader();\n      this.modal = this.createElement('div');\n      this.modal.className = '' + ROOT$1 + ' e-date-modal';\n      document.body.className += ' ' + OVERFLOW;\n      this.modal.style.display = 'block';\n      document.body.appendChild(this.modal);\n    } //this.calendarElement represent the Calendar object from the Calendar class.\n\n\n    this.calendarElement.querySelector('table tbody').className = '';\n    this.popupObj = new Popup(this.popupWrapper, {\n      content: this.calendarElement,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      offsetY: OFFSETVALUE,\n      targetType: 'container',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      open: function () {\n        if (_this.getModuleName() !== 'datetimepicker') {\n          if (document.activeElement !== _this.inputElement) {\n            _this.defaultKeyConfigs = extend(_this.defaultKeyConfigs, _this.keyConfigs);\n\n            _this.calendarElement.children[1].firstElementChild.focus();\n\n            _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {\n              eventName: 'keydown',\n              keyAction: _this.calendarKeyActionHandle.bind(_this),\n              keyConfigs: _this.defaultKeyConfigs\n            });\n            _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {\n              eventName: 'keydown',\n              keyAction: _this.calendarKeyActionHandle.bind(_this),\n              keyConfigs: _this.defaultKeyConfigs\n            });\n          }\n        }\n      },\n      close: function () {\n        if (_this.isDateIconClicked) {\n          _this.inputWrapper.container.children[_this.index].focus();\n        }\n\n        if (_this.value) {\n          _this.disabledDates();\n        }\n\n        if (_this.popupObj) {\n          _this.popupObj.destroy();\n        }\n\n        _this.resetCalendar();\n\n        detach(_this.popupWrapper);\n        _this.popupObj = _this.popupWrapper = null;\n        _this.preventArgs = null;\n        _this.calendarKeyboardModules = null;\n\n        _this.setAriaAttributes();\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n    this.popupObj.element.className += ' ' + this.cssClass;\n    this.setAriaAttributes();\n  };\n\n  DatePicker.prototype.setAriaDisabled = function () {\n    if (!this.enabled) {\n      this.inputElement.setAttribute('aria-disabled', 'true');\n      this.inputElement.tabIndex = -1;\n    } else {\n      this.inputElement.setAttribute('aria-disabled', 'false');\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    }\n  };\n\n  DatePicker.prototype.modelHeader = function () {\n    var dateOptions;\n    var modelHeader = this.createElement('div', {\n      className: 'e-model-header'\n    });\n    var yearHeading = this.createElement('h1', {\n      className: 'e-model-year'\n    });\n    var h2 = this.createElement('div');\n    var daySpan = this.createElement('span', {\n      className: 'e-model-day'\n    });\n    var monthSpan = this.createElement('span', {\n      className: 'e-model-month'\n    });\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'y',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'y',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'E',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'E',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n\n    if (this.calendarMode === 'Gregorian') {\n      dateOptions = {\n        format: 'MMM d',\n        skeleton: 'dateTime'\n      };\n    } else {\n      dateOptions = {\n        format: 'MMM d',\n        skeleton: 'dateTime',\n        calendar: 'islamic'\n      };\n    }\n\n    monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n    modelHeader.appendChild(yearHeading);\n    h2.appendChild(daySpan);\n    h2.appendChild(monthSpan);\n    modelHeader.appendChild(h2);\n    this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n  };\n\n  DatePicker.prototype.changeTrigger = function (event) {\n    if (this.inputElement.value !== this.previousElementValue) {\n      if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n        if (this.isDynamicValueChanged && this.isCalendar()) {\n          this.popupUpdate();\n        }\n\n        this.changedArgs.value = this.value;\n        this.changedArgs.event = event || null;\n        this.changedArgs.element = this.element;\n        this.changedArgs.isInteracted = !isNullOrUndefined(event);\n\n        if (this.isAngular && this.preventChange) {\n          this.preventChange = false;\n        } else {\n          this.trigger('change', this.changedArgs);\n        }\n\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n        this.isInteracted = true;\n      }\n    }\n  };\n\n  DatePicker.prototype.navigatedEvent = function () {\n    this.trigger('navigated', this.navigatedArgs);\n  };\n\n  DatePicker.prototype.changeEvent = function (event) {\n    if (!this.isIconClicked) {\n      this.selectCalendar(event);\n    }\n\n    if ((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf())) {\n      this.changedArgs.event = event ? event : null;\n      this.changedArgs.element = this.element;\n      this.changedArgs.isInteracted = this.isInteracted;\n\n      if (!this.isDynamicValueChanged) {\n        this.trigger('change', this.changedArgs);\n      }\n\n      this.previousDate = this.value && new Date(+this.value);\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(event);\n      }\n\n      this.previousElementValue = this.inputElement.value;\n      this.errorClass();\n    } else if (event) {\n      this.hide(event);\n    }\n  };\n\n  DatePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  };\n\n  DatePicker.prototype.selectCalendar = function (e) {\n    var date;\n    var tempFormat;\n    var formatOptions;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n    } else {\n      tempFormat = this.formatString;\n    }\n\n    if (this.value) {\n      if (this.getModuleName() === 'datetimepicker') {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: tempFormat,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n      } else {\n        if (this.calendarMode === 'Gregorian') {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd'\n          };\n        } else {\n          formatOptions = {\n            format: this.formatString,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: 'islamic'\n          };\n        }\n\n        date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n      }\n\n      if (this.enableMask) {\n        this.notify('createMask', {\n          module: 'MaskedDateTime'\n        });\n      }\n    }\n\n    if (!isNullOrUndefined(date)) {\n      this.updateInputValue(date);\n\n      if (this.enableMask) {\n        this.notify('setMaskSelection', {\n          module: 'MaskedDateTime'\n        });\n      }\n    }\n  };\n\n  DatePicker.prototype.isCalendar = function () {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DatePicker.prototype.setWidth = function (width) {\n    if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = width.match(/px|%|em/) ? this.width : formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * Shows the Calendar.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.show = function (type, e) {\n    var _this = this;\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      var prevent_1 = true;\n      var outOfRange = void 0;\n\n      if (!isNullOrUndefined(this.value) && !(+this.value >= +new Date(this.checkValue(this.min)) && +this.value <= +new Date(this.checkValue(this.max)))) {\n        outOfRange = new Date(this.checkValue(this.value));\n        this.setProperties({\n          'value': null\n        }, true);\n      } else {\n        outOfRange = this.value || null;\n      }\n\n      if (!this.isCalendar()) {\n        _super.prototype.render.call(this);\n\n        this.setProperties({\n          'value': outOfRange || null\n        }, true);\n        this.previousDate = outOfRange;\n        this.createCalendar();\n      }\n\n      if (Browser.isDevice) {\n        this.mobilePopupWrapper = this.createElement('div', {\n          className: 'e-datepick-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobilePopupWrapper);\n      }\n\n      this.preventArgs = {\n        preventDefault: function () {\n          prevent_1 = false;\n        },\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n      };\n      var eventArgs = this.preventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        _this.preventArgs = eventArgs;\n\n        if (prevent_1 && !_this.preventArgs.cancel) {\n          addClass(_this.inputWrapper.buttons, ACTIVE);\n\n          _this.preventArgs.appendTo.appendChild(_this.popupWrapper);\n\n          _this.popupObj.refreshPosition(_this.inputElement);\n\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: Browser.isDevice ? 0 : OPENDURATION\n          };\n\n          if (_this.zIndex === 1000) {\n            _this.popupObj.show(new Animation(openAnimation), _this.element);\n          } else {\n            _this.popupObj.show(new Animation(openAnimation), null);\n          } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n          _super.prototype.setOverlayIndex.call(_this, _this.mobilePopupWrapper, _this.popupObj.element, _this.modal, Browser.isDevice);\n\n          _this.setAriaAttributes();\n        } else {\n          _this.popupObj.destroy();\n\n          _this.popupWrapper = _this.popupObj = null;\n        }\n\n        if (!isNullOrUndefined(_this.inputElement) && _this.inputElement.value === '') {\n          if (!isNullOrUndefined(_this.tableBodyElement) && _this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n            addClass([_this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n            removeClass(_this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n          }\n        }\n\n        EventHandler.add(document, 'mousedown touchstart', _this.documentHandler, _this);\n      });\n    }\n  };\n  /**\n   * Hide the Calendar.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.hide = function (event) {\n    var _this = this;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var prevent_2 = true;\n      this.preventArgs = {\n        preventDefault: function () {\n          prevent_2 = false;\n        },\n        popup: this.popupObj,\n        event: event || null,\n        cancel: false\n      };\n      removeClass(this.inputWrapper.buttons, ACTIVE);\n      removeClass([document.body], OVERFLOW);\n      var eventArgs = this.preventArgs;\n\n      if (this.isCalendar()) {\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.closeEventCallback(prevent_2, eventArgs);\n        });\n      } else {\n        this.closeEventCallback(prevent_2, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  DatePicker.prototype.closeEventCallback = function (prevent, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (this.isCalendar() && prevent && !this.preventArgs.cancel) {\n      this.popupObj.hide();\n      this.isAltKeyPressed = false;\n      this.keyboardModule.destroy();\n      removeClass(this.inputWrapper.buttons, ACTIVE);\n    }\n\n    this.setAriaAttributes();\n\n    if (Browser.isDevice && this.modal) {\n      this.modal.style.display = 'none';\n      this.modal.outerHTML = '';\n      this.modal = null;\n    }\n\n    if (Browser.isDevice) {\n      if (!isNullOrUndefined(this.mobilePopupWrapper) && prevent && (isNullOrUndefined(this.preventArgs) || !this.preventArgs.cancel)) {\n        this.mobilePopupWrapper.remove();\n        this.mobilePopupWrapper = null;\n      }\n    }\n\n    EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  };\n  /* eslint-disable jsdoc/require-param */\n\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DatePicker.prototype.focusIn = function (triggerEvent) {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS]);\n    }\n  };\n  /* eslint-enable jsdoc/require-param */\n\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DatePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n      this.inputElement.blur();\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the DatePicker.\n   *\n   * @returns {string}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.currentView = function () {\n    var currentView;\n\n    if (this.calendarElement) {\n      // calls the Calendar currentView public method\n      currentView = _super.prototype.currentView.call(this);\n    }\n\n    return currentView;\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Navigates to specified month or year or decade view of the DatePicker.\n   *\n   * @param  {string} view - Specifies the view of the calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DatePicker.prototype.navigateTo = function (view, date) {\n    if (this.calendarElement) {\n      // calls the Calendar navigateTo public method\n      _super.prototype.navigateTo.call(this, view, date);\n    }\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DatePicker.prototype.destroy = function () {\n    this.unBindEvents();\n\n    _super.prototype.destroy.call(this);\n\n    if (!isNullOrUndefined(this.keyboardModules)) {\n      this.keyboardModules.destroy();\n    }\n\n    if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n      _super.prototype.destroy.call(this);\n    }\n\n    var ariaAttrs = {\n      'aria-atomic': 'true',\n      'aria-disabled': 'true',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n\n      if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n      this.ensureInputAttribute();\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObj = this.popupWrapper = null;\n      this.keyboardModule.destroy();\n    }\n\n    if (this.ngTag === null) {\n      if (this.inputElement) {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n          this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n        }\n\n        removeClass([this.inputElement], [INPUTROOT]);\n      }\n\n      removeClass([this.element], [ROOT$1]);\n\n      if (!isNullOrUndefined(this.inputWrapper)) {\n        detach(this.inputWrapper.container);\n      }\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n    }\n\n    this.inputWrapper = null;\n    this.keyboardModules = null;\n  };\n\n  DatePicker.prototype.ensureInputAttribute = function () {\n    var prop = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      prop[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < prop.length; i++) {\n      if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n        if (prop[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(prop[i]);\n      } else {\n        if (prop[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n        }\n\n        this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n      }\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DatePicker.prototype.preRender = function () {\n    this.inputElementCopy = this.element.cloneNode(true);\n    removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n    this.inputElement = this.element;\n    this.formElement = closest(this.inputElement, 'form');\n    this.index = this.showClearButton ? 2 : 1;\n    this.ngTag = null;\n\n    if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.ngTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    if (this.element.getAttribute('id')) {\n      if (this.ngTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      if (this.getModuleName() === 'datetimepicker') {\n        this.element.id = getUniqueID('ej2-datetimepicker');\n\n        if (this.ngTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      } else {\n        this.element.id = getUniqueID('ej2-datepicker');\n\n        if (this.ngTag !== null) {\n          attributes(this.inputElement, {\n            'id': this.element.id + '_input'\n          });\n        }\n      }\n    }\n\n    if (this.ngTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.defaultKeyConfigs = this.getDefaultKeyConfig();\n    this.checkHtmlAttributes(false);\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n\n    _super.prototype.preRender.call(this);\n  };\n\n  DatePicker.prototype.getDefaultKeyConfig = function () {\n    this.defaultKeyConfigs = {\n      altUpArrow: 'alt+uparrow',\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      controlUp: 'ctrl+38',\n      controlDown: 'ctrl+40',\n      moveDown: 'downarrow',\n      moveUp: 'uparrow',\n      moveLeft: 'leftarrow',\n      moveRight: 'rightarrow',\n      select: 'enter',\n      home: 'home',\n      end: 'end',\n      pageUp: 'pageup',\n      pageDown: 'pagedown',\n      shiftPageUp: 'shift+pageup',\n      shiftPageDown: 'shift+pagedown',\n      controlHome: 'ctrl+home',\n      controlEnd: 'ctrl+end',\n      shiftTab: 'shift+tab',\n      tab: 'tab'\n    };\n    return this.defaultKeyConfigs;\n  };\n\n  DatePicker.prototype.validationAttribute = function (target, inputElement) {\n    var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    inputElement.setAttribute('name', nameAttribute);\n    target.removeAttribute('name');\n    var attribute = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attribute.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attribute[i]);\n      inputElement.setAttribute(attribute[i], attr);\n      target.removeAttribute(attribute[i]);\n    }\n  };\n\n  DatePicker.prototype.checkFormat = function () {\n    var culture = new Internationalization(this.locale);\n\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        var skeletonString = this.format.skeleton;\n\n        if (this.getModuleName() === 'datetimepicker') {\n          this.formatString = culture.getDatePattern({\n            skeleton: skeletonString,\n            type: 'dateTime'\n          });\n        } else {\n          this.formatString = culture.getDatePattern({\n            skeleton: skeletonString,\n            type: 'date'\n          });\n        }\n      } else {\n        if (this.getModuleName() === 'datetimepicker') {\n          this.formatString = this.dateTimeFormat;\n        } else {\n          this.formatString = null;\n        }\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  DatePicker.prototype.checkHtmlAttributes = function (dynamic) {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n    var attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n    var options;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        options = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        options = {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        options = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        options = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n    }\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['enabled'] === undefined || dynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['readonly'] === undefined || dynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['placeholder'] === undefined || dynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !dynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.datepickerOptions) || this.datepickerOptions['value'] === undefined || dynamic) {\n              var value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (+this.min === +new Date(1900, 0, 1) || dynamic) {\n              var min = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n            }\n\n            break;\n\n          case 'max':\n            if (+this.max === +new Date(2099, 11, 31) || dynamic) {\n              var max = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DatePicker.prototype.getModuleName = function () {\n    return 'datepicker';\n  };\n\n  DatePicker.prototype.disabledDates = function (isDynamic) {\n    if (isDynamic === void 0) {\n      isDynamic = false;\n    }\n\n    var formatOptions;\n    var globalize;\n    var valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n    var previousValCopy = this.previousDate; //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n\n    this.minMaxUpdates();\n\n    if (!isDynamic || isDynamic && !isNullOrUndefined(this.renderDayCell)) {\n      _super.prototype.render.call(this);\n    }\n\n    this.previousDate = previousValCopy;\n    var date = valueCopy && +valueCopy;\n    var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n\n    if (!this.strictMode) {\n      if (typeof this.value === 'string' || typeof this.value === 'object' && +this.value !== +valueCopy) {\n        this.setProperties({\n          value: valueCopy\n        }, true);\n      }\n    }\n\n    if (!isNullOrUndefined(this.calendarElement) && !isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n      if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n        if (!this.strictMode) {\n          this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n      }\n    }\n\n    var inputVal;\n\n    if (this.getModuleName() === 'datetimepicker') {\n      if (this.calendarMode === 'Gregorian') {\n        globalize = this.globalize.formatDate(valueCopy, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        });\n      } else {\n        globalize = this.globalize.formatDate(valueCopy, {\n          format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        });\n      }\n\n      inputVal = globalize;\n    } else {\n      if (this.calendarMode === 'Gregorian') {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        formatOptions = {\n          format: this.formatString,\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n    }\n\n    if (!this.popupObj) {\n      this.updateInputValue(inputVal);\n\n      if (this.enableMask) {\n        this.updateInputValue(this.maskedDateValue);\n        this.notify('createMask', {\n          module: 'MaskedDateTime'\n        });\n      }\n    }\n  };\n\n  DatePicker.prototype.setAriaAttributes = function () {\n    if (this.isCalendar()) {\n      Input.addAttributes({\n        'aria-expanded': 'true'\n      }, this.inputElement);\n      attributes(this.inputElement, {\n        'aria-owns': this.inputElement.id + '_options'\n      });\n\n      if (this.value) {\n        attributes(this.inputElement, {\n          'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n      }\n    } else {\n      Input.addAttributes({\n        'aria-expanded': 'false'\n      }, this.inputElement);\n      this.inputElement.removeAttribute('aria-owns');\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  DatePicker.prototype.errorClass = function () {\n    var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + +this.value);\n    var isDisabledDate = this.calendarElement && this.calendarElement.querySelectorAll(dateIdString)[0] && this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n\n    if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.min) && // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    !isNullOrUndefined(this.max) && !(new Date(this.value).setMilliseconds(0) >= new Date(this.min).setMilliseconds(0) // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    && new Date(this.value).setMilliseconds(0) <= new Date(this.max).setMilliseconds(0)) || !this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate) {\n      addClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else if (!isNullOrUndefined(this.inputWrapper)) {\n      removeClass([this.inputWrapper.container], ERROR);\n      attributes(this.inputElement, {\n        'aria-invalid': 'false'\n      });\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  DatePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.isInteracted = false;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          this.previousElementValue = this.inputElement.value;\n\n          if (isNullOrUndefined(this.value)) {\n            if (this.enableMask) {\n              this.updateInputValue(this.maskedDateValue);\n            } else {\n              this.updateInputValue('');\n            }\n\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n          }\n\n          this.updateInput(true);\n\n          if (+this.previousDate !== +this.value) {\n            this.changeTrigger(null);\n          }\n\n          this.isInteracted = true;\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n          }\n\n          break;\n\n        case 'format':\n          this.checkFormat();\n          this.bindInputEvent();\n          this.updateInput();\n\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'allowEdit':\n          this.setAllowEdit();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n          this.setAriaDisabled();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.updateInput();\n\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n          }\n\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'start':\n        case 'depth':\n          this.checkView();\n\n          if (this.calendarElement) {\n            _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n          }\n\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          this.index = this.showClearButton ? 2 : 1;\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n            this.updateInputValue(this.maskedDateValue);\n            this.bindInputEvent();\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n\n        default:\n          if (this.calendarElement && this.isCalendar()) {\n            _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n          }\n\n          break;\n      }\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  };\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"width\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"value\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"cssClass\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"format\", void 0);\n\n  __decorate$1([Property(true)], DatePicker.prototype, \"enabled\", void 0);\n\n  __decorate$1([Property({})], DatePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"values\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"isMultiSelection\", void 0);\n\n  __decorate$1([Property(true)], DatePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$1([Property(true)], DatePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$1([Property(1000)], DatePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"readonly\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$1([Property('Never')], DatePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate$1([Property(null)], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$1([Property(false)], DatePicker.prototype, \"enableMask\", void 0);\n\n  __decorate$1([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], DatePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"open\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"cleared\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"close\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"blur\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"focus\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"created\", void 0);\n\n  __decorate$1([Event()], DatePicker.prototype, \"destroyed\", void 0);\n\n  DatePicker = __decorate$1([NotifyPropertyChanges], DatePicker);\n  return DatePicker;\n}(Calendar);\n/**\n * Datepicker modules\n */\n\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n\n\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER$1 = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP$1 = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT$2 = 'e-daterangepicker';\nvar LIBRARY$1 = 'e-lib';\nvar CONTROL$1 = 'e-control';\nvar ERROR$1 = 'e-error';\nvar ACTIVE$1 = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS$1 = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH$2 = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED$2 = 'e-disabled';\nvar SELECTED$3 = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON$1 = 'e-next';\nvar PREVICON$1 = 'e-prev';\nvar HEADER$1 = 'e-header';\nvar TITLE$1 = 'e-title';\nvar ICONCONTAINER$1 = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER$1 = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY$2 = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT$1 = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER$2 = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE$1 = 'e-device';\nvar OVERLAY$2 = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = 'e-list-item';\nvar RTL$1 = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW$1 = 'e-range-overflow';\nvar OFFSETVALUE$1 = 4;\nvar PRIMARY$1 = 'e-primary';\nvar FLAT$1 = 'e-flat';\nvar CSS$1 = 'e-css';\nvar ZOOMIN$1 = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\n\nvar Presets =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(Presets, _super);\n\n  function Presets() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property()], Presets.prototype, \"label\", void 0);\n\n  __decorate$2([Property()], Presets.prototype, \"start\", void 0);\n\n  __decorate$2([Property()], Presets.prototype, \"end\", void 0);\n\n  return Presets;\n}(ChildProperty);\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\n\n\nvar DateRangePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(DateRangePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DateRangePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isCustomRange = false;\n    _this.isCustomWindow = false;\n    _this.presetsItem = [];\n    _this.liCollections = [];\n    _this.previousEleValue = '';\n    _this.isKeyPopup = false;\n    _this.dateDisabled = false;\n    _this.isRangeIconClicked = false;\n    _this.isMaxDaysClicked = false;\n    _this.disabledDays = [];\n    _this.preventBlur = false;\n    _this.preventFocus = false;\n    _this.invalidValueString = null;\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.dateRangeOptions = options;\n    return _this;\n  }\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateRangePicker.prototype.render = function () {\n    this.initialize();\n    this.setProperties({\n      startDate: this.startValue\n    }, true);\n    this.setProperties({\n      endDate: this.endValue\n    }, true);\n    this.setModelValue();\n    this.setDataAttribute(false);\n\n    if (this.element.hasAttribute('data-val')) {\n      this.element.setAttribute('data-val', 'false');\n    }\n\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n    }\n\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n\n    this.renderComplete();\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateRangePicker.prototype.preRender = function () {\n    this.keyInputConfigs = {\n      altDownArrow: 'alt+downarrow',\n      escape: 'escape',\n      enter: 'enter',\n      tab: 'tab',\n      altRightArrow: 'alt+rightarrow',\n      altLeftArrow: 'alt+leftarrow',\n      moveUp: 'uparrow',\n      moveDown: 'downarrow',\n      spacebar: 'space'\n    };\n    this.defaultConstant = {\n      placeholder: this.placeholder,\n      startLabel: 'Start Date',\n      endLabel: 'End Date',\n      customRange: 'Custom Range',\n      applyText: 'Apply',\n      cancelText: 'Cancel',\n      selectedDays: 'Selected Days',\n      days: 'days'\n    };\n    /**\n     * Mobile View\n     */\n\n    this.isMobile = window.matchMedia('(max-width:550px)').matches;\n    this.inputElement = this.element;\n    this.angularTag = null;\n\n    if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n    this.updateHtmlAttributeToElement();\n\n    if (this.element.getAttribute('id')) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      this.element.id = getUniqueID('ej2-datetimepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    this.checkInvalidRange(this.value);\n\n    if (!this.invalidValueString && typeof this.value === 'string') {\n      var rangeArray = this.value.split(' ' + this.separator + ' ');\n      this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n    }\n\n    this.initProperty();\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n\n    _super.prototype.preRender.call(this);\n\n    this.navNextFunction = this.navNextMonth.bind(this);\n    this.navPrevFunction = this.navPrevMonth.bind(this);\n    this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n    this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.formElement = closest(this.element, 'form');\n  };\n\n  DateRangePicker.prototype.updateValue = function () {\n    if (this.value && this.value.length > 0) {\n      if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n        this.setProperties({\n          startDate: this.value[0]\n        }, true);\n        this.startValue = this.value[0];\n      } else if (typeof this.value[0] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.startValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            startDate: new Date(this.checkValue(this.value[0]))\n          }, true);\n          this.startValue = new Date(this.checkValue(this.value[0]));\n        }\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n        this.setProperties({\n          endDate: this.value[1]\n        }, true);\n        this.endValue = this.value[1];\n      } else if (typeof this.value[1] === 'string') {\n        if (+this.value[0] === 0 || isNaN(+new Date(this.checkValue(this.value[0])))) {\n          this.setProperties({\n            endDate: null\n          }, true);\n          this.endValue = null;\n          this.setValue();\n        } else {\n          this.setProperties({\n            endDate: new Date(this.checkValue(this.value[1]))\n          }, true);\n          this.endValue = new Date(this.checkValue(this.value[1]));\n          this.setValue();\n        }\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (this.value && this.value.start) {\n      if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n        this.setProperties({\n          startDate: this.value.start\n        }, true);\n        this.startValue = this.value.start;\n      } else if (typeof this.value.start === 'string') {\n        this.setProperties({\n          startDate: new Date(this.checkValue(this.value.start))\n        }, true);\n        this.startValue = new Date(this.checkValue(this.value.start));\n      } else {\n        this.startValue = null;\n        this.setValue();\n      }\n\n      if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n        this.setProperties({\n          endDate: this.value.end\n        }, true);\n        this.endValue = this.value.end;\n      } else if (typeof this.value.end === 'string') {\n        this.setProperties({\n          endDate: new Date(this.checkValue(this.value.end))\n        }, true);\n        this.endValue = new Date(this.checkValue(this.value.end));\n        this.setValue();\n      } else {\n        this.setProperties({\n          endDate: null\n        }, true);\n        this.endValue = null;\n        this.setValue();\n      }\n    } else if (isNullOrUndefined(this.value)) {\n      this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n      this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n      this.setValue();\n    }\n  };\n\n  DateRangePicker.prototype.initProperty = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.checkFormat();\n    this.checkView();\n\n    if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n      this.setProperties({\n        firstDayOfWeek: this.globalize.getFirstDayOfWeek()\n      }, true);\n    }\n\n    this.updateValue();\n  };\n\n  DateRangePicker.prototype.checkFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          skeleton: skeletonString,\n          type: 'date'\n        });\n      } else {\n        this.formatString = null;\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  DateRangePicker.prototype.initialize = function () {\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.checkHtmlAttributes(false);\n    merge(this.defaultKeyConfigs, {\n      shiftTab: 'shift+tab',\n      tab: 'tab'\n    });\n    var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n    this.setProperties({\n      startDate: start\n    }, true); // persist the value propeerty.\n\n    this.setProperties({\n      endValue: this.checkDateValue(new Date(this.checkValue(this.endValue)))\n    }, true);\n    this.setValue();\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkValue(this.max)))\n    }, true);\n    this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.processPresets();\n    this.createInput();\n    this.updateHtmlAttributeToWrapper();\n    this.setRangeAllowEdit();\n    this.bindEvents();\n  };\n\n  DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n    var attributes$$1 = {};\n\n    if (!isDynamic) {\n      for (var i = 0; i < this.element.attributes.length; i++) {\n        attributes$$1[this.element.attributes[i].name] = this.element.getAttribute(this.element.attributes[i].name);\n      }\n    } else {\n      attributes$$1 = this.htmlAttributes;\n    }\n\n    for (var _i = 0, _a = Object.keys(attributes$$1); _i < _a.length; _i++) {\n      var pro = _a[_i];\n\n      if (pro.indexOf('data') === 0) {\n        this.firstHiddenChild.setAttribute(pro, attributes$$1[\"\" + pro]);\n        this.secondHiddenChild.setAttribute(pro, attributes$$1[\"\" + pro]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.setRangeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.updateClearIconState();\n  };\n\n  DateRangePicker.prototype.updateClearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [NONEDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [NONEDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [NONEDITABLE]);\n    }\n  };\n\n  DateRangePicker.prototype.validationAttribute = function (element, input) {\n    var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n    input.setAttribute('name', name);\n    element.removeAttribute('name');\n    var attributes$$1 = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes$$1.length; i++) {\n      if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n        continue;\n      }\n\n      var attr = element.getAttribute(attributes$$1[i]);\n      input.setAttribute(attributes$$1[i], attr);\n      element.removeAttribute(attributes$$1[i]);\n    }\n  };\n\n  DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttr.indexOf(key) > -1) {\n          if (key === 'class') {\n            var updatedClassValue = this.htmlAttributes[\"\" + key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n            }\n          } else if (key === 'style') {\n            var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n            dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? dateRangeStyle + this.htmlAttributes[\"\" + key] : this.htmlAttributes[\"\" + key];\n            this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[\"\" + key]);\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttr.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[\"\" + key]);\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateCssClass = function (cssNewClass, cssOldClass) {\n    if (!isNullOrUndefined(cssOldClass)) {\n      cssOldClass = cssOldClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssNewClass)) {\n      cssNewClass = cssNewClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n    }\n  };\n\n  DateRangePicker.prototype.processPresets = function () {\n    this.presetsItem = [];\n    var i = 0;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n        var range = _a[_i];\n        var id = range.label.replace(/\\s+/g, '') + '_' + ++i;\n\n        if (typeof range.end === 'string') {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            end: new Date(this.checkValue(range.end)),\n            start: new Date(this.checkValue(range.start))\n          });\n        } else {\n          this.presetsItem.push({\n            id: id,\n            text: range.label,\n            start: range.start,\n            end: range.end\n          });\n        }\n      }\n\n      var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n      var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n      this.presetsItem.push({\n        id: 'custom_range',\n        text: this.l10n.getConstant('customRange'),\n        start: startDate,\n        end: endDate\n      });\n\n      if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n        this.isCustomRange = true;\n        this.activeIndex = this.presetsItem.length - 1;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n\n    if (!this.isMobile) {\n      this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n      this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n        eventName: 'keydown',\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyInputConfigs\n      });\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (this.enabled) {\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  DateRangePicker.prototype.unBindEvents = function () {\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.inputKeyboardModule)) {\n        this.inputKeyboardModule.destroy();\n      }\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    this.inputElement.tabIndex = -1;\n  };\n\n  DateRangePicker.prototype.updateHiddenInput = function () {\n    if (this.firstHiddenChild && this.secondHiddenChild) {\n      var format = {\n        type: 'datetime',\n        skeleton: 'yMd'\n      };\n\n      if (typeof this.startDate === 'string') {\n        this.startDate = this.globalize.parseDate(this.startDate, format);\n      }\n\n      if (typeof this.endDate === 'string') {\n        this.endDate = this.globalize.parseDate(this.endDate, format);\n      }\n\n      this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format) || this.inputElement.value;\n      this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format) || this.inputElement.value;\n      this.dispatchEvent(this.firstHiddenChild, 'focusout');\n      this.dispatchEvent(this.firstHiddenChild, 'change');\n    }\n  };\n\n  DateRangePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n    this.updateHiddenInput();\n  };\n\n  DateRangePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n    }\n  };\n\n  DateRangePicker.prototype.resetHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.valueType = this.value;\n    e.preventDefault();\n    this.clear();\n    var clearedArgs = {\n      event: e\n    };\n    this.setProperties({\n      endDate: this.checkDateValue(this.endValue)\n    }, true);\n    this.setProperties({\n      startDate: this.checkDateValue(this.startValue)\n    }, true);\n    this.trigger('cleared', clearedArgs);\n    this.changeTrigger(e);\n    this.clearRange();\n    this.hide(e);\n\n    if (closest(this.element, 'form')) {\n      var element = this.firstHiddenChild;\n      var keyupEvent = document.createEvent('KeyboardEvent');\n      keyupEvent.initEvent('keyup', false, true);\n      element.dispatchEvent(keyupEvent);\n    }\n  };\n\n  DateRangePicker.prototype.restoreValue = function () {\n    this.previousEleValue = this.inputElement.value;\n    this.previousStartValue = this.startValue;\n    this.previousEndValue = this.endValue;\n    this.valueType = null;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n    this.setValue();\n    this.setModelValue();\n  };\n\n  DateRangePicker.prototype.formResetHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.formElement && e.target === this.formElement && !this.inputElement.disabled) {\n      var val = this.inputElement.getAttribute('value');\n\n      if (!isNullOrUndefined(this.startCopy)) {\n        if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n          this.setProperties({\n            value: {\n              start: this.startCopy,\n              end: this.endCopy\n            }\n          }, true);\n          this.startValue = this.value.start;\n          this.endValue = this.value.end;\n        } else {\n          this.setProperties({\n            value: [this.startCopy, this.endCopy]\n          }, true);\n          this.startValue = this.value[0];\n          this.endValue = this.value[1];\n        }\n\n        this.setProperties({\n          startDate: this.startValue,\n          endDate: this.endValue\n        }, true);\n      } else {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        this.startValue = this.endValue = null;\n      }\n\n      if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n        this.setProperties({\n          value: null,\n          startDate: null,\n          endDate: null\n        }, true);\n        val = '';\n        this.startValue = this.endValue = null;\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.restoreValue();\n\n      if (this.inputElement) {\n        Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n        this.errorClass();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.clear = function () {\n    if (this.startValue !== null) {\n      this.startValue = null;\n    }\n\n    if (this.endValue !== null) {\n      this.endValue = null;\n    }\n\n    if (this.value && this.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    if (this.value !== null && this.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n\n    if (!isNullOrUndefined(this.applyButton)) {\n      this.applyButton.disabled = this.applyButton.element.disabled = true;\n    }\n\n    this.removeSelection();\n  };\n\n  DateRangePicker.prototype.rangeIconHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (this.isMobile) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n    this.targetElement = null;\n\n    if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n      this.applyFunction(e);\n    } else {\n      this.isRangeIconClicked = true;\n      this.inputWrapper.container.children[0].focus();\n      this.show(null, e);\n\n      if (!this.isMobile) {\n        if (!isNullOrUndefined(this.leftCalendar)) {\n          this.isRangeIconClicked = false;\n          this.calendarFocus();\n          this.isRangeIconClicked = true;\n        }\n      }\n\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n  };\n\n  DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n    this.globalize = new Internationalization(this.locale);\n    var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type', 'value'];\n    var format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['enabled'] === undefined || isDynamic) {\n              var disabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                enabled: !disabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateRangeOptions) || this.dateRangeOptions['value'] === undefined || isDynamic) {\n              var value = this.inputElement.getAttribute(prop);\n              this.setProperties(setValue(prop, value, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1) || isDynamic) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31) || isDynamic) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'startDate':\n            if (isNullOrUndefined(this.startDate)) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.startValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'endDate':\n            if (isNullOrUndefined(this.endDate)) {\n              var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n              this.endValue = dateValue;\n              this.setValue();\n            }\n\n            break;\n\n          case 'minDays':\n            if (isNullOrUndefined(this.minDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'maxDays':\n            if (isNullOrUndefined(this.maxDays)) {\n              this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n            }\n\n            break;\n\n          case 'type':\n            if (this.inputElement.getAttribute(prop) !== 'text') {\n              this.inputElement.setAttribute('type', 'text');\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createPopup = function () {\n    for (var i = 0; i < this.presetsItem.length; i++) {\n      if (i !== this.presetsItem.length - 1 && this.presetsItem[i].id === 'custom_range') {\n        this.presetsItem.splice(i, 1);\n      }\n    }\n\n    this.activeIndex = this.presetsItem.length - 1;\n    this.isCustomRange = true;\n\n    for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n      var startDate = this.presetsItem[i].start;\n      var endDate = this.presetsItem[i].end;\n\n      if (this.startValue && this.endValue) {\n        if (+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0)) && +new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0))) {\n          this.activeIndex = i;\n          this.isCustomRange = false;\n        }\n      }\n    }\n\n    this.popupWrapper = createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT$2 + ' ' + POPUP$1\n    });\n    this.adjustLongHeaderWidth();\n    var isPreset = !this.isCustomRange || this.isMobile;\n\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n      this.isCustomWindow = false;\n      this.createPresets();\n      this.listRippleEffect();\n      this.renderPopup();\n    } else {\n      this.isCustomWindow = true;\n      this.renderControl();\n    }\n  };\n\n  DateRangePicker.prototype.renderControl = function () {\n    this.createControl();\n    this.bindCalendarEvents();\n    this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n      this.disabledDateRender();\n    }\n\n    this.updateHeader();\n  };\n\n  DateRangePicker.prototype.clearCalendarEvents = function () {\n    if (this.leftCalPrevIcon && this.leftCalNextIcon && this.rightCalPrevIcon && this.rightCalNextIcon) {\n      EventHandler.clearEvents(this.leftCalPrevIcon);\n      EventHandler.clearEvents(this.leftCalNextIcon);\n      EventHandler.clearEvents(this.rightCalPrevIcon);\n      EventHandler.clearEvents(this.rightCalNextIcon);\n    }\n  };\n\n  DateRangePicker.prototype.updateNavIcons = function () {\n    _super.prototype.iconHandler.call(this);\n  };\n\n  DateRangePicker.prototype.calendarIconEvent = function () {\n    this.clearCalendarEvents();\n\n    if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n\n    if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n    }\n\n    if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n    }\n  };\n\n  DateRangePicker.prototype.bindCalendarEvents = function () {\n    if (!this.isMobile) {\n      this.updateNavIcons();\n      this.calendarIconEvent();\n      this.calendarIconRipple();\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n      this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n      this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n      this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n      this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n        eventName: 'keydown',\n        keyAction: this.keyInputHandler.bind(this),\n        keyConfigs: this.defaultKeyConfigs\n      });\n    } else {\n      this.deviceCalendarEvent();\n      EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n      EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n    }\n\n    if (this.start === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.calendarIconRipple = function () {\n    rippleEffect(this.leftCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.leftCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalPrevIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.rightCalNextIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n  };\n\n  DateRangePicker.prototype.deviceCalendarEvent = function () {\n    EventHandler.clearEvents(this.nextIcon);\n    EventHandler.clearEvents(this.previousIcon);\n    rippleEffect(this.nextIcon, {\n      selector: '.e-prev',\n      duration: 400,\n      isCenterRipple: true\n    });\n    rippleEffect(this.previousIcon, {\n      selector: '.e-next',\n      duration: 400,\n      isCenterRipple: true\n    });\n\n    if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n    }\n\n    if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n      EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n    }\n  };\n\n  DateRangePicker.prototype.deviceNavNext = function (e) {\n    var calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigateNext(e);\n    this.deviceNavigation();\n  };\n\n  DateRangePicker.prototype.deviceNavPrevious = function (e) {\n    var calendar = closest(e.target, '.' + CALENDAR);\n    this.updateDeviceCalendar(calendar);\n    this.navigatePrevious(e);\n    this.deviceNavigation();\n  };\n\n  DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n    if (calendar) {\n      this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n      this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n      this.calendarElement = calendar;\n      this.deviceCalendar = calendar;\n      this.contentElement = calendar.querySelector('.' + CONTENT$1);\n      this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n      this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n      this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n      this.headerElement = calendar.querySelector('.' + HEADER$1);\n    }\n  };\n\n  DateRangePicker.prototype.deviceHeaderClick = function (event) {\n    var element = event.currentTarget;\n\n    if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n      this.endButton.element.classList.remove(ACTIVE$1);\n      this.startButton.element.classList.add(ACTIVE$1);\n      var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.startValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.removeClassDisabled();\n    } else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.startButton.element.classList.remove(ACTIVE$1);\n      this.endButton.element.classList.add(ACTIVE$1);\n      var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n      this.updateDeviceCalendar(calendar);\n\n      if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n        this.currentDate = new Date(+this.endValue);\n        remove(this.tableBodyElement);\n        this.createContentBody();\n        this.deviceNavigation();\n      }\n\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      this.selectableDates();\n    }\n  };\n\n  DateRangePicker.prototype.inputFocusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.preventBlur = false;\n    var focusArguments = {\n      model: this\n    };\n\n    if (!this.preventFocus) {\n      this.trigger('focus', focusArguments);\n    }\n\n    this.updateClearIconState();\n    this.updateHiddenInput();\n\n    if (this.openOnFocus && !this.preventFocus) {\n      this.preventFocus = true;\n      this.show();\n    } else {\n      this.preventFocus = true;\n    }\n  };\n\n  DateRangePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.preventBlur) {\n      var value = this.inputElement.value;\n\n      if (!isNullOrUndefined(this.presetsItem)) {\n        if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n          this.activeIndex = this.presetsItem.length - 1;\n          this.isCustomRange = true;\n        }\n      }\n\n      if (!isNullOrUndefined(value) && value.trim() !== '') {\n        var range = value.split(' ' + this.separator + ' ');\n\n        if (range.length > 1) {\n          this.invalidValueString = null;\n          var dateOptions = {\n            format: this.formatString,\n            type: 'date',\n            skeleton: 'yMd'\n          };\n          var start = new Date(range[0]);\n          var end = new Date(range[1]);\n          var startDate = this.getStartEndDate(start, false, range, dateOptions);\n          var endDate = this.getStartEndDate(end, true, range, dateOptions);\n\n          if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n            var prevStartVal = this.startValue;\n            this.startValue = startDate;\n            var prevEndVal = this.endValue;\n            this.endValue = endDate;\n            this.setValue();\n            this.refreshControl();\n\n            if (value !== this.previousEleValue) {\n              this.changeTrigger(e);\n            }\n\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n              this.preventFocus = false;\n              var blurArguments = {\n                model: this\n              };\n              this.trigger('blur', blurArguments);\n            }\n\n            this.updateHiddenInput(); // For Mobile mode, when a value is present and choose another range and click on console\n            // when popup is open, two startvalues and end values are updated in the popup.\n\n            if (this.isMobile && this.isPopupOpen()) {\n              this.startValue = prevStartVal;\n              this.endValue = prevEndVal;\n            }\n\n            return;\n          } else {\n            if (!this.strictMode) {\n              this.startValue = null;\n              this.endValue = null;\n              this.setValue();\n            }\n          }\n        } else {\n          if (!this.strictMode) {\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n          }\n        }\n      }\n\n      if (!this.strictMode) {\n        if (isNullOrUndefined(this.popupObj)) {\n          this.currentDate = null;\n        }\n\n        this.previousStartValue = this.previousEndValue = null;\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n      } else {\n        if (!isNullOrUndefined(value) && value.trim() === '') {\n          this.startValue = null;\n          this.endValue = null;\n        }\n\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.updateInput();\n      }\n\n      this.errorClass();\n      this.changeTrigger(e);\n\n      if (!this.preventBlur && document.activeElement !== this.inputElement) {\n        this.preventFocus = false;\n        var blurArguments = {\n          model: this\n        };\n        this.trigger('blur', blurArguments);\n      }\n    }\n\n    this.updateHiddenInput();\n  }; // eslint-disable-next-line @typescript-eslint/tslint/config\n\n\n  DateRangePicker.prototype.getStartEndDate = function (date, isEnd, range, dateOptions) {\n    if (this.depth === 'Month') {\n      return this.globalize.parseDate(range[isEnd ? 1 : 0].trim(), dateOptions);\n    } else if (this.depth === 'Year') {\n      return new Date(date.getFullYear(), date.getMonth() + (isEnd ? 1 : 0), isEnd ? 0 : 1);\n    } else {\n      return new Date(date.getFullYear(), isEnd ? 11 : 0, isEnd ? 31 : 1);\n    }\n  };\n\n  DateRangePicker.prototype.clearRange = function () {\n    this.previousStartValue = this.previousEndValue = null;\n    this.currentDate = null;\n  };\n\n  DateRangePicker.prototype.errorClass = function () {\n    var inputStr = this.inputElement.value.trim();\n\n    if ((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '' || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || this.startValue && this.isDateDisabled(this.startValue) || this.endValue && this.isDateDisabled(this.endValue)) && inputStr !== '') {\n      addClass([this.inputWrapper.container], ERROR$1);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    } else {\n      if (this.inputWrapper) {\n        removeClass([this.inputWrapper.container], ERROR$1);\n        attributes(this.inputElement, {\n          'aria-invalid': 'false'\n        });\n      }\n    }\n  };\n\n  DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele, isRemoveFocus) {\n    if (isRemoveFocus === void 0) {\n      isRemoveFocus = true;\n    }\n\n    if (isRemoveFocus) {\n      this.removeFocusedDate();\n    }\n\n    if (isLeftCalendar) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      ele = this.leftCalendar;\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      ele = this.rightCalendar;\n    }\n\n    this.updateCalendarElement(ele);\n    this.table.focus();\n    return ele;\n  };\n\n  DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n    var view = this.getViewNumber(this.currentView());\n    var date;\n    var min = this.min;\n    var max;\n\n    if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n      max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n    } else {\n      max = this.max;\n    }\n\n    switch (e.action) {\n      case 'moveRight':\n        date = new Date(+this.currentDate);\n        this.addDay(date, 1, e, max, min);\n\n        if (isLeftCalendar && +date === +rightLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.keyboardNavigate(1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveLeft':\n        date = new Date(+this.currentDate);\n        this.addDay(date, -1, e, max, min);\n\n        if (!isLeftCalendar) {\n          if (+date === +leftLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n        }\n\n        this.keyboardNavigate(-1, view, e, max, min);\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveUp':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, -7, e, max, min);\n\n          if (+date <= +leftLimit && !isLeftCalendar) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          this.keyboardNavigate(-7, view, e, max, min);\n        } else {\n          this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'moveDown':\n        if (view === 0) {\n          date = new Date(+this.currentDate);\n          this.addDay(date, 7, e, max, min);\n\n          if (isLeftCalendar && +date >= +rightLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          this.keyboardNavigate(7, view, e, max, min);\n        } else {\n          this.keyboardNavigate(4, view, e, this.max, this.min);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'home':\n        this.currentDate = this.firstDay(this.currentDate);\n        remove(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'end':\n        this.currentDate = this.lastDay(this.currentDate, view);\n        remove(this.tableBodyElement);\n\n        if (view === 0) {\n          this.renderMonths(e);\n        } else if (view === 1) {\n          this.renderYears(e);\n        } else {\n          this.renderDecades(e);\n        }\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'tab':\n        if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n          ele = this.keyCalendarUpdate(false, ele, false);\n          this.currentDate = this.firstCellToFocus(this.rightCalendar);\n          view = this.getViewNumber(this.currentView());\n          this.keyboardNavigate(0, view, e, max, min);\n          this.keyNavigation(ele, e);\n        }\n\n        break;\n\n      case 'shiftTab':\n        if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n          ele = this.keyCalendarUpdate(true, ele, false);\n          this.currentDate = this.firstCellToFocus(this.leftCalendar);\n          this.keyboardNavigate(0, view, e, max, min);\n          this.keyNavigation(ele, e);\n        }\n\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.firstCellToFocus = function (calendar) {\n    var focusAbleEle = this.getViewNumber(this.currentView()) === 2 ? calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-year)') : calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)');\n    var focusEleID = focusAbleEle && focusAbleEle.id ? focusAbleEle.id.split('_')[0] : null;\n    var currentFirstDay = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1);\n    var focusDate = focusEleID ? new Date(+focusEleID) : currentFirstDay;\n    return focusDate;\n  };\n\n  DateRangePicker.prototype.keyInputHandler = function (e, value) {\n    var date;\n    var view = this.getViewNumber(this.currentView());\n    var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n    var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n    var ele = closest(e.target, '.' + RIGHTCALENDER);\n    ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n    var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n    this.updateCalendarElement(ele);\n    var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n    var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n    var startDate = ele.querySelector('tr td.' + STARTDATE);\n    var endDate = ele.querySelector('tr td.' + ENDDATE);\n    var depthValue = this.getViewNumber(this.depth);\n    var levelRestrict = view === depthValue && this.getViewNumber(this.start) >= depthValue;\n    var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n    var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n    var presetElement = closest(e.target, '.' + PRESETS);\n\n    if (!isNullOrUndefined(focusedDate)) {\n      // eslint-disable-next-line no-self-assign\n      this.currentDate = this.currentDate;\n    } else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.endValue);\n    } else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n      this.currentDate = new Date(+this.startValue);\n    } else if (!this.dateDisabled) {\n      this.currentDate.setDate(1);\n    }\n\n    this.effect = '';\n\n    switch (e.action) {\n      case 'altUpArrow':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n          this.preventFocus = true;\n          this.inputElement.focus();\n          addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n\n        break;\n\n      case 'select':\n        if (levelRestrict) {\n          var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n\n          if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n            this.selectRange(null, element);\n          }\n        } else {\n          if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n            if (!isNullOrUndefined(this.value)) {\n              if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                value = this.startDate;\n              } else {\n                value = this.endDate;\n              }\n            }\n\n            this.controlDown = e;\n            this.contentClick(null, --view, focusedDate || selectedDate, value);\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlHome':\n        {\n          var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n\n          if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n            ele = this.keyCalendarUpdate(true, ele);\n          }\n\n          _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n\n          this.keyNavigation(ele, e);\n        }\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else if (!isNullOrUndefined(rightCalendar)) {\n          if (!isNullOrUndefined(this.presetElement)) {\n            this.presetElement.focus();\n            this.removeFocusedDate();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(presetElement)) {\n            this.cancelButton.element.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(leftCalendar)) {\n          if (this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.cancelButton.element.focus();\n          }\n        } else {\n          if (!isNullOrUndefined(rightCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlUp':\n        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n          this.calendarNavigation(e, this.calendarElement);\n        } else {\n          this.calendarNavigation(e, this.calendarElement);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlDown':\n        if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n          if (!isNullOrUndefined(this.value)) {\n            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n              value = this.startDate;\n            } else {\n              value = this.endDate;\n            }\n          }\n\n          this.controlDown = e;\n          this.contentClick(null, --view, selectedDate || focusedDate, value);\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'controlEnd':\n        {\n          var yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n\n          if (isLeftCalendar && +yearDate > +rightDateLimit) {\n            ele = this.keyCalendarUpdate(false, ele);\n          }\n\n          _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n\n          this.keyNavigation(ele, e);\n        }\n        break;\n\n      case 'pageUp':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addMonths(this.currentDate, -1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'pageDown':\n        date = new Date(+this.currentDate);\n        this.addMonths(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addMonths(this.currentDate, 1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageUp':\n        date = new Date(+this.currentDate);\n        this.addYears(date, -1);\n\n        if (!isLeftCalendar && +date <= +leftDateLimit) {\n          ele = this.keyCalendarUpdate(true, ele);\n        }\n\n        this.addYears(this.currentDate, -1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftPageDown':\n        date = new Date(+this.currentDate);\n        this.addYears(date, 1);\n\n        if (isLeftCalendar && +date >= +rightDateLimit) {\n          ele = this.keyCalendarUpdate(false, ele);\n        }\n\n        this.addYears(this.currentDate, 1);\n\n        _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n\n        this.keyNavigation(ele, e);\n        break;\n\n      case 'shiftTab':\n        if (!isNullOrUndefined(this.presetElement)) {\n          this.presetElement.setAttribute('tabindex', '0');\n          this.presetElement.focus();\n          this.removeFocusedDate();\n        }\n\n        if (isLeftCalendar) {\n          e.preventDefault();\n        }\n\n        if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n          this.currentDate = new Date(+this.leftCalCurrentDate);\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        }\n\n        break;\n\n      case 'spacebar':\n        if (this.applyButton && !this.applyButton.disabled) {\n          this.applyFunction(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n          this.currentDate = new Date(+this.rightCalCurrentDate);\n          this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        }\n\n        break;\n\n      default:\n        this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n        this.checkMinMaxDays();\n    }\n\n    this.presetHeight();\n  };\n\n  DateRangePicker.prototype.tabKeyValidation = function (ele, calendarPos) {\n    var isLeftCalendar = ele.classList.contains(calendarPos);\n    var rightHeader = this.rightCalendar.querySelector('.e-header');\n    var leftHeader = this.leftCalendar.querySelector('.e-header');\n    var isRightMonth = rightHeader ? rightHeader.classList.contains('e-month') : false;\n    var isLeftMonth = leftHeader ? leftHeader.classList.contains('e-month') : false;\n    var isRightYear = rightHeader ? rightHeader.classList.contains('e-year') : false;\n    var isLeftYear = leftHeader ? leftHeader.classList.contains('e-year') : false;\n    var isRightDecade = rightHeader ? rightHeader.classList.contains('e-decade') : false;\n    var isLeftDecade = leftHeader ? leftHeader.classList.contains('e-decade') : false;\n    return isLeftCalendar && (isLeftMonth || isLeftYear || isLeftDecade) && (isRightMonth || isRightYear || isRightDecade) && !this.isMobile;\n  };\n\n  DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n    this.bindCalendarCellEvents(calendar);\n\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    } else {\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.updateNavIcons();\n    this.calendarIconEvent();\n    this.updateRange([calendar]);\n    this.dateDisabled = this.isDateDisabled(this.currentDate);\n    e.preventDefault();\n  };\n\n  DateRangePicker.prototype.inputHandler = function (e) {\n    switch (e.action) {\n      case 'altDownArrow':\n        if (!this.isPopupOpen()) {\n          if (this.inputElement.value === '') {\n            this.clear();\n            this.changeTrigger(e);\n            this.clearRange();\n          }\n\n          this.show(null, e);\n          this.isRangeIconClicked = false;\n\n          if (!this.isMobile) {\n            if (!isNullOrUndefined(this.leftCalendar)) {\n              this.calendarFocus();\n            }\n          }\n\n          this.isKeyPopup = true;\n        }\n\n        break;\n\n      case 'escape':\n        if (this.isPopupOpen()) {\n          this.hide(e);\n        }\n\n        break;\n\n      case 'enter':\n        if (document.activeElement === this.inputElement) {\n          this.inputBlurHandler(e);\n          this.hide(e);\n        }\n\n        break;\n\n      case 'tab':\n        if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n    var tdCells;\n\n    if (calendar) {\n      tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n    } else {\n      tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n    }\n\n    for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n      var cell = tdCells_1[_i];\n      EventHandler.clearEvents(cell);\n      var disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n\n      if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n        if (!this.isMobile) {\n          EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n        }\n\n        EventHandler.add(cell, 'mousedown', this.selectRange, this);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.removeFocusedDate = function () {\n    var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n    var focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n\n    for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n      var ele = focusedDate_1[_i];\n      var today = new Date();\n      var eleDate = this.getIdValue(null, ele);\n\n      if (this.depth === 'Month' && this.currentView() === 'Month' && (!ele.classList.contains(TODAY$2) || ele.classList.contains(TODAY$2) && isDate) || this.depth === 'Year' && this.currentView() === 'Year' && (!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate) || isDate) || this.depth === 'Decade' && this.currentView() === 'Decade' && (!this.isSameYear(today, eleDate) || isDate)) {\n        ele.classList.remove(FOCUSDATE);\n\n        if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n          ele.removeAttribute('aria-label');\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.hoverSelection = function (event, element) {\n    var currentElement = element || event.currentTarget;\n    var currentDate = this.getIdValue(null, currentElement);\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n      if (!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue) && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n          var ele = tdCells_2[_i];\n          var isDisabledCell = !ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED);\n\n          if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n            var eleDate = this.getIdValue(null, ele);\n            var startDateValue = new Date(+this.startValue);\n            var eleDateValue = new Date(+eleDate);\n\n            if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n              addClass([ele], RANGEHOVER);\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n    var isSame = false;\n\n    if (this.depth === 'Month') {\n      if (startVal.setHours(0, 0, 0, 0) === endVal.setHours(0, 0, 0, 0)) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Year') {\n      if (startVal.getFullYear() === endVal.getFullYear() && startVal.getMonth() === endVal.getMonth()) {\n        isSame = true;\n      }\n    } else if (this.depth === 'Decade') {\n      if (startVal.getFullYear() === endVal.getFullYear()) {\n        isSame = true;\n      }\n    }\n\n    return isSame;\n  };\n\n  DateRangePicker.prototype.updateRange = function (elementCollection) {\n    if (!isNullOrUndefined(this.startValue)) {\n      for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n        var calendar = elementCollection_1[_i];\n        var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n\n        for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n          var ele = tdCells_3[_a];\n\n          if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n            var eleDate = this.getIdValue(null, ele);\n            var eleDateValue = this.getIdValue(null, ele);\n\n            if (!isNullOrUndefined(this.endValue)) {\n              if (this.currentView() === this.depth && +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0) && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) && !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) && +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], RANGEHOVER);\n              }\n            } else {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) && +eleDateValue !== +this.endValue) {\n              removeClass([ele], [SELECTED$3]);\n              removeClass([ele], [ENDDATE]);\n            }\n\n            if (ele.classList.contains(RANGEHOVER) && +eleDateValue > +this.endValue) {\n              removeClass([ele], [RANGEHOVER]);\n            }\n\n            if (!ele.classList.contains(OTHERMONTH$2)) {\n              var startDateValue = new Date(+this.startValue);\n              var eleDateValue_1 = new Date(+eleDate);\n\n              if (this.currentView() === this.depth && +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0) && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(ele, this.startValue, true);\n              }\n\n              var endDateValue = new Date(+this.endValue);\n\n              if (this.currentView() === 'Year') {\n                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n              } else if (this.currentView() === 'Decade') {\n                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n              }\n\n              if (this.currentView() === this.depth && !isNullOrUndefined(this.endValue) && +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0) && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) && +this.startValue >= +this.min && !this.inputWrapper.container.classList.contains('e-error') && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                addClass([ele], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(ele, this.startValue, false);\n              }\n\n              if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.checkMinMaxDays = function () {\n    if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n      if (!this.isMobile) {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n      } else {\n        this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n      }\n    }\n  };\n\n  DateRangePicker.prototype.rangeArgs = function (e) {\n    var inputValue;\n    var range;\n    var startDate = !isNullOrUndefined(this.startValue) ? this.globalize.formatDate(this.startValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n    var endDate = !isNullOrUndefined(this.endValue) ? this.globalize.formatDate(this.endValue, {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    }) : null;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n      range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n    } else {\n      inputValue = '';\n      range = 0;\n    }\n\n    var args = {\n      value: this.value,\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range,\n      event: e || null,\n      element: this.element,\n      isInteracted: !isNullOrUndefined(e),\n      text: inputValue\n    };\n    return args;\n  };\n\n  DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n    var value = +this.getIdValue(null, ele);\n    var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n    var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n\n    if (!isNullOrUndefined(tdCell)) {\n      if (isStartDate) {\n        addClass([tdCell], [STARTDATE, SELECTED$3]);\n        this.addSelectedAttributes(tdCell, this.startValue, true);\n      } else {\n        addClass([tdCell], [ENDDATE, SELECTED$3]);\n        this.addSelectedAttributes(tdCell, this.endValue, true);\n      }\n\n      if (sameDate) {\n        this.addSelectedAttributes(ele, this.endValue, false, true);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.selectRange = function (event, element) {\n    var leftCalendar;\n    var rightCalendar;\n\n    if (event) {\n      event.preventDefault();\n    }\n\n    var date = isNullOrUndefined(event) ? this.getIdValue(null, element) : this.getIdValue(event, null);\n    var y = date.getFullYear();\n    var m = date.getMonth();\n    var firstDay = new Date(y, m, 1);\n    var lastDay = new Date(y, m + 1, 0);\n    var firstMonth = new Date(y, 0, 1);\n    var lastMonth = new Date(y, 11, 31);\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n        this.removeSelection();\n      }\n    } else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n      this.removeSelection();\n    }\n\n    var ele = element || event.currentTarget;\n\n    if (isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.previousStartValue)) {\n        date.setHours(this.previousStartValue.getHours());\n        date.setMinutes(this.previousStartValue.getMinutes());\n        date.setSeconds(this.previousStartValue.getSeconds());\n      }\n\n      this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n      this.endValue = null;\n      this.setValue();\n      addClass([ele], STARTDATE);\n      this.addSelectedAttributes(ele, this.startValue, true);\n\n      if (ele.classList.contains(OTHERMONTH$2)) {\n        this.otherMonthSelect(ele, true);\n      }\n\n      this.checkMinMaxDays();\n      this.applyButton.disabled = true;\n      this.applyButton.element.disabled = true;\n\n      if (this.isMobile) {\n        this.endButton.element.classList.add(ACTIVE$1);\n        this.startButton.element.classList.remove(ACTIVE$1);\n        this.endButton.element.removeAttribute('disabled');\n        this.selectableDates();\n      }\n\n      this.trigger('select', this.rangeArgs(event));\n    } else {\n      if (+date === +this.startValue || +date > +this.startValue) {\n        if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n          return;\n        }\n\n        this.endValue = null;\n        this.setValue();\n\n        if (this.isMobile || element) {\n          this.hoverSelection(event, element);\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          date.setHours(this.previousEndValue.getHours());\n          date.setMinutes(this.previousEndValue.getMinutes());\n          date.setSeconds(this.previousEndValue.getSeconds());\n        }\n\n        this.endValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? lastDay : lastMonth;\n        this.setValue();\n        var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        if (this.isMobile) {\n          this.startButton.element.classList.remove(ACTIVE$1);\n          this.endButton.element.classList.add(ACTIVE$1);\n\n          for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n            var ele_1 = endEle_1[_i];\n            ele_1.removeAttribute('aria-label');\n\n            if (!ele_1.classList.contains(STARTDATE)) {\n              ele_1.setAttribute('aria-selected', 'false');\n              removeClass([ele_1], [ENDDATE, SELECTED$3]);\n            } else {\n              this.addSelectedAttributes(ele_1, this.startValue, true);\n              removeClass([ele_1], [ENDDATE]);\n            }\n          }\n        }\n\n        addClass([ele], ENDDATE);\n\n        if (+this.endValue === +this.startValue) {\n          this.addSelectedAttributes(ele, this.endValue, false, true);\n        } else {\n          this.addSelectedAttributes(ele, this.endValue, false);\n        }\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          if (+this.endValue === +this.startValue) {\n            this.otherMonthSelect(ele, false, true);\n          } else {\n            this.otherMonthSelect(ele, false);\n          }\n        }\n\n        endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n        for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n          var ele_2 = endEle_2[_a];\n\n          if (ele_2.classList.contains(STARTDATE)) {\n            removeClass([ele_2], [RANGEHOVER]);\n          }\n        }\n\n        this.applyButton.disabled = false;\n        this.applyButton.element.disabled = false;\n\n        if (!this.isMobile) {\n          this.removeClassDisabled();\n        }\n\n        if (!isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n          this.disabledDateRender();\n        }\n\n        this.trigger('select', this.rangeArgs(event));\n      } else if (+date < +this.startValue) {\n        this.removeClassDisabled();\n        this.startValue = this.depth === 'Month' ? new Date(this.checkValue(date)) : this.depth === 'Year' ? firstDay : firstMonth;\n        this.setValue();\n        this.removeSelectedAttributes();\n        removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n        addClass([ele], STARTDATE);\n        this.addSelectedAttributes(ele, this.startValue, true);\n\n        if (ele.classList.contains(OTHERMONTH$2)) {\n          this.otherMonthSelect(ele, true);\n        }\n\n        this.checkMinMaxDays();\n      }\n    }\n\n    if (event) {\n      leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n    }\n\n    if (!isNullOrUndefined(leftCalendar)) {\n      this.leftCalendar.children[1].firstElementChild.focus();\n    } else {\n      if (event) {\n        rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n      }\n\n      if (!isNullOrUndefined(rightCalendar)) {\n        this.rightCalendar.children[1].firstElementChild.focus();\n      }\n    }\n\n    addClass([ele], SELECTED$3);\n    this.calendarIconEvent();\n    this.updateHeader();\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.selectableDates = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n      var isStartDate = false;\n\n      if (this.currentView() === this.depth) {\n        for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n          var ele = tdCells_4[_i];\n\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n            if (!ele.classList.contains(DISABLED$2)) {\n              var eleDate = this.getIdValue(null, ele);\n\n              if (+eleDate < +this.startValue) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.clearEvents(ele);\n                continue;\n              } else {\n                break;\n              }\n            }\n          }\n\n          if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n            isStartDate = true;\n            break;\n          }\n        }\n\n        if (isStartDate) {\n          if (!this.previousIcon.classList.contains(DISABLED$2)) {\n            addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n          }\n        }\n      } else {\n        for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n          var ele = tdCells_5[_a];\n          var startMonth = this.startValue.getMonth();\n          var startYear = this.startValue.getFullYear();\n          var element = this.getIdValue(null, ele);\n\n          if (!this.startButton.element.classList.contains(ACTIVE$1) && (this.currentView() === 'Year' && element.getMonth() < startMonth && element.getFullYear() <= startYear || this.currentView() === 'Decade' && element.getMonth() <= startMonth && element.getFullYear() < startYear)) {\n            addClass([ele], [DISABLED$2]);\n          } else {\n            break;\n          }\n        }\n\n        if (tdCells[0].classList.contains(DISABLED$2)) {\n          this.previousIconHandler(true);\n        } else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n          this.nextIconHandler(true);\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue) || this.isMobile && this.endButton.element.classList.contains(ACTIVE$1)) {\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 || !isNullOrUndefined(this.maxDays) && this.maxDays > 0) {\n        var startValueSelected = this.removeTimeValueFromDate(this.startValue);\n        var minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n        var maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n        minDate = !isNullOrUndefined(this.minDays) && this.minDays > 0 ? minDate : null;\n        maxDate = !isNullOrUndefined(this.maxDays) && this.maxDays > 0 ? maxDate : null;\n\n        if (this.currentView() === 'Year') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n        } else if (this.currentView() === 'Decade') {\n          minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n          maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n        }\n\n        var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        var maxEle = void 0;\n\n        for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n          var ele = tdCells_6[_i];\n\n          if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n            var eleDate = this.getIdValue(null, ele);\n            eleDate = this.removeTimeValueFromDate(eleDate);\n\n            if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n              minDate.setDate(minDate.getDate() + 1);\n            }\n\n            if (!ele.classList.contains(DISABLED$2)) {\n              if (+eleDate <= +startValueSelected) {\n                continue;\n              }\n\n              if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.clearEvents(ele);\n              }\n\n              if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                this.isMaxDaysClicked = true;\n                EventHandler.clearEvents(ele);\n\n                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                  maxEle = ele;\n                }\n              }\n            }\n          }\n        }\n\n        if (!isNullOrUndefined(maxEle)) {\n          if (this.isMobile) {\n            if (!this.nextIcon.classList.contains(DISABLED$2)) {\n              addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n          } else {\n            var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n            calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n            var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n\n            if (!isLeftCalendar) {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            } else {\n              if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n\n              if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n\n              if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n              }\n            }\n          }\n        }\n      }\n    } else {\n      this.isMaxDaysClicked = false;\n    }\n  };\n\n  DateRangePicker.prototype.removeTimeValueFromDate = function (value) {\n    var dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n    return dateValue;\n  };\n\n  DateRangePicker.prototype.removeClassDisabled = function () {\n    var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n\n    for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n      var ele = tdCells_7[_i];\n\n      if (ele.classList.contains(DATEDISABLED)) {\n        removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n        EventHandler.add(ele, 'click', this.selectRange, this);\n\n        if (!this.isMobile) {\n          EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n        }\n      }\n    }\n\n    if (this.isMobile) {\n      if (this.nextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.previousIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n    } else {\n      if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n\n      if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n        removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateHeader = function () {\n    var format = {\n      type: 'date',\n      skeleton: 'yMMMd'\n    };\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      var range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n    } else {\n      this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n    }\n\n    if (!this.isMobile) {\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      }\n\n      if (!isNullOrUndefined(this.startValue)) {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n      }\n\n      if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n        this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n      } else {\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n      }\n    }\n\n    if (this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue) || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      if (!this.isMobile) {\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n        this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n      } else {\n        this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n        this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n        this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n      }\n    }\n\n    if (this.popupObj.element.querySelector('#custom_range')) {\n      this.popupObj.element.querySelector('#custom_range').textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n    }\n  };\n\n  DateRangePicker.prototype.removeSelection = function () {\n    this.startValue = null;\n    this.endValue = null;\n    this.setValue();\n    this.removeSelectedAttributes();\n\n    if (this.popupObj) {\n      if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n      }\n\n      if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n        removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n    if (ele) {\n      var title = this.globalize.formatDate(date, {\n        type: 'date',\n        skeleton: 'full'\n      });\n\n      if (!isNullOrUndefined(sameDate) && sameDate) {\n        ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n      } else {\n        ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n      }\n\n      ele.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  DateRangePicker.prototype.removeSelectedAttributes = function () {\n    if (this.popupObj) {\n      var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n\n      for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n        var ele = start_1[_i];\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n\n      var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n\n      for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n        var ele = end_1[_a];\n        ele.setAttribute('aria-selected', 'false');\n        ele.removeAttribute('aria-label');\n      }\n    }\n  };\n\n  DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n    if (calendar.classList.contains(LEFTCALENDER)) {\n      this.calendarElement = this.leftCalendar;\n      this.currentDate = this.leftCalCurrentDate;\n      this.previousIcon = this.leftCalPrevIcon;\n      this.nextIcon = this.leftCalNextIcon;\n    } else {\n      this.calendarElement = this.rightCalendar;\n      this.currentDate = this.rightCalCurrentDate;\n      this.previousIcon = this.rightCalPrevIcon;\n      this.nextIcon = this.rightCalNextIcon;\n    }\n\n    this.contentElement = calendar.querySelector('.' + CONTENT$1);\n    this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n    this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n    this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n    this.headerElement = calendar.querySelector('.' + HEADER$1);\n  };\n\n  DateRangePicker.prototype.navPrevMonth = function (e) {\n    e.preventDefault();\n    var ele = closest(e.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigatePrevious(e);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.deviceNavigation = function (ele) {\n    this.deviceCalendarEvent();\n    this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n\n    if (this.endButton.element.classList.contains(ACTIVE$1)) {\n      this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n    }\n\n    if (this.endButton.element.classList.contains(ACTIVE$1)) {\n      this.selectableDates();\n    }\n\n    if (this.currentView() === this.depth) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n  };\n\n  DateRangePicker.prototype.updateControl = function (calendar, customDate) {\n    if (customDate === void 0) {\n      customDate = null;\n    }\n\n    if (calendar.classList.contains(RIGHTCALENDER)) {\n      this.rightCalCurrentDate = new Date(+(customDate ? customDate : this.currentDate));\n    } else {\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n    }\n\n    this.calendarIconEvent();\n\n    if (this.depth === 'Month' && this.leftCalendar.querySelector('.e-content').classList.contains('e-month') && this.rightCalendar.querySelector('.e-content').classList.contains('e-month') || this.depth === 'Year' && this.leftCalendar.querySelector('.e-content').classList.contains('e-year') && this.rightCalendar.querySelector('.e-content').classList.contains('e-year') || this.depth === 'Decade' && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade') && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade') || this.isMobile) {\n      this.bindCalendarCellEvents();\n    }\n\n    this.removeFocusedDate();\n    this.updateRange([calendar]);\n  };\n\n  DateRangePicker.prototype.navNextMonth = function (event) {\n    event.preventDefault();\n    var ele = closest(event.target, '.' + LEFTCALENDER);\n    ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n    this.updateCalendarElement(ele);\n    this.navigateNext(event);\n\n    if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.updateMinMaxDays(ele);\n    }\n\n    this.updateControl(ele);\n  };\n\n  DateRangePicker.prototype.isPopupOpen = function () {\n    if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.createRangeHeader = function () {\n    var labelContainer = this.createElement('div', {\n      className: STARTENDCONTAINER\n    });\n\n    if (!this.isMobile) {\n      var startLabel = this.createElement('a', {\n        className: STARTLABEL\n      });\n      var endLabel = this.createElement('a', {\n        className: ENDLABEL\n      });\n      var changeIcon = this.createElement('span', {\n        className: CHANGEICON\n      });\n      attributes(startLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'Start Date',\n        'role': 'button'\n      });\n      attributes(endLabel, {\n        'aria-atomic': 'true',\n        'aria-live': 'assertive',\n        'aria-label': 'End Date',\n        'role': 'button'\n      });\n      labelContainer.appendChild(startLabel);\n      labelContainer.appendChild(changeIcon);\n      labelContainer.appendChild(endLabel);\n      startLabel.textContent = this.l10n.getConstant('startLabel');\n      endLabel.textContent = this.l10n.getConstant('endLabel');\n    } else {\n      var endBtn = this.createElement('button', {\n        className: ENDBUTTON\n      });\n      var startBtn = this.createElement('button', {\n        className: STARTBUTTON\n      });\n      this.startButton = new Button({\n        content: this.l10n.getConstant('startLabel')\n      }, startBtn);\n      this.endButton = new Button({\n        content: this.l10n.getConstant('endLabel')\n      }, endBtn);\n      labelContainer.appendChild(startBtn);\n      labelContainer.appendChild(endBtn);\n    }\n\n    return labelContainer;\n  };\n\n  DateRangePicker.prototype.disableInput = function () {\n    if (this.strictMode) {\n      if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n        this.startValue = this.previousStartValue;\n        this.endValue = this.previousEndValue;\n        this.setValue();\n        this.updateInput();\n      }\n    } else {\n      this.updateInput();\n      this.clearRange();\n      this.setProperties({\n        startDate: null\n      }, true);\n      this.setProperties({\n        endDate: null\n      }, true);\n      this.startValue = null;\n      this.endValue = null;\n      this.setValue();\n      this.errorClass();\n    }\n\n    this.setProperties({\n      enabled: false\n    }, true);\n    Input.setEnabled(this.enabled, this.inputElement);\n    this.bindEvents();\n  };\n\n  DateRangePicker.prototype.validateMinMax = function () {\n    this.min = isNullOrUndefined(this.min) || !+this.min ? this.min = new Date(1900, 0, 1) : this.min;\n    this.max = isNullOrUndefined(this.max) || !+this.max ? this.max = new Date(2099, 11, 31) : this.max;\n\n    if (!(this.min <= this.max)) {\n      this.disableInput();\n      return;\n    }\n\n    if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n      if (this.maxDays > 0 && this.minDays > 0 && this.minDays > this.maxDays) {\n        this.maxDays = null;\n      }\n    }\n\n    if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n      this.minDays = null;\n    }\n\n    if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n      this.maxDays = null;\n    }\n  };\n\n  DateRangePicker.prototype.validateRangeStrict = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (+this.startValue <= +this.min) {\n        this.startValue = this.min;\n        this.setValue();\n      } else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n        this.startValue = this.max;\n      }\n    }\n\n    if (!isNullOrUndefined(this.endValue)) {\n      if (+this.endValue > +this.max) {\n        this.endValue = this.max;\n        this.setValue();\n      } else if (+this.endValue < +this.min) {\n        this.endValue = this.min;\n        this.setValue();\n      }\n    }\n\n    this.validateMinMaxDays();\n  };\n\n  DateRangePicker.prototype.validateRange = function () {\n    this.validateMinMaxDays();\n  };\n\n  DateRangePicker.prototype.validateMinMaxDays = function () {\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      var range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.minDays) && this.minDays > 0 && !(range >= this.minDays)) {\n        if (this.strictMode) {\n          var date = new Date(+this.startValue);\n          date.setDate(date.getDate() + (this.minDays - 1));\n\n          if (+date > +this.max) {\n            this.endValue = this.max;\n            this.setValue();\n          } else {\n            this.endValue = date;\n            this.setValue();\n          }\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (!isNullOrUndefined(this.maxDays) && this.maxDays > 0 && !(range <= this.maxDays)) {\n        if (this.strictMode) {\n          this.endValue = new Date(+this.startValue);\n          this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n          this.setValue();\n        } else {\n          this.startValue = null;\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.renderCalendar = function () {\n    this.calendarElement = this.createElement('div');\n    this.calendarElement.classList.add(CALENDAR);\n\n    if (this.enableRtl) {\n      this.calendarElement.classList.add(RTL$1);\n    }\n\n    attributes(this.calendarElement, {\n      'data-role': 'calendar'\n    });\n\n    _super.prototype.createHeader.call(this);\n\n    _super.prototype.createContent.call(this);\n  };\n\n  DateRangePicker.prototype.isSameMonth = function (start, end) {\n    if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.isSameYear = function (start, end) {\n    if (start.getFullYear() === end.getFullYear()) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.isSameDecade = function (start, end) {\n    var startYear = start.getFullYear();\n    var endYear = end.getFullYear();\n\n    if (startYear - startYear % 10 === endYear - endYear % 10) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.startMonthCurrentDate = function () {\n    if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n      this.currentDate = new Date(+this.max);\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n    } else if (this.currentDate < this.min) {\n      this.currentDate = new Date(this.checkValue(this.min));\n    }\n  };\n\n  DateRangePicker.prototype.selectNextMonth = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setDate(1);\n      this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setDate(1);\n      var month = this.currentDate.getMonth() + 1;\n      this.currentDate.setMonth(month);\n    }\n  };\n\n  DateRangePicker.prototype.selectNextYear = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      this.currentDate.setMonth(0);\n      var yr = this.currentDate.getFullYear() + 1;\n      this.currentDate.setFullYear(yr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setMonth(0);\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n    }\n  };\n\n  DateRangePicker.prototype.selectNextDecade = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate) && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n      this.currentDate = new Date(+this.endValue);\n    } else {\n      var decyr = this.currentDate.getFullYear() + 10;\n      this.currentDate.setFullYear(decyr);\n      return;\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue || !isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n    }\n  };\n\n  DateRangePicker.prototype.selectStartMonth = function () {\n    if (!isNullOrUndefined(this.startValue)) {\n      if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n        this.currentDate = new Date(+this.max);\n        this.currentDate.setDate(1);\n        this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n      } else if (!(this.startValue >= this.min && this.startValue <= this.max) || this.isDateDisabled(this.startValue)) {\n        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      } else {\n        this.currentDate = new Date(+this.startValue);\n      }\n    } else {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n      this.startMonthCurrentDate();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max || !isNullOrUndefined(this.startValue) && +this.startValue < +this.min || !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue) && +this.startValue > +this.endValue) {\n      this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n    }\n\n    this.startMonthCurrentDate();\n  };\n\n  DateRangePicker.prototype.createCalendar = function () {\n    var calendarContainer = this.createElement('div', {\n      className: CALENDARCONTAINER\n    });\n\n    if (!this.isMobile) {\n      this.selectStartMonth();\n      this.renderCalendar();\n      this.leftCalCurrentDate = new Date(+this.currentDate);\n      this.calendarElement.classList.add(LEFTCALENDER);\n      this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n      this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n      this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n      remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n      this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n      prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n      this.leftCalendar = this.calendarElement;\n      var leftContainer = this.createElement('div', {\n        className: LEFTCONTAINER\n      });\n      var rightContainer = this.createElement('div', {\n        className: RIGHTCONTAINER\n      });\n      leftContainer.appendChild(this.leftCalendar);\n      calendarContainer.appendChild(leftContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n      }\n\n      if (this.start === 'Month') {\n        this.selectNextMonth();\n      }\n\n      if (this.start === 'Year') {\n        this.selectNextYear();\n      }\n\n      if (this.start === 'Decade') {\n        this.selectNextDecade();\n      }\n\n      this.renderCalendar();\n      this.rightCalCurrentDate = new Date(+this.currentDate);\n      addClass([this.calendarElement], RIGHTCALENDER);\n      this.rightCalendar = this.calendarElement;\n      removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n      this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n      this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n      this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n      remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('table').setAttribute('tabindex', '0');\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n      this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n      prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n      rightContainer.appendChild(this.rightCalendar);\n      calendarContainer.appendChild(rightContainer);\n\n      if (!this.isMobile) {\n        EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n      }\n    } else {\n      if (!isNullOrUndefined(this.startValue)) {\n        this.currentDate = new Date(+this.startValue);\n      }\n\n      _super.prototype.validateDate.call(this);\n\n      _super.prototype.minMaxUpdate.call(this);\n\n      _super.prototype.render.call(this);\n\n      var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n      var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n      remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n      this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n      prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n      this.deviceCalendar = this.calendarElement;\n      calendarContainer.appendChild(this.calendarElement);\n      this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n    }\n\n    return calendarContainer;\n  };\n\n  DateRangePicker.prototype.leftNavTitle = function (e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.leftCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  };\n\n  DateRangePicker.prototype.calendarNavigation = function (e, element) {\n    this.table = element.querySelector('table');\n    this.headerTitleElement = element.querySelector('.e-title');\n    this.tableBodyElement = element.querySelector('tbody');\n    this.tableHeadElement = element.querySelector('thead');\n    this.contentElement = element.querySelector('.e-content');\n    this.updateCalendarElement(element);\n\n    _super.prototype.navigateTitle.call(this, e);\n\n    this.updateNavIcons();\n  };\n\n  DateRangePicker.prototype.rightNavTitle = function (e) {\n    if (this.isPopupOpen()) {\n      this.calendarElement = this.rightCalendar;\n      this.calendarNavigation(e, this.calendarElement);\n    }\n  };\n\n  DateRangePicker.prototype.clickEventEmitter = function (e) {\n    if (!this.isMobile) {\n      if (closest(e.target, '.e-calendar.e-left-calendar')) {\n        this.calendarElement = this.leftCalendar;\n        this.updateCalendarElement(this.leftCalendar);\n      } else {\n        this.calendarElement = this.rightCalendar;\n        this.updateCalendarElement(this.rightCalendar);\n      }\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the current view of the Calendar.\n   *\n   * @returns {string}\n   * @private\n   * @hidden\n   */\n\n\n  DateRangePicker.prototype.currentView = function () {\n    return _super.prototype.currentView.call(this);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n\n  DateRangePicker.prototype.getCalendarView = function (view) {\n    if (view === 'Year') {\n      return 'Year';\n    } else if (view === 'Decade') {\n      return 'Decade';\n    } else {\n      return 'Month';\n    }\n  };\n\n  DateRangePicker.prototype.navigatedEvent = function (e) {\n    this.trigger('navigated', this.navigatedArgs);\n\n    if (!isNullOrUndefined(this.popupObj)) {\n      var element = void 0;\n      var view = this.getCalendarView(this.currentView());\n\n      if (this.isMobile) {\n        if (view === this.depth) {\n          this.bindCalendarCellEvents();\n          this.deviceNavigation();\n          this.removeFocusedDate();\n          this.checkMinMaxDays();\n        } else {\n          this.selectableDates();\n        }\n      } else {\n        if (!this.isMobile && view === this.depth) {\n          element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n\n          if (element === this.leftCalendar && (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown))) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.effect = '';\n            this.currentDate = this.leftCalCurrentDate;\n            this.updateCalendarElement(this.leftCalendar);\n            this.updateControl(this.leftCalendar);\n            this.updateCalendarElement(this.rightCalendar);\n\n            _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n\n            var customDate = this.rightCalCurrentDate ? this.rightCalCurrentDate : this.currentDate;\n            this.updateControl(this.rightCalendar, customDate);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          } else if (e && !e.currentTarget.children[0].classList.contains('e-icons') || !isNullOrUndefined(this.controlDown)) {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            this.effect = '';\n            this.currentDate = this.rightCalCurrentDate;\n            this.updateCalendarElement(this.rightCalendar);\n            this.updateControl(this.rightCalendar);\n            this.updateCalendarElement(this.leftCalendar);\n\n            if (this.startValue && isNullOrUndefined(this.endValue)) {\n              if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() && this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n              } else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n              } else {\n                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n              }\n            } else {\n              _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n            }\n\n            this.updateControl(this.leftCalendar);\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.controlDown = null;\n          }\n\n          this.checkMinMaxDays();\n        } else {\n          this.updateNavIcons();\n          this.calendarIconEvent();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createControl = function () {\n    var controlContainer = this.createElement('div', {\n      className: RANGECONTAINER\n    });\n    var headerContainer = this.createElement('div', {\n      className: RANGEHEADER\n    });\n    var labelContainer = this.createRangeHeader();\n    headerContainer.appendChild(labelContainer);\n    var daySpan = this.createElement('div', {\n      className: DAYSPAN\n    });\n    attributes(daySpan, {\n      'aria-label': 'Selected Days'\n    });\n    daySpan.textContent = this.l10n.getConstant('selectedDays');\n    headerContainer.appendChild(daySpan);\n    var separator = this.createElement('div', {\n      className: SEPARATOR\n    });\n    var calendarContainer = this.createCalendar();\n    controlContainer.appendChild(headerContainer);\n    controlContainer.appendChild(separator);\n    controlContainer.appendChild(calendarContainer);\n    var footerSection = this.createElement('div', {\n      className: FOOTER$1\n    });\n    var cancelBtn = this.createElement('button', {\n      className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1\n    });\n    var applyBtn = this.createElement('button');\n    addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n    footerSection.appendChild(applyBtn);\n    footerSection.appendChild(cancelBtn);\n    var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n    this.cancelButton = new Button({\n      content: this.l10n.getConstant('cancelText')\n    }, cancelBtn);\n    this.applyButton = new Button({\n      content: this.l10n.getConstant('applyText'),\n      disabled: !enable\n    }, applyBtn);\n    EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n    EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n    this.popupWrapper.appendChild(controlContainer);\n\n    if (!this.isMobile) {\n      if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n        this.createPresets();\n        this.listRippleEffect();\n        addClass([controlContainer], RANGEBORDER);\n        addClass([this.popupWrapper], 'e-preset-wrapper');\n        var presets = this.popupWrapper.querySelector('.' + PRESETS);\n        presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n      }\n    }\n\n    this.popupWrapper.appendChild(footerSection);\n\n    if (this.isMobile) {\n      this.deviceHeaderUpdate();\n    }\n\n    this.renderPopup();\n  };\n\n  DateRangePicker.prototype.cancelFunction = function (eve) {\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n\n    eve.preventDefault();\n\n    if (this.isKeyPopup) {\n      this.inputElement.focus();\n      this.isKeyPopup = false;\n    }\n\n    this.startValue = null;\n    this.endValue = null;\n    this.removeSelection();\n    this.hide(eve);\n  };\n\n  DateRangePicker.prototype.deviceHeaderUpdate = function () {\n    if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n      this.endButton.element.setAttribute('disabled', '');\n      this.startButton.element.classList.add(ACTIVE$1);\n    } else if (!isNullOrUndefined(this.startValue)) {\n      this.startButton.element.classList.add(ACTIVE$1);\n    }\n  };\n\n  DateRangePicker.prototype.applyFunction = function (eve) {\n    var isValueChanged = false;\n\n    if (eve.type !== 'touchstart') {\n      eve.preventDefault();\n    }\n\n    if (this.closeEventArgs && this.closeEventArgs.cancel) {\n      this.startValue = this.popupWrapper.querySelector('.e-start-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n      this.endValue = this.popupWrapper.querySelector('.e-end-date') && this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n      this.setValue();\n    }\n\n    if (document.activeElement !== this.inputElement) {\n      this.preventFocus = true;\n      this.inputElement.focus();\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n    }\n\n    if (eve.type !== 'touchstart' && this.closeEventArgs && !this.closeEventArgs.cancel) {\n      eve.preventDefault();\n    }\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n      this.previousEleValue = this.inputElement.value;\n      Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n\n      if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n        isValueChanged = true;\n      }\n\n      this.changeTrigger(eve);\n      this.hide(eve ? eve : null);\n      this.errorClass();\n      isValueChanged = true;\n    } else {\n      this.hide(eve ? eve : null);\n    }\n\n    if (!closest(eve.target, '.' + INPUTCONTAINER$1) && !isValueChanged) {\n      this.focusOut();\n    }\n\n    if (!this.isMobile) {\n      this.isKeyPopup = false;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.children[1].focus();\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n          eventName: 'keydown',\n          keyConfigs: this.keyInputConfigs,\n          keyAction: this.popupKeyActionHandle.bind(this)\n        });\n      }\n    }\n  };\n\n  DateRangePicker.prototype.onMouseClick = function (event, item) {\n    if (event.type === 'touchstart') {\n      return;\n    }\n\n    var target = item || event.target;\n    var li = closest(target, '.' + LISTCLASS);\n    var isClick = li && li.classList.contains(ACTIVE$1);\n\n    if (li && li.classList.contains(LISTCLASS)) {\n      this.setListSelection(li, event);\n    }\n\n    this.preventFocus = true;\n    this.inputElement.focus();\n\n    if (!this.isMobile) {\n      this.preventFocus = true;\n\n      if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n        this.leftCalendar.children[1].firstElementChild.focus();\n      } else {\n        if (!isClick && event.type === 'keydown') {\n          this.inputElement.focus();\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.onMouseOver = function (event) {\n    var li = closest(event.target, '.' + LISTCLASS);\n\n    if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n      addClass([li], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.onMouseLeave = function (event) {\n    var item = closest(event.target, '.' + HOVER);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], HOVER);\n    }\n  };\n\n  DateRangePicker.prototype.setListSelection = function (li, event) {\n    if (li && (!li.classList.contains(ACTIVE$1) || this.isMobile && li.classList.contains(ACTIVE$1))) {\n      if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n        this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n        var values_1 = this.presetsItem[this.activeIndex];\n\n        if (values_1.id === 'custom_range') {\n          this.renderCustomPopup();\n          return;\n        }\n\n        return;\n      }\n\n      this.removeListSelection();\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      addClass([li], ACTIVE$1);\n      li.setAttribute('aria-selected', 'true');\n      var values = this.presetsItem[this.activeIndex];\n\n      if (values.id === 'custom_range') {\n        this.renderCustomPopup();\n      } else {\n        this.applyPresetRange(values, event);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.removeListSelection = function () {\n    var item = this.presetElement.querySelector('.' + ACTIVE$1);\n\n    if (!isNullOrUndefined(item)) {\n      removeClass([item], ACTIVE$1);\n      item.removeAttribute('aria-selected');\n    }\n  };\n\n  DateRangePicker.prototype.setValue = function () {\n    this.modelValue = [this.startValue, this.endValue];\n  };\n\n  DateRangePicker.prototype.applyPresetRange = function (values, e) {\n    this.hide(null);\n    this.presetsItem[this.presetsItem.length - 1].start = null;\n    this.presetsItem[this.presetsItem.length - 1].end = null;\n    this.startValue = values.start;\n    this.endValue = values.end;\n    this.setValue();\n    this.refreshControl();\n    this.trigger('select', this.rangeArgs(e));\n    this.changeTrigger(e);\n    this.previousEleValue = this.inputElement.value;\n    this.isCustomRange = false;\n    this.leftCalendar = this.rightCalendar = null;\n\n    if (this.isKeyPopup) {\n      this.isRangeIconClicked = false;\n      this.inputElement.focus();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.showPopup = function (element, event) {\n    this.presetHeight();\n\n    if (this.zIndex === 1000) {\n      this.popupObj.show(null, this.element);\n    } else {\n      this.popupObj.show(null, null);\n    }\n\n    if (this.isMobile) {\n      this.popupObj.refreshPosition();\n    }\n  };\n\n  DateRangePicker.prototype.renderCustomPopup = function () {\n    this.isCustomWindow = true;\n    this.popupObj.hide();\n    this.popupWrapper = this.createElement('div', {\n      id: this.element.id + '_popup',\n      className: ROOT$2 + ' ' + POPUP$1\n    });\n    this.renderControl();\n    this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n    this.showPopup();\n    this.isCustomRange = true;\n\n    if (!this.isMobile) {\n      this.calendarFocus();\n    }\n  };\n\n  DateRangePicker.prototype.listRippleEffect = function () {\n    for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n      var li = _a[_i];\n      rippleEffect(li);\n    }\n  };\n\n  DateRangePicker.prototype.createPresets = function () {\n    if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n      this.presetElement = this.createElement('div', {\n        className: PRESETS,\n        attrs: {\n          'tabindex': '0'\n        }\n      });\n      var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n      attributes(listTag, {\n        'role': 'listbox',\n        'aria-hidden': 'false',\n        'id': this.element.id + '_options',\n        'tabindex': '0'\n      });\n      this.presetElement.appendChild(listTag);\n      this.popupWrapper.appendChild(this.presetElement);\n      var customElement = this.presetElement.querySelector('#custom_range');\n\n      if (!isNullOrUndefined(customElement)) {\n        customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n      }\n\n      this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n      this.wireListEvents();\n\n      if (this.isMobile) {\n        this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n      }\n\n      if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n        addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n\n    if (!this.isMobile) {\n      EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  DateRangePicker.prototype.unWireListEvents = function () {\n    if (!isNullOrUndefined(this.presetElement)) {\n      EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n\n      if (!this.isMobile) {\n        EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.popupWrapper.classList.add('e-control');\n    var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      this.modal = this.createElement('div');\n      document.body.appendChild(this.modal);\n    }\n\n    this.popupObj = new Popup(this.popupWrapper, {\n      relateTo: this.isMobile && this.isCustomWindow ? document.body : !isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container,\n      position: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'center',\n        Y: 'center'\n      } : this.enableRtl ? {\n        X: 'left',\n        Y: 'bottom'\n      } : {\n        X: 'right',\n        Y: 'bottom'\n      },\n      offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n      offsetY: OFFSETVALUE$1,\n      collision: this.isMobile ? !isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ? {\n        X: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'fit',\n        Y: 'flip'\n      },\n      targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n      enableRtl: this.enableRtl,\n      zIndex: this.zIndex,\n      open: function () {\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true',\n          'aria-owns': _this.inputElement.id + '_options'\n        });\n\n        if (_this.value) {\n          attributes(_this.inputElement, {\n            'aria-activedescendant': _this.inputElement.id\n          });\n        } else {\n          _this.inputElement.removeAttribute('aria-activedescendant');\n        }\n\n        addClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n\n        if (!_this.isMobile) {\n          if (_this.cancelButton) {\n            _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                tab: 'tab',\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n            _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n          }\n\n          if (!isNullOrUndefined(_this.leftCalendar)) {\n            if (!_this.isRangeIconClicked) {\n              _this.calendarFocus();\n            }\n          }\n\n          if (!isNullOrUndefined(_this.presetElement)) {\n            _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n            _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n              eventName: 'keydown',\n              keyAction: _this.presetKeyActionHandler.bind(_this),\n              keyConfigs: _this.keyInputConfigs\n            });\n            _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n              eventName: 'keydown',\n              keyAction: _this.popupKeyActionHandle.bind(_this),\n              keyConfigs: {\n                altRightArrow: 'alt+rightarrow',\n                altLeftArrow: 'alt+leftarrow'\n              }\n            });\n\n            if (isNullOrUndefined(_this.leftCalendar)) {\n              _this.preventBlur = true;\n\n              _this.presetElement.focus();\n            } else {\n              _this.presetElement.setAttribute('tabindex', '-1');\n            }\n          }\n\n          _this.popupKeyBoardHandler();\n        }\n\n        if (_this.isMobile && !Browser.isDevice) {\n          EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n        }\n      },\n      close: function () {\n        attributes(_this.inputElement, {\n          'aria-expanded': 'false'\n        });\n\n        _this.inputElement.removeAttribute('aria-owns');\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n\n        if (_this.isRangeIconClicked) {\n          _this.inputWrapper.container.children[1].focus();\n        }\n\n        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n          _this.unWireListEvents();\n        }\n\n        if (!isNullOrUndefined(_this.popupObj)) {\n          if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n            detach(_this.popupObj.element);\n          }\n\n          _this.popupObj.destroy();\n\n          _this.popupObj = null;\n        }\n\n        if (_this.isMobile && !Browser.isDevice) {\n          EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n        }\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (this.isMobile) {\n      this.popupObj.element.classList.add(DEVICE$1);\n\n      if (!this.isMobile) {\n        this.popupObj.element.classList.add('e-bigger');\n      }\n    }\n\n    if (this.isMobile && this.isCustomWindow) {\n      addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n      document.body.className += ' ' + OVERFLOW$1;\n      this.modal.style.display = 'block';\n    }\n\n    EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n  };\n\n  DateRangePicker.prototype.popupCloseHandler = function (e) {\n    switch (e.keyCode) {\n      case 27:\n        this.hide(e);\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.calendarFocus = function () {\n    var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n\n    if (startDate) {\n      var ele = closest(startDate, '.' + RIGHTCALENDER);\n      ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        ele.children[1].firstElementChild.focus();\n      }\n\n      addClass([startDate], FOCUSDATE);\n    } else {\n      if (this.isRangeIconClicked) {\n        this.inputWrapper.container.focus();\n      } else {\n        this.preventBlur = true;\n        this.leftCalendar.children[1].firstElementChild.focus();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.presetHeight = function () {\n    var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n    var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n\n    if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n      presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n    }\n  };\n\n  DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n    switch (e.action) {\n      case 'moveDown':\n        this.listMoveDown(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'moveUp':\n        this.listMoveUp(e);\n        this.setScrollPosition();\n        e.preventDefault();\n        break;\n\n      case 'enter':\n        {\n          var hvrItem = this.getHoverLI();\n          var actItem = this.getActiveLI();\n\n          if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n            if (isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem) && actItem === hvrItem) {\n              this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n              var values = this.presetsItem[this.activeIndex];\n\n              if (values.id === 'custom_range') {\n                this.calendarFocus();\n                actItem.classList.remove(HOVER);\n                e.preventDefault();\n                return;\n              }\n            }\n          }\n\n          if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n            this.onMouseClick(e, hvrItem || actItem);\n          }\n\n          e.preventDefault();\n        }\n        break;\n\n      case 'tab':\n        if (this.leftCalendar) {\n          var item = this.getHoverLI();\n\n          if (!isNullOrUndefined(item)) {\n            item.classList.remove(HOVER);\n          }\n        } else {\n          this.hide(e);\n          e.preventDefault();\n        }\n\n        break;\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.listMoveDown = function (e) {\n    var hvrItem = this.getHoverLI();\n    var actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      var li = hvrItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      var li = actItem.nextElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    } else {\n      addClass([this.liCollections[0]], HOVER);\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateRangePicker.prototype.listMoveUp = function (e) {\n    var hvrItem = this.getHoverLI();\n    var actItem = this.getActiveLI();\n\n    if (!isNullOrUndefined(hvrItem)) {\n      var li = hvrItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        removeClass([hvrItem], HOVER);\n        addClass([li], HOVER);\n      }\n    } else if (!isNullOrUndefined(actItem)) {\n      var li = actItem.previousElementSibling;\n\n      if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n        addClass([li], HOVER);\n      }\n    }\n  };\n\n  DateRangePicker.prototype.getHoverLI = function () {\n    var item = this.presetElement.querySelector('.' + HOVER);\n    return item;\n  };\n\n  DateRangePicker.prototype.getActiveLI = function () {\n    var item = this.presetElement.querySelector('.' + ACTIVE$1);\n    return item;\n  };\n\n  DateRangePicker.prototype.popupKeyBoardHandler = function () {\n    this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: {\n        escape: 'escape'\n      }\n    });\n    this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n    this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n      eventName: 'keydown',\n      keyAction: this.popupKeyActionHandle.bind(this),\n      keyConfigs: this.keyInputConfigs\n    });\n  };\n\n  DateRangePicker.prototype.setScrollPosition = function () {\n    var listHeight = this.presetElement.getBoundingClientRect().height;\n    var hover = this.presetElement.querySelector('.' + HOVER);\n    var active = this.presetElement.querySelector('.' + ACTIVE$1);\n    var element = !isNullOrUndefined(hover) ? hover : active;\n\n    if (!isNullOrUndefined(element)) {\n      var nextEle = element.nextElementSibling;\n      var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n      var liHeight = element.getBoundingClientRect().height;\n\n      if (height + element.offsetTop > listHeight) {\n        this.presetElement.scrollTop = nextEle ? height - (listHeight / 2 + liHeight / 2) : height;\n      } else {\n        this.presetElement.scrollTop = 0;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n    var presetElement = closest(e.target, '.' + PRESETS);\n\n    switch (e.action) {\n      case 'escape':\n        if (this.isPopupOpen()) {\n          if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n          }\n\n          this.hide(e);\n        } else {\n          this.inputWrapper.container.children[1].blur();\n        }\n\n        break;\n\n      case 'enter':\n        if (!this.isPopupOpen()) {\n          this.show(null, e);\n        } else {\n          this.inputWrapper.container.children[1].focus();\n        }\n\n        break;\n\n      case 'tab':\n        this.hide(e);\n        break;\n\n      case 'altRightArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.cancelButton.element.focus();\n        } else {\n          if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n            this.applyButton.element.focus();\n          } else {\n            this.leftCalendar.children[1].firstElementChild.focus();\n          }\n        }\n\n        e.preventDefault();\n        break;\n\n      case 'altLeftArrow':\n        if (!isNullOrUndefined(presetElement)) {\n          this.rightCalendar.children[1].firstElementChild.focus();\n        } else {\n          if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n            this.cancelButton.element.focus();\n          } else {\n            if (!isNullOrUndefined(this.presetElement) && document.activeElement === this.cancelButton.element) {\n              this.presetElement.focus();\n            } else {\n              this.rightCalendar.children[1].firstElementChild.focus();\n            }\n          }\n        }\n\n        e.preventDefault();\n        break;\n    }\n  };\n\n  DateRangePicker.prototype.documentHandler = function (e) {\n    if (isNullOrUndefined(this.popupObj)) {\n      return;\n    }\n\n    var target = e.target;\n\n    if (!this.inputWrapper.container.contains(target) || !isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && e.type !== 'mousedown') {\n      if (e.type !== 'touchstart' && (e.type === 'mousedown' || this.closeEventArgs && !this.closeEventArgs.cancel)) {\n        e.preventDefault();\n      }\n    }\n\n    if ((isNullOrUndefined(this.targetElement) || !isNullOrUndefined(this.targetElement) && !(target === this.targetElement)) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container) && !(closest(target, '.e-daterangepicker.e-popup') && !target.classList.contains('e-day'))) {\n      this.preventBlur = false;\n\n      if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n        this.applyFunction(e);\n\n        if (!this.isMobile) {\n          this.isRangeIconClicked = false;\n        }\n      }\n    }\n  };\n\n  DateRangePicker.prototype.createInput = function () {\n    var updatedCssClassValue = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      floatLabelType: this.floatLabelType,\n      element: this.inputElement,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [DATERANGEICON]\n    }, this.createElement);\n    attributes(this.inputElement, {\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false'\n    });\n    Input.addAttributes({\n      'aria-label': 'select'\n    }, this.inputWrapper.buttons[0]);\n\n    if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n      Input.addAttributes({\n        'aria-placeholder': this.placeholder\n      }, this.inputElement);\n    }\n\n    this.setEleWidth(this.width);\n    addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.inputElement.type === 'hidden') {\n      this.inputWrapper.container.style.display = 'none';\n    }\n\n    this.refreshControl();\n    this.previousEleValue = this.inputElement.value;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.startCopy = this.startDate;\n    this.endCopy = this.endDate;\n  };\n\n  DateRangePicker.prototype.setEleWidth = function (width) {\n    if (typeof width === 'string') {\n      this.inputWrapper.container.style.width = this.width;\n    } else if (typeof width === 'number') {\n      this.inputWrapper.container.style.width = formatUnit(this.width);\n    } else {\n      this.inputWrapper.container.style.width = '100%';\n    }\n  };\n\n  DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n    if (this.dayHeaderFormat === 'Wide') {\n      addClass([this.popupWrapper], DAYHEADERLONG$1);\n    }\n  };\n\n  DateRangePicker.prototype.refreshControl = function () {\n    this.validateMinMax();\n\n    if (this.strictMode) {\n      this.validateRangeStrict();\n    }\n\n    var isDisabled = this.disabledDates();\n\n    if (this.strictMode && isDisabled) {\n      this.startValue = this.previousStartValue;\n      this.setProperties({\n        startDate: this.startValue\n      }, true);\n      this.endValue = this.previousEndValue;\n      this.setProperties({\n        endDate: this.endValue\n      }, true);\n      this.setValue();\n    }\n\n    this.updateInput();\n\n    if (!this.strictMode) {\n      this.validateRange();\n    }\n\n    if (!this.strictMode && isDisabled) {\n      this.clearRange();\n    }\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !isDisabled && !isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n      this.disabledDateRender();\n    }\n\n    this.errorClass();\n    this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n    this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n  };\n\n  DateRangePicker.prototype.updateInput = function () {\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      var formatOption = {\n        format: this.formatString,\n        type: 'date',\n        skeleton: 'yMd'\n      };\n      var startDate = this.globalize.formatDate(this.startValue, formatOption);\n      var endDate = this.globalize.formatDate(this.endValue, formatOption);\n      Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousStartValue = new Date(+this.startValue);\n      this.previousEndValue = new Date(+this.endValue);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n  };\n\n  DateRangePicker.prototype.checkInvalidRange = function (value) {\n    if (!isNullOrUndefined(value)) {\n      var invalid = false;\n      var startinvalue = void 0;\n      var endinvalue = void 0;\n      var startString = null;\n      var endString = null;\n      var valueString = null;\n      var startObject = false;\n      var endObject = false;\n      var invalidobject = false;\n\n      if (typeof value === 'string') {\n        var range = value.split(' ' + this.separator + ' ');\n\n        if (range.length === 2) {\n          startString = range[0];\n          endString = range[1];\n        } else {\n          invalid = true;\n          valueString = value;\n        }\n      } else {\n        if (value.length > 0) {\n          startinvalue = value[0];\n          endinvalue = value[1];\n        } else {\n          startinvalue = value.start;\n          endinvalue = value.end;\n        }\n\n        if (!(startinvalue instanceof Date) && typeof startinvalue !== 'object') {\n          startString = this.getstringvalue(startinvalue);\n        } else if (startinvalue instanceof Date) {\n          startObject = true;\n        } else if (!isNullOrUndefined(startinvalue)) {\n          invalidobject = true;\n        }\n\n        if (!(endinvalue instanceof Date) && typeof endinvalue !== 'object') {\n          endString = this.getstringvalue(endinvalue);\n        } else if (endinvalue instanceof Date) {\n          endObject = true;\n        } else if (!isNullOrUndefined(endinvalue)) {\n          invalidobject = true;\n        }\n      }\n\n      if (isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString) || !isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString)) {\n        invalid = true;\n      }\n\n      if (invalidobject) {\n        startString = endString = valueString = null;\n        invalid = true;\n      }\n\n      if (startString) {\n        invalid = invalid || this.checkInvalidValue(startString);\n      }\n\n      if (endString) {\n        invalid = invalid || this.checkInvalidValue(endString);\n      }\n\n      if (invalid) {\n        if (startObject && !invalidobject) {\n          startString = startinvalue.toLocaleDateString();\n        }\n\n        if (endObject && !invalidobject) {\n          endString = endinvalue.toLocaleDateString();\n        }\n\n        if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n          valueString = startString + ' ' + this.separator + ' ' + endString;\n        } else if (!isNullOrUndefined(startString)) {\n          valueString = startString;\n        } else if (!isNullOrUndefined(endString)) {\n          valueString = endString;\n        }\n\n        this.invalidValueString = valueString;\n        this.setProperties({\n          value: null\n        }, true);\n        this.setProperties({\n          startValue: null\n        }, true);\n        this.setProperties({\n          endValue: null\n        }, true);\n        this.startDate = null;\n        this.endDate = null;\n      }\n    }\n  };\n\n  DateRangePicker.prototype.getstringvalue = function (value) {\n    var stringValue = null;\n\n    if (!isNullOrUndefined(value) && typeof value === 'number') {\n      stringValue = value.toString();\n    } else if (!isNullOrUndefined(value) && typeof value === 'string') {\n      stringValue = '' + value;\n    }\n\n    return stringValue;\n  };\n\n  DateRangePicker.prototype.checkInvalidValue = function (value) {\n    var valueString = value;\n    var invalid = false;\n    var formatOpt = null;\n    formatOpt = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    if (typeof valueString !== 'string') {\n      invalid = true;\n    } else {\n      var globalize = new Internationalization(this.locale);\n\n      if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n        var extISOStr = null;\n        var basISOString = null; // eslint-disable-next-line\n\n        extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOStr.test(valueString) && !basISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n          invalid = true;\n        }\n      }\n    }\n\n    return invalid;\n  };\n\n  DateRangePicker.prototype.isDateDisabled = function (date) {\n    if (isNullOrUndefined(date)) {\n      return false;\n    }\n\n    var value = new Date(+date);\n\n    if (+value < +this.min || +value > +this.max) {\n      return true;\n    }\n\n    this.virtualRenderCellArgs = {\n      date: value,\n      isDisabled: false\n    };\n    var args = this.virtualRenderCellArgs;\n    this.virtualRenderCellEvent(args);\n\n    if (args.isDisabled) {\n      return true;\n    }\n\n    return false;\n  };\n\n  DateRangePicker.prototype.disabledDateRender = function () {\n    this.disabledDays = [];\n    this.disabledDayCnt = null;\n    var localDate = new Date(+this.startValue);\n    var count = 0;\n\n    while (+localDate <= +this.endValue && +this.endValue <= +this.max) {\n      this.virtualRenderCellArgs = {\n        date: localDate,\n        isDisabled: false\n      };\n      var args = this.virtualRenderCellArgs;\n      this.virtualRenderCellEvent(args);\n\n      if (args.isDisabled) {\n        this.disabledDays.push(new Date(+args.date));\n\n        if (+localDate > +this.startValue && +localDate < +this.endValue) {\n          count++;\n        }\n      }\n\n      this.addDay(localDate, 1, null, this.max, this.min);\n    }\n\n    this.disabledDayCnt = count;\n  };\n\n  DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n    extend(this.virtualRenderCellArgs, {\n      name: 'renderDayCell'\n    });\n    this.trigger('renderDayCell', args);\n  };\n\n  DateRangePicker.prototype.disabledDates = function () {\n    var isStartDisabled = false;\n    var isEndDisabled = false;\n\n    if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n      isStartDisabled = this.isDateDisabled(this.startValue);\n      isEndDisabled = this.isDateDisabled(this.endValue);\n\n      if (!this.isPopupOpen()) {\n        this.currentDate = null;\n      }\n\n      this.setValue();\n    }\n\n    return isStartDisabled || isEndDisabled;\n  };\n\n  DateRangePicker.prototype.setModelValue = function () {\n    if (!this.value && this.startDate === null && this.endDate === null) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (this.value === null || this.value.start === null) {\n      if (this.value === null) {\n        this.setProperties({\n          value: [this.startDate, this.endDate]\n        }, true);\n      } else if (this.value.start === null) {\n        this.setProperties({\n          value: {\n            start: this.startDate,\n            end: this.endDate\n          }\n        }, true);\n      }\n    } else {\n      if (this.value && this.value.length > 0 || this.valueType && this.valueType.length > 0) {\n        if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n          this.setProperties({\n            value: [this.startDate, this.endDate]\n          }, true);\n        }\n\n        if (this.value && this.value[0] == null && this.value[1] == null) {\n          this.setProperties({\n            value: null\n          }, true);\n        }\n      } else {\n        if (this.value && this.value.start) {\n          this.setProperties({\n            value: {\n              start: this.startDate,\n              end: this.endDate\n            }\n          }, true);\n        }\n      }\n    }\n\n    this.createHiddenInput();\n  };\n  /**\n   * To dispatch the event manually\n   *\n   * @param {HTMLElement} element - Specifies the element to dispatch the event.\n   * @param {string} type - Specifies the name of the event.\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.dispatchEvent = function (element, type) {\n    var evt = document.createEvent('HTMLEvents');\n    evt.initEvent(type, false, true);\n    element.dispatchEvent(evt);\n    this.firstHiddenChild.dispatchEvent(evt);\n  };\n\n  DateRangePicker.prototype.changeTrigger = function (e) {\n    if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n      this.setProperties({\n        endDate: this.checkDateValue(this.endValue)\n      }, true);\n      this.setProperties({\n        startDate: this.checkDateValue(this.startValue)\n      }, true);\n      this.setModelValue();\n\n      if (this.isAngular && this.preventChange) {\n        this.preventChange = false;\n      } else {\n        this.trigger('change', this.rangeArgs(e));\n      }\n    }\n\n    this.previousEleValue = this.inputElement.value;\n    this.initStartDate = this.checkDateValue(this.startValue);\n    this.initEndDate = this.checkDateValue(this.endValue);\n  };\n  /**\n   * This method is used to navigate to the month/year/decade view of the Calendar.\n   *\n   * @param  {string} view - Specifies the view of the Calendar.\n   * @param  {Date} date - Specifies the focused date in a view.\n   * @returns {void}\n   * @hidden\n   */\n\n\n  DateRangePicker.prototype.navigateTo = function (view, date) {\n    if (this.isPopupOpen()) {\n      if (view.toLowerCase() === 'month') {\n        view = 'Month';\n      } else if (view.toLowerCase() === 'year') {\n        view = 'Year';\n      } else if (view.toLowerCase() === 'decade') {\n        view = 'Decade';\n      } else {\n        return;\n      }\n\n      if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n        view = this.depth;\n      }\n\n      if (this.isMobile) {\n        _super.prototype.navigateTo.call(this, view, date);\n      } else {\n        if (date < this.min) {\n          date = new Date(+this.min);\n        } else if (date >= this.max) {\n          date = new Date(+this.max);\n        }\n\n        if (view === 'Month' && this.isSameMonth(date, this.max)) {\n          date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n        } else if (view === 'Year' && this.isSameYear(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 1, this.max.getMonth(), this.max.getDate());\n        } else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n          date = new Date(this.max.getFullYear() - 10, this.max.getMonth(), this.max.getDate());\n        }\n\n        this.leftCalCurrentDate = date;\n        this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n\n        if (view === 'Month') {\n          date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n        } else if (view === 'Year') {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n        } else {\n          date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n        }\n\n        this.rightCalCurrentDate = date;\n        this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n        this.leftKeyboardModule = this.rightKeyboardModule = null;\n        this.updateNavIcons();\n      }\n\n      if (this.currentView() === this.depth) {\n        this.bindCalendarCellEvents();\n      }\n\n      this.removeFocusedDate();\n      this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n    }\n  };\n\n  DateRangePicker.prototype.navigate = function (calendar, date, view) {\n    this.calendarElement = calendar;\n    this.table = calendar.querySelector('table');\n    this.tableBodyElement = calendar.querySelector('tbody');\n    this.headerTitleElement = calendar.querySelector('.e-title');\n    this.tableHeadElement = calendar.querySelector('thead');\n    this.contentElement = calendar.querySelector('.e-content');\n    this.previousIcon = calendar.querySelector('.e-prev');\n    this.nextIcon = calendar.querySelector('.e-next');\n    this.effect = ZOOMIN$1;\n\n    _super.prototype.navigateTo.call(this, view, date);\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      this.inputElement.focus();\n    }\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.focusOut = function () {\n    var isBlur = this.preventBlur;\n\n    if (document.activeElement === this.inputElement) {\n      removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n      this.preventBlur = false;\n      this.inputElement.blur();\n      this.preventBlur = isBlur;\n    }\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.destroy = function () {\n    this.unBindEvents();\n    this.hide(null);\n    var ariaAttrs = {\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'aria-disabled': !this.enabled ? 'true' : 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'aria-invalid': 'false',\n      'spellcheck': 'false'\n    };\n\n    if (this.inputElement) {\n      removeClass([this.inputElement], [ROOT$2]);\n      EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n      Input.removeAttributes(ariaAttrs, this.inputElement);\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.inputElement.classList.remove('e-input');\n\n      if (!isNullOrUndefined(this.inputWrapper)) {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n\n        if (this.angularTag === null) {\n          this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n        }\n\n        detach(this.inputWrapper.container);\n      }\n    }\n\n    if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n      this.inputKeyboardModule.destroy();\n    }\n\n    if (this.popupObj) {\n      if (!this.isMobile) {\n        this.clearCalendarEvents();\n      }\n    }\n\n    _super.prototype.destroy.call(this);\n\n    this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    if (!isNullOrUndefined(this.firstHiddenChild) && !isNullOrUndefined(this.secondHiddenChild)) {\n      detach(this.firstHiddenChild);\n      detach(this.secondHiddenChild);\n      this.firstHiddenChild = this.secondHiddenChild = null;\n      this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n      this.inputElement.removeAttribute('data-name');\n    }\n\n    this.closeEventArgs = null;\n    this.leftCalendar = null;\n    this.rightTitle = null;\n    this.leftTitle = null;\n    this.openEventArgs = null;\n    this.leftCalNextIcon = null;\n    this.rightCalendar = null;\n    this.closeEventArgs = null;\n    this.rightCalPrevIcon = null;\n    this.leftCalPrevIcon = null;\n    this.popupKeyboardModule = null;\n    this.cancelButton = null;\n    this.applyButton = null;\n    this.calendarElement = null;\n    this.leftKeyboardModule = null;\n    this.rightCalNextIcon = null;\n    this.leftCalNextIcon = null;\n    this.btnKeyboardModule = null;\n    this.rightKeyboardModule = null;\n    this.leftKeyboardModule = null;\n    this.presetKeyboardModule = null;\n    this.liCollections = null;\n    this.popupObj = null;\n    this.popupWrapper = null;\n  };\n\n  DateRangePicker.prototype.ensureInputAttribute = function () {\n    var attr = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      attr[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < attr.length; i++) {\n      if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n\n        this.inputElement.removeAttribute(attr[i]);\n      } else {\n        if (attr[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n        }\n\n        this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n      }\n    }\n  };\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DateRangePicker.prototype.getModuleName = function () {\n    return 'daterangepicker';\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Return the properties that are maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  DateRangePicker.prototype.getPersistData = function () {\n    var keyEntity = ['startDate', 'endDate', 'value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\n   * Return the selected range and day span in the DateRangePicker.\n   *\n   * @returns {Object}\n   */\n\n\n  DateRangePicker.prototype.getSelectedRange = function () {\n    var range;\n\n    if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n      range = Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() - this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1;\n\n      if (!isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n        this.disabledDateRender();\n      }\n\n      if (!isNullOrUndefined(this.disabledDayCnt)) {\n        range = range - this.disabledDayCnt;\n        this.disabledDayCnt = null;\n      }\n    } else {\n      range = 0;\n    }\n\n    return {\n      startDate: this.startValue,\n      endDate: this.endValue,\n      daySpan: range\n    };\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * To open the Popup container in the DateRangePicker component.\n   *\n   * @param {HTMLElement} element - Specifies element.\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.show = function (element, event) {\n    var _this = this;\n\n    if (this.isMobile && this.popupObj) {\n      this.popupObj.refreshPosition();\n    }\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupObj) {\n      return;\n    } else {\n      if (!this.isPopupOpen()) {\n        if (element) {\n          this.targetElement = element;\n        }\n\n        this.createPopup();\n\n        if (this.isMobile || Browser.isDevice) {\n          this.mobileRangePopupWrap = this.createElement('div', {\n            className: 'e-daterangepick-mob-popup-wrap'\n          });\n          document.body.appendChild(this.mobileRangePopupWrap);\n        }\n\n        this.openEventArgs = {\n          popup: this.popupObj || null,\n          cancel: false,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null,\n          appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n        };\n        var eventArgs = this.openEventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n          _this.openEventArgs = eventArgs;\n\n          if (!_this.openEventArgs.cancel) {\n            _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n            _this.showPopup(element, event);\n\n            var isPreset = !_this.isCustomRange || _this.isMobile && _this.isCustomRange;\n\n            if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n              _this.setScrollPosition();\n            }\n\n            _this.checkMinMaxDays();\n\n            if (_this.isMobile && !isNullOrUndefined(_this.startDate) && isNullOrUndefined(_this.endDate)) {\n              _this.endButton.element.classList.add(ACTIVE$1);\n\n              _this.startButton.element.classList.remove(ACTIVE$1);\n\n              _this.endButton.element.removeAttribute('disabled');\n\n              _this.selectableDates();\n            }\n\n            _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            _this.isMobile || Browser.isDevice);\n          }\n        });\n      }\n    }\n  };\n  /**\n   * To close the Popup container in the DateRangePicker component.\n   *\n   * @returns {void}\n   */\n\n\n  DateRangePicker.prototype.hide = function (event) {\n    var _this = this;\n\n    if (this.popupObj) {\n      if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n        this.clearRange();\n      } else {\n        if (!isNullOrUndefined(this.previousStartValue)) {\n          this.startValue = new Date(this.checkValue(this.previousStartValue));\n          this.setValue();\n          this.currentDate = new Date(this.checkValue(this.startValue));\n        } else {\n          this.startValue = null;\n          this.setValue();\n        }\n\n        if (!isNullOrUndefined(this.previousEndValue)) {\n          this.endValue = new Date(this.checkValue(this.previousEndValue));\n          this.setValue();\n        } else {\n          this.endValue = null;\n          this.setValue();\n        }\n      }\n\n      if (this.isPopupOpen()) {\n        this.closeEventArgs = {\n          cancel: false,\n          popup: this.popupObj,\n          date: this.inputElement.value,\n          model: this,\n          event: event ? event : null\n        };\n        var eventArgs = this.closeEventArgs;\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.closeEventArgs = eventArgs;\n\n          if (!_this.closeEventArgs.cancel) {\n            if (_this.isMobile) {\n              if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n              }\n            }\n\n            if (_this.popupObj) {\n              _this.popupObj.hide();\n\n              if (_this.preventBlur) {\n                _this.inputElement.focus();\n\n                addClass([_this.inputWrapper.container], [INPUTFOCUS$1]);\n              }\n            }\n\n            if (!_this.isMobile) {\n              if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                _this.leftKeyboardModule.destroy();\n\n                _this.rightKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(_this.presetElement)) {\n                _this.presetKeyboardModule.destroy();\n              }\n\n              if (!isNullOrUndefined(_this.cancelButton)) {\n                _this.btnKeyboardModule.destroy();\n              }\n            }\n\n            _this.targetElement = null;\n            removeClass([document.body], OVERFLOW$1);\n            EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n\n            if (_this.isMobile && _this.modal) {\n              _this.modal.style.display = 'none';\n              _this.modal.outerHTML = '';\n              _this.modal = null;\n            }\n\n            if (_this.isMobile || Browser.isDevice) {\n              if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                _this.mobileRangePopupWrap.remove();\n\n                _this.mobileRangePopupWrap = null;\n              }\n            }\n\n            _this.isKeyPopup = _this.dateDisabled = false;\n          } else {\n            removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n          }\n\n          _this.updateClearIconState();\n\n          _this.updateHiddenInput();\n\n          if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n            _this.inputElement.removeAttribute('readonly');\n          }\n        });\n      }\n    } else {\n      this.updateClearIconState();\n      this.updateHiddenInput();\n\n      if (this.isMobile && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  DateRangePicker.prototype.setLocale = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.l10n.setLocale(this.locale);\n    this.setProperties({\n      placeholder: this.l10n.getConstant('placeholder')\n    }, true);\n    Input.setPlaceholder(this.placeholder, this.inputElement);\n    this.updateInput();\n    this.updateHiddenInput();\n    this.changeTrigger();\n  };\n\n  DateRangePicker.prototype.refreshChange = function () {\n    this.checkView();\n    this.refreshControl();\n    this.changeTrigger();\n  };\n\n  DateRangePicker.prototype.setDate = function () {\n    Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n    this.refreshChange();\n  };\n\n  DateRangePicker.prototype.enableInput = function () {\n    if (+this.min <= +this.max) {\n      this.setProperties({\n        enabled: true\n      }, true);\n      Input.setEnabled(this.enabled, this.inputElement);\n\n      if (this.element.hasAttribute('disabled')) {\n        this.bindEvents();\n      }\n    }\n  };\n\n  DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n    this.setProperties({\n      startDate: null\n    }, true);\n    this.setProperties({\n      endDate: null\n    }, true);\n\n    if (oldProp.value && oldProp.value.length > 0) {\n      this.setProperties({\n        value: null\n      }, true);\n    } else if (oldProp.value && oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    } else if (oldProp.value && !oldProp.value.start) {\n      this.setProperties({\n        value: {\n          start: null,\n          end: null\n        }\n      }, true);\n    }\n\n    this.updateValue();\n    this.setDate();\n  };\n\n  DateRangePicker.prototype.createHiddenInput = function () {\n    if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n      this.firstHiddenChild = this.createElement('input');\n      this.secondHiddenChild = this.createElement('input');\n    }\n\n    if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n      this.inputElement.removeAttribute('name');\n    }\n\n    attributes(this.firstHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    attributes(this.secondHiddenChild, {\n      'type': 'text',\n      'name': this.inputElement.getAttribute('data-name'),\n      'class': HIDDENELEMENT\n    });\n    var format = {\n      type: 'datetime',\n      skeleton: 'yMd'\n    };\n    this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n    this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n    this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n    this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n  };\n\n  DateRangePicker.prototype.setMinMaxDays = function () {\n    if (this.isPopupOpen()) {\n      this.removeClassDisabled();\n      this.checkMinMaxDays();\n\n      if (this.isMobile) {\n        this.selectableDates();\n      }\n\n      if (!this.strictMode && isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n        this.removeSelection();\n      } else {\n        this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n      }\n\n      this.updateHeader();\n    }\n  }; // eslint-disable-next-line @typescript-eslint/tslint/config\n\n\n  DateRangePicker.prototype.getStartEndValue = function (date, isEnd) {\n    if (this.depth === 'Month') {\n      return this.checkDateValue(new Date(this.checkValue(date)));\n    } else if (this.depth === 'Year') {\n      return new Date(date.getFullYear(), date.getMonth() + (isEnd ? 1 : 0), isEnd ? 0 : 1);\n    } else {\n      return new Date(date.getFullYear(), isEnd ? 11 : 0, isEnd ? 31 : 1);\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var format = {\n      format: this.formatString,\n      type: 'date',\n      skeleton: 'yMd'\n    };\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      var openPopup = ['maxDays', 'minDays', 'value'];\n\n      if (openPopup.indexOf(prop) < 0) {\n        this.hide(null);\n      }\n\n      switch (prop) {\n        case 'width':\n          this.setEleWidth(this.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'separator':\n          this.previousEleValue = this.inputElement.value;\n          this.setProperties({\n            separator: newProp.separator\n          }, true);\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          this.setProperties({\n            placeholder: newProp.placeholder\n          }, true);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          this.setRangeAllowEdit();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n          } else {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'allowEdit':\n          this.setRangeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.updateInput();\n          this.changeTrigger();\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.placeholder, this.inputElement);\n          this.setLocale();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.setDataAttribute(true);\n          this.checkHtmlAttributes(true);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'startDate':\n          if (typeof newProp.startDate === 'string') {\n            newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n          }\n\n          if (+this.initStartDate !== +newProp.startDate) {\n            this.startValue = this.getStartEndValue(newProp.startDate, false);\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'endDate':\n          if (typeof newProp.endDate === 'string') {\n            newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n          }\n\n          if (+this.initEndDate !== +newProp.endDate) {\n            this.endValue = this.getStartEndValue(newProp.endDate, true);\n            this.setDate();\n            this.setValue();\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidRange(newProp.value);\n\n          if (typeof newProp.value === 'string') {\n            if (!this.invalidValueString) {\n              var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n              this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n              this.updateValue();\n              this.setDate();\n            } else {\n              this.clearModelvalue(newProp, oldProp);\n            }\n          } else {\n            if (!isNullOrUndefined(newProp.value) && newProp.value.length > 0 || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n              this.valueType = newProp.value;\n\n              if (newProp.value[0] === null || newProp.value.start === null) {\n                if (newProp.value.length === 1 || newProp.value.start) {\n                  this.clearModelvalue(newProp, oldProp);\n                } else if (newProp.value[1] === null || newProp.value.start === null) {\n                  this.clearModelvalue(newProp, oldProp);\n                }\n              } else if (+this.initStartDate !== +newProp.value[0] || +this.initEndDate !== +newProp.value[1] || +this.initStartDate !== +(newProp.value.start || +this.initEndDate !== +newProp.value.start)) {\n                if (newProp.value.length === 1) {\n                  this.modelValue = newProp.value;\n                } else if (newProp.value.start) {\n                  this.modelValue = newProp.value;\n                }\n\n                this.updateValue();\n                this.setDate();\n              }\n            } else {\n              if (isNullOrUndefined(this.value) || newProp.value.start == null) {\n                this.valueType = newProp.value;\n                this.startValue = null;\n                this.endValue = null;\n                this.clearModelvalue(newProp, oldProp);\n              }\n            }\n          }\n\n          if (this.isPopupOpen()) {\n            if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n              this.removeSelection();\n\n              if (this.isMobile) {\n                this.deviceHeaderUpdate();\n              }\n\n              return;\n            }\n\n            if (this.isMobile) {\n              this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n              this.deviceHeaderUpdate();\n            } else {\n              this.navigate(this.leftCalendar, this.startValue, this.currentView());\n              this.updateControl(this.leftCalendar);\n              this.navigate(this.rightCalendar, this.endValue, this.currentView());\n              this.updateControl(this.rightCalendar);\n            }\n\n            this.updateRange(this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]);\n            this.updateHeader();\n            this.applyButton.disabled = this.applyButton.element.disabled = false;\n          }\n\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n          break;\n\n        case 'minDays':\n          this.setProperties({\n            minDays: newProp.minDays\n          }, true);\n          this.refreshChange();\n          this.setMinMaxDays();\n          break;\n\n        case 'maxDays':\n          this.setProperties({\n            maxDays: newProp.maxDays\n          }, true);\n          this.refreshChange();\n          this.setMinMaxDays();\n          break;\n\n        case 'min':\n          this.setProperties({\n            min: this.checkDateValue(new Date(this.checkValue(newProp.min)))\n          }, true);\n          this.previousEleValue = this.inputElement.value;\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'max':\n          this.setProperties({\n            max: this.checkDateValue(new Date(this.checkValue(newProp.max)))\n          }, true);\n          this.enableInput();\n          this.refreshChange();\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'presets':\n          this.setProperties({\n            presets: newProp.presets\n          }, true);\n          this.processPresets();\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'start':\n          this.setProperties({\n            start: newProp.start\n          }, true);\n          this.refreshChange();\n          break;\n\n        case 'depth':\n          this.setProperties({\n            depth: newProp.depth\n          }, true);\n          this.refreshChange();\n          break;\n      }\n    }\n  };\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"value\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$2([Property(new Date(1900, 0, 1))], DateRangePicker.prototype, \"min\", void 0);\n\n  __decorate$2([Property(new Date(2099, 11, 31))], DateRangePicker.prototype, \"max\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"locale\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"weekNumber\", void 0);\n\n  __decorate$2([Property('Gregorian')], DateRangePicker.prototype, \"calendarMode\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"created\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"destroyed\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"change\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"cleared\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"navigated\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"renderDayCell\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"startDate\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"endDate\", void 0);\n\n  __decorate$2([Collection([{}], Presets)], DateRangePicker.prototype, \"presets\", void 0);\n\n  __decorate$2([Property('')], DateRangePicker.prototype, \"width\", void 0);\n\n  __decorate$2([Property(1000)], DateRangePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"showTodayButton\", void 0);\n\n  __decorate$2([Property('Month')], DateRangePicker.prototype, \"start\", void 0);\n\n  __decorate$2([Property('Month')], DateRangePicker.prototype, \"depth\", void 0);\n\n  __decorate$2([Property('')], DateRangePicker.prototype, \"cssClass\", void 0);\n\n  __decorate$2([Property('-')], DateRangePicker.prototype, \"separator\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"minDays\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"maxDays\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"format\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"enabled\", void 0);\n\n  __decorate$2([Property(false)], DateRangePicker.prototype, \"readonly\", void 0);\n\n  __decorate$2([Property(true)], DateRangePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$2([Property('Never')], DateRangePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate$2([Property(null)], DateRangePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$2([Property({})], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"open\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"close\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"select\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"focus\", void 0);\n\n  __decorate$2([Event()], DateRangePicker.prototype, \"blur\", void 0);\n\n  DateRangePicker = __decorate$2([NotifyPropertyChanges], DateRangePicker);\n  return DateRangePicker;\n}(CalendarBase);\n/**\n * DateRangePicker modules\n */\n\n\nvar __extends$3 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$3 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\n\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP$2 = 'e-popup';\nvar ERROR$2 = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH$2 = new Date().getMonth();\nvar YEAR$2 = new Date().getFullYear();\nvar ROOT$3 = 'e-timepicker';\nvar LIBRARY$2 = 'e-lib';\nvar CONTROL$2 = 'e-control';\nvar CONTENT$2 = 'e-content';\nvar SELECTED$4 = 'e-active';\nvar HOVER$1 = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED$3 = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS$1 = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW$2 = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style']; // eslint-disable-next-line @typescript-eslint/no-namespace\n\nvar TimePickerBase;\n\n(function (TimePickerBase) {\n  // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n  function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n    if (this.calendarMode === 'Gregorian') {} else {// eslint-disable-next-line @typescript-eslint/no-unused-vars\n    }\n\n    var start;\n    var interval = step * 60000;\n    var listItems = [];\n    var timeCollections = [];\n    start = +min.setMilliseconds(0);\n    var end = +max.setMilliseconds(0);\n\n    while (end >= start) {\n      timeCollections.push(start);\n      listItems.push(globalize.formatDate(new Date(start), {\n        format: timeFormat,\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listTag = ListBase.createList(createdEl, listItems, null, true);\n    return {\n      collection: timeCollections,\n      list: listTag\n    };\n  }\n\n  TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\n\nvar TimeMaskPlaceholder =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(TimeMaskPlaceholder, _super);\n\n  function TimeMaskPlaceholder() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$3([Property('day')], TimeMaskPlaceholder.prototype, \"day\", void 0);\n\n  __decorate$3([Property('month')], TimeMaskPlaceholder.prototype, \"month\", void 0);\n\n  __decorate$3([Property('year')], TimeMaskPlaceholder.prototype, \"year\", void 0);\n\n  __decorate$3([Property('day of the week')], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n\n  __decorate$3([Property('hour')], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n\n  __decorate$3([Property('minute')], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n\n  __decorate$3([Property('second')], TimeMaskPlaceholder.prototype, \"second\", void 0);\n\n  return TimeMaskPlaceholder;\n}(ChildProperty);\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\n\n\nvar TimePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$3(TimePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {TimePickerModel} options - Specifies the TimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function TimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.liCollections = [];\n    _this.timeCollections = [];\n    _this.disableItemCollection = [];\n    _this.invalidValueString = null;\n    _this.isAngular = false;\n    _this.preventChange = false;\n    _this.maskedDateValue = '';\n    _this.moduleName = _this.getModuleName();\n    _this.timeOptions = options;\n    return _this;\n  }\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  TimePicker.prototype.preRender = function () {\n    this.keyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n    this.inputElement = this.element;\n    this.angularTag = null;\n    this.formElement = closest(this.element, 'form');\n\n    if (this.element.tagName === 'EJS-TIMEPICKER') {\n      this.angularTag = this.element.tagName;\n      this.inputElement = this.createElement('input');\n      this.element.appendChild(this.inputElement);\n    }\n\n    this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n    this.element.removeAttribute('tabindex');\n    this.openPopupEventArgs = {\n      appendTo: document.body\n    };\n  }; // element creation\n\n\n  TimePicker.prototype.render = function () {\n    this.initialize();\n    this.createInputElement();\n    this.updateHtmlAttributeToWrapper();\n    this.setTimeAllowEdit();\n    this.setEnable();\n    this.validateInterval();\n    this.bindEvents();\n    this.validateDisable();\n    this.setValue(this.getFormattedValue(this.value));\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType === 'Always' || !this.floatLabelType || !this.placeholder)) {\n      this.updateInputValue(this.maskedDateValue);\n      this.checkErrorState(this.maskedDateValue);\n    }\n\n    this.anchor = this.inputElement;\n    this.inputElement.setAttribute('value', this.inputElement.value);\n    this.inputEleValue = this.getDateObject(this.inputElement.value);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n    }\n\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n\n    this.renderComplete();\n  };\n\n  TimePicker.prototype.setTimeAllowEdit = function () {\n    if (this.allowEdit) {\n      if (!this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    } else {\n      attributes(this.inputElement, {\n        'readonly': ''\n      });\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.clearIconState = function () {\n    if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n      if (this.inputElement.value === '') {\n        removeClass([this.inputWrapper.container], [EDITABLE]);\n      } else {\n        addClass([this.inputWrapper.container], [EDITABLE]);\n      }\n    } else if (this.inputWrapper) {\n      removeClass([this.inputWrapper.container], [EDITABLE]);\n    }\n  };\n\n  TimePicker.prototype.validateDisable = function () {\n    this.setMinMax(this.initMin, this.initMax);\n\n    if (!isNullOrUndefined(this.value)) {\n      this.popupCreation();\n      this.popupObj.destroy();\n      this.popupWrapper = this.popupObj = null;\n    }\n\n    if (!isNaN(+this.value) && this.value !== null) {\n      if (!this.valueIsDisable(this.value)) {\n        //disable value given in value property so reset the date based on current date\n        if (this.strictMode) {\n          this.resetState();\n        }\n\n        this.initValue = null;\n        this.initMax = this.getDateObject(this.initMax);\n        this.initMin = this.getDateObject(this.initMin);\n        this.timeCollections = this.liCollections = [];\n        this.setMinMax(this.initMin, this.initMax);\n      }\n    }\n  };\n\n  TimePicker.prototype.validationAttribute = function (target, input) {\n    var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n    input.setAttribute('name', name);\n    target.removeAttribute('name');\n    var attributes$$1 = ['required', 'aria-required', 'form'];\n\n    for (var i = 0; i < attributes$$1.length; i++) {\n      if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n        continue;\n      }\n\n      var attr = target.getAttribute(attributes$$1[i]);\n      input.setAttribute(attributes$$1[i], attr);\n      target.removeAttribute(attributes$$1[i]);\n    }\n  };\n\n  TimePicker.prototype.initialize = function () {\n    this.globalize = new Internationalization(this.locale);\n    this.defaultCulture = new Internationalization('en');\n    this.checkTimeFormat();\n    this.checkInvalidValue(this.value); // persist the value property.\n\n    this.setProperties({\n      value: this.checkDateValue(new Date(this.checkInValue(this.value)))\n    }, true);\n    this.setProperties({\n      min: this.checkDateValue(new Date(this.checkInValue(this.min)))\n    }, true);\n    this.setProperties({\n      max: this.checkDateValue(new Date(this.checkInValue(this.max)))\n    }, true);\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo)))\n    }, true);\n\n    if (this.angularTag !== null) {\n      this.validationAttribute(this.element, this.inputElement);\n    }\n\n    this.updateHtmlAttributeToElement();\n    this.checkAttributes(false); //check the input element attributes\n\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('timepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n    this.initValue = this.checkDateValue(this.value);\n    this.initMin = this.checkDateValue(this.min);\n    this.initMax = this.checkDateValue(this.max);\n    this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n    this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n\n    if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n      if (this.angularTag !== null) {\n        this.inputElement.id = this.element.getAttribute('id') + '_input';\n      }\n    } else {\n      //for angular case\n      this.element.id = getUniqueID('ej2_timepicker');\n\n      if (this.angularTag !== null) {\n        attributes(this.inputElement, {\n          'id': this.element.id + '_input'\n        });\n      }\n    }\n\n    if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n      attributes(this.inputElement, {\n        'name': this.element.id\n      });\n    }\n\n    if (this.enableMask) {\n      this.notify('createMask', {\n        module: 'MaskedDateTime'\n      });\n    }\n  };\n\n  TimePicker.prototype.checkTimeFormat = function () {\n    if (this.format) {\n      if (typeof this.format === 'string') {\n        this.formatString = this.format;\n      } else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n        var skeletonString = this.format.skeleton;\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: skeletonString\n        });\n      } else {\n        this.formatString = this.globalize.getDatePattern({\n          type: 'time',\n          skeleton: 'short'\n        });\n      }\n    } else {\n      this.formatString = null;\n    }\n  };\n\n  TimePicker.prototype.checkDateValue = function (value) {\n    return !isNullOrUndefined(value) && value instanceof Date && !isNaN(+value) ? value : null;\n  };\n\n  TimePicker.prototype.createInputElement = function () {\n    var updatedCssClassesValue = this.cssClass;\n    var isBindClearAction = this.enableMask ? false : true;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassesValue = this.cssClass.replace(/\\s+/g, ' ').trim();\n    }\n\n    this.inputWrapper = Input.createInput({\n      element: this.inputElement,\n      bindClearAction: isBindClearAction,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassesValue,\n        enabled: this.enabled,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton\n      },\n      buttons: [' e-input-group-icon e-time-icon e-icons']\n    }, this.createElement);\n    this.inputWrapper.container.style.width = this.setWidth(this.width);\n    attributes(this.inputElement, {\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'false',\n      'aria-invalid': 'false'\n    });\n\n    if (!this.isNullOrEmpty(this.inputStyle)) {\n      Input.addAttributes({\n        'style': this.inputStyle\n      }, this.inputElement);\n    }\n\n    addClass([this.inputWrapper.container], WRAPPERCLASS);\n  };\n\n  TimePicker.prototype.getCldrDateTimeFormat = function () {\n    var culture = new Internationalization(this.locale);\n    var cldrTime;\n    var dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.checkInvalidValue = function (value) {\n    var isInvalid = false;\n\n    if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n      var valueString = value;\n\n      if (typeof valueString === 'string') {\n        valueString = valueString.trim();\n      }\n\n      var valueExpression = null;\n      var valueExp = null;\n\n      if (typeof value === 'number') {\n        valueString = value.toString();\n      } else if (typeof value === 'string') {\n        if (!/^[a-zA-Z0-9- ]*$/.test(value)) {\n          valueExpression = this.setCurrentDate(this.getDateObject(value));\n\n          if (isNullOrUndefined(valueExpression)) {\n            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n              format: this.getCldrDateTimeFormat(),\n              type: 'datetime'\n            }));\n\n            if (isNullOrUndefined(valueExpression)) {\n              valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                format: this.formatString,\n                type: 'dateTime',\n                skeleton: 'yMd'\n              }));\n            }\n          }\n        }\n      }\n\n      valueExp = this.globalize.parseDate(valueString, {\n        format: this.getCldrDateTimeFormat(),\n        type: 'datetime'\n      });\n      valueExpression = !isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp) ? valueExp : null;\n\n      if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n        var extISOString = null;\n        var basicISOString = null; // eslint-disable-next-line\n\n        extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/; // eslint-disable-next-line\n\n        basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n\n        if (!extISOString.test(valueString) && !basicISOString.test(valueString) || /^[a-zA-Z0-9- ]*$/.test(value) || isNaN(+new Date('' + valueString))) {\n          isInvalid = true;\n        } else {\n          valueExpression = new Date('' + valueString);\n        }\n      }\n\n      if (isInvalid) {\n        if (!this.strictMode) {\n          this.invalidValueString = valueString;\n        }\n\n        this.setProperties({\n          value: null\n        }, true);\n        this.initValue = null;\n      } else {\n        this.setProperties({\n          value: valueExpression\n        }, true);\n        this.initValue = this.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this.enableMask) {\n      modules.push({\n        args: [this],\n        member: 'MaskedDateTime'\n      });\n    }\n\n    return modules;\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  TimePicker.prototype.cldrFormat = function (type) {\n    var cldrDateTimeString;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTimeString = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTimeString = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTimeString;\n  }; // destroy function\n\n\n  TimePicker.prototype.destroy = function () {\n    this.hide();\n    this.unBindEvents();\n    var ariaAttribute = {\n      'aria-autocomplete': 'list',\n      'tabindex': '0',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-disabled': 'true',\n      'aria-invalid': 'false'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n\n      if (this.angularTag === null) {\n        this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n      }\n\n      if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n        this.inputElement.setAttribute('tabindex', this.tabIndex);\n      } else {\n        this.inputElement.removeAttribute('tabindex');\n      }\n\n      this.ensureInputAttribute();\n      this.enableElement([this.inputElement]);\n      this.inputElement.classList.remove('e-input');\n\n      if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n        Input.setEnabled(true, this.inputElement, this.floatLabelType);\n      }\n    }\n\n    if (this.inputWrapper.container) {\n      detach(this.inputWrapper.container);\n    }\n\n    this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n    this.liCollections = this.timeCollections = this.disableItemCollection = [];\n\n    if (!isNullOrUndefined(this.rippleFn)) {\n      this.rippleFn();\n    }\n\n    _super.prototype.destroy.call(this);\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n\n    this.rippleFn = null;\n    this.openPopupEventArgs = null;\n    this.selectedElement = null;\n    this.listTag = null;\n    this.liCollections = null;\n  };\n\n  TimePicker.prototype.ensureInputAttribute = function () {\n    var propertyList = [];\n\n    for (var i = 0; i < this.inputElement.attributes.length; i++) {\n      propertyList[i] = this.inputElement.attributes[i].name;\n    }\n\n    for (var i = 0; i < propertyList.length; i++) {\n      if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n        this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n        }\n      } else {\n        this.inputElement.removeAttribute(propertyList[i]);\n\n        if (propertyList[i].toLowerCase() === 'value') {\n          this.inputElement.value = '';\n        }\n      }\n    }\n  }; //popup creation\n\n\n  TimePicker.prototype.popupCreation = function () {\n    this.popupWrapper = this.createElement('div', {\n      className: ROOT$3 + ' ' + POPUP$2,\n      attrs: {\n        'id': this.element.id + '_popup',\n        'style': 'visibility:hidden'\n      }\n    });\n\n    if (!isNullOrUndefined(this.cssClass)) {\n      this.popupWrapper.className += ' ' + this.cssClass;\n    }\n\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.generateList();\n      append([this.listWrapper], this.popupWrapper);\n    }\n\n    this.addSelection();\n    this.renderPopup();\n    detach(this.popupWrapper);\n  };\n\n  TimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION, 10);\n    var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  TimePicker.prototype.generateList = function () {\n    this.createListItems();\n    this.wireListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS$1\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n  };\n\n  TimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n    this.popupObj = new Popup(this.popupWrapper, {\n      width: this.setPopupWidth(this.width),\n      zIndex: this.zIndex,\n      targetType: 'relative',\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      enableRtl: this.enableRtl,\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      offsetY: OFFSETVAL,\n      open: function () {\n        _this.popupWrapper.style.visibility = 'visible';\n        addClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n      },\n      close: function () {\n        removeClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n\n        _this.unWireListEvents();\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        remove(_this.popupObj.element);\n\n        _this.popupObj.destroy();\n\n        _this.popupWrapper.innerHTML = '';\n        _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n\n    if (!Browser.isDevice) {\n      this.popupObj.collision = {\n        X: 'none',\n        Y: 'flip'\n      };\n    }\n\n    this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n  }; //util function\n\n\n  TimePicker.prototype.getFormattedValue = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        skeleton: 'medium',\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = !this.isNullOrEmpty(this.initValue);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = value ? this.initValue.getDate() : DAY;\n        var month = value ? this.initValue.getMonth() : MONTH$2;\n        var year = value ? this.initValue.getFullYear() : YEAR$2;\n        return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n      }\n    }\n\n    return null;\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) > -1) {\n          if (key === 'class') {\n            var updatedClassesValue = this.htmlAttributes[\"\" + key].replace(/\\s+/g, ' ').trim();\n\n            if (updatedClassesValue !== '') {\n              addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n            }\n          } else if (key === 'style') {\n            var timeStyle = this.inputWrapper.container.getAttribute(key);\n            timeStyle = !isNullOrUndefined(timeStyle) ? timeStyle + this.htmlAttributes[\"\" + key] : this.htmlAttributes[\"\" + key];\n            this.inputWrapper.container.setAttribute(key, timeStyle);\n          } else {\n            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[\"\" + key]);\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateHtmlAttributeToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var key = _a[_i];\n\n        if (wrapperAttributes.indexOf(key) < 0) {\n          this.inputElement.setAttribute(key, this.htmlAttributes[\"\" + key]);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n    if (!isNullOrUndefined(cssClassOld)) {\n      cssClassOld = cssClassOld.replace(/\\s+/g, ' ').trim();\n    }\n\n    if (!isNullOrUndefined(cssClassNew)) {\n      cssClassNew = cssClassNew.replace(/\\s+/g, ' ').trim();\n    }\n\n    Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n\n    if (this.popupWrapper) {\n      Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n    }\n  };\n\n  TimePicker.prototype.removeErrorClass = function () {\n    removeClass([this.inputWrapper.container], ERROR$2);\n    attributes(this.inputElement, {\n      'aria-invalid': 'false'\n    });\n  };\n\n  TimePicker.prototype.checkErrorState = function (val) {\n    var value = this.getDateObject(val);\n\n    if (this.validateState(value) && !this.invalidValueString || this.enableMask && this.inputElement.value === this.maskedDateValue) {\n      this.removeErrorClass();\n    } else {\n      addClass([this.inputWrapper.container], ERROR$2);\n      attributes(this.inputElement, {\n        'aria-invalid': 'true'\n      });\n    }\n  };\n\n  TimePicker.prototype.validateInterval = function () {\n    if (!isNullOrUndefined(this.step) && this.step > 0) {\n      this.enableElement([this.inputWrapper.buttons[0]]);\n    } else {\n      this.disableTimeIcon();\n    }\n  };\n\n  TimePicker.prototype.disableTimeIcon = function () {\n    this.disableElement([this.inputWrapper.buttons[0]]);\n    this.hide();\n  };\n\n  TimePicker.prototype.disableElement = function (element) {\n    addClass(element, DISABLED$3);\n  };\n\n  TimePicker.prototype.enableElement = function (element) {\n    removeClass(element, DISABLED$3);\n  };\n\n  TimePicker.prototype.selectInputText = function () {\n    this.inputElement.setSelectionRange(0, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.setCursorToEnd = function () {\n    this.inputElement.setSelectionRange(this.inputElement.value.length, this.inputElement.value.length);\n  };\n\n  TimePicker.prototype.getMeridianText = function () {\n    var meridian;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n    } else {\n      var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n      var mainVal = 'main.';\n      meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n    }\n\n    return meridian;\n  };\n\n  TimePicker.prototype.getCursorSelection = function () {\n    var input = this.inputElement;\n    var start = 0;\n    var end = 0;\n\n    if (!isNaN(input.selectionStart)) {\n      start = input.selectionStart;\n      end = input.selectionEnd;\n    }\n\n    return {\n      start: Math.abs(start),\n      end: Math.abs(end)\n    };\n  };\n\n  TimePicker.prototype.getActiveElement = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n    } else {\n      return null;\n    }\n  };\n\n  TimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  TimePicker.prototype.setWidth = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      width = width.match(/px|%|em/) ? width : formatUnit(width);\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setPopupWidth = function (width) {\n    width = this.setWidth(width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  TimePicker.prototype.setScrollPosition = function () {\n    var element = this.selectedElement;\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  TimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextEle = element.nextElementSibling;\n    var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n    var liHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.popupWrapper.scrollTop = nextEle ? height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION) : height;\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.setScrollTo = function () {\n    var element;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n      if (items.length) {\n        var initialTime = this.timeCollections[0];\n        var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n        element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n      }\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.popupWrapper.scrollTop = 0;\n    }\n  };\n\n  TimePicker.prototype.getText = function () {\n    return isNullOrUndefined(this.checkDateValue(this.value)) ? '' : this.getValue(this.value);\n  };\n\n  TimePicker.prototype.getValue = function (value) {\n    return isNullOrUndefined(this.checkDateValue(value)) ? null : this.globalize.formatDate(value, {\n      format: this.cldrTimeFormat(),\n      type: 'time'\n    });\n  };\n\n  TimePicker.prototype.cldrDateFormat = function () {\n    var cldrDate;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDate = getValue('dateFormats.short', getDefaultDateObject());\n    } else {\n      cldrDate = this.getCultureDateObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDate;\n  };\n\n  TimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.dateToNumeric = function () {\n    var cldrTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrTime = getValue('timeFormats.medium', getDefaultDateObject());\n    } else {\n      cldrTime = getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData);\n    }\n\n    return cldrTime;\n  };\n\n  TimePicker.prototype.getExactDateTime = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(value, {\n        format: this.dateToNumeric(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.setValue = function (value) {\n    var time = this.checkValue(value);\n\n    if (!this.strictMode && !this.validateState(time)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      if (this.isNullOrEmpty(time)) {\n        this.initValue = null;\n        this.validateMinMax(this.value, this.min, this.max);\n      } else {\n        this.initValue = this.compareFormatChange(time);\n      }\n    }\n\n    this.updateInput(true, this.initValue);\n  };\n\n  TimePicker.prototype.compareFormatChange = function (value) {\n    if (isNullOrUndefined(value)) {\n      return null;\n    }\n\n    return value !== this.getText() ? this.getDateObject(value) : this.getDateObject(this.value);\n  };\n\n  TimePicker.prototype.updatePlaceHolder = function () {\n    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n  }; //event related functions\n\n\n  TimePicker.prototype.updateInputValue = function (value) {\n    Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n  };\n\n  TimePicker.prototype.preventEventBubbling = function (e) {\n    e.preventDefault();\n    this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n  };\n\n  TimePicker.prototype.popupHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    e.preventDefault();\n\n    if (this.isPopupOpen()) {\n      this.closePopup(0, e);\n    } else {\n      this.inputElement.focus();\n      this.show(e);\n    }\n  };\n\n  TimePicker.prototype.mouseDownHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.readonly) {\n      this.inputElement.setSelectionRange(0, 0);\n      EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n    }\n  };\n\n  TimePicker.prototype.mouseUpHandler = function (event) {\n    if (!this.readonly) {\n      event.preventDefault();\n\n      if (this.enableMask) {\n        event.preventDefault();\n        this.notify('setMaskSelection', {\n          module: 'MaskedDateTime'\n        });\n        return;\n      } else {\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        var curPos = this.getCursorSelection();\n\n        if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n          if (this.inputElement.value.length > 0) {\n            this.cursorDetails = this.focusSelection();\n          }\n\n          this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.focusSelection = function () {\n    var regex = new RegExp('^[a-zA-Z0-9]+$');\n    var split = this.inputElement.value.split('');\n    split.push(' ');\n    var curPos = this.getCursorSelection();\n    var start = 0;\n    var end = 0;\n    var isSeparator = false;\n\n    if (!this.isTextSelected) {\n      for (var i = 0; i < split.length; i++) {\n        if (!regex.test(split[i])) {\n          end = i;\n          isSeparator = true;\n        }\n\n        if (isSeparator) {\n          if (curPos.start >= start && curPos.end <= end) {\n            // eslint-disable-next-line no-self-assign\n            end = end;\n            this.isTextSelected = true;\n            break;\n          } else {\n            start = i + 1;\n            isSeparator = false;\n          }\n        }\n      }\n    } else {\n      start = curPos.start;\n      end = curPos.end;\n      this.isTextSelected = false;\n    }\n\n    return {\n      start: start,\n      end: end\n    };\n  };\n\n  TimePicker.prototype.inputHandler = function (event) {\n    if (!this.readonly && this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'home':\n        case 'end':\n        case 'up':\n        case 'down':\n          if (!this.isPopupOpen()) {\n            this.popupCreation();\n            this.popupObj.destroy();\n            this.popupObj = this.popupWrapper = null;\n          }\n\n          if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n            event.preventDefault();\n            this.notify('keyDownHandler', {\n              module: 'MaskedDateTime',\n              e: event\n            });\n          }\n\n          if (!this.enableMask || this.isPopupOpen()) {\n            this.keyHandler(event);\n          }\n\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.updateValue(this.valueWithMinutes, event);\n          } else {\n            this.updateValue(this.inputElement.value, event);\n          }\n\n          this.hide();\n          this.isNavigate = false;\n\n          if (this.isPopupOpen()) {\n            event.stopPropagation();\n          }\n\n          break;\n\n        case 'open':\n          this.show(event);\n          break;\n\n        case 'escape':\n          this.updateInputValue(this.objToString(this.value));\n\n          if (this.enableMask) {\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n\n            this.createMask();\n          }\n\n          this.previousState(this.value);\n          this.hide();\n          break;\n\n        case 'close':\n          this.hide();\n          break;\n\n        case 'right':\n        case 'left':\n        case 'tab':\n        case 'shiftTab':\n          if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n            if (this.inputElement.selectionStart === 0 && this.inputElement.selectionEnd === this.inputElement.value.length || this.inputElement.selectionEnd !== this.inputElement.value.length && event.action === 'tab' || this.inputElement.selectionStart !== 0 && event.action === 'shiftTab' || event.action === 'left' || event.action === 'right') {\n              event.preventDefault();\n            }\n\n            this.notify('keyDownHandler', {\n              module: 'MaskedDateTime',\n              e: event\n            });\n          }\n\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n    this.setSelection(li, event);\n\n    if (li && li.classList.contains(LISTCLASS$1)) {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.closePopup = function (delay, e) {\n    var _this = this;\n\n    if (this.isPopupOpen() && this.popupWrapper) {\n      var args = {\n        popup: this.popupObj,\n        event: e || null,\n        cancel: false,\n        name: 'open'\n      };\n      removeClass([document.body], OVERFLOW$2);\n      this.trigger('close', args, function (args) {\n        if (!args.cancel) {\n          var animModel = {\n            name: 'FadeOut',\n            duration: ANIMATIONDURATION,\n            delay: delay ? delay : 0\n          };\n\n          _this.popupObj.hide(new Animation(animModel));\n\n          removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n          attributes(_this.inputElement, {\n            'aria-expanded': 'false'\n          });\n\n          _this.inputElement.removeAttribute('aria-owns');\n\n          _this.inputElement.removeAttribute('aria-activedescendant');\n\n          EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n        }\n\n        if (Browser.isDevice && _this.modal) {\n          _this.modal.style.display = 'none';\n          _this.modal.outerHTML = '';\n          _this.modal = null;\n        }\n\n        if (Browser.isDevice) {\n          if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n            _this.mobileTimePopupWrap.remove();\n\n            _this.mobileTimePopupWrap = null;\n          }\n        }\n\n        if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n          _this.inputElement.removeAttribute('readonly');\n        }\n      });\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n    }\n  };\n\n  TimePicker.prototype.disposeServerPopup = function () {\n    if (this.popupWrapper) {\n      this.popupWrapper.style.visibility = 'hidden';\n      this.popupWrapper.style.top = '-9999px';\n      this.popupWrapper.style.left = '-9999px';\n      this.popupWrapper.style.width = '0px';\n      this.popupWrapper.style.height = '0px';\n    }\n  };\n\n  TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n    if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n      if (this.checkDateValue(this.valueWithMinutes) === null) {\n        this.initValue = this.valueWithMinutes = null;\n      }\n\n      this.setProperties({\n        value: this.compareFormatChange(this.inputElement.value)\n      }, true);\n      this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n      this.prevValue = this.inputElement.value;\n\n      if (+this.prevDate !== +this.value) {\n        this.changeEvent(event);\n      }\n    } else {\n      if (!isNavigation) {\n        if (this.prevValue !== this.inputElement.value || isNullOrUndefined(this.checkDateValue(this.value))) {\n          this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n        }\n      } else {\n        var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n\n        if (+this.prevDate !== +value) {\n          this.valueProcess(event, value);\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS$1);\n    this.setHover(currentLi, HOVER$1);\n  };\n\n  TimePicker.prototype.setHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeHover(className);\n      addClass([li], className);\n\n      if (className === NAVIGATION) {\n        li.setAttribute('aria-selected', 'true');\n      }\n    }\n  };\n\n  TimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li)) {\n      this.checkValue(li.getAttribute('data-value'));\n\n      if (this.enableMask) {\n        this.notify('createMask', {\n          module: 'MaskedDateTime',\n          navigated: true\n        });\n      }\n\n      this.selectedElement = li;\n      this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], SELECTED$4);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.checkValueChange(event, true);\n    }\n  };\n\n  TimePicker.prototype.onMouseLeave = function () {\n    this.removeHover(HOVER$1);\n  };\n\n  TimePicker.prototype.scrollHandler = function () {\n    if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n      return;\n    } else {\n      this.hide();\n    }\n  };\n\n  TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n    if (isNullOrUndefined(this.checkDateValue(minVal))) {\n      this.initMin = this.getDateObject('12:00:00 AM');\n    }\n\n    if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n      this.initMax = this.getDateObject('11:59:59 PM');\n    }\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n    var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n    } else if (+this.createDateObj(this.getFormattedValue(this.initMin)) > +this.createDateObj(this.getFormattedValue(this.initMax))) {\n      this.disableTimeIcon();\n    }\n\n    if (this.strictMode) {\n      dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n    }\n\n    this.checkErrorState(dateVal);\n    return dateVal;\n  };\n\n  TimePicker.prototype.valueIsDisable = function (value) {\n    if (this.disableItemCollection.length > 0) {\n      if (this.disableItemCollection.length === this.timeCollections.length) {\n        return false;\n      }\n\n      var time = value instanceof Date ? this.objToString(value) : value;\n\n      for (var index = 0; index < this.disableItemCollection.length; index++) {\n        if (time === this.disableItemCollection[index]) {\n          return false;\n        }\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.validateState = function (val) {\n    if (!this.strictMode) {\n      if (this.valueIsDisable(val)) {\n        var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) : this.setCurrentDate(this.getDateObject(val));\n        var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n        var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n          if (+value > +maxValue || +value < +minValue) {\n            return false;\n          }\n        } else {\n          if (+maxValue < +minValue || this.inputElement.value !== '') {\n            return false;\n          }\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n    var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n    var minValue = this.createDateObj(this.getFormattedValue(minimum));\n    var value = this.createDateObj(this.getFormattedValue(val));\n\n    if (this.strictMode) {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n        this.initValue = this.getDateObject(maxValue);\n        this.updateInputValue(this.getValue(this.initValue));\n\n        if (this.enableMask) {\n          this.createMask();\n        }\n\n        return this.inputElement.value;\n      } else if (+minValue >= +value) {\n        return this.getDateObject(minValue);\n      } else if (+value >= +maxValue || +minValue === +maxValue) {\n        return this.getDateObject(maxValue);\n      }\n    } else {\n      if (+minValue > +maxValue) {\n        this.disableTimeIcon();\n\n        if (!isNaN(+this.createDateObj(dateVal))) {\n          return dateVal;\n        }\n      }\n    }\n\n    return dateVal;\n  };\n\n  TimePicker.prototype.bindEvents = function () {\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n    EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n    EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n\n    if (this.enableMask) {\n      EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n    }\n\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n\n    if (this.formElement) {\n      EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n    }\n\n    if (!Browser.isDevice) {\n      this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n      this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n        keyAction: this.inputHandler.bind(this),\n        keyConfigs: this.keyConfigure,\n        eventName: 'keydown'\n      });\n\n      if (this.showClearButton && this.inputElement) {\n        EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n      }\n    }\n  };\n\n  TimePicker.prototype.keydownHandler = function (e) {\n    switch (e.code) {\n      case 'Delete':\n        if (this.enableMask && !this.popupObj && !this.readonly) {\n          this.notify('keyDownHandler', {\n            module: 'MaskedDateTime',\n            e: e\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  TimePicker.prototype.formResetHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (!this.inputElement.disabled) {\n      var timeValue = this.inputElement.getAttribute('value');\n      var val = this.checkDateValue(this.inputEleValue);\n\n      if (this.element.tagName === 'EJS-TIMEPICKER') {\n        val = null;\n        timeValue = '';\n        this.inputElement.setAttribute('value', '');\n      }\n\n      this.setProperties({\n        value: val\n      }, true);\n      this.prevDate = this.value;\n      this.valueWithMinutes = this.value;\n      this.initValue = this.value;\n\n      if (this.inputElement) {\n        this.updateInputValue(timeValue);\n\n        if (this.enableMask) {\n          if (!timeValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          this.createMask();\n        }\n\n        this.checkErrorState(timeValue);\n        this.prevValue = this.inputElement.value;\n      }\n    }\n  };\n\n  TimePicker.prototype.inputChangeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.stopPropagation();\n  };\n\n  TimePicker.prototype.inputEventHandler = function () {\n    if (this.enableMask) {\n      this.notify('inputHandler', {\n        module: 'MaskedDateTime'\n      });\n    }\n  };\n\n  TimePicker.prototype.unBindEvents = function () {\n    if (this.inputWrapper) {\n      EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n    }\n\n    EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n    EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n    EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n    EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n\n    if (this.inputEvent) {\n      this.inputEvent.destroy();\n    }\n\n    EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n\n    if (this.showClearButton && !isNullOrUndefined(this.inputWrapper) && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n      EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n    }\n\n    if (this.formElement) {\n      EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n    }\n  };\n\n  TimePicker.prototype.bindClearEvent = function () {\n    if (this.showClearButton && this.inputWrapper.clearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n    }\n  };\n\n  TimePicker.prototype.raiseClearedEvent = function (e) {\n    var clearedArgs = {\n      event: e\n    };\n    this.trigger('cleared', clearedArgs);\n  };\n\n  TimePicker.prototype.clearHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!isNullOrUndefined(this.value)) {\n      this.clear(e);\n    } else {\n      this.resetState();\n      this.raiseClearedEvent(e);\n    }\n\n    if (this.popupWrapper) {\n      this.popupWrapper.scrollTop = 0;\n    }\n\n    if (this.enableMask) {\n      this.notify('clearHandler', {\n        module: 'MaskedDateTime'\n      });\n    }\n\n    if (closest(this.element, 'form')) {\n      var element = this.element;\n      var keyupEvent = document.createEvent('KeyboardEvent');\n      keyupEvent.initEvent('keyup', false, true);\n      element.dispatchEvent(keyupEvent);\n    }\n  };\n\n  TimePicker.prototype.clear = function (event) {\n    this.setProperties({\n      value: null\n    }, true);\n    this.initValue = null;\n    this.resetState();\n    this.raiseClearedEvent(event);\n    this.changeEvent(event);\n  };\n\n  TimePicker.prototype.setZIndex = function () {\n    if (this.popupObj) {\n      this.popupObj.zIndex = this.zIndex;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'style':\n            this.inputStyle = this.inputElement.getAttribute(prop);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'readonly' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.timeOptions) || this.timeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!isNullOrUndefined(this.checkDateValue(value))) {\n                this.initValue = value;\n                this.updateInput(false, this.initValue);\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.setCurrentDate = function (value) {\n    if (isNullOrUndefined(this.checkDateValue(value))) {\n      return null;\n    }\n\n    return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n  };\n\n  TimePicker.prototype.getTextFormat = function () {\n    var time = 0;\n\n    if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n      time = 1;\n    } else if (this.cldrTimeFormat().indexOf('a') < 0) {\n      var strArray = this.cldrTimeFormat().split(' ');\n\n      for (var i = 0; i < strArray.length; i++) {\n        if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n          time = i;\n          break;\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.updateValue = function (value, event) {\n    var val;\n\n    if (this.isNullOrEmpty(value)) {\n      this.resetState();\n    } else {\n      val = this.checkValue(value);\n\n      if (this.strictMode) {\n        // this case set previous value to the text box when set invalid date\n        var inputVal = val === null && value.trim().length > 0 ? this.previousState(this.prevDate) : this.inputElement.value;\n        this.updateInputValue(inputVal);\n\n        if (this.enableMask) {\n          if (!inputVal) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n\n          if (isNullOrUndefined(val) && value !== this.maskedDateValue) {\n            this.createMask();\n          }\n\n          if (isNullOrUndefined(val) && value === this.maskedDateValue) {\n            this.updateInputValue(this.maskedDateValue);\n          }\n        }\n      }\n    }\n\n    this.checkValueChange(event, typeof value === 'string' ? false : true);\n  };\n\n  TimePicker.prototype.previousState = function (date) {\n    var value = this.getDateObject(date);\n\n    for (var i = 0; i < this.timeCollections.length; i++) {\n      if (+value === this.timeCollections[i]) {\n        this.activeIndex = i;\n        this.selectedElement = this.liCollections[i];\n        this.valueWithMinutes = new Date(this.timeCollections[i]);\n        break;\n      }\n    }\n\n    return this.prevValue;\n  };\n\n  TimePicker.prototype.resetState = function () {\n    this.removeSelection();\n    Input.setValue('', this.inputElement, this.floatLabelType, false);\n    this.valueWithMinutes = this.activeIndex = null;\n\n    if (!this.strictMode) {\n      this.checkErrorState(null);\n    }\n  };\n\n  TimePicker.prototype.objToString = function (val) {\n    if (isNullOrUndefined(this.checkDateValue(val))) {\n      return null;\n    } else {\n      return this.globalize.formatDate(val, {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      });\n    }\n  };\n\n  TimePicker.prototype.checkValue = function (value) {\n    if (!this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.validateValue(date, value);\n    }\n\n    this.resetState();\n    return this.valueWithMinutes = null;\n  };\n\n  TimePicker.prototype.validateValue = function (date, value) {\n    var time;\n    var val = this.validateMinMax(value, this.min, this.max);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = this.objToString(this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = this.objToString(this.valueWithMinutes);\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      var value_1 = val.trim().length > 0 ? val : '';\n      this.updateInputValue(value_1);\n\n      if (this.enableMask) {\n        if (!value_1) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    } else {\n      this.updateInputValue(time);\n\n      if (this.enableMask) {\n        if (time === '') {\n          this.updateInputValue(this.maskedDateValue);\n        }\n\n        if (isNullOrUndefined(time) && value !== this.maskedDateValue) {\n          this.createMask();\n        }\n\n        if (isNullOrUndefined(time) && value === this.maskedDateValue) {\n          this.updateInputValue(this.maskedDateValue);\n        }\n      }\n    }\n\n    return time;\n  };\n\n  TimePicker.prototype.createMask = function () {\n    this.notify('createMask', {\n      module: 'MaskedDateTime'\n    });\n  };\n\n  TimePicker.prototype.findNextElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var timeVal = null;\n    var count = this.liCollections.length;\n    var collections = this.timeCollections;\n\n    if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n      if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(collections.length - 1, true);\n        timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n        this.activeIndex = index;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < count; i++) {\n            if (+value < this.timeCollections[i]) {\n              var index = this.validLiElement(i);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === count - 1) {\n              var index = this.validLiElement(0);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        } else {\n          for (var i = count - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              var index = this.validLiElement(i, true);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            } else if (i === 0) {\n              var index = this.validLiElement(count - 1);\n              timeVal = +this.createDateObj(new Date(this.timeCollections[index]));\n              this.activeIndex = index;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n    } else {\n      this.selectNextItem(event);\n    }\n  };\n\n  TimePicker.prototype.selectNextItem = function (event) {\n    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n    this.activeIndex = index;\n    this.selectedElement = this.liCollections[index];\n    this.elementValue(new Date(this.timeCollections[index]));\n  };\n\n  TimePicker.prototype.elementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value))) {\n      this.checkValue(value);\n    }\n  };\n\n  TimePicker.prototype.validLiElement = function (index, backward) {\n    var elementIndex = null;\n    var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections : this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n    var isCheck = true;\n\n    if (items.length) {\n      if (backward) {\n        for (var i = index; i >= 0; i--) {\n          if (!items[i].classList.contains(DISABLED$3)) {\n            elementIndex = i;\n            break;\n          } else if (i === 0) {\n            if (isCheck) {\n              index = i = items.length;\n              isCheck = false;\n            }\n          }\n        }\n      } else {\n        for (var i = index; i <= items.length - 1; i++) {\n          if (!items[i].classList.contains(DISABLED$3)) {\n            elementIndex = i;\n            break;\n          } else if (i === items.length - 1) {\n            if (isCheck) {\n              index = i = -1;\n              isCheck = false;\n            }\n          }\n        }\n      }\n    }\n\n    return elementIndex;\n  };\n\n  TimePicker.prototype.keyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0 || !isNullOrUndefined(this.inputWrapper) && this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n      return;\n    }\n\n    var count = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          var index = this.validLiElement(0, event.action === 'down' ? false : true);\n          this.activeIndex = index;\n          this.selectedElement = this.liCollections[index];\n          this.elementValue(new Date(this.timeCollections[index]));\n        } else {\n          this.findNextElement(event);\n        }\n      } else {\n        this.findNextElement(event);\n      }\n    } else {\n      var nextItem = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === count ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? count - 1 : this.activeIndex;\n        this.activeIndex = index = this.validLiElement(this.activeIndex, event.keyCode === 40 || event.keyCode === 39 ? false : true);\n        nextItem = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        var index = this.validLiElement(0);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      } else if (event.action === 'end') {\n        var index = this.validLiElement(count - 1, true);\n        this.activeIndex = index;\n        nextItem = this.timeCollections[index];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.elementValue(new Date(nextItem));\n    }\n\n    this.isNavigate = true;\n    this.setHover(this.selectedElement, NAVIGATION);\n    this.setActiveDescendant();\n    this.selectInputText();\n\n    if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setScrollPosition();\n    }\n  };\n\n  TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n  };\n\n  TimePicker.prototype.getCultureDateObject = function (ld, c) {\n    return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n  };\n\n  TimePicker.prototype.wireListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  TimePicker.prototype.unWireListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n        EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n      }\n    }\n  };\n\n  TimePicker.prototype.valueProcess = function (event, value) {\n    var result = isNullOrUndefined(this.checkDateValue(value)) ? null : value;\n\n    if (+this.prevDate !== +result) {\n      this.initValue = result;\n      this.changeEvent(event);\n    }\n  };\n\n  TimePicker.prototype.changeEvent = function (e) {\n    this.addSelection();\n    this.updateInput(true, this.initValue);\n    var eventArgs = {\n      event: e || null,\n      value: this.value,\n      text: this.inputElement.value,\n      isInteracted: !isNullOrUndefined(e),\n      element: this.element\n    };\n    eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n    this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n\n    if (this.isAngular && this.preventChange) {\n      this.preventChange = false;\n    } else {\n      this.trigger('change', eventArgs);\n    }\n\n    this.invalidValueString = null;\n    this.checkErrorState(this.value);\n  };\n\n  TimePicker.prototype.updateInput = function (isUpdate, date) {\n    if (isUpdate) {\n      this.prevValue = this.getValue(date);\n    }\n\n    this.prevDate = this.valueWithMinutes = date;\n\n    if (typeof date !== 'number' || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n      this.setProperties({\n        value: date\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n      this.checkErrorState(this.invalidValueString);\n      this.updateInputValue(this.invalidValueString);\n    }\n\n    this.clearIconState();\n  };\n\n  TimePicker.prototype.setActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement) && this.value) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  TimePicker.prototype.removeSelection = function () {\n    this.removeHover(HOVER$1);\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n\n      if (items.length) {\n        removeClass(items, SELECTED$4);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.removeHover = function (className) {\n    var hoveredItem = this.getHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n\n      if (className === NAVIGATION) {\n        hoveredItem[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  TimePicker.prototype.getHoverItem = function (className) {\n    var hoveredItem;\n\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  TimePicker.prototype.setActiveClass = function () {\n    if (!isNullOrUndefined(this.popupWrapper)) {\n      var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes)) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  TimePicker.prototype.addSelection = function () {\n    this.selectedElement = null;\n    this.removeSelection();\n    this.setActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], SELECTED$4);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  TimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3);\n  };\n\n  TimePicker.prototype.createDateObj = function (val) {\n    var formatStr = null;\n    var today = this.globalize.formatDate(new Date(), {\n      format: formatStr,\n      skeleton: 'short',\n      type: 'date'\n    });\n    var value = null;\n\n    if (typeof val === 'string') {\n      if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n        today = this.defaultCulture.formatDate(new Date(), {\n          format: formatStr,\n          skeleton: 'short',\n          type: 'date'\n        });\n        value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n\n        if (isNullOrUndefined(value)) {\n          value = this.timeParse(today, val);\n        }\n      } else {\n        value = this.timeParse(today, val);\n      }\n    } else if (val instanceof Date) {\n      value = val;\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.timeParse = function (today, val) {\n    var value;\n    value = this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(),\n      type: 'datetime'\n    });\n    value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n      format: this.cldrDateFormat() + ' ' + this.dateToNumeric(),\n      type: 'datetime'\n    }) : value;\n    value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n    return value;\n  };\n\n  TimePicker.prototype.createListItems = function () {\n    var _this = this;\n\n    this.listWrapper = this.createElement('div', {\n      className: CONTENT$2,\n      attrs: {\n        'tabindex': '-1'\n      }\n    });\n    var start;\n    var interval = this.step * 60000;\n    var listItems = [];\n    this.timeCollections = [];\n    this.disableItemCollection = [];\n    start = +this.getDateObject(this.initMin).setMilliseconds(0);\n    var end = +this.getDateObject(this.initMax).setMilliseconds(0);\n\n    while (end >= start) {\n      this.timeCollections.push(start);\n      listItems.push(this.globalize.formatDate(new Date(start), {\n        format: this.cldrTimeFormat(),\n        type: 'time'\n      }));\n      start += interval;\n    }\n\n    var listBaseOptions = {\n      itemCreated: function (args) {\n        var eventArgs = {\n          element: args.item,\n          text: args.text,\n          value: _this.getDateObject(args.text),\n          isDisabled: false\n        };\n\n        _this.trigger('itemRender', eventArgs, function (eventArgs) {\n          if (eventArgs.isDisabled) {\n            eventArgs.element.classList.add(DISABLED$3);\n          }\n\n          if (eventArgs.element.classList.contains(DISABLED$3)) {\n            _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n          }\n        });\n      }\n    };\n    this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options',\n      'tabindex': '0'\n    });\n    append([this.listTag], this.listWrapper);\n  };\n\n  TimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObj) && !isNullOrUndefined(this.inputWrapper) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' || this.popupObj.element && this.popupObj.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + this.popupObj.element.id + '\"]') && target !== this.inputElement && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) && target !== (this.inputWrapper && this.inputWrapper.clearButton) && target !== (this.inputWrapper && this.inputWrapper.container)) {\n      if (this.isPopupOpen()) {\n        this.hide();\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && document.activeElement === this.inputElement && target === this.popupWrapper;\n      }\n    }\n  };\n\n  TimePicker.prototype.setEnableRtl = function () {\n    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n\n    if (this.popupObj) {\n      this.popupObj.enableRtl = this.enableRtl;\n      this.popupObj.dataBind();\n    }\n  };\n\n  TimePicker.prototype.setEnable = function () {\n    Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n\n    if (this.enabled) {\n      removeClass([this.inputWrapper.container], DISABLED$3);\n      attributes(this.inputElement, {\n        'aria-disabled': 'false'\n      });\n      this.inputElement.setAttribute('tabindex', this.tabIndex);\n    } else {\n      this.hide();\n      addClass([this.inputWrapper.container], DISABLED$3);\n      attributes(this.inputElement, {\n        'aria-disabled': 'true'\n      });\n      this.inputElement.tabIndex = -1;\n    }\n  };\n\n  TimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n      this.setProperties({\n        min: this.initMin\n      }, true);\n    } else {\n      this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n      this.setProperties({\n        max: this.initMax\n      }, true);\n    }\n\n    if (this.inputElement.value === '') {\n      this.validateMinMax(this.value, this.min, this.max);\n    } else {\n      this.checkValue(this.inputElement.value);\n    }\n\n    this.checkValueChange(null, false);\n  };\n\n  TimePicker.prototype.inputBlurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isPreventBlur && this.isPopupOpen()) {\n      this.inputElement.focus();\n      return;\n    }\n\n    this.closePopup(0, e);\n\n    if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n      if (this.inputElement.value === this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n        this.updateInputValue('');\n      }\n    }\n\n    removeClass([this.inputWrapper.container], [FOCUS]);\n    var blurArguments = {\n      model: this\n    };\n    this.trigger('blur', blurArguments);\n\n    if (this.getText() !== this.inputElement.value) {\n      this.updateValue(this.inputElement.value, e);\n    } else if (this.inputElement.value.trim().length === 0) {\n      this.resetState();\n    }\n\n    this.cursorDetails = null;\n    this.isNavigate = false;\n\n    if (this.inputElement.value === '') {\n      this.invalidValueString = null;\n    }\n  };\n  /**\n   * Focuses out the TimePicker textbox element.\n   *\n   * @returns {void}\n   */\n\n\n  TimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [FOCUS]);\n      var blurArguments = {\n        model: this\n      };\n      this.trigger('blur', blurArguments);\n    }\n  };\n\n  TimePicker.prototype.isPopupOpen = function () {\n    if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  TimePicker.prototype.inputFocusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    var focusArguments = {\n      model: this\n    };\n\n    if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n      this.selectInputText();\n    }\n\n    if (this.enableMask && !this.inputElement.value && this.placeholder) {\n      if (this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n        this.updateInputValue(this.maskedDateValue);\n        this.inputElement.selectionStart = 0;\n        this.inputElement.selectionEnd = this.inputElement.value.length;\n      }\n    }\n\n    this.trigger('focus', focusArguments);\n    this.clearIconState();\n\n    if (this.openOnFocus) {\n      this.show();\n    }\n  };\n  /**\n   * Focused the TimePicker textbox element.\n   *\n   * @returns {void}\n   */\n\n\n  TimePicker.prototype.focusIn = function () {\n    if (document.activeElement !== this.inputElement && this.enabled) {\n      this.inputElement.focus();\n    }\n  };\n  /**\n   * Hides the TimePicker popup.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  TimePicker.prototype.hide = function () {\n    this.closePopup(100, null);\n    this.clearIconState();\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-param */\n\n  /**\n   * Opens the popup to show the list items.\n   *\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  TimePicker.prototype.show = function (event) {\n    var _this = this;\n\n    if (this.enabled && this.readonly || !this.enabled || this.popupWrapper) {\n      return;\n    } else {\n      this.popupCreation();\n\n      if (Browser.isDevice && this.listWrapper) {\n        this.modal = this.createElement('div');\n        this.modal.className = '' + ROOT$3 + ' e-time-modal';\n        document.body.className += ' ' + OVERFLOW$2;\n        document.body.appendChild(this.modal);\n      }\n\n      if (Browser.isDevice) {\n        this.mobileTimePopupWrap = this.createElement('div', {\n          className: 'e-timepicker-mob-popup-wrap'\n        });\n        document.body.appendChild(this.mobileTimePopupWrap);\n      }\n\n      this.openPopupEventArgs = {\n        popup: this.popupObj || null,\n        cancel: false,\n        event: event || null,\n        name: 'open',\n        appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n      };\n      var eventArgs = this.openPopupEventArgs;\n      this.trigger('open', eventArgs, function (eventArgs) {\n        _this.openPopupEventArgs = eventArgs;\n\n        if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n          _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n\n          _this.popupAlignment(_this.openPopupEventArgs);\n\n          _this.setScrollPosition();\n\n          if (!Browser.isDevice) {\n            _this.inputElement.focus();\n          }\n\n          var openAnimation = {\n            name: 'FadeIn',\n            duration: ANIMATIONDURATION\n          };\n\n          _this.popupObj.refreshPosition(_this.anchor);\n\n          if (_this.zIndex === 1000) {\n            _this.popupObj.show(new Animation(openAnimation), _this.element);\n          } else {\n            _this.popupObj.show(new Animation(openAnimation), null);\n          }\n\n          _this.setActiveDescendant();\n\n          attributes(_this.inputElement, {\n            'aria-expanded': 'true'\n          });\n          attributes(_this.inputElement, {\n            'aria-owns': _this.inputElement.id + '_options'\n          });\n          addClass([_this.inputWrapper.container], FOCUS);\n          EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n\n          _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n        } else {\n          _this.popupObj.destroy();\n\n          _this.popupWrapper = _this.listTag = undefined;\n          _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n          _this.popupObj = null;\n        }\n      });\n    }\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-param */\n\n\n  TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n    if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n      var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n      modal.style.zIndex = (index - 1).toString();\n      popupWrapper.style.zIndex = index.toString();\n    }\n  };\n\n  TimePicker.prototype.formatValues = function (type) {\n    var value;\n\n    if (typeof type === 'number') {\n      value = formatUnit(type);\n    } else if (typeof type === 'string') {\n      value = type.match(/px|%|em/) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n    }\n\n    return value;\n  };\n\n  TimePicker.prototype.popupAlignment = function (args) {\n    args.popup.position.X = this.formatValues(args.popup.position.X);\n    args.popup.position.Y = this.formatValues(args.popup.position.Y);\n\n    if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.relateTo = this.anchor = document.body;\n      this.popupObj.targetType = 'container';\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.X))) {\n      this.popupObj.offsetX = parseFloat(args.popup.position.X);\n    }\n\n    if (!isNaN(parseFloat(args.popup.position.Y))) {\n      this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n    }\n\n    if (!Browser.isDevice) {\n      switch (args.popup.position.X) {\n        case 'left':\n          break;\n\n        case 'right':\n          args.popup.offsetX = this.containerStyle.width;\n          break;\n\n        case 'center':\n          args.popup.offsetX = -(this.containerStyle.width / 2);\n          break;\n      }\n\n      switch (args.popup.position.Y) {\n        case 'top':\n          break;\n\n        case 'bottom':\n          break;\n\n        case 'center':\n          args.popup.offsetY = -(this.containerStyle.height / 2);\n          break;\n      }\n\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.inputWrapper.container;\n        this.anchor = this.inputElement;\n        this.popupObj.targetType = 'relative';\n      }\n    } else {\n      if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n        this.popupObj.relateTo = this.anchor = document.body;\n        this.popupObj.offsetY = 0;\n        this.popupObj.targetType = 'container';\n        this.popupObj.collision = {\n          X: 'fit',\n          Y: 'fit'\n        };\n      }\n    }\n  };\n  /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * Gets the properties to be maintained upon browser refresh.\n   *\n   * @returns {string}\n   */\n\n\n  TimePicker.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n\n  /**\n   * To get component name\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  TimePicker.prototype.getModuleName = function () {\n    return 'timepicker';\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @private\n   */\n\n\n  TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n\n          if (this.readonly) {\n            this.hide();\n          }\n\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enabled':\n          this.setProperties({\n            enabled: newProp.enabled\n          }, true);\n          this.setEnable();\n          break;\n\n        case 'allowEdit':\n          this.setTimeAllowEdit();\n          break;\n\n        case 'enableRtl':\n          this.setProperties({\n            enableRtl: newProp.enableRtl\n          }, true);\n          this.setEnableRtl();\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'zIndex':\n          this.setProperties({\n            zIndex: newProp.zIndex\n          }, true);\n          this.setZIndex();\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          break;\n\n        case 'showClearButton':\n          Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n          this.bindClearEvent();\n          break;\n\n        case 'locale':\n          this.setProperties({\n            locale: newProp.locale\n          }, true);\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.updatePlaceHolder();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n          }\n\n          break;\n\n        case 'width':\n          setStyleAttribute(this.inputWrapper.container, {\n            'width': this.setWidth(newProp.width)\n          });\n          this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkTimeFormat();\n          this.setValue(this.value);\n\n          if (this.enableMask) {\n            this.createMask();\n\n            if (!this.value) {\n              this.updateInputValue(this.maskedDateValue);\n            }\n          }\n\n          break;\n\n        case 'value':\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n\n          if (!this.invalidValueString) {\n            if (typeof newProp.value === 'string') {\n              this.setProperties({\n                value: this.checkDateValue(new Date(newProp.value))\n              }, true);\n              newProp.value = this.value;\n            } else {\n              if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n              }\n            }\n\n            this.initValue = newProp.value;\n            newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n          } else {\n            this.updateInputValue(this.invalidValueString);\n            this.checkErrorState(this.invalidValueString);\n          }\n\n          if (this.enableMask && isNullOrUndefined(newProp.value)) {\n            this.updateInputValue(this.maskedDateValue);\n            this.checkErrorState(this.maskedDateValue);\n          }\n\n          this.checkValueChange(null, false);\n\n          if (this.isPopupOpen()) {\n            this.setScrollPosition();\n          }\n\n          if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n          }\n\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n          }\n\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n          }\n\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n\n          if (newProp.strictMode) {\n            this.checkErrorState(null);\n          }\n\n          this.setProperties({\n            strictMode: newProp.strictMode\n          }, true);\n          this.checkValue(this.inputElement.value);\n          this.checkValueChange(null, false);\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n            if (this.popupWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n            this.updateInputValue(this.maskedDateValue);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.updateInputValue('');\n            }\n          }\n\n          break;\n      }\n    }\n  };\n\n  TimePicker.prototype.checkInValue = function (inValue) {\n    if (inValue instanceof Date) {\n      return inValue.toUTCString();\n    } else {\n      return '' + inValue;\n    }\n  };\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"width\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"cssClass\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"format\", void 0);\n\n  __decorate$3([Property(true)], TimePicker.prototype, \"enabled\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"readonly\", void 0);\n\n  __decorate$3([Property({})], TimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$3([Property('Never')], TimePicker.prototype, \"floatLabelType\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$3([Property(1000)], TimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$3([Property(true)], TimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$3([Property(30)], TimePicker.prototype, \"step\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"value\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"min\", void 0);\n\n  __decorate$3([Property(null)], TimePicker.prototype, \"max\", void 0);\n\n  __decorate$3([Property(true)], TimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$3([Property(false)], TimePicker.prototype, \"enableMask\", void 0);\n\n  __decorate$3([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], TimePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"change\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"created\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"destroyed\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"open\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"itemRender\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"close\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"cleared\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"blur\", void 0);\n\n  __decorate$3([Event()], TimePicker.prototype, \"focus\", void 0);\n\n  TimePicker = __decorate$3([NotifyPropertyChanges], TimePicker);\n  return TimePicker;\n}(Component);\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\n\nvar __extends$4 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$4 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}; // eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\n\n\nvar DATEWRAPPER$1 = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY$1 = new Date().getDate();\nvar MONTH$3 = new Date().getMonth();\nvar YEAR$3 = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT$4 = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER$1 = 'e-input-group-icon';\nvar POPUP$3 = 'e-popup';\nvar TIMEICON$1 = 'e-time-icon';\nvar INPUTFOCUS$2 = 'e-input-focus';\nvar POPUPDIMENSION$1 = '250px';\nvar ICONANIMATION$1 = 'e-icon-anim';\nvar DISABLED$4 = 'e-disabled';\nvar ERROR$3 = 'e-error';\nvar CONTENT$3 = 'e-content';\nvar NAVIGATION$1 = 'e-navigation';\nvar ACTIVE$2 = 'e-active';\nvar HOVER$2 = 'e-hover';\nvar ICONS$1 = 'e-icons';\nvar HALFPOSITION$1 = 2;\nvar LISTCLASS$2 = 'e-list-item';\nvar ANIMATIONDURATION$1 = 100;\nvar OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\n\nvar DateTimePicker =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$4(DateTimePicker, _super);\n  /**\n   * Constructor for creating the widget\n   *\n   * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n   * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n   * @private\n   */\n\n\n  function DateTimePicker(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.valueWithMinutes = null;\n    _this.scrollInvoked = false;\n    _this.moduleName = _this.getModuleName();\n    _this.dateTimeOptions = options;\n    return _this;\n  }\n\n  DateTimePicker.prototype.focusHandler = function () {\n    if (!this.enabled) {\n      return;\n    }\n\n    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n  };\n  /**\n   * Sets the focus to widget for interaction.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.focusIn = function () {\n    _super.prototype.focusIn.call(this);\n  };\n  /**\n   * Remove the focus from widget, if the widget is in focus state.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.focusOut = function () {\n    if (document.activeElement === this.inputElement) {\n      this.inputElement.blur();\n      removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n    }\n  };\n\n  DateTimePicker.prototype.blurHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    } // IE popup closing issue when click over the scrollbar\n\n\n    if (this.isTimePopupOpen() && this.isPreventBlur) {\n      this.inputElement.focus();\n      return;\n    }\n\n    removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n    var blurArguments = {\n      model: this\n    };\n\n    if (this.isTimePopupOpen()) {\n      this.hide(e);\n    }\n\n    this.trigger('blur', blurArguments);\n  };\n  /**\n   * To destroy the widget.\n   *\n   * @returns {void}\n   */\n\n\n  DateTimePicker.prototype.destroy = function () {\n    if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n      this.popupObject.destroy();\n      detach(this.dateTimeWrapper);\n      this.dateTimeWrapper = undefined;\n      this.liCollections = this.timeCollections = [];\n\n      if (!isNullOrUndefined(this.rippleFn)) {\n        this.rippleFn();\n      }\n    }\n\n    var ariaAttribute = {\n      'aria-live': 'assertive',\n      'aria-atomic': 'true',\n      'aria-invalid': 'false',\n      'autocorrect': 'off',\n      'autocapitalize': 'off',\n      'spellcheck': 'false',\n      'aria-expanded': 'false',\n      'role': 'combobox',\n      'autocomplete': 'off'\n    };\n\n    if (this.inputElement) {\n      Input.removeAttributes(ariaAttribute, this.inputElement);\n    }\n\n    if (this.isCalendar()) {\n      if (this.popupWrapper) {\n        detach(this.popupWrapper);\n      }\n\n      this.popupObject = this.popupWrapper = null;\n      this.keyboardHandler.destroy();\n    }\n\n    this.unBindInputEvents();\n    this.liCollections = null;\n    this.rippleFn = null;\n    this.selectedElement = null;\n    this.listTag = null;\n    this.timeIcon = null;\n    this.popupObject = null;\n    this.preventArgs = null;\n    this.keyboardModule = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  DateTimePicker.prototype.render = function () {\n    this.timekeyConfigure = {\n      enter: 'enter',\n      escape: 'escape',\n      end: 'end',\n      tab: 'tab',\n      home: 'home',\n      down: 'downarrow',\n      up: 'uparrow',\n      left: 'leftarrow',\n      right: 'rightarrow',\n      open: 'alt+downarrow',\n      close: 'alt+uparrow'\n    };\n    this.valueWithMinutes = null;\n    this.previousDateTime = null;\n    this.isPreventBlur = false;\n    this.cloneElement = this.element.cloneNode(true);\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n    this.initValue = this.value;\n\n    if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n      this.enabled = false;\n    }\n\n    _super.prototype.updateHtmlAttributeToElement.call(this);\n\n    this.checkAttributes(false);\n    var localeText = {\n      placeholder: this.placeholder\n    };\n    this.l10n = new L10n('datetimepicker', localeText, this.locale);\n    this.setProperties({\n      placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n    }, true);\n\n    _super.prototype.render.call(this);\n\n    this.createInputElement();\n\n    _super.prototype.updateHtmlAttributeToWrapper.call(this);\n\n    this.bindInputEvents();\n\n    if (this.enableMask) {\n      this.notify('createMask', {\n        module: 'MaskedDateTime'\n      });\n    }\n\n    this.setValue(true);\n\n    if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType === 'Always' || !this.floatLabelType || !this.placeholder)) {\n      Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    this.setProperties({\n      scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo)))\n    }, true);\n    this.previousDateTime = this.value && new Date(+this.value);\n\n    if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n      this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n      this.element.removeAttribute('tabindex');\n\n      if (!this.enabled) {\n        this.inputElement.tabIndex = -1;\n      }\n    }\n\n    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n      this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n    }\n\n    this.renderComplete();\n  };\n\n  DateTimePicker.prototype.setValue = function (isDynamic) {\n    if (isDynamic === void 0) {\n      isDynamic = false;\n    }\n\n    this.initValue = this.validateMinMaxRange(this.value);\n\n    if (!this.strictMode && this.isDateObject(this.initValue)) {\n      var value = this.validateMinMaxRange(this.initValue);\n      Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n      this.setProperties({\n        value: value\n      }, true);\n    } else {\n      if (isNullOrUndefined(this.value)) {\n        this.initValue = null;\n        this.setProperties({\n          value: null\n        }, true);\n      }\n    }\n\n    this.valueWithMinutes = this.value;\n\n    _super.prototype.updateInput.call(this, isDynamic);\n  };\n\n  DateTimePicker.prototype.validateMinMaxRange = function (value) {\n    var result = value;\n\n    if (this.isDateObject(value)) {\n      result = this.validateValue(value);\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n      }\n    }\n\n    this.checkValidState(result);\n    return result;\n  };\n\n  DateTimePicker.prototype.checkValidState = function (value) {\n    this.isValidState = true;\n\n    if (!this.strictMode) {\n      if (+value > +this.max || +value < +this.min) {\n        this.isValidState = false;\n      }\n    }\n\n    this.checkErrorState();\n  };\n\n  DateTimePicker.prototype.checkErrorState = function () {\n    if (this.isValidState) {\n      removeClass([this.inputWrapper.container], ERROR$3);\n    } else {\n      addClass([this.inputWrapper.container], ERROR$3);\n    }\n\n    attributes(this.inputElement, {\n      'aria-invalid': this.isValidState ? 'false' : 'true'\n    });\n  };\n\n  DateTimePicker.prototype.validateValue = function (value) {\n    var dateVal = value;\n\n    if (this.strictMode) {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = this.max;\n      } else if (+value < +this.min) {\n        dateVal = this.min;\n      } else if (+value > +this.max) {\n        dateVal = this.max;\n      }\n    } else {\n      if (+this.min > +this.max) {\n        this.disablePopupButton(true);\n        dateVal = value;\n      }\n    }\n\n    return dateVal;\n  };\n\n  DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n    if (isDisable) {\n      addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n      this.hide();\n    } else {\n      removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n    }\n  };\n\n  DateTimePicker.prototype.getFormattedValue = function (value) {\n    var dateOptions;\n\n    if (!isNullOrUndefined(value)) {\n      if (this.calendarMode === 'Gregorian') {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd'\n        };\n      } else {\n        dateOptions = {\n          format: this.cldrDateTimeFormat(),\n          type: 'dateTime',\n          skeleton: 'yMd',\n          calendar: 'islamic'\n        };\n      }\n\n      return this.globalize.formatDate(value, dateOptions);\n    } else {\n      return null;\n    }\n  };\n\n  DateTimePicker.prototype.isDateObject = function (value) {\n    return !isNullOrUndefined(value) && !isNaN(+value) ? true : false;\n  };\n\n  DateTimePicker.prototype.createInputElement = function () {\n    removeClass([this.inputElement], DATEPICKERROOT);\n    removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n    addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n    addClass([this.inputElement], ROOT$4);\n    this.renderTimeIcon();\n  };\n\n  DateTimePicker.prototype.renderTimeIcon = function () {\n    this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n  };\n\n  DateTimePicker.prototype.bindInputEvents = function () {\n    EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n    EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n    EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n    EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n    this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n    this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n      eventName: 'keydown',\n      keyAction: this.inputKeyAction.bind(this),\n      keyConfigs: this.defaultKeyConfigs\n    });\n  };\n\n  DateTimePicker.prototype.unBindInputEvents = function () {\n    EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n    EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n\n    if (this.inputElement) {\n      EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n      EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n    }\n\n    if (this.keyboardHandler) {\n      this.keyboardHandler.destroy();\n    }\n  };\n\n  DateTimePicker.prototype.cldrTimeFormat = function () {\n    var cldrTime;\n\n    if (this.isNullOrEmpty(this.timeFormat)) {\n      if (this.locale === 'en' || this.locale === 'en-US') {\n        cldrTime = getValue('timeFormats.short', getDefaultDateObject());\n      } else {\n        cldrTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n      }\n    } else {\n      cldrTime = this.timeFormat;\n    }\n\n    return cldrTime;\n  };\n\n  DateTimePicker.prototype.cldrDateTimeFormat = function () {\n    var cldrTime;\n    var culture = new Internationalization(this.locale);\n    var dateFormat = culture.getDatePattern({\n      skeleton: 'yMd'\n    });\n\n    if (this.isNullOrEmpty(this.formatString)) {\n      cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n    } else {\n      cldrTime = this.formatString;\n    }\n\n    return cldrTime;\n  };\n\n  DateTimePicker.prototype.getCldrFormat = function (type) {\n    var cldrDateTime;\n\n    if (this.locale === 'en' || this.locale === 'en-US') {\n      cldrDateTime = getValue('timeFormats.short', getDefaultDateObject());\n    } else {\n      cldrDateTime = this.getCultureTimeObject(cldrData, '' + this.locale);\n    }\n\n    return cldrDateTime;\n  };\n\n  DateTimePicker.prototype.isNullOrEmpty = function (value) {\n    if (isNullOrUndefined(value) || typeof value === 'string' && value.trim() === '') {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n    if (this.calendarMode === 'Gregorian') {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n    } else {\n      return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n    }\n  };\n\n  DateTimePicker.prototype.timeHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    this.isIconClicked = true;\n\n    if (Browser.isDevice) {\n      this.inputElement.setAttribute('readonly', '');\n    }\n\n    if (e.currentTarget === this.timeIcon) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isDatePopupOpen()) {\n        _super.prototype.hide.call(this, e);\n      }\n\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      } else {\n        this.inputElement.focus();\n        this.popupCreation('time', e);\n        addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n      }\n    }\n\n    this.isIconClicked = false;\n  };\n\n  DateTimePicker.prototype.dateHandler = function (e) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (e.currentTarget === this.inputWrapper.buttons[0]) {\n      e.preventDefault();\n    }\n\n    if (this.enabled && !this.readonly) {\n      if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n      }\n\n      if (!isNullOrUndefined(this.popupWrapper)) {\n        this.popupCreation('date', e);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.show = function (type, e) {\n    if (this.enabled && this.readonly || !this.enabled) {\n      return;\n    } else {\n      if (type === 'time' && !this.dateTimeWrapper) {\n        if (this.isDatePopupOpen()) {\n          this.hide(e);\n        }\n\n        this.popupCreation('time', e);\n      } else if (!this.popupObj) {\n        if (this.isTimePopupOpen()) {\n          this.hide(e);\n        }\n\n        _super.prototype.show.call(this);\n\n        this.popupCreation('date', e);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.toggle = function (e) {\n    if (this.isDatePopupOpen()) {\n      _super.prototype.hide.call(this, e);\n\n      this.show('time', null);\n    } else if (this.isTimePopupOpen()) {\n      this.hide(e);\n\n      _super.prototype.show.call(this, null, e);\n\n      this.popupCreation('date', null);\n    } else {\n      this.show(null, e);\n    }\n  };\n\n  DateTimePicker.prototype.listCreation = function () {\n    var dateObject;\n\n    if (this.calendarMode === 'Gregorian') {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime'\n      });\n    } else {\n      dateObject = this.globalize.parseDate(this.inputElement.value, {\n        format: this.cldrDateTimeFormat(),\n        type: 'datetime',\n        calendar: 'islamic'\n      });\n    }\n\n    var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ? dateObject : new Date() : this.value;\n    this.valueWithMinutes = value;\n    this.listWrapper = createElement('div', {\n      className: CONTENT$3,\n      attrs: {\n        'tabindex': '0'\n      }\n    });\n    var min = this.startTime(value);\n    var max = this.endTime(value);\n    var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n    this.timeCollections = listDetails.collection;\n    this.listTag = listDetails.list;\n    attributes(this.listTag, {\n      'role': 'listbox',\n      'aria-hidden': 'false',\n      'id': this.element.id + '_options'\n    });\n    append([listDetails.list], this.listWrapper);\n    this.wireTimeListEvents();\n    var rippleModel = {\n      duration: 300,\n      selector: '.' + LISTCLASS$2\n    };\n    this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n    this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n  };\n\n  DateTimePicker.prototype.popupCreation = function (type, e) {\n    if (Browser.isDevice) {\n      this.element.setAttribute('readonly', 'readonly');\n    }\n\n    if (type === 'date') {\n      if (!this.readonly && this.popupWrapper) {\n        addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n        attributes(this.popupWrapper, {\n          'id': this.element.id + '_datepopup'\n        });\n      }\n    } else {\n      if (!this.readonly) {\n        this.dateTimeWrapper = createElement('div', {\n          className: ROOT$4 + ' ' + POPUP$3,\n          attrs: {\n            'id': this.element.id + '_timepopup',\n            'style': 'visibility:hidden ; display:block'\n          }\n        });\n\n        if (!isNullOrUndefined(this.cssClass)) {\n          this.dateTimeWrapper.className += ' ' + this.cssClass;\n        }\n\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n          this.listCreation();\n          append([this.listWrapper], this.dateTimeWrapper);\n        }\n\n        document.body.appendChild(this.dateTimeWrapper);\n        this.addTimeSelection();\n        this.renderPopup();\n        this.setTimeScrollPosition();\n        this.openPopup(e);\n        this.popupObject.refreshPosition(this.inputElement);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.openPopup = function (e) {\n    var _this = this;\n\n    this.preventArgs = {\n      cancel: false,\n      popup: this.popupObject,\n      event: e || null\n    };\n    var eventArgs = this.preventArgs;\n    this.trigger('open', eventArgs, function (eventArgs) {\n      _this.preventArgs = eventArgs;\n\n      if (!_this.preventArgs.cancel && !_this.readonly) {\n        var openAnimation = {\n          name: 'FadeIn',\n          duration: ANIMATIONDURATION$1\n        };\n\n        if (_this.zIndex === 1000) {\n          _this.popupObject.show(new Animation(openAnimation), _this.element);\n        } else {\n          _this.popupObject.show(new Animation(openAnimation), null);\n        }\n\n        addClass([_this.inputWrapper.container], [ICONANIMATION$1]);\n        attributes(_this.inputElement, {\n          'aria-expanded': 'true'\n        });\n        attributes(_this.inputElement, {\n          'aria-owns': _this.inputElement.id + '_options'\n        });\n        EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n      }\n    });\n  };\n\n  DateTimePicker.prototype.documentClickHandler = function (event) {\n    var target = event.target;\n\n    if (!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' || this.popupObject.element && this.popupObject.element.contains(target)) && event.type !== 'touchstart') {\n      event.preventDefault();\n    }\n\n    if (!closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]')) && target !== this.inputElement && target !== this.timeIcon && !isNullOrUndefined(this.inputWrapper) && target !== this.inputWrapper.container) {\n      if (this.isTimePopupOpen()) {\n        this.hide(event);\n        this.focusOut();\n      }\n    } else if (target !== this.inputElement) {\n      if (!Browser.isDevice) {\n        this.isPreventBlur = document.activeElement === this.inputElement && (Browser.isIE || Browser.info.name === 'edge') && target === this.popupObject.element;\n      }\n    }\n  };\n\n  DateTimePicker.prototype.isTimePopupOpen = function () {\n    return this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4) ? true : false;\n  };\n\n  DateTimePicker.prototype.isDatePopupOpen = function () {\n    return this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER) ? true : false;\n  };\n\n  DateTimePicker.prototype.renderPopup = function () {\n    var _this = this;\n\n    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n\n    if (Browser.isDevice) {\n      this.timeModal = createElement('div');\n      this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n      document.body.className += ' ' + OVERFLOW$3;\n      this.timeModal.style.display = 'block';\n      document.body.appendChild(this.timeModal);\n    }\n\n    var offset = 4;\n    this.popupObject = new Popup(this.dateTimeWrapper, {\n      width: this.setPopupWidth(),\n      zIndex: this.zIndex,\n      targetType: 'container',\n      collision: Browser.isDevice ? {\n        X: 'fit',\n        Y: 'fit'\n      } : {\n        X: 'flip',\n        Y: 'flip'\n      },\n      relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n      position: Browser.isDevice ? {\n        X: 'center',\n        Y: 'center'\n      } : {\n        X: 'left',\n        Y: 'bottom'\n      },\n      enableRtl: this.enableRtl,\n      offsetY: offset,\n      open: function () {\n        _this.dateTimeWrapper.style.visibility = 'visible';\n        addClass([_this.timeIcon], ACTIVE$2);\n\n        if (!Browser.isDevice) {\n          _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n          _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n            keyAction: _this.timeKeyActionHandle.bind(_this),\n            keyConfigs: _this.timekeyConfigure,\n            eventName: 'keydown'\n          });\n        }\n      },\n      close: function () {\n        removeClass([_this.timeIcon], ACTIVE$2);\n\n        _this.unWireTimeListEvents();\n\n        _this.inputElement.removeAttribute('aria-activedescendant');\n\n        remove(_this.popupObject.element);\n\n        _this.popupObject.destroy();\n\n        _this.dateTimeWrapper.innerHTML = '';\n        _this.listWrapper = _this.dateTimeWrapper = undefined;\n\n        if (_this.inputEvent) {\n          _this.inputEvent.destroy();\n        }\n      },\n      targetExitViewport: function () {\n        if (!Browser.isDevice) {\n          _this.hide();\n        }\n      }\n    });\n    this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n  };\n\n  DateTimePicker.prototype.setDimension = function (width) {\n    if (typeof width === 'number') {\n      width = formatUnit(width);\n    } else if (typeof width === 'string') {\n      // eslint-disable-next-line no-self-assign\n      width = width;\n    } else {\n      width = '100%';\n    }\n\n    return width;\n  };\n\n  DateTimePicker.prototype.setPopupWidth = function () {\n    var width = this.setDimension(this.width);\n\n    if (width.indexOf('%') > -1) {\n      var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n      width = inputWidth.toString() + 'px';\n    }\n\n    return width;\n  };\n\n  DateTimePicker.prototype.wireTimeListEvents = function () {\n    EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n      EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n    }\n  };\n\n  DateTimePicker.prototype.unWireTimeListEvents = function () {\n    if (this.listWrapper) {\n      EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n\n      if (!Browser.isDevice) {\n        EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n        EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n      }\n    }\n  };\n\n  DateTimePicker.prototype.onMouseOver = function (event) {\n    var currentLi = closest(event.target, '.' + LISTCLASS$2);\n    this.setTimeHover(currentLi, HOVER$2);\n  };\n\n  DateTimePicker.prototype.onMouseLeave = function () {\n    this.removeTimeHover(HOVER$2);\n  };\n\n  DateTimePicker.prototype.setTimeHover = function (li, className) {\n    if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n      this.removeTimeHover(className);\n      addClass([li], className);\n    }\n  };\n\n  DateTimePicker.prototype.getPopupHeight = function () {\n    var height = parseInt(POPUPDIMENSION$1, 10);\n    var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n    return popupHeight > height ? height : popupHeight;\n  };\n\n  DateTimePicker.prototype.changeEvent = function (e) {\n    _super.prototype.changeEvent.call(this, e);\n\n    if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n      this.valueWithMinutes = this.value;\n      this.setInputValue('date');\n      this.previousDateTime = this.value && new Date(+this.value);\n    }\n  };\n\n  DateTimePicker.prototype.updateValue = function (e) {\n    this.setInputValue('time');\n\n    if (+this.previousDateTime !== +this.value) {\n      this.changedArgs = {\n        value: this.value,\n        event: e || null,\n        isInteracted: !isNullOrUndefined(e),\n        element: this.element\n      };\n      this.addTimeSelection();\n      this.trigger('change', this.changedArgs);\n      this.previousDateTime = this.previousDate = this.value;\n    }\n  };\n\n  DateTimePicker.prototype.setTimeScrollPosition = function () {\n    var popupElement = this.selectedElement;\n\n    if (!isNullOrUndefined(popupElement)) {\n      this.findScrollTop(popupElement);\n    } else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n      this.setScrollTo();\n    }\n  };\n\n  DateTimePicker.prototype.findScrollTop = function (element) {\n    var listHeight = this.getPopupHeight();\n    var nextElement = element.nextElementSibling;\n    var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n    var lineHeight = element.getBoundingClientRect().height;\n\n    if (height + element.offsetTop > listHeight) {\n      this.dateTimeWrapper.scrollTop = nextElement ? height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1) : height;\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  };\n\n  DateTimePicker.prototype.setScrollTo = function () {\n    var element;\n    var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n\n    if (items.length >= 0) {\n      this.scrollInvoked = true;\n      var initialTime = this.timeCollections[0];\n      var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n      element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n\n    if (!isNullOrUndefined(element)) {\n      this.findScrollTop(element);\n    } else {\n      this.dateTimeWrapper.scrollTop = 0;\n    }\n  };\n\n  DateTimePicker.prototype.setInputValue = function (type) {\n    if (type === 'date') {\n      this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n      this.setProperties({\n        value: this.getFullDateTime()\n      }, true);\n    } else {\n      var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n      Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n      this.previousElementValue = this.inputElement.value;\n      this.setProperties({\n        value: new Date(this.timeCollections[this.activeIndex])\n      }, true);\n\n      if (this.enableMask) {\n        this.createMask();\n      }\n    }\n\n    this.updateIconState();\n  };\n\n  DateTimePicker.prototype.getFullDateTime = function () {\n    var value = null;\n\n    if (this.isDateObject(this.valueWithMinutes)) {\n      value = this.combineDateTime(this.valueWithMinutes);\n    } else {\n      value = this.previousDate;\n    }\n\n    return this.validateMinMaxRange(value);\n  };\n\n  DateTimePicker.prototype.createMask = function () {\n    this.notify('createMask', {\n      module: 'MaskedDateTime'\n    });\n  };\n\n  DateTimePicker.prototype.combineDateTime = function (value) {\n    if (this.isDateObject(value)) {\n      var day = this.previousDate.getDate();\n      var month = this.previousDate.getMonth();\n      var year = this.previousDate.getFullYear();\n      var hour = value.getHours();\n      var minutes = value.getMinutes();\n      var seconds = value.getSeconds();\n      return new Date(year, month, day, hour, minutes, seconds);\n    } else {\n      return this.previousDate;\n    }\n  };\n\n  DateTimePicker.prototype.onMouseClick = function (event) {\n    var target = event.target;\n    var li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n\n    if (li && li.classList.contains(LISTCLASS$2)) {\n      this.timeValue = li.getAttribute('data-value');\n      this.hide(event);\n    }\n\n    this.setSelection(li, event);\n  };\n\n  DateTimePicker.prototype.setSelection = function (li, event) {\n    if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n      this.selectedElement = li;\n      var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n      this.activeIndex = index;\n      this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n      addClass([this.selectedElement], ACTIVE$2);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n      this.updateValue(event);\n    }\n  };\n\n  DateTimePicker.prototype.setTimeActiveClass = function () {\n    var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n\n    if (!isNullOrUndefined(collections)) {\n      var items = collections.querySelectorAll('.' + LISTCLASS$2);\n\n      if (items.length) {\n        for (var i = 0; i < items.length; i++) {\n          if (this.timeCollections[i] === +this.valueWithMinutes) {\n            items[i].setAttribute('aria-selected', 'true');\n            this.selectedElement = items[i];\n            this.activeIndex = i;\n            this.setTimeActiveDescendant();\n            break;\n          }\n        }\n      }\n    }\n  };\n\n  DateTimePicker.prototype.setTimeActiveDescendant = function () {\n    if (!isNullOrUndefined(this.selectedElement) && this.value) {\n      attributes(this.inputElement, {\n        'aria-activedescendant': this.selectedElement.getAttribute('id')\n      });\n    } else {\n      this.inputElement.removeAttribute('aria-activedescendant');\n    }\n  };\n\n  DateTimePicker.prototype.addTimeSelection = function () {\n    this.selectedElement = null;\n    this.removeTimeSelection();\n    this.setTimeActiveClass();\n\n    if (!isNullOrUndefined(this.selectedElement)) {\n      addClass([this.selectedElement], ACTIVE$2);\n      this.selectedElement.setAttribute('aria-selected', 'true');\n    }\n  };\n\n  DateTimePicker.prototype.removeTimeSelection = function () {\n    this.removeTimeHover(HOVER$2);\n\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n\n      if (items.length) {\n        removeClass(items, ACTIVE$2);\n        items[0].removeAttribute('aria-selected');\n      }\n    }\n  };\n\n  DateTimePicker.prototype.removeTimeHover = function (className) {\n    var hoveredItem = this.getTimeHoverItem(className);\n\n    if (hoveredItem && hoveredItem.length) {\n      removeClass(hoveredItem, className);\n    }\n  };\n\n  DateTimePicker.prototype.getTimeHoverItem = function (className) {\n    var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n    var hoveredItem;\n\n    if (!isNullOrUndefined(collections)) {\n      hoveredItem = collections.querySelectorAll('.' + className);\n    }\n\n    return hoveredItem;\n  };\n\n  DateTimePicker.prototype.isValidLI = function (li) {\n    return li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4);\n  };\n\n  DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n    var day = value.getDate();\n    var month = value.getMonth();\n    var year = value.getFullYear();\n    var hours = value.getHours();\n    var minutes = value.getMinutes();\n    var seconds = value.getSeconds();\n    var milliseconds = value.getMilliseconds();\n\n    if (range) {\n      if (method === 'starttime') {\n        return new Date(year, month, day, 0, 0, 0);\n      } else {\n        return new Date(year, month, day, 23, 59, 59);\n      }\n    } else {\n      return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n    }\n  };\n\n  DateTimePicker.prototype.startTime = function (date) {\n    var tempStartValue;\n    var start;\n    var tempMin = this.min;\n    var value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() && +value.getFullYear() === +tempMin.getFullYear() || +new Date(value.getFullYear(), value.getMonth(), value.getDate()) <= +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate())) {\n      start = false;\n      tempStartValue = this.min;\n    } else if (+value < +this.max && +value > +this.min) {\n      start = true;\n      tempStartValue = value;\n    } else if (+value >= +this.max) {\n      start = true;\n      tempStartValue = this.max;\n    }\n\n    return this.calculateStartEnd(tempStartValue, start, 'starttime');\n  };\n\n  DateTimePicker.prototype.endTime = function (date) {\n    var tempEndValue;\n    var end;\n    var tempMax = this.max;\n    var value = date === null ? new Date() : date;\n\n    if (+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() && +value.getFullYear() === +tempMax.getFullYear() || +new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >= +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate())) {\n      end = false;\n      tempEndValue = this.max;\n    } else if (+value < +this.max && +value > +this.min) {\n      end = true;\n      tempEndValue = value;\n    } else if (+value <= +this.min) {\n      end = true;\n      tempEndValue = this.min;\n    }\n\n    return this.calculateStartEnd(tempEndValue, end, 'endtime');\n  };\n\n  DateTimePicker.prototype.hide = function (e) {\n    var _this = this;\n\n    if (this.popupObj || this.dateTimeWrapper) {\n      this.preventArgs = {\n        cancel: false,\n        popup: this.popupObj || this.popupObject,\n        event: e || null\n      };\n      var eventArgs = this.preventArgs;\n\n      if (isNullOrUndefined(this.popupObj)) {\n        this.trigger('close', eventArgs, function (eventArgs) {\n          _this.dateTimeCloseEventCallback(e, eventArgs);\n        });\n      } else {\n        this.dateTimeCloseEventCallback(e, eventArgs);\n      }\n    } else {\n      if (Browser.isDevice && this.allowEdit && !this.readonly) {\n        this.inputElement.removeAttribute('readonly');\n      }\n\n      this.setAllowEdit();\n    }\n  };\n\n  DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n    this.preventArgs = eventArgs;\n\n    if (!this.preventArgs.cancel) {\n      if (this.isDatePopupOpen()) {\n        _super.prototype.hide.call(this, e);\n      } else if (this.isTimePopupOpen()) {\n        this.closePopup(e);\n        removeClass([document.body], OVERFLOW$3);\n\n        if (Browser.isDevice && this.timeModal) {\n          this.timeModal.style.display = 'none';\n          this.timeModal.outerHTML = '';\n          this.timeModal = null;\n        }\n\n        this.setTimeActiveDescendant();\n      }\n    }\n\n    if (Browser.isDevice && this.allowEdit && !this.readonly) {\n      this.inputElement.removeAttribute('readonly');\n    }\n\n    this.setAllowEdit();\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  DateTimePicker.prototype.closePopup = function (e) {\n    if (this.isTimePopupOpen() && this.popupObject) {\n      var animModel = {\n        name: 'FadeOut',\n        duration: ANIMATIONDURATION$1,\n        delay: 0\n      };\n      this.popupObject.hide(new Animation(animModel));\n      this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n      attributes(this.inputElement, {\n        'aria-expanded': 'false'\n      });\n      this.inputElement.removeAttribute('aria-owns');\n      EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n    }\n  };\n\n  DateTimePicker.prototype.preRender = function () {\n    this.checkFormat();\n    this.dateTimeFormat = this.cldrDateTimeFormat();\n\n    _super.prototype.preRender.call(this);\n\n    removeClass([this.inputElementCopy], [ROOT$4]);\n  };\n\n  DateTimePicker.prototype.getProperty = function (date, val) {\n    if (val === 'min') {\n      this.setProperties({\n        min: this.validateValue(date.min)\n      }, true);\n    } else {\n      this.setProperties({\n        max: this.validateValue(date.max)\n      }, true);\n    }\n  };\n\n  DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n    var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n    var value;\n\n    for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n        switch (prop) {\n          case 'name':\n            this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n            break;\n\n          case 'step':\n            this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n            break;\n\n          case 'readonly':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.inputElement.getAttribute(prop)\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['min'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  min: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'disabled':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.inputElement.getAttribute(prop) === 'disabled' || this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['value'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  value: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            if (isNullOrUndefined(this.dateTimeOptions) || this.dateTimeOptions['max'] === undefined || isDynamic) {\n              value = new Date(this.inputElement.getAttribute(prop));\n\n              if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                this.setProperties({\n                  max: value\n                }, !isDynamic);\n              }\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  DateTimePicker.prototype.requiredModules = function () {\n    var modules = [];\n\n    if (this) {\n      modules.push({\n        args: [this],\n        member: 'islamic'\n      });\n    }\n\n    if (this.enableMask) {\n      modules.push(this.maskedDateModule());\n    }\n\n    return modules;\n  };\n\n  DateTimePicker.prototype.maskedDateModule = function () {\n    var modules = {\n      args: [this],\n      member: 'MaskedDateTime'\n    };\n    return modules;\n  };\n\n  DateTimePicker.prototype.getTimeActiveElement = function () {\n    if (!isNullOrUndefined(this.dateTimeWrapper)) {\n      return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n    } else {\n      return null;\n    }\n  };\n\n  DateTimePicker.prototype.createDateObj = function (val) {\n    return val instanceof Date ? val : null;\n  };\n\n  DateTimePicker.prototype.getDateObject = function (text) {\n    if (!this.isNullOrEmpty(text)) {\n      var dateValue = this.createDateObj(text);\n      var value = this.valueWithMinutes;\n      var status_1 = !isNullOrUndefined(value);\n\n      if (this.checkDateValue(dateValue)) {\n        var date = status_1 ? value.getDate() : DAY$1;\n        var month = status_1 ? value.getMonth() : MONTH$3;\n        var year = status_1 ? value.getFullYear() : YEAR$3;\n        var hour = status_1 ? value.getHours() : HOUR;\n        var minute = status_1 ? value.getMinutes() : MINUTE;\n        var second = status_1 ? value.getSeconds() : SECOND;\n        var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n\n        if (!this.scrollInvoked) {\n          return new Date(year, month, date, hour, minute, second, millisecond);\n        } else {\n          this.scrollInvoked = false;\n          return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n        }\n      }\n    }\n\n    return null;\n  };\n\n  DateTimePicker.prototype.findNextTimeElement = function (event) {\n    var textVal = this.inputElement.value;\n    var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) : this.getDateObject(this.valueWithMinutes);\n    var dateTimeVal = null;\n    var listCount = this.liCollections.length;\n\n    if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n      if (event.action === 'home') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[0]));\n        this.activeIndex = 0;\n      } else if (event.action === 'end') {\n        dateTimeVal = +this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1]));\n        this.activeIndex = this.timeCollections.length - 1;\n      } else {\n        if (event.action === 'down') {\n          for (var i = 0; i < listCount; i++) {\n            if (+value < this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        } else {\n          for (var i = listCount - 1; i >= 0; i--) {\n            if (+value > this.timeCollections[i]) {\n              dateTimeVal = +this.createDateObj(new Date(this.timeCollections[i]));\n              this.activeIndex = i;\n              break;\n            }\n          }\n        }\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n    }\n  };\n\n  DateTimePicker.prototype.setTimeValue = function (date, value) {\n    var dateString;\n    var time;\n    var val = this.validateMinMaxRange(value);\n    var newval = this.createDateObj(val);\n\n    if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n      this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n      time = new Date(+this.valueWithMinutes);\n    } else {\n      if (this.strictMode) {\n        //for strict mode case, when value not present within a range. Reset the nearest range value.\n        date = newval;\n      }\n\n      this.valueWithMinutes = this.checkDateValue(date);\n      time = new Date(+this.valueWithMinutes);\n    }\n\n    if (this.calendarMode === 'Gregorian') {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd'\n      });\n    } else {\n      dateString = this.globalize.formatDate(time, {\n        format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n        type: 'dateTime',\n        skeleton: 'yMd',\n        calendar: 'islamic'\n      });\n    }\n\n    if (!this.strictMode && isNullOrUndefined(time)) {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    } else {\n      Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n    }\n\n    return time;\n  };\n\n  DateTimePicker.prototype.timeElementValue = function (value) {\n    if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n      var date = value instanceof Date ? value : this.getDateObject(value);\n      return this.setTimeValue(date, value);\n    }\n\n    return null;\n  };\n\n  DateTimePicker.prototype.timeKeyHandler = function (event) {\n    if (isNullOrUndefined(this.step) || this.step <= 0) {\n      return;\n    }\n\n    var listCount = this.timeCollections.length;\n\n    if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n      if (this.liCollections.length > 0) {\n        if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n          this.activeIndex = 0;\n          this.selectedElement = this.liCollections[0];\n          this.timeElementValue(new Date(this.timeCollections[0]));\n        } else {\n          this.findNextTimeElement(event);\n        }\n      }\n    } else {\n      var nextItemValue = void 0;\n\n      if (event.keyCode >= 37 && event.keyCode <= 40) {\n        var index = event.keyCode === 40 || event.keyCode === 39 ? ++this.activeIndex : --this.activeIndex;\n        this.activeIndex = index = this.activeIndex === listCount ? 0 : this.activeIndex;\n        this.activeIndex = index = this.activeIndex < 0 ? listCount - 1 : this.activeIndex;\n        nextItemValue = isNullOrUndefined(this.timeCollections[index]) ? this.timeCollections[0] : this.timeCollections[index];\n      } else if (event.action === 'home') {\n        this.activeIndex = 0;\n        nextItemValue = this.timeCollections[0];\n      } else if (event.action === 'end') {\n        this.activeIndex = listCount - 1;\n        nextItemValue = this.timeCollections[listCount - 1];\n      }\n\n      this.selectedElement = this.liCollections[this.activeIndex];\n      this.timeElementValue(new Date(nextItemValue));\n    }\n\n    this.isNavigate = true;\n    this.setTimeHover(this.selectedElement, NAVIGATION$1);\n    this.setTimeActiveDescendant();\n\n    if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n      this.setTimeScrollPosition();\n    }\n  };\n\n  DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n    if (this.enabled) {\n      if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n        event.preventDefault();\n      }\n\n      switch (event.action) {\n        case 'up':\n        case 'down':\n        case 'home':\n        case 'end':\n          this.timeKeyHandler(event);\n          break;\n\n        case 'enter':\n          if (this.isNavigate) {\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            this.setInputValue('time');\n\n            if (+this.previousDateTime !== +this.value) {\n              this.changedArgs.value = this.value;\n              this.addTimeSelection();\n              this.previousDateTime = this.value;\n            }\n          } else {\n            this.updateValue(event);\n          }\n\n          this.hide(event);\n          addClass([this.inputWrapper.container], INPUTFOCUS$2);\n          this.isNavigate = false;\n          event.stopPropagation();\n          break;\n\n        case 'escape':\n          this.hide(event);\n          break;\n\n        default:\n          this.isNavigate = false;\n          break;\n      }\n    }\n  };\n\n  DateTimePicker.prototype.inputKeyAction = function (event) {\n    switch (event.action) {\n      case 'altDownArrow':\n        this.strictModeUpdate();\n        this.updateInput();\n        this.toggle(event);\n        break;\n    }\n  };\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n   * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n   * @returns {void}\n   * @deprecated\n   */\n\n\n  DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'value':\n          this.isDynamicValueChanged = true;\n          this.invalidValueString = null;\n          this.checkInvalidValue(newProp.value);\n          newProp.value = this.value;\n          newProp.value = this.validateValue(newProp.value);\n\n          if (this.enableMask) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n          } else {\n            Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n          }\n\n          this.valueWithMinutes = newProp.value;\n          this.setProperties({\n            value: newProp.value\n          }, true);\n\n          if (this.popupObj) {\n            this.popupUpdate();\n          }\n\n          this.previousDateTime = new Date(this.inputElement.value);\n          this.updateInput();\n          this.changeTrigger(null);\n          this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n\n          if (this.enableMask && this.value) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n          }\n\n          break;\n\n        case 'min':\n        case 'max':\n          this.getProperty(newProp, prop);\n          this.updateInput();\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n          break;\n\n        case 'cssClass':\n          if (!isNullOrUndefined(oldProp.cssClass)) {\n            oldProp.cssClass = oldProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          if (!isNullOrUndefined(newProp.cssClass)) {\n            newProp.cssClass = newProp.cssClass.replace(/\\s+/g, ' ').trim();\n          }\n\n          Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n\n          if (this.dateTimeWrapper) {\n            Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n          }\n\n          break;\n\n        case 'locale':\n          this.globalize = new Internationalization(this.locale);\n          this.l10n.setLocale(this.locale);\n          this.setProperties({\n            placeholder: this.l10n.getConstant('placeholder')\n          }, true);\n          Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n          this.dateTimeFormat = this.cldrDateTimeFormat();\n\n          _super.prototype.updateInput.call(this);\n\n          break;\n\n        case 'htmlAttributes':\n          this.updateHtmlAttributeToElement();\n          this.updateHtmlAttributeToWrapper();\n          this.checkAttributes(true);\n          break;\n\n        case 'format':\n          this.setProperties({\n            format: newProp.format\n          }, true);\n          this.checkFormat();\n          this.dateTimeFormat = this.formatString;\n          this.setValue();\n\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n\n            if (!this.value) {\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.inputElement);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(this.enabled, this.inputElement);\n\n          if (!this.enabled) {\n            this.inputElement.tabIndex = -1;\n          }\n\n          break;\n\n        case 'strictMode':\n          this.invalidValueString = null;\n          this.updateInput();\n          break;\n\n        case 'width':\n          this.setWidth(newProp.width);\n          Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n          }\n\n          break;\n\n        case 'readonly':\n          Input.setReadonly(this.readonly, this.inputElement);\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          Input.removeFloating(this.inputWrapper);\n          Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n\n          if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n          }\n\n          break;\n\n        case 'scrollTo':\n          if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n            if (this.dateTimeWrapper) {\n              this.setScrollTo();\n            }\n\n            this.setProperties({\n              scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))\n            }, true);\n          } else {\n            this.setProperties({\n              scrollTo: null\n            }, true);\n          }\n\n          break;\n\n        case 'enableMask':\n          if (this.enableMask) {\n            this.notify('createMask', {\n              module: 'MaskedDateTime'\n            });\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n          } else {\n            if (this.inputElement.value === this.maskedDateValue) {\n              this.maskedDateValue = '';\n              Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n            }\n          }\n\n          break;\n\n        default:\n          _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n\n          break;\n      }\n\n      if (!this.isDynamicValueChanged) {\n        this.hide(null);\n      }\n\n      this.isDynamicValueChanged = false;\n    }\n  };\n  /**\n   * To get component name.\n   *\n   * @returns {string} Returns the component name.\n   * @private\n   */\n\n\n  DateTimePicker.prototype.getModuleName = function () {\n    return 'datetimepicker';\n  };\n\n  DateTimePicker.prototype.restoreValue = function () {\n    this.previousDateTime = this.previousDate;\n    this.currentDate = this.value ? this.value : new Date();\n    this.valueWithMinutes = this.value;\n    this.previousDate = this.value;\n    this.previousElementValue = this.previousElementValue = isNullOrUndefined(this.inputValueCopy) ? '' : this.getFormattedValue(this.inputValueCopy);\n  };\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"timeFormat\", void 0);\n\n  __decorate$4([Property(30)], DateTimePicker.prototype, \"step\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"scrollTo\", void 0);\n\n  __decorate$4([Property(1000)], DateTimePicker.prototype, \"zIndex\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"value\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"keyConfigs\", void 0);\n\n  __decorate$4([Property({})], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"enablePersistence\", void 0);\n\n  __decorate$4([Property(true)], DateTimePicker.prototype, \"allowEdit\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"values\", void 0);\n\n  __decorate$4([Property(true)], DateTimePicker.prototype, \"showClearButton\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"placeholder\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"strictMode\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n\n  __decorate$4([Property(new Date(1900, 0, 1))], DateTimePicker.prototype, \"min\", void 0);\n\n  __decorate$4([Property(new Date(2099, 11, 31))], DateTimePicker.prototype, \"max\", void 0);\n\n  __decorate$4([Property(null)], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n\n  __decorate$4([Property('Gregorian')], DateTimePicker.prototype, \"calendarMode\", void 0);\n\n  __decorate$4([Property('Month')], DateTimePicker.prototype, \"start\", void 0);\n\n  __decorate$4([Property('Month')], DateTimePicker.prototype, \"depth\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"weekNumber\", void 0);\n\n  __decorate$4([Property(true)], DateTimePicker.prototype, \"showTodayButton\", void 0);\n\n  __decorate$4([Property('Short')], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"openOnFocus\", void 0);\n\n  __decorate$4([Property(false)], DateTimePicker.prototype, \"enableMask\", void 0);\n\n  __decorate$4([Property({\n    day: 'day',\n    month: 'month',\n    year: 'year',\n    hour: 'hour',\n    minute: 'minute',\n    second: 'second',\n    dayOfTheWeek: 'day of the week'\n  })], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"open\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"close\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"cleared\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"blur\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"focus\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"created\", void 0);\n\n  __decorate$4([Event()], DateTimePicker.prototype, \"destroyed\", void 0);\n\n  DateTimePicker = __decorate$4([NotifyPropertyChanges], DateTimePicker);\n  return DateTimePicker;\n}(DatePicker);\n/**\n * DateTimePicker modules\n */\n\n\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\n\nvar MaskedDateTime =\n/** @__PURE__ @class */\nfunction () {\n  function MaskedDateTime(parent) {\n    this.mask = '';\n    this.defaultConstant = {\n      day: 'day',\n      month: 'month',\n      year: 'year',\n      hour: 'hour',\n      minute: 'minute',\n      second: 'second',\n      dayOfTheWeek: 'day of the week'\n    };\n    this.hiddenMask = '';\n    this.validCharacters = 'dMyhmHfasz';\n    this.isDayPart = false;\n    this.isMonthPart = false;\n    this.isYearPart = false;\n    this.isHourPart = false;\n    this.isMinutePart = false;\n    this.isSecondsPart = false;\n    this.isMilliSecondsPart = false;\n    this.monthCharacter = '';\n    this.periodCharacter = '';\n    this.isHiddenMask = false;\n    this.isComplete = false;\n    this.isNavigate = false;\n    this.navigated = false;\n    this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n    this.isDeletion = false;\n    this.isShortYear = false;\n    this.isDeleteKey = false;\n    this.isDateZero = false;\n    this.isMonthZero = false;\n    this.isYearZero = false;\n    this.dayTypeCount = 0;\n    this.monthTypeCount = 0;\n    this.hourTypeCount = 0;\n    this.minuteTypeCount = 0;\n    this.secondTypeCount = 0;\n    this.parent = parent;\n    this.dateformat = this.getCulturedFormat();\n    this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n    this.maskDateValue.setMonth(0);\n    this.maskDateValue.setHours(0);\n    this.maskDateValue.setMinutes(0);\n    this.maskDateValue.setSeconds(0);\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.removeEventListener();\n    this.addEventListener();\n  }\n\n  MaskedDateTime.prototype.getModuleName = function () {\n    return 'MaskedDateTime';\n  };\n\n  MaskedDateTime.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on('createMask', this.createMask, this);\n    this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n    this.parent.on('inputHandler', this.maskInputHandler, this);\n    this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n    this.parent.on('clearHandler', this.clearHandler, this);\n  };\n\n  MaskedDateTime.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off('createMask', this.createMask);\n    this.parent.off('setMaskSelection', this.validCharacterCheck);\n    this.parent.off('inputHandler', this.maskInputHandler);\n    this.parent.off('keyDownHandler', this.maskKeydownHandler);\n    this.parent.off('clearHandler', this.clearHandler);\n  };\n\n  MaskedDateTime.prototype.createMask = function (navigated) {\n    if (navigated === void 0) {\n      navigated = false;\n    }\n\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.dateformat = this.getCulturedFormat();\n\n    if (this.parent.maskPlaceholder.day) {\n      this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n    }\n\n    if (this.parent.maskPlaceholder.month) {\n      this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n    }\n\n    if (this.parent.maskPlaceholder.year) {\n      this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n    }\n\n    if (this.parent.maskPlaceholder.hour) {\n      this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n    }\n\n    if (this.parent.maskPlaceholder.minute) {\n      this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n    }\n\n    if (this.parent.maskPlaceholder.second) {\n      this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n    }\n\n    if (this.parent.maskPlaceholder.dayOfTheWeek) {\n      this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n    }\n\n    this.getCUltureMaskFormat();\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.mask = this.previousValue = inputValue;\n    this.parent.maskedDateValue = this.mask;\n\n    if (this.parent.value) {\n      this.navigated = navigated;\n      this.setDynamicValue();\n    }\n  };\n\n  MaskedDateTime.prototype.getCUltureMaskFormat = function () {\n    this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n    this.objectString = Object.keys(this.defaultConstant);\n\n    for (var i = 0; i < this.objectString.length; i++) {\n      this.defaultConstant[this.objectString[i].toString()] = this.l10n.getConstant(this.objectString[i].toString());\n    }\n  };\n\n  MaskedDateTime.prototype.validCharacterCheck = function () {\n    var start = this.parent.inputElement.selectionStart;\n\n    for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n      if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n        this.setSelection(this.hiddenMask[i]);\n        return;\n      }\n\n      if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n        this.setSelection(this.hiddenMask[j]);\n        return;\n      }\n    }\n  };\n\n  MaskedDateTime.prototype.setDynamicValue = function () {\n    this.maskDateValue = new Date(+this.parent.value);\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n    this.updateValue();\n    this.validCharacterCheck();\n  };\n\n  MaskedDateTime.prototype.setSelection = function (validChar) {\n    var start = -1;\n    var end = 0;\n\n    for (var i = 0; i < this.hiddenMask.length; i++) {\n      if (this.hiddenMask[i] === validChar) {\n        end = i + 1;\n\n        if (start === -1) {\n          start = i;\n        }\n      }\n    }\n\n    if (start < 0) {\n      start = 0;\n    }\n\n    this.parent.inputElement.setSelectionRange(start, end);\n  };\n\n  MaskedDateTime.prototype.maskKeydownHandler = function (args) {\n    this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n\n    if (args.e.key === 'Delete') {\n      this.isDeleteKey = true;\n      return;\n    }\n\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB || args.e.key === END || args.e.key === HOME)) {\n      var start = this.parent.inputElement.selectionStart;\n      var end = this.parent.inputElement.selectionEnd;\n      var length_1 = this.parent.inputElement.value.length;\n\n      if (start === 0 && end === length_1 && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n        var index = args.e.action === SHIFTTAB ? end : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n      }\n\n      if (args.e.key === END || args.e.key === HOME) {\n        var range = args.e.key === END ? length_1 : 0;\n        this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n      }\n\n      this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n    }\n\n    if (!args.e.altKey && !args.e.ctrlKey && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n      var start = this.parent.inputElement.selectionStart;\n      var formatText = '';\n\n      if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n        formatText = this.hiddenMask[start];\n      }\n\n      this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n      var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = true;\n      this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n      this.isHiddenMask = false;\n      this.previousHiddenMask = this.hiddenMask;\n      this.previousValue = inputValue;\n      this.parent.inputElement.value = inputValue;\n\n      for (var i = 0; i < this.hiddenMask.length; i++) {\n        if (formatText === this.hiddenMask[i]) {\n          start = i;\n          break;\n        }\n      }\n\n      this.parent.inputElement.selectionStart = start;\n      this.validCharacterCheck();\n    }\n  };\n\n  MaskedDateTime.prototype.isPersist = function () {\n    var isPersist = this.parent.isFocused || this.navigated;\n    return isPersist;\n  };\n\n  MaskedDateTime.prototype.differenceCheck = function () {\n    var start = this.parent.inputElement.selectionStart;\n    var inputValue = this.parent.inputElement.value;\n    var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n    var newVal = inputValue.substring(0, start);\n    var newDateValue = new Date(+this.maskDateValue);\n    var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n    if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 || this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n      for (var i = newVal.length; i < previousVal.length; i++) {\n        if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n          this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n        }\n      }\n\n      if (this.isDeletion) {\n        return;\n      }\n    }\n\n    switch (this.previousHiddenMask[start - 1]) {\n      case 'd':\n        {\n          var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 && !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.isDateZero = newVal[start - 1] === '0';\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n\n          if (isNaN(date)) {\n            return;\n          }\n\n          for (var i = 0; date > maxDate; i++) {\n            date = parseInt(date.toString().slice(1), 10);\n          }\n\n          if (date >= 1) {\n            newDateValue.setDate(date);\n            this.isNavigate = date.toString().length === 2;\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n\n            if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n              return;\n            }\n\n            this.isDayPart = true;\n            this.dayTypeCount = this.dayTypeCount + 1;\n          } else {\n            this.isDayPart = false;\n            this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n          }\n\n          break;\n        }\n\n      case 'M':\n        {\n          var month = void 0;\n\n          if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n            month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n          } else {\n            month = parseInt(newVal[start - 1], 10);\n          }\n\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n          this.isMonthZero = newVal[start - 1] === '0';\n\n          if (!isNaN(month)) {\n            while (month > 12) {\n              month = parseInt(month.toString().slice(1), 10);\n            }\n\n            if (month >= 1) {\n              newDateValue.setMonth(month - 1);\n              this.isNavigate = month.toString().length === 2;\n\n              if (newDateValue.getMonth() !== month - 1) {\n                newDateValue.setDate(1);\n                newDateValue.setMonth(month - 1);\n              }\n\n              if (this.isDayPart) {\n                var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n                if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n                  newDateValue.setDate(currentMaxDate);\n                }\n              }\n\n              this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n              this.isMonthPart = true;\n              this.monthTypeCount = this.monthTypeCount + 1;\n            } else {\n              newDateValue.setMonth(0);\n              this.isMonthPart = false;\n              this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n            }\n          } else {\n            var monthString = this.getCulturedValue('months[stand-alone].wide');\n            var monthValue = Object.keys(monthString);\n            this.monthCharacter += newVal[start - 1].toLowerCase();\n\n            while (this.monthCharacter.length > 0) {\n              var i = 1;\n\n              for (var _i = 0, monthValue_1 = monthValue; _i < monthValue_1.length; _i++) {\n                var months = monthValue_1[_i];\n\n                if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                  newDateValue.setMonth(i - 1);\n                  this.isMonthPart = true;\n                  this.maskDateValue = newDateValue;\n                  return;\n                }\n\n                i++;\n              }\n\n              this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n            }\n          }\n\n          break;\n        }\n\n      case 'y':\n        {\n          var year = (this.isYearPart && newDateValue.getFullYear().toString().length < 4 && !this.isShortYear ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.isShortYear = false;\n          this.isYearZero = newVal[start - 1] === '0';\n\n          if (isNaN(year)) {\n            return;\n          }\n\n          while (year > 9999) {\n            year = parseInt(year.toString().slice(1), 10);\n          }\n\n          if (year < 1) {\n            this.isYearPart = false;\n          } else {\n            newDateValue.setFullYear(year);\n\n            if (year.toString().length === 4) {\n              this.isNavigate = true;\n            }\n\n            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n            this.isYearPart = true;\n          }\n\n          break;\n        }\n\n      case 'h':\n        this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2 && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(this.hour)) {\n          return;\n        }\n\n        while (this.hour > 12) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n\n        newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + this.hour % 12);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount + 1;\n        break;\n\n      case 'H':\n        this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 && !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n        this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n        this.navigated = this.navigated ? false : this.navigated;\n\n        if (isNaN(this.hour)) {\n          return;\n        }\n\n        for (var i = 0; this.hour > 23; i++) {\n          this.hour = parseInt(this.hour.toString().slice(1), 10);\n        }\n\n        newDateValue.setHours(this.hour);\n        this.isNavigate = this.hour.toString().length === 2;\n        this.isHourPart = true;\n        this.hourTypeCount = this.hourTypeCount + 1;\n        break;\n\n      case 'm':\n        {\n          var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2 && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n\n          if (isNaN(minutes)) {\n            return;\n          }\n\n          for (var i = 0; minutes > 59; i++) {\n            minutes = parseInt(minutes.toString().slice(1), 10);\n          }\n\n          newDateValue.setMinutes(minutes);\n          this.isNavigate = minutes.toString().length === 2;\n          this.isMinutePart = true;\n          this.minuteTypeCount = this.minuteTypeCount + 1;\n          break;\n        }\n\n      case 's':\n        {\n          var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 && !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n          this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n          this.navigated = this.navigated ? false : this.navigated;\n\n          if (isNaN(seconds)) {\n            return;\n          }\n\n          for (var i = 0; seconds > 59; i++) {\n            seconds = parseInt(seconds.toString().slice(1), 10);\n          }\n\n          newDateValue.setSeconds(seconds);\n          this.isNavigate = seconds.toString().length === 2;\n          this.isSecondsPart = true;\n          this.secondTypeCount = this.secondTypeCount + 1;\n          break;\n        }\n\n      case 'a':\n        {\n          this.periodCharacter += newVal[start - 1].toLowerCase(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n          var periodString = this.getCulturedValue('dayPeriods.format.wide');\n          var periodkeys = Object.keys(periodString);\n\n          for (var i = 0; this.periodCharacter.length > 0; i++) {\n            if (periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() >= 12 || periodString[periodkeys[1]].toLowerCase().indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12) {\n              newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n              this.maskDateValue = newDateValue;\n            }\n\n            this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n          }\n\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    this.maskDateValue = newDateValue;\n  }; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  MaskedDateTime.prototype.formatCheck = function () {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var proxy = this;\n\n    function formatValueSpecifier(formattext) {\n      var result; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n      var dayKeyAbbreviated = Object.keys(daysAbbreviated); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var daysWide = proxy.getCulturedValue('days[stand-alone].wide');\n      var dayKeyWide = Object.keys(daysWide); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var daysNarrow = proxy.getCulturedValue('days[stand-alone].narrow');\n      var dayKeyNarrow = Object.keys(daysNarrow);\n      var monthAbbreviated = proxy.getCulturedValue('months[stand-alone].abbreviated');\n      var monthWide = proxy.getCulturedValue('months[stand-alone].wide'); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      var periodString = proxy.getCulturedValue('dayPeriods.format.wide');\n      var periodkeys = Object.keys(periodString);\n      var milliseconds;\n      var dateOptions;\n\n      switch (formattext) {\n        case 'ddd':\n        case 'dddd':\n        case 'd':\n          result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n          if (proxy.dayTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n\n          break;\n\n        case 'dd':\n          result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n          result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n\n          if (proxy.dayTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.dayTypeCount = 0;\n          }\n\n          break;\n\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'EEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'EEEEE':\n          result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n          break;\n\n        case 'M':\n          result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n          if (proxy.monthTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n\n          break;\n\n        case 'MM':\n          result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n          result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n\n          if (proxy.monthTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.monthTypeCount = 0;\n          }\n\n          break;\n\n        case 'MMM':\n          result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n\n        case 'MMMM':\n          result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n          break;\n\n        case 'yy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n\n          if (proxy.isYearPart) {\n            proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n          }\n\n          break;\n\n        case 'y':\n        case 'yyyy':\n          result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n          result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n          break;\n\n        case 'h':\n          result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'hh':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'H':\n          result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'HH':\n          result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n\n          if (proxy.hourTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.hourTypeCount = 0;\n          }\n\n          break;\n\n        case 'm':\n          result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n\n          if (proxy.minuteTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n\n          break;\n\n        case 'mm':\n          result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n\n          if (proxy.minuteTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.minuteTypeCount = 0;\n          }\n\n          break;\n\n        case 's':\n          result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n\n          if (proxy.secondTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n\n          break;\n\n        case 'ss':\n          result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n\n          if (proxy.secondTypeCount === 2) {\n            proxy.isNavigate = true;\n            proxy.secondTypeCount = 0;\n          }\n\n          break;\n\n        case 'f':\n          result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n          break;\n\n        case 'ff':\n          milliseconds = proxy.maskDateValue.getMilliseconds();\n\n          if (proxy.maskDateValue.getMilliseconds() > 99) {\n            milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n          }\n\n          result = proxy.roundOff(milliseconds, 2);\n          break;\n\n        case 'fff':\n          result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n          break;\n\n        case 'a':\n        case 'aa':\n          result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n          break;\n\n        case 'z':\n        case 'zz':\n        case 'zzz':\n        case 'zzzz':\n          dateOptions = {\n            format: formattext,\n            type: 'dateTime',\n            skeleton: 'yMd',\n            calendar: proxy.parent.calendarMode\n          };\n          result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n          break;\n      }\n\n      result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n\n      if (proxy.isHiddenMask) {\n        var hiddenChar = '';\n\n        for (var i = 0; i < result.length; i++) {\n          hiddenChar += formattext[0];\n        }\n\n        return hiddenChar;\n      } else {\n        return result;\n      }\n    }\n\n    return formatValueSpecifier;\n  };\n\n  MaskedDateTime.prototype.maskInputHandler = function () {\n    var start = this.parent.inputElement.selectionStart;\n    var formatText = '';\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      formatText = this.hiddenMask[start];\n    }\n\n    this.differenceCheck();\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isDateZero = this.isMonthZero = this.isYearZero = false;\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.inputElement.value = inputValue;\n    this.parent.inputElement.value = inputValue;\n\n    for (var i = 0; i < this.hiddenMask.length; i++) {\n      if (formatText === this.hiddenMask[i]) {\n        start = i;\n        break;\n      }\n    }\n\n    this.parent.inputElement.selectionStart = start;\n    this.validCharacterCheck();\n\n    if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n      var isbackward = this.isNavigate ? false : true;\n      this.isNavigate = this.isDeletion = false;\n      this.navigateSelection(isbackward);\n    }\n\n    if (this.isDeleteKey) {\n      this.isDeletion = false;\n    }\n\n    this.isDeleteKey = false;\n  };\n\n  MaskedDateTime.prototype.navigateSelection = function (isbackward) {\n    var start = this.parent.inputElement.selectionStart;\n    var end = this.parent.inputElement.selectionEnd;\n    var formatIndex = isbackward ? start - 1 : end + 1;\n    this.navigated = true;\n\n    while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n      if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n        this.setSelection(this.hiddenMask[formatIndex]);\n        break;\n      }\n\n      formatIndex = formatIndex + (isbackward ? -1 : 1);\n    }\n  };\n\n  MaskedDateTime.prototype.roundOff = function (val, count) {\n    var valueText = val.toString();\n    var length = count - valueText.length;\n    var result = '';\n\n    for (var i = 0; i < length; i++) {\n      result += '0';\n    }\n\n    return result + valueText;\n  };\n\n  MaskedDateTime.prototype.zeroCheck = function (isZero, isDayPart, resultValue) {\n    var result = resultValue;\n\n    if (isZero && !isDayPart) {\n      result = '0';\n    }\n\n    return result;\n  };\n\n  MaskedDateTime.prototype.handleDeletion = function (format, isSegment) {\n    switch (format) {\n      case 'd':\n        this.isDayPart = isSegment;\n        break;\n\n      case 'M':\n        this.isMonthPart = isSegment;\n\n        if (!isSegment) {\n          this.maskDateValue.setMonth(0);\n          this.monthCharacter = '';\n        }\n\n        break;\n\n      case 'y':\n        this.isYearPart = isSegment;\n        break;\n\n      case 'H':\n      case 'h':\n        this.isHourPart = isSegment;\n\n        if (!isSegment) {\n          this.periodCharacter = '';\n        }\n\n        break;\n\n      case 'm':\n        this.isMinutePart = isSegment;\n        break;\n\n      case 's':\n        this.isSecondsPart = isSegment;\n        break;\n\n      default:\n        return false;\n    }\n\n    return true;\n  };\n\n  MaskedDateTime.prototype.dateAlteration = function (isDecrement) {\n    var start = this.parent.inputElement.selectionStart;\n    var formatText = '';\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      formatText = this.hiddenMask[start];\n    } else {\n      return;\n    }\n\n    var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n    var incrementValue = isDecrement ? -1 : 1;\n\n    switch (formatText) {\n      case 'd':\n        newDateValue.setDate(newDateValue.getDate() + incrementValue);\n        break;\n\n      case 'M':\n        {\n          var newMonth = newDateValue.getMonth() + incrementValue;\n          newDateValue.setDate(1);\n          newDateValue.setMonth(newMonth);\n\n          if (this.isDayPart) {\n            var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n            var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n\n            if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n              newDateValue.setDate(currentMaxDate);\n            } else {\n              newDateValue.setDate(this.previousDate.getDate());\n            }\n          } else {\n            newDateValue.setDate(this.previousDate.getDate());\n          }\n\n          this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n          break;\n        }\n\n      case 'y':\n        newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n        break;\n\n      case 'H':\n      case 'h':\n        newDateValue.setHours(newDateValue.getHours() + incrementValue);\n        break;\n\n      case 'm':\n        newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n        break;\n\n      case 's':\n        newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n        break;\n\n      case 'a':\n        newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n        break;\n\n      default:\n        break;\n    }\n\n    this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n\n    if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n      this.handleDeletion(this.hiddenMask[start], true);\n    }\n  };\n\n  MaskedDateTime.prototype.getCulturedValue = function (format) {\n    var locale = this.parent.locale;\n    var result;\n\n    if (locale === 'en' || locale === 'en-US') {\n      result = getValue(format, getDefaultDateObject());\n    } else {\n      result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n    }\n\n    return result;\n  };\n\n  MaskedDateTime.prototype.getCulturedFormat = function () {\n    var formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n    if (this.parent.moduleName === 'datepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.format && this.parent.formatString) {\n        formatString = this.parent.formatString;\n      }\n    }\n\n    if (this.parent.moduleName === 'datetimepicker') {\n      formatString = this.getCulturedValue('dateTimeFormats[availableFormats].yMd').toString();\n\n      if (this.parent.dateTimeFormat) {\n        formatString = this.parent.dateTimeFormat;\n      }\n    }\n\n    if (this.parent.moduleName === 'timepicker') {\n      formatString = this.parent.cldrTimeFormat();\n    }\n\n    return formatString;\n  };\n\n  MaskedDateTime.prototype.clearHandler = function () {\n    this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n    this.updateValue();\n  };\n\n  MaskedDateTime.prototype.updateValue = function () {\n    this.monthCharacter = this.periodCharacter = '';\n    var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = true;\n    this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n    this.isHiddenMask = false;\n    this.previousHiddenMask = this.hiddenMask;\n    this.previousValue = inputValue;\n    this.parent.updateInputValue(inputValue);\n  };\n\n  MaskedDateTime.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n\n  return MaskedDateTime;\n}();\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\n\nexport { CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Component","Event","EventHandler","HijriParser","Internationalization","KeyboardEvents","L10n","NotifyPropertyChanges","Property","addClass","append","attributes","cldrData","closest","createElement","detach","extend","formatUnit","getDefaultDateObject","getUniqueID","getValue","isNullOrUndefined","isUndefined","merge","prepend","remove","removeClass","rippleEffect","select","setStyleAttribute","setValue","throwError","Popup","Input","Button","ListBase","__extends","undefined","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","OTHERMONTH","OTHERDECADE","ROOT","DEVICE","HEADER","RTL","CONTENT","YEAR","MONTH","DECADE","ICON","PREVICON","NEXTICON","PREVSPAN","NEXTSPAN","ICONCONTAINER","DISABLED","OVERLAY","WEEKEND","WEEKNUMBER","SELECTED","FOCUSEDDATE","OTHERMONTHROW","TODAY","TITLE","LINK","CELL","WEEKHEADER","ZOOMIN","FOOTER","BTN","FLAT","CSS","PRIMARY","DAYHEADERLONG","dayMilliSeconds","minutesMilliSeconds","CalendarBase","_super","options","element","_this","call","effect","isPopupClicked","isDateSelected","isTodayClicked","preventChange","isAngular","previousDates","render","rangeValidation","min","max","calendarEleCopy","cloneNode","calendarMode","setSeconds","Date","globalize","locale","firstDayOfWeek","setProperties","getFirstDayOfWeek","todayDisabled","todayDate","setHours","getModuleName","classList","add","enableRtl","isDevice","tabIndex","hasAttribute","getAttribute","setAttribute","calendarElement","disabled","enabled","createHeader","createContent","wireEvents","getDefaultKeyConfig","defaultKeyConfigs","controlUp","controlDown","moveDown","moveUp","moveLeft","moveRight","home","end","pageUp","pageDown","shiftPageUp","shiftPageDown","controlHome","controlEnd","altUpArrow","spacebar","altRightArrow","altLeftArrow","validateDate","value","checkDateValue","checkValue","currentDate","setOverlayIndex","popupWrapper","popupElement","modal","index","parseInt","style","zIndex","toString","minMaxUpdate","ariaPrevAttrs","ariaNextAttrs","ariaTitleAttrs","headerElement","className","iconContainer","previousIcon","attrs","type","duration","selector","isCenterRipple","nextIcon","headerTitleElement","appendChild","adjustLongHeaderSize","contentElement","table","id","createContentHeader","createContentBody","showTodayButton","createContentFooter","getCultureValues","culShortNames","cldrObj","dayFormat","dayHeaderFormat","toLowerCase","getCultureObjects","_i","_a","keys","obj","push","toCapitalize","text","toUpperCase","slice","querySelectorAll","daysCount","html","tableHeadElement","weekNumber","shortNames","shiftArray","days","innerHTML","start","renderYears","renderDecades","renderMonths","updateFooter","todayElement","textContent","l10","getConstant","minimum","maximum","l10nLocale","today","role","footer","contains","todayButtonClick","ref","keyConfig","moduleName","navigateTitle","keyConfigs","keyboardModule","eventName","keyAction","keyActionHandle","bind","dateWireEvents","serverModuleName","e","isCustomDate","currentView","depth","getViewNumber","navigateTo","resetCalendar","tableBodyElement","renderDayCellArgs","multiSelection","focusedDate","querySelector","selectedDate","split","view","depthValue","levelRestrict","action","keyboardNavigate","preventDefault","selectDate","contentClick","title","firstDay","lastDay","addMonths","addYears","getFullYear","focus","number","date","isMonthYearRange","addDay","isMinMaxRange","preRender","navigatePreviousHandler","navigatePrevious","navigateNextHandler","navigateNext","navigateHandler","triggerNavigate","minMaxDate","localDate","minDate","maxDate","numCells","tdEles","renderDays","islamicModule","islamicRenderDays","renderTemplate","islamicRenderTemplate","values","isTodayDate","cellsCount","getDate","timezone","currentMonth","getMonth","titleUpdate","getHours","getMinutes","getSeconds","getMilliseconds","getDay","setStartDate","day","weekEle","weekAnchor","numberOfDays","weekRule","finalDate","getWeek","dateFormatOptions","skeleton","parseDate","formatDate","tdEle","dayCell","dayLink","format","isDisabled","isOutOfRange","argument","renderDayCellEvent","argsDate","localDateString","tempDateString","splice","otherMnthBool","disabledCls","clickHandler","currentTarget","tempValue","formatOptions","calendar","getDateVal","innerText","copyValues","type_1","formatOptions_1","localDateString_1","tempDateString_1","indexOf","updateFocus","otherMonth","tableElement","removeTableHeadElement","valueUtil","curDate","mon","yr","curYrs","minYr","minMonth","maxYr","maxMonth","setMonth","setDate","month","localMonth","select$$1","yearCell","localYr","startYr","setFullYear","endYr","startFullYr","endFullYr","startHdrYr","endHdrYr","startYear","rowIterator","year","valueOf","collection","lastDate","timeOffset","Math","abs","getTimezoneOffset","findLastDay","isNaN","elements","count","classNm","trEle","weekNumCell","numberCell","otherMonthCell","row","children","iconHandler","islamicIconHandler","setAriaActiveDescendant","clickEventEmitter","eve","getIdValue","islamicPreviousHeader","islamicDate","getIslamicDate","toGregorian","switchView","requiredModules","modules","args","member","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","prop","validateValues","checkView","setLocale","skipIndex","tempValueString","minFormatOption","minStringValue","minString","maxFormatOption","maxStringValue","maxString","setValueUpdate","dayFormatOptions","monthFormatOptions","setActiveDescendant","focusedEle","selectedEle","previousIconHandler","compareMonth","nextIconHandler","compareYear","compareDecade","destroy","removeAttribute","stringVal","previous","islamicPrevious","next","islamicNext","ld","gregorianFormat","islamicFormat","mainVal","ceil","time","tzOffset","getTime","tzOffsetDiff","setTime","getMaxDays","dateString","node","setDateDecade","setDateYear","checkPresentDate","tempElement","selectedElement","dates","previousValue","checkPrevious","name","trigger","navigatedEvent","navigatedArgs","event","compare","startDate","endDate","modifier","result","array","concat","column","findNextTD","rangeValue","filter","tmpDate","inValue","toUTCString","toLocaleString","timeZone","Calendar","isMultiSelection","tempValues","limit","copyDate","previousValues","setEnable","setClass","cssClass","form","formResetHandler","setTimeZone","serverTimezoneOffset","renderComplete","enable","newCssClass","oldCssClass","replace","trim","isDayLightSaving","secondOffset","firstOffset","offsetValue","serverTimezoneDiff","clientTimeZoneDiff","timeZoneDiff","changedArgs","generateTodayVal","setMinutes","setMilliseconds","todayButtonEvent","changeHandler","triggerChange","previousDate","previousDateTime","isMultiSelect","tempDays","islamicRenderYears","islamicRenderDecade","storeView","update","tempDate","addDate","tempDates","removeDate","setTodayDate","changeEvent","isInteracted","Number","NaN","OTHERMONTH$1","YEAR$1","MONTH$1","DECADE$1","DISABLED$1","OVERLAY$1","WEEKEND$1","WEEKNUMBER$1","SELECTED$1","FOCUSEDDATE$1","OTHERMONTHROW$1","TODAY$1","LINK$1","CELL$1","dayMilliSeconds$1","minDecade","maxDecade","Islamic","instance","calendarInstance","islamicTitleUpdate","islamicInValue","gregorianObject","islamicDayCell","hijriMonthObject","prevMonthCompare","islamicCompareMonth","nextMonthCompare","prevYearCompare","hijriCompareYear","nextYearCompare","startIslamicYear","gregorianValue","prevDecadeCompare","hijriCompareDecade","nextDecadeCompare","nextIconClicked","previousIconClicked","islamicDate_1","gregorianObject_1","String","fromCharCode","charCodeAt","splityear","i_1","startHeaderYear","endHeaderYear","round","rowCount","year_1","gregorianObject_2","hijriStart","hijriEnd","islamicCompare","getHijriDate","__extends$1","__decorate$1","DATEWRAPPER","ROOT$1","LIBRARY","CONTROL","POPUPWRAPPER","INPUTWRAPPER","POPUP","INPUTCONTAINER","INPUTFOCUS","INPUTROOT","ERROR","ACTIVE","OVERFLOW","DATEICON","ICONS","OPENDURATION","OFFSETVALUE","SELECTED$2","FOCUSEDDATE$2","NONEDIT","containerAttr","DatePicker","isDateIconClicked","isAltKeyPressed","invalidValueString","checkPreviousValue","maskedDateValue","isIconClicked","isDynamicValueChanged","isFocused","datepickerOptions","initialize","bindEvents","calculateWidth","inputElement","inputWrapper","container","buttons","getElementsByClassName","floatLabelType","updateInput","setAllowEdit","allowEdit","readonly","updateIconState","checkInvalidValue","enableMask","notify","module","createInput","updateHtmlAttributeToWrapper","placeholder","updateInputValue","previousElementValue","inputValueCopy","ariaAttrs","l10n","updatedCssClassValues","isBindClearAction","bindClearAction","properties","showClearButton","setWidth","width","addAttributes","isDynamic","isCalendar","disabledDates","strictMode","minMaxUpdates","dateValue","tempFormat","formatString","dateTimeFormat","errorClass","checkStringValue","val","returnDate","formatDateTime","culture","getDatePattern","valueDate","valueString","invalid","extISOString","basicISOString","test","bindInputEvent","inputHandler","dateIconHandler","mouseUpHandler","inputFocusHandler","inputBlurHandler","keydownHandler","inputChangeHandler","clearButton","resetHandler","formElement","resetFormHandler","keyboardModules","inputKeyActionHandle","code","popupObj","unBindEvents","tagName","restoreValue","stopPropagation","bindClearEvent","clear","clearedArgs","popupUpdate","keyupEvent","document","createEvent","initEvent","dispatchEvent","preventEventBubbling","interopAdaptor","invokeMethodAsync","blur","hide","show","htmlAttributes","updatedClassValues","setStyle","charAt","updateHtmlAttributeToElement","updateCssClass","setCssClass","calendarKeyActionHandle","selectionStart","selectionEnd","focusArguments","model","openOnFocus","strictModeUpdate","changeTrigger","activeElement","blurArguments","calendarKeyboardModules","firstElementChild","documentHandler","focusOut","parentElement","clickedView","length_1","defaultAction","targetdate","len","dateOptions","toLocaleUpperCase","createCalendar","modelHeader","body","display","content","relateTo","position","X","Y","offsetY","targetType","collision","open","close","preventArgs","setAriaAttributes","targetExitViewport","setAriaDisabled","yearHeading","h2","daySpan","monthSpan","insertBefore","selectCalendar","match","prevent_1","outOfRange","mobilePopupWrapper","popup","cancel","appendTo","eventArgs","refreshPosition","openAnimation","prevent_2","closeEventCallback","prevent","outerHTML","focusIn","triggerEvent","removeAttributes","inputElementCopy","ensureInputAttribute","ngTag","insertAdjacentElement","validationAttribute","checkHtmlAttributes","altDownArrow","escape","enter","shiftTab","tab","nameAttribute","attribute","attr","checkFormat","skeletonString","dynamic","attributes$$1","attributes_1","valueCopy","previousValCopy","renderDayCell","dateIdString","inputVal","isDisabledDate","setPlaceholder","setReadonly","setEnabled","setEnableRtl","setClearButton","removeFloating","addFloating","hour","minute","second","dayOfTheWeek","__extends$2","__decorate$2","DATERANGEWRAPPER","INPUTCONTAINER$1","DATERANGEICON","POPUP$1","LEFTCALENDER","RIGHTCALENDER","LEFTCONTAINER","RIGHTCONTAINER","ROOT$2","LIBRARY$1","CONTROL$1","ERROR$1","ACTIVE$1","STARTENDCONTAINER","STARTDATE","ENDDATE","STARTBUTTON","INPUTFOCUS$1","ENDBUTTON","RANGEHOVER","OTHERMONTH$2","STARTLABEL","ENDLABEL","DISABLED$2","SELECTED$3","CALENDAR","NEXTICON$1","PREVICON$1","HEADER$1","TITLE$1","ICONCONTAINER$1","RANGECONTAINER","RANGEHEADER","PRESETS","FOOTER$1","RANGEBORDER","TODAY$2","FOCUSDATE","CONTENT$1","DAYSPAN","WEEKNUMBER$2","DATEDISABLED","ICONDISABLED","CALENDARCONTAINER","SEPARATOR","APPLY","CANCEL","DEVICE$1","OVERLAY$2","CHANGEICON","LISTCLASS","RTL$1","HOVER","OVERFLOW$1","OFFSETVALUE$1","PRIMARY$1","FLAT$1","CSS$1","ZOOMIN$1","NONEDITABLE","DAYHEADERLONG$1","HIDDENELEMENT","wrapperAttr","Presets","apply","DateRangePicker","isCustomRange","isCustomWindow","presetsItem","liCollections","previousEleValue","isKeyPopup","dateDisabled","isRangeIconClicked","isMaxDaysClicked","disabledDays","preventBlur","preventFocus","dateRangeOptions","startValue","endValue","setModelValue","setDataAttribute","keyInputConfigs","defaultConstant","startLabel","endLabel","customRange","applyText","cancelText","selectedDays","isMobile","window","matchMedia","matches","angularTag","cloneElement","checkInvalidRange","rangeArray","separator","initProperty","navNextFunction","navNextMonth","navPrevFunction","navPrevMonth","deviceNavNextFunction","deviceNavNext","deviceNavPrevFunction","deviceNavPrevious","initStartDate","initEndDate","updateValue","processPresets","setRangeAllowEdit","pro","firstHiddenChild","secondHiddenChild","updateClearIconState","input","updatedClassValue","dateRangeStyle","cssNewClass","cssOldClass","presets","label","range","activeIndex","rangeIconHandler","inputKeyboardModule","updateHiddenInput","valueType","clearRange","previousStartValue","previousEndValue","startCopy","endCopy","applyButton","removeSelection","targetElement","isPopupOpen","applyFunction","leftCalendar","calendarFocus","minDays","maxDays","createPopup","adjustLongHeaderWidth","isPreset","createPresets","listRippleEffect","renderPopup","renderControl","createControl","bindCalendarEvents","updateRange","rightCalendar","disabledDateRender","updateHeader","clearCalendarEvents","leftCalPrevIcon","leftCalNextIcon","rightCalPrevIcon","rightCalNextIcon","clearEvents","updateNavIcons","calendarIconEvent","calendarIconRipple","leftKeyboardModule","keyInputHandler","rightKeyboardModule","deviceCalendarEvent","startButton","deviceHeaderClick","endButton","bindCalendarCellEvents","removeFocusedDate","updateDeviceCalendar","deviceNavigation","deviceCalendar","getElementsByTagName","removeClassDisabled","updateMinMaxDays","selectableDates","getStartEndDate","prevStartVal","prevEndVal","refreshControl","isEnd","inputStr","isDateDisabled","keyCalendarUpdate","isLeftCalendar","ele","isRemoveFocus","leftCalCurrentDate","rightCalCurrentDate","updateCalendarElement","navInCalendar","leftLimit","rightLimit","keyNavigation","tabKeyValidation","firstCellToFocus","focusAbleEle","focusEleID","currentFirstDay","focusDate","rightDateLimit","leftDateLimit","presetElement","selectRange","yearDate","cancelButton","calendarNavigation","checkMinMaxDays","presetHeight","calendarPos","rightHeader","leftHeader","isRightMonth","isLeftMonth","isRightYear","isLeftYear","isRightDecade","isLeftDecade","tdCells","tdCells_1","cell","disabledCell","hoverSelection","isDate","focusedDate_1","eleDate","isSameMonth","isSameYear","currentElement","tdCells_2","isDisabledCell","startDateValue","eleDateValue","isSameStartEnd","startVal","endVal","isSame","elementCollection","elementCollection_1","tdCells_3","eleDateValue_1","addSelectedAttributes","endDateValue","rangeArgs","inputValue","removeTimeValueFromDate","otherMonthSelect","isStartDate","sameDate","tdCell","y","m","firstMonth","lastMonth","endEle","endEle_1","ele_1","endEle_2","ele_2","removeSelectedAttributes","tdCells_4","tdCells_5","startMonth","startValueSelected","maxEle","tdCells_6","calendar_1","tdCells_7","disabledDayCnt","start_1","end_1","updateControl","customDate","createRangeHeader","labelContainer","changeIcon","endBtn","startBtn","disableInput","validateMinMax","validateRangeStrict","validateMinMaxDays","validateRange","renderCalendar","isSameDecade","endYear","startMonthCurrentDate","selectNextMonth","selectNextYear","selectNextDecade","decyr","selectStartMonth","calendarContainer","leftTitle","leftContainer","rightContainer","leftNavTitle","rightTitle","rightNavTitle","prevIcon","getCalendarView","controlContainer","headerContainer","footerSection","cancelBtn","applyBtn","cancelFunction","height","getBoundingClientRect","deviceHeaderUpdate","isValueChanged","closeEventArgs","popupKeyboardModule","popupKeyActionHandle","onMouseClick","item","li","isClick","setListSelection","onMouseOver","onMouseLeave","values_1","renderCustomPopup","removeListSelection","applyPresetRange","modelValue","showPopup","openEventArgs","listTag","createList","customElement","wireListEvents","unWireListEvents","popupWidth","offsetX","btnKeyboardModule","presetKeyboardModule","presetKeyActionHandler","popupKeyBoardHandler","popupCloseHandler","keyCode","rangeContainer","listMoveDown","setScrollPosition","listMoveUp","hvrItem","getHoverLI","actItem","getActiveLI","nextElementSibling","previousElementSibling","listHeight","hover","active","nextEle","offsetTop","liHeight","scrollTop","updatedCssClassValue","setEleWidth","formatOption","startinvalue","endinvalue","startString","endString","startObject","endObject","invalidobject","getstringvalue","toLocaleDateString","stringValue","formatOpt","extISOStr","basISOString","virtualRenderCellArgs","virtualRenderCellEvent","isStartDisabled","isEndDisabled","createHiddenInput","evt","navigate","isBlur","getSelectedRange","mobileRangePopupWrap","refreshChange","enableInput","clearModelvalue","setMinMaxDays","getStartEndValue","openPopup","__extends$3","__decorate$3","WRAPPERCLASS","POPUP$2","ERROR$2","POPUPDIMENSION","DAY","MONTH$2","YEAR$2","ROOT$3","LIBRARY$2","CONTROL$2","CONTENT$2","SELECTED$4","HOVER$1","NAVIGATION","DISABLED$3","ICONANIMATION","FOCUS","LISTCLASS$1","HALFPOSITION","ANIMATIONDURATION","OVERFLOW$2","OFFSETVAL","EDITABLE","wrapperAttributes","TimePickerBase","createListItems","createdEl","timeFormat","step","interval","listItems","timeCollections","list","TimeMaskPlaceholder","TimePicker","disableItemCollection","timeOptions","keyConfigure","down","up","left","right","openPopupEventArgs","createInputElement","setTimeAllowEdit","validateInterval","validateDisable","getFormattedValue","checkErrorState","anchor","inputEleValue","getDateObject","clearIconState","setMinMax","initMin","initMax","popupCreation","valueIsDisable","resetState","initValue","defaultCulture","checkTimeFormat","checkInValue","scrollTo","checkAttributes","localeText","isNavigate","isPreventBlur","isTextSelected","valueWithMinutes","prevDate","updatedCssClassesValue","isNullOrEmpty","inputStyle","getCldrDateTimeFormat","cldrTime","dateFormat","cldrFormat","isInvalid","valueExpression","valueExp","setCurrentDate","cldrDateTimeString","getCultureTimeObject","ariaAttribute","enableElement","rippleFn","propertyList","generateList","listWrapper","addSelection","getPopupHeight","popupHeight","rippleModel","containerStyle","setPopupWidth","visibility","maxHeight","createDateObj","updatedClassesValue","timeStyle","cssClassNew","cssClassOld","removeErrorClass","validateState","disableTimeIcon","disableElement","selectInputText","setSelectionRange","setCursorToEnd","getMeridianText","meridian","getCursorSelection","getActiveElement","inputWidth","parseFloat","findScrollTop","setScrollTo","items","initialTime","scrollTime","getText","cldrTimeFormat","cldrDateFormat","cldrDate","getCultureDateObject","dateToNumeric","getExactDateTime","compareFormatChange","updatePlaceHolder","popupHandler","closePopup","mouseDownHandler","curPos","cursorDetails","focusSelection","regex","RegExp","isSeparator","keyHandler","objToString","createMask","previousState","setSelection","delay","animModel","documentClickHandler","mobileTimePopupWrap","disposeServerPopup","top","checkValueChange","isNavigation","prevValue","valueProcess","currentLi","setHover","isValidLI","removeHover","navigated","scrollHandler","minVal","maxVal","dateVal","strictOperation","maxValue","minValue","inputEventHandler","clearHandler","inputEvent","timeValue","raiseClearedEvent","setZIndex","dataBind","getTextFormat","strArray","validateValue","newval","value_1","findNextElement","textVal","timeVal","collections","validLiElement","elementValue","selectNextItem","backward","elementIndex","isCheck","nextItem","isUpdate","hoveredItem","getHoverItem","setActiveClass","formatStr","timeParse","listBaseOptions","itemCreated","isIE","info","getProperty","popupAlignment","timePopupElement","formatValues","__extends$4","__decorate$4","DATEWRAPPER$1","DATEPICKERROOT","DATETIMEWRAPPER","DAY$1","MONTH$3","YEAR$3","HOUR","MINUTE","SECOND","MILLISECOND","ROOT$4","DATETIMEPOPUPWRAPPER","INPUTWRAPPER$1","POPUP$3","TIMEICON$1","INPUTFOCUS$2","POPUPDIMENSION$1","ICONANIMATION$1","DISABLED$4","ERROR$3","CONTENT$3","NAVIGATION$1","ACTIVE$2","HOVER$2","ICONS$1","HALFPOSITION$1","LISTCLASS$2","ANIMATIONDURATION$1","OVERFLOW$3","DateTimePicker","scrollInvoked","dateTimeOptions","focusHandler","blurHandler","isTimePopupOpen","popupObject","dateTimeWrapper","keyboardHandler","unBindInputEvents","timeIcon","timekeyConfigure","cldrDateTimeFormat","bindInputEvents","validateMinMaxRange","isDateObject","disablePopupButton","checkValidState","isValidState","isDisable","renderTimeIcon","appendSpan","timeHandler","dateHandler","inputKeyAction","getCldrFormat","cldrDateTime","isDatePopupOpen","toggle","listCreation","dateObject","startTime","endTime","listDetails","wireTimeListEvents","addTimeSelection","setTimeScrollPosition","timeModal","offset","timeKeyActionHandle","unWireTimeListEvents","setDimension","setTimeHover","removeTimeHover","setInputValue","nextElement","lineHeight","getFullDateTime","tempVal","combineDateTime","minutes","seconds","setTimeActiveClass","setTimeActiveDescendant","removeTimeSelection","getTimeHoverItem","calculateStartEnd","method","hours","milliseconds","tempStartValue","tempMin","tempEndValue","tempMax","getUTCFullYear","dateTimeCloseEventCallback","maskedDateModule","getTimeActiveElement","status_1","millisecond","findNextTimeElement","dateTimeVal","listCount","timeElementValue","setTimeValue","timeKeyHandler","nextItemValue","ARROWLEFT","ARROWRIGHT","ARROWUP","ARROWDOWN","TAB","SHIFTTAB","END","HOME","MaskedDateTime","parent","mask","hiddenMask","validCharacters","isDayPart","isMonthPart","isYearPart","isHourPart","isMinutePart","isSecondsPart","isMilliSecondsPart","monthCharacter","periodCharacter","isHiddenMask","isComplete","formatRegex","isDeletion","isShortYear","isDeleteKey","isDateZero","isMonthZero","isYearZero","dayTypeCount","monthTypeCount","hourTypeCount","minuteTypeCount","secondTypeCount","dateformat","getCulturedFormat","maskDateValue","removeEventListener","addEventListener","isDestroyed","on","validCharacterCheck","maskInputHandler","maskKeydownHandler","off","maskPlaceholder","getCUltureMaskFormat","formatCheck","previousHiddenMask","setDynamicValue","objectString","j","validChar","altKey","ctrlKey","navigateSelection","formatText","dateAlteration","isPersist","differenceCheck","previousVal","substring","newVal","newDateValue","handleDeletion","previousMaxDate","currentMaxDate","monthString","getCulturedValue","monthValue","monthValue_1","months","floor","periodString","periodkeys","proxy","formatValueSpecifier","formattext","daysAbbreviated","dayKeyAbbreviated","daysWide","dayKeyWide","daysNarrow","dayKeyNarrow","monthAbbreviated","monthWide","zeroCheck","roundOff","hiddenChar","isbackward","formatIndex","valueText","isZero","resultValue","isSegment","isDecrement","incrementValue","newMonth"],"sources":["D:/Primary files/Hims UI/node_modules/@syncfusion/ej2-calendars/dist/es6/ej2-calendars.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Component, Event, EventHandler, HijriParser, Internationalization, KeyboardEvents, L10n, NotifyPropertyChanges, Property, addClass, append, attributes, cldrData, closest, createElement, detach, extend, formatUnit, getDefaultDateObject, getUniqueID, getValue, isNullOrUndefined, isUndefined, merge, prepend, remove, removeClass, rippleEffect, select, setStyleAttribute, setValue, throwError } from '@syncfusion/ej2-base';\nimport { Popup } from '@syncfusion/ej2-popups';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { Button } from '@syncfusion/ej2-buttons';\nimport { ListBase } from '@syncfusion/ej2-lists';\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-unused-expressions */\n//class constant defination.\nvar OTHERMONTH = 'e-other-month';\nvar OTHERDECADE = 'e-other-year';\nvar ROOT = 'e-calendar';\nvar DEVICE = 'e-device';\nvar HEADER = 'e-header';\nvar RTL = 'e-rtl';\nvar CONTENT = 'e-content';\nvar YEAR = 'e-year';\nvar MONTH = 'e-month';\nvar DECADE = 'e-decade';\nvar ICON = 'e-icons';\nvar PREVICON = 'e-prev';\nvar NEXTICON = 'e-next';\nvar PREVSPAN = 'e-date-icon-prev';\nvar NEXTSPAN = 'e-date-icon-next ';\nvar ICONCONTAINER = 'e-icon-container';\nvar DISABLED = 'e-disabled';\nvar OVERLAY = 'e-overlay';\nvar WEEKEND = 'e-weekend';\nvar WEEKNUMBER = 'e-week-number';\nvar SELECTED = 'e-selected';\nvar FOCUSEDDATE = 'e-focused-date';\nvar OTHERMONTHROW = 'e-month-hide';\nvar TODAY = 'e-today';\nvar TITLE = 'e-title';\nvar LINK = 'e-day';\nvar CELL = 'e-cell';\nvar WEEKHEADER = 'e-week-header';\nvar ZOOMIN = 'e-zoomin';\nvar FOOTER = 'e-footer-container';\nvar BTN = 'e-btn';\nvar FLAT = 'e-flat';\nvar CSS = 'e-css';\nvar PRIMARY = 'e-primary';\nvar DAYHEADERLONG = 'e-calendar-day-header-lg';\nvar dayMilliSeconds = 86400000;\nvar minutesMilliSeconds = 60000;\n/**\n *\n * @private\n */\nvar CalendarBase = /** @__PURE__ @class */ (function (_super) {\n    __extends(CalendarBase, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarBaseModel} options - Specifies the CalendarBase model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function CalendarBase(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.effect = '';\n        _this.isPopupClicked = false;\n        _this.isDateSelected = true;\n        _this.isTodayClicked = false;\n        _this.preventChange = false;\n        _this.isAngular = false;\n        _this.previousDates = false;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.render = function () {\n        this.rangeValidation(this.min, this.max);\n        this.calendarEleCopy = this.element.cloneNode(true);\n        if (this.calendarMode === 'Islamic') {\n            if (+(this.min.setSeconds(0)) === +new Date(1900, 0, 1, 0, 0, 0)) {\n                this.min = new Date(1944, 2, 18);\n            }\n            if (+this.max === +new Date(2099, 11, 31)) {\n                this.max = new Date(2069, 10, 16);\n            }\n        }\n        this.globalize = new Internationalization(this.locale);\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.todayDisabled = false;\n        this.todayDate = new Date(new Date().setHours(0, 0, 0, 0));\n        if (this.getModuleName() === 'calendar') {\n            this.element.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.element.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.element.classList.add(DEVICE);\n            }\n            attributes(this.element, {\n                'data-role': 'calendar'\n            });\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.calendarElement = this.createElement('div');\n            this.calendarElement.classList.add(ROOT);\n            if (this.enableRtl) {\n                this.calendarElement.classList.add(RTL);\n            }\n            if (Browser.isDevice) {\n                this.calendarElement.classList.add(DEVICE);\n            }\n            attributes(this.calendarElement, {\n                'data-role': 'calendar'\n            });\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.createHeader();\n        this.createContent();\n        this.wireEvents();\n    };\n    CalendarBase.prototype.rangeValidation = function (min, max) {\n        if (isNullOrUndefined(min)) {\n            this.setProperties({ min: new Date(1900, 0, 1) }, true);\n        }\n        if (isNullOrUndefined(max)) {\n            this.setProperties({ max: new Date(2099, 11, 31) }, true);\n        }\n    };\n    CalendarBase.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            altUpArrow: 'alt+uparrow',\n            spacebar: 'space',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow'\n        };\n        return this.defaultKeyConfigs;\n    };\n    CalendarBase.prototype.validateDate = function (value) {\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.currentDate = this.currentDate ? this.currentDate : new Date(new Date().setHours(0, 0, 0, 0));\n        if (!isNullOrUndefined(value) && this.min <= this.max && value >= this.min && value <= this.max) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n    };\n    CalendarBase.prototype.setOverlayIndex = function (popupWrapper, popupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(popupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(popupElement.style.zIndex, 10) ? parseInt(popupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    CalendarBase.prototype.minMaxUpdate = function (value) {\n        if (!(+this.min <= +this.max)) {\n            this.setProperties({ min: this.min }, true);\n            addClass([this.element], OVERLAY);\n        }\n        else {\n            removeClass([this.element], OVERLAY);\n        }\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (+this.min <= +this.max && value && +value <= +this.max && +value >= +this.min) {\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        else {\n            if (+this.min <= +this.max && !value && +this.currentDate > +this.max) {\n                this.currentDate = new Date(this.checkValue(this.max));\n            }\n            else {\n                if (+this.currentDate < +this.min) {\n                    this.currentDate = new Date(this.checkValue(this.min));\n                }\n            }\n        }\n    };\n    CalendarBase.prototype.createHeader = function () {\n        var ariaPrevAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'previous month'\n        };\n        var ariaNextAttrs = {\n            'aria-disabled': 'false',\n            'aria-label': 'next month'\n        };\n        var ariaTitleAttrs = {\n            'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'title'\n        };\n        this.headerElement = this.createElement('div', { className: HEADER });\n        var iconContainer = this.createElement('div', { className: ICONCONTAINER });\n        this.previousIcon = this.createElement('button', { className: '' + PREVICON, attrs: { type: 'button' } });\n        rippleEffect(this.previousIcon, {\n            duration: 400,\n            selector: '.e-prev',\n            isCenterRipple: true\n        });\n        attributes(this.previousIcon, ariaPrevAttrs);\n        this.nextIcon = this.createElement('button', { className: '' + NEXTICON, attrs: { type: 'button' } });\n        rippleEffect(this.nextIcon, {\n            selector: '.e-next',\n            duration: 400,\n            isCenterRipple: true\n        });\n        if (this.getModuleName() === 'daterangepicker') {\n            attributes(this.previousIcon, { tabIndex: '-1' });\n            attributes(this.nextIcon, { tabIndex: '-1' });\n        }\n        attributes(this.nextIcon, ariaNextAttrs);\n        this.headerTitleElement = this.createElement('div', { className: '' + LINK + ' ' + TITLE });\n        attributes(this.headerTitleElement, ariaTitleAttrs);\n        this.headerElement.appendChild(this.headerTitleElement);\n        this.previousIcon.appendChild(this.createElement('span', { className: '' + PREVSPAN + ' ' + ICON }));\n        this.nextIcon.appendChild(this.createElement('span', { className: '' + NEXTSPAN + ' ' + ICON }));\n        iconContainer.appendChild(this.previousIcon);\n        iconContainer.appendChild(this.nextIcon);\n        this.headerElement.appendChild(iconContainer);\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.headerElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.headerElement);\n        }\n        this.adjustLongHeaderSize();\n    };\n    CalendarBase.prototype.createContent = function () {\n        this.contentElement = this.createElement('div', { className: CONTENT });\n        this.table = this.createElement('table', { attrs: { tabIndex: '0', 'role': 'grid', 'aria-activedescendant': '', 'aria-labelledby': this.element.id } });\n        if (this.getModuleName() === 'calendar') {\n            this.element.appendChild(this.contentElement);\n        }\n        else {\n            this.calendarElement.appendChild(this.contentElement);\n        }\n        this.contentElement.appendChild(this.table);\n        this.createContentHeader();\n        this.createContentBody();\n        if (this.showTodayButton) {\n            this.createContentFooter();\n        }\n    };\n    CalendarBase.prototype.getCultureValues = function () {\n        var culShortNames = [];\n        var cldrObj;\n        var dayFormat = 'days.stand-alone.' + this.dayHeaderFormat.toLowerCase();\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrObj = (getValue(dayFormat, getDefaultDateObject()));\n        }\n        else {\n            cldrObj = (this.getCultureObjects(cldrData, '' + this.locale));\n        }\n        if (!isNullOrUndefined(cldrObj)) {\n            for (var _i = 0, _a = Object.keys(cldrObj); _i < _a.length; _i++) {\n                var obj = _a[_i];\n                culShortNames.push(getValue(obj, cldrObj));\n            }\n        }\n        return culShortNames;\n    };\n    CalendarBase.prototype.toCapitalize = function (text) {\n        return !isNullOrUndefined(text) && text.length ? text[0].toUpperCase() + text.slice(1) : text;\n    };\n    CalendarBase.prototype.createContentHeader = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.element.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content .e-week-header')[0]);\n            }\n        }\n        var daysCount = 6;\n        var html = '';\n        if (this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: 0 }, true);\n        }\n        this.tableHeadElement = this.createElement('thead', { className: WEEKHEADER });\n        if (this.weekNumber) {\n            html += '<th class=\"e-week-number\"></th>';\n            if (this.getModuleName() === 'calendar') {\n                addClass([this.element], '' + WEEKNUMBER);\n            }\n            else {\n                addClass([this.calendarElement], '' + WEEKNUMBER);\n            }\n        }\n        // eslint-disable-next-line max-len\n        var shortNames = this.getCultureValues().length > 0 && this.getCultureValues() ? this.shiftArray(((this.getCultureValues().length > 0 && this.getCultureValues())), this.firstDayOfWeek) : null;\n        if (!isNullOrUndefined(shortNames)) {\n            for (var days = 0; days <= daysCount; days++) {\n                html += '<th  class=\"\">' + this.toCapitalize(shortNames[days]) + '</th>';\n            }\n        }\n        html = '<tr>' + html + '</tr>';\n        this.tableHeadElement.innerHTML = html;\n        this.table.appendChild(this.tableHeadElement);\n    };\n    CalendarBase.prototype.createContentBody = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.element.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content tbody')[0])) {\n                detach(this.calendarElement.querySelectorAll('.e-content tbody')[0]);\n            }\n        }\n        switch (this.start) {\n            case 'Year':\n                this.renderYears();\n                break;\n            case 'Decade':\n                this.renderDecades();\n                break;\n            default:\n                this.renderMonths();\n        }\n    };\n    CalendarBase.prototype.updateFooter = function () {\n        this.todayElement.textContent = this.l10.getConstant('today');\n        this.todayElement.setAttribute('aria-label', this.l10.getConstant('today'));\n    };\n    CalendarBase.prototype.createContentFooter = function () {\n        if (this.showTodayButton) {\n            var minimum = new Date(+this.min);\n            var maximum = new Date(+this.max);\n            var l10nLocale = { today: 'Today' };\n            this.globalize = new Internationalization(this.locale);\n            this.l10 = new L10n(this.getModuleName(), l10nLocale, this.locale);\n            this.todayElement = this.createElement('button', { attrs: { role: 'button' } });\n            rippleEffect(this.todayElement);\n            this.updateFooter();\n            addClass([this.todayElement], [BTN, TODAY, FLAT, PRIMARY, CSS]);\n            if ((!(+new Date(minimum.setHours(0, 0, 0, 0)) <= +this.todayDate &&\n                +this.todayDate <= +new Date(maximum.setHours(0, 0, 0, 0)))) || (this.todayDisabled)) {\n                addClass([this.todayElement], DISABLED);\n            }\n            this.footer = this.createElement('div', { className: FOOTER });\n            this.footer.appendChild(this.todayElement);\n            if (this.getModuleName() === 'calendar') {\n                this.element.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (this.getModuleName() === 'datetimepicker') {\n                this.calendarElement.appendChild(this.footer);\n            }\n            if (!this.todayElement.classList.contains(DISABLED)) {\n                EventHandler.add(this.todayElement, 'click', this.todayButtonClick, this);\n            }\n        }\n    };\n    CalendarBase.prototype.wireEvents = function (id, ref, keyConfig, moduleName) {\n        EventHandler.add(this.headerTitleElement, 'click', this.navigateTitle, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        if (this.getModuleName() === 'calendar') {\n            this.keyboardModule = new KeyboardEvents(this.element, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.keyboardModule = new KeyboardEvents(this.calendarElement, {\n                eventName: 'keydown',\n                keyAction: this.keyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n    };\n    CalendarBase.prototype.dateWireEvents = function (id, ref, keyConfig, moduleName) {\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, keyConfig);\n        this.serverModuleName = moduleName;\n    };\n    CalendarBase.prototype.todayButtonClick = function (e, value, isCustomDate) {\n        if (this.showTodayButton) {\n            if (this.currentView() === this.depth) {\n                this.effect = '';\n            }\n            else {\n                this.effect = 'e-zoomin';\n            }\n            if (this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                this.navigateTo(this.depth, new Date(this.checkValue(value)), isCustomDate);\n            }\n            else {\n                this.navigateTo('Month', new Date(this.checkValue(value)), isCustomDate);\n            }\n        }\n    };\n    CalendarBase.prototype.resetCalendar = function () {\n        this.calendarElement && detach(this.calendarElement);\n        this.tableBodyElement && detach(this.tableBodyElement);\n        this.table && detach(this.table);\n        this.tableHeadElement && detach(this.tableHeadElement);\n        this.nextIcon && detach(this.nextIcon);\n        this.previousIcon && detach(this.previousIcon);\n        this.footer && detach(this.footer);\n        this.todayElement = null;\n        this.renderDayCellArgs = null;\n        this.calendarElement = this.tableBodyElement = this.footer = this.tableHeadElement =\n            this.nextIcon = this.previousIcon = this.table = null;\n    };\n    CalendarBase.prototype.keyActionHandle = function (e, value, multiSelection) {\n        var focusedDate = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedDate;\n        if (multiSelection) {\n            if (!isNullOrUndefined(focusedDate) && +value === parseInt(focusedDate.getAttribute('id').split('_')[0], 10)) {\n                selectedDate = focusedDate;\n            }\n            else {\n                selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n            }\n        }\n        else {\n            selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        }\n        var view = this.getViewNumber(this.currentView());\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        this.effect = '';\n        switch (e.action) {\n            case 'moveLeft':\n                this.keyboardNavigate(-1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveRight':\n                this.keyboardNavigate(1, view, e, this.max, this.min);\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    this.keyboardNavigate(-7, view, e, this.max, this.min); // move the current date to the previous seven days.\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                e.preventDefault();\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    this.keyboardNavigate(7, view, e, this.max, this.min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                e.preventDefault();\n                break;\n            case 'select':\n                if (e.target === this.todayElement) {\n                    this.todayButtonClick(e, value);\n                }\n                else {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : selectedDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED)) {\n                        if (levelRestrict) {\n                            // eslint-disable-next-line radix\n                            var d = new Date(parseInt('' + (element).id, 0));\n                            this.selectDate(e, d, (element));\n                        }\n                        else {\n                            this.contentClick(null, --view, (element), value);\n                        }\n                    }\n                }\n                break;\n            case 'controlUp':\n                this.title();\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if (!isNullOrUndefined(focusedDate) && !levelRestrict || !isNullOrUndefined(selectedDate) && !levelRestrict) {\n                    this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                detach(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                e.preventDefault();\n                break;\n            case 'pageUp':\n                this.addMonths(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'pageDown':\n                this.addMonths(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageUp':\n                this.addYears(this.currentDate, -1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'shiftPageDown':\n                this.addYears(this.currentDate, 1);\n                this.navigateTo('Month', this.currentDate);\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                this.navigateTo('Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                e.preventDefault();\n                break;\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.keyboardNavigate = function (number, currentView, e, max, min) {\n        var date = new Date(this.checkValue(this.currentDate));\n        switch (currentView) {\n            case 2:\n                this.addYears(this.currentDate, number);\n                if (this.isMonthYearRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderDecades(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n            case 1:\n                this.addMonths(this.currentDate, number);\n                if (this.calendarMode === 'Gregorian') {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                else {\n                    if (this.isMonthYearRange(this.currentDate)) {\n                        detach(this.tableBodyElement);\n                        this.renderYears(e);\n                    }\n                    else {\n                        this.currentDate = date;\n                    }\n                }\n                break;\n            case 0:\n                this.addDay(this.currentDate, number, e, max, min);\n                if (this.isMinMaxRange(this.currentDate)) {\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                else {\n                    this.currentDate = date;\n                }\n                break;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @param {Date} value - Specifies value of date.\n     * @returns {void}\n     * @private\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.preRender = function (value) {\n        var _this = this;\n        this.navigatePreviousHandler = this.navigatePrevious.bind(this);\n        this.navigateNextHandler = this.navigateNext.bind(this);\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.navigateHandler = function (e) {\n            _this.triggerNavigate(e);\n        };\n    };\n    CalendarBase.prototype.minMaxDate = function (localDate) {\n        var currentDate = new Date(new Date(+localDate).setHours(0, 0, 0, 0));\n        var minDate = new Date(new Date(+this.min).setHours(0, 0, 0, 0));\n        var maxDate = new Date(new Date(+this.max).setHours(0, 0, 0, 0));\n        if (+currentDate === +minDate || +currentDate === +maxDate) {\n            if (+localDate < +this.min) {\n                localDate = new Date(+this.min);\n            }\n            if (+localDate > +this.max) {\n                localDate = new Date(+this.max);\n            }\n        }\n        return localDate;\n    };\n    CalendarBase.prototype.renderMonths = function (e, value, isCustomDate) {\n        var numCells = this.weekNumber ? 8 : 7;\n        var tdEles;\n        if (this.calendarMode === 'Gregorian') {\n            tdEles = this.renderDays(this.currentDate, value, null, null, isCustomDate, e);\n        }\n        else {\n            tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n        }\n        this.createContentHeader();\n        if (this.calendarMode === 'Gregorian') {\n            this.renderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(tdEles, numCells, MONTH, e, value);\n        }\n    };\n    CalendarBase.prototype.renderDays = function (currentDate, value, multiSelection, values, isTodayDate, e) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var todayDate = isTodayDate ? new Date(+currentDate) : this.getDate(new Date(), this.timezone);\n        var localDate = new Date(this.checkValue(currentDate));\n        var minMaxDate;\n        var currentMonth = localDate.getMonth();\n        this.titleUpdate(currentDate, 'days');\n        var d = localDate;\n        localDate = new Date(d.getFullYear(), d.getMonth(), 0, d.getHours(), d.getMinutes(), d.getSeconds(), d.getMilliseconds());\n        while (localDate.getDay() !== this.firstDayOfWeek) {\n            this.setStartDate(localDate, -1 * dayMilliSeconds);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.createElement('td', { className: CELL });\n            var weekAnchor = this.createElement('span');\n            if (day % 7 === 0 && this.weekNumber) {\n                // 6 days are added to get Last day of the week and 3 days are added to get middle day of the week.\n                var numberOfDays = this.weekRule === 'FirstDay' ? 6 : (this.weekRule === 'FirstFourDayWeek' ? 3 : 0);\n                var finalDate = new Date(localDate.getFullYear(), localDate.getMonth(), (localDate.getDate() + numberOfDays));\n                weekAnchor.textContent = '' + this.getWeek(finalDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full' };\n            var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.dayCell(localDate);\n            var title = this.globalize.formatDate(localDate, { type: 'date', skeleton: 'full' });\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, { format: 'd', type: 'date', skeleton: 'yMd' });\n            var disabled = (this.min > localDate) || (this.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            if (currentMonth !== localDate.getMonth()) {\n                addClass([tdEle], OTHERMONTH);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND);\n            }\n            tdEle.appendChild(dayLink);\n            this.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.renderDayCellArgs;\n            this.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                var selectDate = new Date(this.checkValue(value));\n                var argsDate = new Date(this.checkValue(argument.date));\n                if (multiSelection) {\n                    if (!isNullOrUndefined(values) && values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd' }));\n                            var tempDateString = +new Date(this.globalize.formatDate(values[index], { type: 'date', skeleton: 'yMd' }));\n                            if (localDateString === tempDateString) {\n                                values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (selectDate && +selectDate === +argsDate) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            if (this.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED)) {\n                addClass([tdEle], DISABLED);\n                addClass([tdEle], OVERLAY);\n                if (+this.renderDayCellArgs.date === +this.todayDate) {\n                    this.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH);\n            var disabledCls = tdEle.classList.contains(DISABLED);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            // to set the value as null while setting the disabled date onProperty change.\n            // if (args.isDisabled && +this.value === +args.date) {\n            //     this.setProperties({ value: null }, true);\n            // }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var currentTarget = void 0;\n            if (!isNullOrUndefined(e) && e.type === 'click') {\n                currentTarget = e.currentTarget;\n            }\n            if (multiSelection && !isNullOrUndefined(values) && !disabledCls) {\n                for (var tempValue = 0; tempValue < values.length; tempValue++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(localDate, formatOptions);\n                    var tempDateString = this.globalize.formatDate(values[tempValue], formatOptions);\n                    if ((localDateString === tempDateString && this.getDateVal(localDate, values[tempValue]))\n                        || (this.getDateVal(localDate, value))) {\n                        addClass([tdEle], SELECTED);\n                    }\n                    if (!isNullOrUndefined(currentTarget) && currentTarget.innerText === tdEle.innerText &&\n                        this.previousDates && tdEle.classList.contains(SELECTED) && currentTarget.classList.contains(SELECTED)) {\n                        removeClass([tdEle], SELECTED);\n                        this.previousDates = false;\n                        var copyValues = this.copyValues(values);\n                        for (var i = 0; i < copyValues.length; i++) {\n                            var type_1 = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                            var formatOptions_1 = { format: null, type: 'date', skeleton: 'short', calendar: type_1 };\n                            var localDateString_1 = this.globalize.formatDate(date, formatOptions_1);\n                            var tempDateString_1 = this.globalize.formatDate(copyValues[i], formatOptions_1);\n                            if (localDateString_1 === tempDateString_1) {\n                                var index = copyValues.indexOf(copyValues[i]);\n                                copyValues.splice(index, 1);\n                                values.splice(index, 1);\n                            }\n                        }\n                        this.setProperties({ values: copyValues }, true);\n                    }\n                    else {\n                        this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (values.length <= 0) {\n                    this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!disabledCls && this.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED);\n            }\n            this.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            if (!isNullOrUndefined(date) && date.getFullYear() === todayDate.getFullYear() && date.getMonth() === todayDate.getMonth()\n                && date.getDate() === todayDate.getDate()) {\n                addClass([tdEle], TODAY);\n            }\n            tdEles.push(this.renderDayCellArgs.element);\n            localDate = new Date(+minMaxDate);\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        return tdEles;\n    };\n    CalendarBase.prototype.updateFocus = function (otherMonth, disabled, localDate, tableElement, currentDate) {\n        if (currentDate.getDate() === localDate.getDate() && !otherMonth && !disabled) {\n            addClass([tableElement], FOCUSEDDATE);\n        }\n        else {\n            // eslint-disable-next-line radix\n            if (currentDate >= this.max && parseInt(tableElement.id, 0) === +this.max && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n            // eslint-disable-next-line radix\n            if (currentDate <= this.min && parseInt(tableElement.id, 0) === +this.min && !otherMonth && !disabled) {\n                addClass([tableElement], FOCUSEDDATE);\n            }\n        }\n    };\n    CalendarBase.prototype.renderYears = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.checkValue(this.currentDate));\n        var mon = curDate.getMonth();\n        var yr = curDate.getFullYear();\n        var localDate = curDate;\n        var curYrs = localDate.getFullYear();\n        var minYr = new Date(this.checkValue(this.min)).getFullYear();\n        var minMonth = new Date(this.checkValue(this.min)).getMonth();\n        var maxYr = new Date(this.checkValue(this.max)).getFullYear();\n        var maxMonth = new Date(this.checkValue(this.max)).getMonth();\n        localDate.setMonth(0);\n        this.titleUpdate(this.currentDate, 'months');\n        localDate.setDate(1);\n        for (var month = 0; month < 12; ++month) {\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            var localMonth = (value && (value).getMonth() === localDate.getMonth());\n            var select$$1 = (value && (value).getFullYear() === yr && localMonth);\n            dayLink.textContent = this.toCapitalize(this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'MMM'\n            }));\n            if ((this.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getMonth() === mon && this.currentDate.getMonth() === mon) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            localDate.setDate(1);\n            localDate.setMonth(localDate.getMonth() + 1);\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, YEAR, e, value);\n    };\n    CalendarBase.prototype.renderDecades = function (e, value) {\n        this.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.checkValue(this.currentDate));\n        localDate.setMonth(0);\n        localDate.setDate(1);\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(localDate.setFullYear((localYr - localYr % 10)));\n        var endYr = new Date(localDate.setFullYear((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.globalize.formatDate(startYr, {\n            format: null, type: 'dateTime', skeleton: 'y'\n        });\n        var endHdrYr = this.globalize.formatDate(endYr, { format: null, type: 'dateTime', skeleton: 'y' });\n        this.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        var start = new Date(localYr - (localYr % 10) - 1, 0, 1);\n        var startYear = start.getFullYear();\n        for (var rowIterator = 0; rowIterator < yearCell; ++rowIterator) {\n            var year = startYear + rowIterator;\n            localDate.setFullYear(year);\n            var tdEle = this.dayCell(localDate);\n            var dayLink = this.createElement('span');\n            dayLink.textContent = this.globalize.formatDate(localDate, {\n                format: null, type: 'dateTime', skeleton: 'y'\n            });\n            if ((year < startFullYr) || (year > endFullYr)) {\n                addClass([tdEle], OTHERDECADE);\n                if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                    addClass([tdEle], SELECTED);\n                }\n                if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                    year > new Date(this.checkValue(this.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED);\n                }\n            }\n            else if (year < new Date(this.checkValue(this.min)).getFullYear() ||\n                year > new Date(this.checkValue(this.max)).getFullYear()) {\n                addClass([tdEle], DISABLED);\n            }\n            else if (!isNullOrUndefined(value) && localDate.getFullYear() === (value).getFullYear()) {\n                addClass([tdEle], SELECTED);\n            }\n            else {\n                if (localDate.getFullYear() === this.currentDate.getFullYear() && !tdEle.classList.contains(DISABLED)) {\n                    addClass([tdEle], FOCUSEDDATE);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED)) {\n                EventHandler.add(tdEle, 'click', this.clickHandler, this);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.renderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    CalendarBase.prototype.dayCell = function (localDate) {\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: type };\n        var date = this.globalize.parseDate(this.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n        var value;\n        if (!isNullOrUndefined(date)) {\n            value = date.valueOf();\n        }\n        var attrs = {\n            className: CELL, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false' }\n        };\n        return this.createElement('td', attrs);\n    };\n    CalendarBase.prototype.firstDay = function (date) {\n        var collection = this.currentView() !== 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '');\n        if (collection.length) {\n            for (var i = 0; i < collection.length; i++) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.lastDay = function (date, view) {\n        var lastDate = new Date(date.getFullYear(), date.getMonth() + 1, 0);\n        if (view !== 2) {\n            var timeOffset = Math.abs(lastDate.getTimezoneOffset() - this.firstDay(date).getTimezoneOffset());\n            if (timeOffset) {\n                lastDate.setHours(this.firstDay(date).getHours() + (timeOffset / 60));\n            }\n            return this.findLastDay(lastDate);\n        }\n        else {\n            return this.findLastDay(this.firstDay(lastDate));\n        }\n    };\n    CalendarBase.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    CalendarBase.prototype.findLastDay = function (date) {\n        var collection = this.currentView() === 'Decade' ? this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERDECADE + '') :\n            this.tableBodyElement.querySelectorAll('td' + ':not(.' + OTHERMONTH + '');\n        if (collection.length) {\n            for (var i = collection.length - 1; i >= 0; i--) {\n                if (!collection[i].classList.contains(DISABLED)) {\n                    // eslint-disable-next-line radix\n                    date = new Date(parseInt(collection[i].id, 0));\n                    break;\n                }\n            }\n        }\n        return date;\n    };\n    CalendarBase.prototype.removeTableHeadElement = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.element.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.calendarElement.querySelectorAll('.e-content table thead')[0])) {\n                detach(this.tableHeadElement);\n            }\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.renderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.getViewNumber(this.currentView());\n        var trEle;\n        this.tableBodyElement = this.createElement('tbody');\n        this.table.appendChild(this.tableBodyElement);\n        removeClass([this.contentElement, this.headerElement], [MONTH, DECADE, YEAR]);\n        addClass([this.contentElement, this.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowIterator = 0;\n        for (var dayCell = 0; dayCell < elements.length / count; ++dayCell) {\n            trEle = this.createElement('tr');\n            for (rowIterator = 0 + rowIterator; rowIterator < row; rowIterator++) {\n                if (!elements[rowIterator].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowIterator].children[0])) {\n                    addClass([elements[rowIterator].children[0]], [LINK]);\n                    rippleEffect(elements[rowIterator].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowIterator]);\n                if (this.weekNumber && rowIterator === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (!this.weekNumber && rowIterator === otherMonthCell && elements[otherMonthCell].\n                    classList.contains(OTHERMONTH)) {\n                    addClass([trEle], OTHERMONTHROW);\n                }\n                if (this.weekNumber) {\n                    if (rowIterator === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n                else {\n                    if (rowIterator === numberCell && elements[numberCell].classList.contains(OTHERMONTH)) {\n                        addClass([trEle], OTHERMONTHROW);\n                    }\n                }\n            }\n            row = row + count;\n            rowIterator = rowIterator + 0;\n            this.tableBodyElement.appendChild(trEle);\n        }\n        this.table.querySelector('tbody').className = this.effect;\n        if (this.calendarMode === 'Gregorian') {\n            this.iconHandler();\n        }\n        else {\n            this.islamicModule.islamicIconHandler();\n        }\n        if (view !== this.getViewNumber(this.currentView()) || (view === 0 && view !== this.getViewNumber(this.currentView()))) {\n            this.navigateHandler(e);\n        }\n        this.setAriaActiveDescendant();\n    };\n    CalendarBase.prototype.clickHandler = function (e, value) {\n        this.clickEventEmitter(e);\n        var eve = e.currentTarget;\n        var view = this.getViewNumber(this.currentView());\n        if (eve.classList.contains(OTHERMONTH)) {\n            this.contentClick(e, 0, null, value);\n        }\n        else if (view === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (2 === view) {\n            this.contentClick(e, 1, null, value);\n        }\n        else if (!eve.classList.contains(OTHERMONTH) && view === 0) {\n            this.selectDate(e, this.getIdValue(e, null), null);\n        }\n        else {\n            this.contentClick(e, 0, eve, value);\n        }\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    // Content click event handler required for extended components\n    CalendarBase.prototype.clickEventEmitter = function (e) {\n        e.preventDefault();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.contentClick = function (e, view, element, value) {\n        var currentView = this.getViewNumber(this.currentView());\n        var d = this.getIdValue(e, element);\n        switch (view) {\n            case 0:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    detach(this.tableBodyElement);\n                    this.currentDate = d;\n                    this.effect = ZOOMIN;\n                    this.renderMonths(e);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setMonth(d.getMonth());\n                        if (d.getMonth() > 0 && this.currentDate.getMonth() !== d.getMonth()) {\n                            this.currentDate.setDate(0);\n                        }\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.currentDate = d;\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderMonths(e);\n                }\n                break;\n            case 1:\n                if (currentView === this.getViewNumber(this.depth) && this.getViewNumber(this.start) >= this.getViewNumber(this.depth)) {\n                    this.selectDate(e, d, null);\n                }\n                else {\n                    if (this.calendarMode === 'Gregorian') {\n                        this.currentDate.setFullYear(d.getFullYear());\n                    }\n                    else {\n                        this.islamicPreviousHeader = this.headerElement.textContent;\n                        var islamicDate = this.islamicModule.getIslamicDate(d);\n                        this.currentDate = this.islamicModule.toGregorian(islamicDate.year, islamicDate.month, 1);\n                    }\n                    this.effect = ZOOMIN;\n                    detach(this.tableBodyElement);\n                    this.renderYears(e);\n                }\n        }\n    };\n    CalendarBase.prototype.switchView = function (view, e, multiSelection, isCustomDate) {\n        switch (view) {\n            case 0:\n                detach(this.tableBodyElement);\n                this.renderMonths(e, null, isCustomDate);\n                break;\n            case 1:\n                detach(this.tableBodyElement);\n                this.renderYears(e);\n                break;\n            case 2:\n                detach(this.tableBodyElement);\n                this.renderDecades(e);\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    CalendarBase.prototype.getModuleName = function () {\n        return 'calendar';\n    };\n    /**\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    CalendarBase.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        return modules;\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarBaseModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarBaseModel} oldProp - Returns the previous property value of the component.\n     * @param {boolean} multiSelection - - Specifies whether multiple date selection is enabled or not.\n     * @param {Date[]} values - Specifies the dates.\n     * @returns {void}\n     * @private\n     */\n    CalendarBase.prototype.onPropertyChanged = function (newProp, oldProp, multiSelection, values) {\n        this.effect = '';\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'enableRtl':\n                    if (newProp.enableRtl) {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.add('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.add('e-rtl');\n                        }\n                    }\n                    else {\n                        if (this.getModuleName() === 'calendar') {\n                            this.element.classList.remove('e-rtl');\n                        }\n                        else {\n                            this.calendarElement.classList.remove('e-rtl');\n                        }\n                    }\n                    break;\n                case 'dayHeaderFormat':\n                    this.getCultureValues();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                    }\n                    this.adjustLongHeaderSize();\n                    break;\n                case 'min':\n                case 'max':\n                    this.rangeValidation(this.min, this.max);\n                    if (prop === 'min') {\n                        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    }\n                    else {\n                        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    }\n                    this.setProperties({ start: this.currentView() }, true);\n                    if (this.tableBodyElement) {\n                        detach(this.tableBodyElement);\n                    }\n                    this.minMaxUpdate();\n                    if (multiSelection) {\n                        this.validateValues(multiSelection, values);\n                    }\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentBody();\n                    }\n                    if ((this.todayDate < this.min || this.max < this.todayDate) && (this.footer) && (this.todayElement)) {\n                        detach(this.todayElement);\n                        detach(this.footer);\n                        this.todayElement = this.footer = null;\n                        this.createContentFooter();\n                    }\n                    else {\n                        if ((this.footer) && (this.todayElement) && this.todayElement.classList.contains('e-disabled')) {\n                            removeClass([this.todayElement], DISABLED);\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = null;\n                            this.createContentFooter();\n                        }\n                    }\n                    break;\n                case 'start':\n                case 'depth':\n                case 'weekNumber':\n                case 'firstDayOfWeek':\n                case 'weekRule':\n                    this.checkView();\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    if (this.getModuleName() !== 'datepicker') {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    else if (this.calendarElement) {\n                        this.createContentHeader();\n                        this.createContentBody();\n                    }\n                    this.l10.setLocale(this.locale);\n                    this.updateFooter();\n                    break;\n                case 'showTodayButton':\n                    if (newProp.showTodayButton) {\n                        this.createContentFooter();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.todayElement) && !isNullOrUndefined(this.footer)) {\n                            detach(this.todayElement);\n                            detach(this.footer);\n                            this.todayElement = this.footer = undefined;\n                        }\n                    }\n                    this.setProperties({ showTodayButton: newProp.showTodayButton }, true);\n                    break;\n            }\n        }\n    };\n    /**\n     * values property updated with considered disabled dates of the calendar.\n     *\n     * @param {boolean} multiSelection - Specifies whether multiple date selection is enabled.\n     * @param {Date[]} values - Specifies the dates to validate.\n     * @returns {void}\n     */\n    CalendarBase.prototype.validateValues = function (multiSelection, values) {\n        if (multiSelection && !isNullOrUndefined(values) && values.length > 0) {\n            var copyValues = this.copyValues(values);\n            for (var skipIndex = 0; skipIndex < copyValues.length; skipIndex++) {\n                var tempValue = copyValues[skipIndex];\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var tempValueString = void 0;\n                if (this.calendarMode === 'Gregorian') {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'date', skeleton: 'yMd' });\n                }\n                else {\n                    tempValueString = this.globalize.formatDate(tempValue, { type: 'dateTime', skeleton: 'full', calendar: 'islamic' });\n                }\n                var minFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var minStringValue = this.globalize.formatDate(this.min, minFormatOption);\n                var minString = minStringValue;\n                var maxFormatOption = { type: 'date', skeleton: 'yMd', calendar: type };\n                var maxStringValue = this.globalize.formatDate(this.max, maxFormatOption);\n                var maxString = maxStringValue;\n                if (+new Date(tempValueString) < +new Date(minString) ||\n                    +new Date(tempValueString) > +new Date(maxString)) {\n                    copyValues.splice(skipIndex, 1);\n                    skipIndex = -1;\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n        }\n    };\n    CalendarBase.prototype.setValueUpdate = function () {\n        if (!isNullOrUndefined(this.tableBodyElement)) {\n            detach(this.tableBodyElement);\n            this.setProperties({ start: this.currentView() }, true);\n            this.createContentBody();\n        }\n    };\n    CalendarBase.prototype.copyValues = function (values) {\n        var copyValues = [];\n        if (!isNullOrUndefined(values) && values.length > 0) {\n            for (var index = 0; index < values.length; index++) {\n                copyValues.push(new Date(+values[index]));\n            }\n        }\n        return copyValues;\n    };\n    CalendarBase.prototype.titleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.locale);\n        var dayFormatOptions;\n        var monthFormatOptions;\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        if (this.calendarMode === 'Gregorian') {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', skeleton: 'yMMMM', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, {\n                format: null, type: 'dateTime', skeleton: 'y', calendar: type\n            });\n        }\n        else {\n            dayFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'MMMM y', calendar: type });\n            monthFormatOptions = globalize.formatDate(date, { type: 'dateTime', format: 'y', calendar: type });\n        }\n        switch (view) {\n            case 'days':\n                this.headerTitleElement.textContent = this.toCapitalize(dayFormatOptions);\n                break;\n            case 'months':\n                this.headerTitleElement.textContent = monthFormatOptions;\n        }\n    };\n    CalendarBase.prototype.setActiveDescendant = function () {\n        var id;\n        var focusedEle = this.tableBodyElement.querySelector('tr td.e-focused-date');\n        var selectedEle = this.tableBodyElement.querySelector('tr td.e-selected');\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var title;\n        var view = this.currentView();\n        if (view === 'Month') {\n            title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'full', calendar: type });\n        }\n        else if (view === 'Year') {\n            if (type !== 'islamic') {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'yMMMM', calendar: type });\n            }\n            else {\n                title = this.globalize.formatDate(this.currentDate, { type: 'date', skeleton: 'GyMMM', calendar: type });\n            }\n        }\n        else {\n            title = this.globalize.formatDate(this.currentDate, {\n                format: null, type: 'date', skeleton: 'y', calendar: type\n            });\n        }\n        if (selectedEle || focusedEle) {\n            if (!isNullOrUndefined(selectedEle)) {\n                selectedEle.setAttribute('aria-selected', 'true');\n            }\n            (focusedEle || selectedEle).setAttribute('aria-label', title);\n            id = (focusedEle || selectedEle).getAttribute('id');\n        }\n        return id;\n    };\n    CalendarBase.prototype.iconHandler = function () {\n        new Date(this.checkValue(this.currentDate)).setDate(1);\n        switch (this.currentView()) {\n            case 'Month':\n                this.previousIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareMonth(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Year':\n                this.previousIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareYear(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n                break;\n            case 'Decade':\n                this.previousIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.min) < 1);\n                this.nextIconHandler(this.compareDecade(new Date(this.checkValue(this.currentDate)), this.max) > -1);\n        }\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    CalendarBase.prototype.destroy = function () {\n        if (this.getModuleName() === 'calendar' && this.element) {\n            removeClass([this.element], [ROOT]);\n        }\n        else {\n            if (this.calendarElement && this.element) {\n                removeClass([this.element], [ROOT]);\n            }\n        }\n        if (this.getModuleName() === 'calendar' && this.element) {\n            if (!isNullOrUndefined(this.headerTitleElement)) {\n                EventHandler.remove(this.headerTitleElement, 'click', this.navigateTitle);\n            }\n            if (this.todayElement) {\n                EventHandler.remove(this.todayElement, 'click', this.todayButtonClick);\n            }\n            this.previousIconHandler(true);\n            this.nextIconHandler(true);\n            this.keyboardModule.destroy();\n            this.element.removeAttribute('data-role');\n            if (!isNullOrUndefined(this.calendarEleCopy.getAttribute('tabindex'))) {\n                this.element.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.element.removeAttribute('tabindex');\n            }\n        }\n        if (this.element) {\n            this.element.innerHTML = '';\n        }\n        this.todayElement = null;\n        this.tableBodyElement = null;\n        this.renderDayCellArgs = null;\n        this.headerElement = null;\n        this.nextIcon = null;\n        this.table = null;\n        this.tableHeadElement = null;\n        this.previousIcon = null;\n        this.headerTitleElement = null;\n        this.footer = null;\n        this.contentElement = null;\n        _super.prototype.destroy.call(this);\n    };\n    CalendarBase.prototype.title = function (e) {\n        var currentView = this.getViewNumber(this.currentView());\n        this.effect = ZOOMIN;\n        this.switchView(++currentView, e);\n    };\n    CalendarBase.prototype.getViewNumber = function (stringVal) {\n        if (stringVal === 'Month') {\n            return 0;\n        }\n        else if (stringVal === 'Year') {\n            return 1;\n        }\n        else {\n            return 2;\n        }\n    };\n    CalendarBase.prototype.navigateTitle = function (e) {\n        e.preventDefault();\n        this.title(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.previous = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, -1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, -10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigatePrevious = function (e) {\n        e.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.previous();\n        }\n        else {\n            this.islamicModule.islamicPrevious();\n        }\n        this.triggerNavigate(e);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    CalendarBase.prototype.next = function () {\n        this.effect = '';\n        var currentView = this.getViewNumber(this.currentView());\n        switch (this.currentView()) {\n            case 'Month':\n                this.addMonths(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Year':\n                this.addYears(this.currentDate, 1);\n                this.switchView(currentView);\n                break;\n            case 'Decade':\n                this.addYears(this.currentDate, 10);\n                this.switchView(currentView);\n                break;\n        }\n    };\n    CalendarBase.prototype.navigateNext = function (eve) {\n        eve.preventDefault();\n        if (this.calendarMode === 'Gregorian') {\n            this.next();\n        }\n        else {\n            this.islamicModule.islamicNext();\n        }\n        this.triggerNavigate(eve);\n        if (this.getModuleName() === 'calendar') {\n            this.table.focus();\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     */\n    CalendarBase.prototype.navigateTo = function (view, date, isCustomDate) {\n        if (+date >= +this.min && +date <= +this.max) {\n            this.currentDate = date;\n        }\n        if (+date <= +this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n        if (+date >= +this.max) {\n            this.currentDate = new Date(this.checkValue(this.max));\n        }\n        if ((this.getViewNumber(this.depth) >= this.getViewNumber(view))) {\n            if ((this.getViewNumber(this.depth) <= this.getViewNumber(this.start))\n                || this.getViewNumber(this.depth) === this.getViewNumber(view)) {\n                view = this.depth;\n            }\n        }\n        this.switchView(this.getViewNumber(view), null, null, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     */\n    CalendarBase.prototype.currentView = function () {\n        if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(YEAR)) {\n            return 'Year';\n        }\n        else if (!isNullOrUndefined(this.contentElement) && this.contentElement.classList.contains(DECADE)) {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    CalendarBase.prototype.getDateVal = function (date, value) {\n        return (!isNullOrUndefined(value) && date.getDate() === (value).getDate()\n            && date.getMonth() === (value).getMonth() && date.getFullYear() === (value).getFullYear());\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    CalendarBase.prototype.getCultureObjects = function (ld, c) {\n        var gregorianFormat = '.dates.calendars.gregorian.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var islamicFormat = '.dates.calendars.islamic.days.format.' + this.dayHeaderFormat.toLowerCase();\n        var mainVal = 'main.';\n        if (this.calendarMode === 'Gregorian') {\n            return getValue(mainVal + '' + this.locale + gregorianFormat, ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + islamicFormat, ld);\n        }\n    };\n    CalendarBase.prototype.getWeek = function (d) {\n        var currentDate = new Date(this.checkValue(d)).valueOf();\n        var date = new Date(d.getFullYear(), 0, 1).valueOf();\n        return Math.ceil((((currentDate - date) + dayMilliSeconds) / dayMilliSeconds) / 7);\n    };\n    CalendarBase.prototype.setStartDate = function (date, time) {\n        var tzOffset = date.getTimezoneOffset();\n        var d = new Date(date.getTime() + time);\n        var tzOffsetDiff = d.getTimezoneOffset() - tzOffset;\n        date.setTime(d.getTime() + tzOffsetDiff * minutesMilliSeconds);\n    };\n    CalendarBase.prototype.addMonths = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setMonth(date.getMonth() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year, (islamicDate.month) + i, 1);\n        }\n    };\n    CalendarBase.prototype.addYears = function (date, i) {\n        if (this.calendarMode === 'Gregorian') {\n            var day = date.getDate();\n            date.setDate(1);\n            date.setFullYear(date.getFullYear() + i);\n            date.setDate(Math.min(day, this.getMaxDays(date)));\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            this.currentDate = this.islamicModule.toGregorian(islamicDate.year + i, (islamicDate.month), 1);\n        }\n    };\n    CalendarBase.prototype.getIdValue = function (e, element) {\n        var eve;\n        if (e) {\n            eve = e.currentTarget;\n        }\n        else {\n            eve = element;\n        }\n        var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n        var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: type };\n        // eslint-disable-next-line radix\n        var dateString = this.globalize.formatDate(new Date(parseInt('' + eve.getAttribute('id'), 0)), dateFormatOptions);\n        var date = this.globalize.parseDate(dateString, dateFormatOptions);\n        var value = date.valueOf() - date.valueOf() % 1000;\n        return new Date(value);\n        //return this.globalize.parseDate(dateString, dateFormatOptions);\n    };\n    CalendarBase.prototype.adjustLongHeaderSize = function () {\n        removeClass([this.element], DAYHEADERLONG);\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.getModuleName() === 'calendar' ? this.element : this.calendarElement], DAYHEADERLONG);\n        }\n    };\n    CalendarBase.prototype.selectDate = function (e, date, node, multiSelection, values) {\n        var element = node || e.currentTarget;\n        this.isDateSelected = false;\n        if (this.currentView() === 'Decade') {\n            this.setDateDecade(this.currentDate, date.getFullYear());\n        }\n        else if (this.currentView() === 'Year') {\n            this.setDateYear(this.currentDate, date);\n        }\n        else {\n            if (multiSelection && !this.checkPresentDate(date, values)) {\n                var copyValues = this.copyValues(values);\n                if (!isNullOrUndefined(values) && copyValues.length > 0) {\n                    copyValues.push(new Date(this.checkValue(date)));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: values[values.length - 1] }, true);\n                }\n                else {\n                    this.setProperties({ values: [new Date(this.checkValue(date))] }, true);\n                }\n            }\n            else {\n                this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n            }\n            this.currentDate = new Date(this.checkValue(date));\n        }\n        var tableBodyElement = closest(element, '.' + ROOT);\n        if (isNullOrUndefined(tableBodyElement)) {\n            tableBodyElement = this.tableBodyElement;\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + SELECTED))) {\n            removeClass([tableBodyElement.querySelector('.' + SELECTED)], SELECTED);\n        }\n        if (!multiSelection && !isNullOrUndefined(tableBodyElement.querySelector('.' + FOCUSEDDATE))) {\n            removeClass([tableBodyElement.querySelector('.' + FOCUSEDDATE)], FOCUSEDDATE);\n        }\n        if (multiSelection) {\n            var copyValues = this.copyValues(values);\n            var collection = Array.prototype.slice.call(this.tableBodyElement.querySelectorAll('td'));\n            for (var index = 0; index < collection.length; index++) {\n                var tempElement = tableBodyElement.querySelectorAll('td' + '.' + FOCUSEDDATE)[0];\n                var selectedElement = tableBodyElement.querySelectorAll('td' + '.' + SELECTED)[0];\n                if (collection[index] === tempElement) {\n                    removeClass([collection[index]], FOCUSEDDATE);\n                }\n                if (collection[index] === selectedElement &&\n                    !this.checkPresentDate(new Date(parseInt(selectedElement.getAttribute('id').split('_')[0], 10)), values)) {\n                    removeClass([collection[index]], SELECTED);\n                }\n            }\n            if (element.classList.contains(SELECTED)) {\n                removeClass([element], SELECTED);\n                for (var i = 0; i < copyValues.length; i++) {\n                    var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                    var formatOptions = { format: null, type: 'date', skeleton: 'short', calendar: type };\n                    var localDateString = this.globalize.formatDate(date, formatOptions);\n                    var tempDateString = this.globalize.formatDate(copyValues[i], formatOptions);\n                    if (localDateString === tempDateString) {\n                        var index = copyValues.indexOf(copyValues[i]);\n                        copyValues.splice(index, 1);\n                        addClass([element], FOCUSEDDATE);\n                    }\n                }\n                this.setProperties({ values: copyValues }, true);\n            }\n            else {\n                addClass([element], SELECTED);\n            }\n        }\n        else {\n            addClass([element], SELECTED);\n        }\n        this.isDateSelected = true;\n    };\n    CalendarBase.prototype.checkPresentDate = function (dates, values) {\n        var previousValue = false;\n        if (!isNullOrUndefined(values)) {\n            for (var checkPrevious = 0; checkPrevious < values.length; checkPrevious++) {\n                var type = (this.calendarMode === 'Gregorian') ? 'gregorian' : 'islamic';\n                var localDateString = this.globalize.formatDate(dates, {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                var tempDateString = this.globalize.formatDate(values[checkPrevious], {\n                    format: null, type: 'date', skeleton: 'short', calendar: type\n                });\n                if (localDateString === tempDateString) {\n                    previousValue = true;\n                }\n            }\n        }\n        return previousValue;\n    };\n    CalendarBase.prototype.setAriaActiveDescendant = function () {\n        attributes(this.table, {\n            'aria-activedescendant': '' + this.setActiveDescendant()\n        });\n    };\n    CalendarBase.prototype.previousIconHandler = function (disabled) {\n        if (disabled) {\n            if (!isNullOrUndefined(this.previousIcon)) {\n                EventHandler.remove(this.previousIcon, 'click', this.navigatePreviousHandler);\n                addClass([this.previousIcon], '' + DISABLED);\n                addClass([this.previousIcon], '' + OVERLAY);\n                this.previousIcon.setAttribute('aria-disabled', 'true');\n            }\n        }\n        else {\n            EventHandler.add(this.previousIcon, 'click', this.navigatePreviousHandler);\n            removeClass([this.previousIcon], '' + DISABLED);\n            removeClass([this.previousIcon], '' + OVERLAY);\n            this.previousIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.renderDayCellEvent = function (args) {\n        extend(this.renderDayCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    CalendarBase.prototype.navigatedEvent = function (eve) {\n        extend(this.navigatedArgs, { name: 'navigated', event: eve });\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    CalendarBase.prototype.triggerNavigate = function (event) {\n        this.navigatedArgs = { view: this.currentView(), date: this.currentDate };\n        this.navigatedEvent(event);\n    };\n    CalendarBase.prototype.nextIconHandler = function (disabled) {\n        if (disabled) {\n            if (!isNullOrUndefined(this.previousIcon)) {\n                EventHandler.remove(this.nextIcon, 'click', this.navigateNextHandler);\n                addClass([this.nextIcon], DISABLED);\n                addClass([this.nextIcon], OVERLAY);\n                this.nextIcon.setAttribute('aria-disabled', 'true');\n            }\n        }\n        else {\n            EventHandler.add(this.nextIcon, 'click', this.navigateNextHandler);\n            removeClass([this.nextIcon], DISABLED);\n            removeClass([this.nextIcon], OVERLAY);\n            this.nextIcon.setAttribute('aria-disabled', 'false');\n        }\n    };\n    CalendarBase.prototype.compare = function (startDate, endDate, modifier) {\n        var start = endDate.getFullYear();\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (startDate.getFullYear() > end) {\n            result = 1;\n        }\n        else if (startDate.getFullYear() < start) {\n            result = -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.isMinMaxRange = function (date) {\n        return +date >= +this.min && +date <= +this.max;\n    };\n    CalendarBase.prototype.isMonthYearRange = function (date) {\n        if (this.calendarMode === 'Gregorian') {\n            return date.getMonth() >= this.min.getMonth()\n                && date.getFullYear() >= this.min.getFullYear()\n                && date.getMonth() <= this.max.getMonth()\n                && date.getFullYear() <= this.max.getFullYear();\n        }\n        else {\n            var islamicDate = this.islamicModule.getIslamicDate(date);\n            return islamicDate.month >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).month\n                && islamicDate.year >= (this.islamicModule.getIslamicDate(new Date(1944, 1, 18))).year\n                && islamicDate.month <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).month\n                && islamicDate.year <= (this.islamicModule.getIslamicDate(new Date(2069, 1, 16))).year;\n        }\n    };\n    CalendarBase.prototype.compareYear = function (start, end) {\n        return this.compare(start, end, 0);\n    };\n    CalendarBase.prototype.compareDecade = function (start, end) {\n        return this.compare(start, end, 10);\n    };\n    CalendarBase.prototype.shiftArray = function (array, i) {\n        return array.slice(i).concat(array.slice(0, i));\n    };\n    CalendarBase.prototype.addDay = function (date, i, e, max, min) {\n        var column = i;\n        var value = new Date(+date);\n        if (!isNullOrUndefined(this.tableBodyElement) && !isNullOrUndefined(e)) {\n            while (this.findNextTD(new Date(+date), column, max, min)) {\n                column += i;\n            }\n            var rangeValue = new Date(value.setDate(value.getDate() + column));\n            column = (+rangeValue > +max || +rangeValue < +min) ? column === i ? i - i : i : column;\n        }\n        date.setDate(date.getDate() + column);\n    };\n    CalendarBase.prototype.findNextTD = function (date, column, max, min) {\n        var value = new Date(date.setDate(date.getDate() + column));\n        var collection = [];\n        var isDisabled = false;\n        if ((!isNullOrUndefined(value) && value.getMonth()) === (!isNullOrUndefined(this.currentDate) && this.currentDate.getMonth())) {\n            var tdEles = void 0;\n            if (this.calendarMode === 'Gregorian') {\n                tdEles = this.renderDays(value);\n            }\n            else {\n                tdEles = this.islamicModule.islamicRenderDays(this.currentDate, value);\n            }\n            collection = tdEles.filter(function (element) {\n                return element.classList.contains(DISABLED);\n            });\n        }\n        else {\n            collection = this.tableBodyElement.querySelectorAll('td.' + DISABLED);\n        }\n        if (+value <= (+(max)) && +value >= (+(min))) {\n            if (collection.length) {\n                for (var i = 0; i < collection.length; i++) {\n                    // eslint-disable-next-line radix\n                    isDisabled = (+value === +new Date(parseInt(collection[i].id, 0))) ? true : false;\n                    if (isDisabled) {\n                        break;\n                    }\n                }\n            }\n        }\n        return isDisabled;\n    };\n    CalendarBase.prototype.getMaxDays = function (d) {\n        var date;\n        var tmpDate = new Date(this.checkValue(d));\n        date = 28;\n        var month = tmpDate.getMonth();\n        while (tmpDate.getMonth() === month) {\n            ++date;\n            tmpDate.setDate(date);\n        }\n        return date - 1;\n    };\n    CalendarBase.prototype.setDateDecade = function (date, year) {\n        date.setFullYear(year);\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.setDateYear = function (date, value) {\n        date.setFullYear(value.getFullYear(), value.getMonth(), date.getDate());\n        if (value.getMonth() !== date.getMonth()) {\n            date.setDate(0);\n            this.currentDate = new Date(this.checkValue(value));\n        }\n        this.setProperties({ value: new Date(this.checkValue(date)) }, true);\n    };\n    CalendarBase.prototype.compareMonth = function (start, end) {\n        var result;\n        if (start.getFullYear() > end.getFullYear()) {\n            result = 1;\n        }\n        else if (start.getFullYear() < end.getFullYear()) {\n            result = -1;\n        }\n        else {\n            result = start.getMonth() === end.getMonth() ? 0 : start.getMonth() > end.getMonth() ? 1 : -1;\n        }\n        return result;\n    };\n    CalendarBase.prototype.checkValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    CalendarBase.prototype.checkView = function () {\n        if (this.start !== 'Decade' && this.start !== 'Year') {\n            this.setProperties({ start: 'Month' }, true);\n        }\n        if (this.depth !== 'Decade' && this.depth !== 'Year') {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n        if (this.getViewNumber(this.depth) > this.getViewNumber(this.start)) {\n            this.setProperties({ depth: 'Month' }, true);\n        }\n    };\n    CalendarBase.prototype.getDate = function (date, timezone) {\n        if (timezone) {\n            date = new Date(date.toLocaleString('en-US', { timeZone: timezone }));\n        }\n        return date;\n    };\n    __decorate([\n        Property(new Date(1900, 0, 1))\n    ], CalendarBase.prototype, \"min\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"enabled\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"cssClass\", void 0);\n    __decorate([\n        Property(new Date(2099, 11, 31))\n    ], CalendarBase.prototype, \"max\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"firstDayOfWeek\", void 0);\n    __decorate([\n        Property('Gregorian')\n    ], CalendarBase.prototype, \"calendarMode\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"start\", void 0);\n    __decorate([\n        Property('Month')\n    ], CalendarBase.prototype, \"depth\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"weekNumber\", void 0);\n    __decorate([\n        Property('FirstDay')\n    ], CalendarBase.prototype, \"weekRule\", void 0);\n    __decorate([\n        Property(true)\n    ], CalendarBase.prototype, \"showTodayButton\", void 0);\n    __decorate([\n        Property('Short')\n    ], CalendarBase.prototype, \"dayHeaderFormat\", void 0);\n    __decorate([\n        Property(false)\n    ], CalendarBase.prototype, \"enablePersistence\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"keyConfigs\", void 0);\n    __decorate([\n        Property(null)\n    ], CalendarBase.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"created\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"destroyed\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"navigated\", void 0);\n    __decorate([\n        Event()\n    ], CalendarBase.prototype, \"renderDayCell\", void 0);\n    CalendarBase = __decorate([\n        NotifyPropertyChanges\n    ], CalendarBase);\n    return CalendarBase;\n}(Component));\n/**\n * Represents the Calendar component that allows the user to select a date.\n * ```html\n * <div id=\"calendar\"/>\n * ```\n * ```typescript\n * <script>\n *   var calendarObj = new Calendar({ value: new Date() });\n *   calendarObj.appendTo(\"#calendar\");\n * </script>\n * ```\n */\nvar Calendar = /** @__PURE__ @class */ (function (_super) {\n    __extends(Calendar, _super);\n    /**\n     * Initialized new instance of Calendar Class.\n     * Constructor for creating the widget\n     *\n     * @param {CalendarModel} options - Specifies the Calendar model.\n     * @param {string | HTMLElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function Calendar(options, element) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.render = function () {\n        if (this.calendarMode === 'Islamic' && this.islamicModule === undefined) {\n            throwError('Requires the injectable Islamic modules to render Calendar in Islamic mode');\n        }\n        if (this.isMultiSelection && typeof this.values === 'object' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var tempValues = [];\n            var copyValues = [];\n            for (var limit = 0; limit < this.values.length; limit++) {\n                if (tempValues.indexOf(+this.values[limit]) === -1) {\n                    tempValues.push(+this.values[limit]);\n                    copyValues.push(this.values[limit]);\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            for (var index = 0; index < this.values.length; index++) {\n                if (!this.checkDateValue(this.values[index])) {\n                    if (typeof (this.values[index]) === 'string' && this.checkDateValue(new Date(this.checkValue(this.values[index])))) {\n                        var copyDate = new Date(this.checkValue(this.values[index]));\n                        this.values.splice(index, 1);\n                        this.values.splice(index, 0, copyDate);\n                    }\n                    else {\n                        this.values.splice(index, 1);\n                    }\n                }\n            }\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            this.previousValues = this.values.length;\n        }\n        this.validateDate();\n        this.minMaxUpdate();\n        if (this.getModuleName() === 'calendar') {\n            this.setEnable(this.enabled);\n            this.setClass(this.cssClass);\n        }\n        _super.prototype.render.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.add(form, 'reset', this.formResetHandler.bind(this));\n            }\n            this.setTimeZone(this.serverTimezoneOffset);\n        }\n        this.renderComplete();\n    };\n    Calendar.prototype.setEnable = function (enable) {\n        if (!enable) {\n            addClass([this.element], DISABLED);\n        }\n        else {\n            removeClass([this.element], DISABLED);\n        }\n    };\n    Calendar.prototype.setClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(oldCssClass) && oldCssClass !== '') {\n            removeClass([this.element], oldCssClass.split(' '));\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            addClass([this.element], newCssClass.split(' '));\n        }\n    };\n    Calendar.prototype.isDayLightSaving = function () {\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    Calendar.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var serverTimezoneDiff = offsetValue;\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date(this.value.getTime() + (timeZoneDiff * 60 * 60 * 1000));\n        }\n    };\n    Calendar.prototype.formResetHandler = function () {\n        this.setProperties({ value: null }, true);\n    };\n    Calendar.prototype.validateDate = function () {\n        if (typeof this.value === 'string') {\n            this.setProperties({ value: this.checkDateValue(new Date(this.checkValue(this.value))) }, true); // persist the value property.\n        }\n        _super.prototype.validateDate.call(this, this.value);\n        if (!isNullOrUndefined(this.value) && this.min <= this.max && this.value >= this.min && this.value <= this.max) {\n            this.currentDate = new Date(this.checkValue(this.value));\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n    };\n    Calendar.prototype.minMaxUpdate = function () {\n        if (this.getModuleName() === 'calendar') {\n            if (!isNullOrUndefined(this.value) && this.value <= this.min && this.min <= this.max) {\n                this.setProperties({ value: this.min }, true);\n                this.changedArgs = { value: this.value };\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value >= this.max && this.min <= this.max) {\n                    this.setProperties({ value: this.max }, true);\n                    this.changedArgs = { value: this.value };\n                }\n            }\n        }\n        if (this.getModuleName() !== 'calendar' && !isNullOrUndefined(this.value)) {\n            if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max) {\n                _super.prototype.minMaxUpdate.call(this, this.min);\n            }\n            else {\n                if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max) {\n                    _super.prototype.minMaxUpdate.call(this, this.max);\n                }\n            }\n        }\n        else {\n            _super.prototype.minMaxUpdate.call(this, this.value);\n        }\n    };\n    Calendar.prototype.generateTodayVal = function (value) {\n        var tempValue = new Date();\n        if (!isNullOrUndefined(this.timezone)) {\n            tempValue = _super.prototype.getDate.call(this, tempValue, this.timezone);\n        }\n        if (value && isNullOrUndefined(this.timezone)) {\n            tempValue.setHours(value.getHours());\n            tempValue.setMinutes(value.getMinutes());\n            tempValue.setSeconds(value.getSeconds());\n            tempValue.setMilliseconds(value.getMilliseconds());\n        }\n        else {\n            tempValue = new Date(tempValue.getFullYear(), tempValue.getMonth(), tempValue.getDate(), 0, 0, 0, 0);\n        }\n        return tempValue;\n    };\n    Calendar.prototype.todayButtonClick = function (e) {\n        if (this.showTodayButton) {\n            var tempValue = this.generateTodayVal(this.value);\n            this.setProperties({ value: tempValue }, true);\n            this.isTodayClicked = true;\n            this.todayButtonEvent = e;\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (!_super.prototype.checkPresentDate.call(this, tempValue, this.values)) {\n                    copyValues.push(tempValue);\n                    this.setProperties({ values: copyValues });\n                }\n            }\n            _super.prototype.todayButtonClick.call(this, e, new Date(+this.value));\n        }\n    };\n    Calendar.prototype.keyActionHandle = function (e) {\n        _super.prototype.keyActionHandle.call(this, e, this.value, this.isMultiSelection);\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.preRender = function () {\n        var _this = this;\n        this.changeHandler = function (e) {\n            _this.triggerChange(e);\n        };\n        this.checkView();\n        _super.prototype.preRender.call(this, this.value);\n    };\n    /**\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.createContent = function () {\n        this.previousDate = this.value;\n        this.previousDateTime = this.value;\n        _super.prototype.createContent.call(this);\n    };\n    Calendar.prototype.minMaxDate = function (localDate) {\n        return _super.prototype.minMaxDate.call(this, localDate);\n    };\n    Calendar.prototype.renderMonths = function (e, value, isCustomDate) {\n        _super.prototype.renderMonths.call(this, e, this.value, isCustomDate);\n    };\n    Calendar.prototype.renderDays = function (currentDate, value, isMultiSelect, values, isCustomDate, e) {\n        var tempDays = _super.prototype.renderDays.call(this, currentDate, this.value, this.isMultiSelection, this.values, isCustomDate, e);\n        if (this.isMultiSelection) {\n            _super.prototype.validateValues.call(this, this.isMultiSelection, this.values);\n        }\n        return tempDays;\n    };\n    Calendar.prototype.renderYears = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderYears.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderYears(e, this.value);\n        }\n    };\n    Calendar.prototype.renderDecades = function (e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderDecades.call(this, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderDecade(e, this.value);\n        }\n    };\n    Calendar.prototype.renderTemplate = function (elements, count, classNm, e) {\n        if (this.calendarMode === 'Gregorian') {\n            _super.prototype.renderTemplate.call(this, elements, count, classNm, e, this.value);\n        }\n        else {\n            this.islamicModule.islamicRenderTemplate(elements, count, classNm, e, this.value);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler();\n    };\n    Calendar.prototype.clickHandler = function (e) {\n        var eve = e.currentTarget;\n        this.isPopupClicked = true;\n        if (eve.classList.contains(OTHERMONTH)) {\n            if (this.isMultiSelection) {\n                var copyValues = this.copyValues(this.values);\n                if (copyValues.toString().indexOf(this.getIdValue(e, null).toString()) === -1) {\n                    copyValues.push(this.getIdValue(e, null));\n                    this.setProperties({ values: copyValues }, true);\n                    this.setProperties({ value: this.values[this.values.length - 1] }, true);\n                }\n                else {\n                    this.previousDates = true;\n                }\n            }\n            else {\n                this.setProperties({ value: this.getIdValue(e, null) }, true);\n            }\n        }\n        var storeView = this.currentView();\n        _super.prototype.clickHandler.call(this, e, this.value);\n        if (this.isMultiSelection && this.currentDate !== this.value &&\n            !isNullOrUndefined(this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0]) && storeView === 'Year') {\n            this.tableBodyElement.querySelectorAll('.' + FOCUSEDDATE)[0].classList.remove(FOCUSEDDATE);\n        }\n    };\n    Calendar.prototype.switchView = function (view, e, isMultiSelection, isCustomDate) {\n        _super.prototype.switchView.call(this, view, e, this.isMultiSelection, isCustomDate);\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Return the component name.\n     * @private\n     */\n    Calendar.prototype.getModuleName = function () {\n        _super.prototype.getModuleName.call(this);\n        return 'calendar';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    Calendar.prototype.getPersistData = function () {\n        _super.prototype.getPersistData.call(this);\n        var keyEntity = ['value', 'values'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {CalendarModel} newProp - Returns the dynamic property value of the component.\n     * @param {CalendarModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    Calendar.prototype.onPropertyChanged = function (newProp, oldProp) {\n        this.effect = '';\n        this.rangeValidation(this.min, this.max);\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: new Date(this.checkValue(newProp.value)) }, true);\n                        }\n                        else {\n                            newProp.value = new Date(this.checkValue(newProp.value));\n                        }\n                        if (isNaN(+this.value)) {\n                            this.setProperties({ value: oldProp.value }, true);\n                        }\n                        this.update();\n                    }\n                    break;\n                case 'values':\n                    if (this.isDateSelected) {\n                        if (typeof newProp.values === 'string' || typeof newProp.values === 'number') {\n                            this.setProperties({ values: null }, true);\n                        }\n                        else {\n                            var copyValues = this.copyValues(this.values);\n                            for (var index = 0; index < copyValues.length; index++) {\n                                var tempDate = copyValues[index];\n                                if (this.checkDateValue(tempDate) && !_super.prototype.checkPresentDate.call(this, tempDate, copyValues)) {\n                                    copyValues.push(tempDate);\n                                }\n                            }\n                            this.setProperties({ values: copyValues }, true);\n                            if (this.values.length > 0) {\n                                this.setProperties({ value: newProp.values[newProp.values.length - 1] }, true);\n                            }\n                        }\n                        this.validateValues(this.isMultiSelection, this.values);\n                        this.update();\n                    }\n                    break;\n                case 'isMultiSelection':\n                    if (this.isDateSelected) {\n                        this.setProperties({ isMultiSelection: newProp.isMultiSelection }, true);\n                        this.update();\n                    }\n                    break;\n                case 'enabled':\n                    this.setEnable(this.enabled);\n                    break;\n                case 'cssClass':\n                    if (this.getModuleName() === 'calendar') {\n                        this.setClass(newProp.cssClass, oldProp.cssClass);\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp, this.isMultiSelection, this.values);\n            }\n        }\n        this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n    };\n    /**\n     * Destroys the widget.\n     *\n     * @returns {void}\n     */\n    Calendar.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.getModuleName() === 'calendar') {\n            var form = closest(this.element, 'form');\n            if (form) {\n                EventHandler.remove(form, 'reset', this.formResetHandler.bind(this));\n            }\n        }\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param {string} view - Specifies the view of the Calendar.\n     * @param {Date} date - Specifies the focused date in a view.\n     * @param {boolean} isCustomDate - Specifies whether the calendar is rendered with custom today date or not.\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.navigateTo = function (view, date, isCustomDate) {\n        this.minMaxUpdate();\n        _super.prototype.navigateTo.call(this, view, date, isCustomDate);\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    Calendar.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * This method is used to add the single or multiple dates to the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates to be added to the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.addDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number') {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && (dates).length > 0) {\n                var tempDates = dates;\n                for (var i = 0; i < tempDates.length; i++) {\n                    if (this.checkDateValue(tempDates[i]) && !_super.prototype.checkPresentDate.call(this, tempDates[i], copyValues)) {\n                        if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                            copyValues.push(tempDates[i]);\n                        }\n                        else {\n                            copyValues = [new Date(+tempDates[i])];\n                        }\n                    }\n                }\n            }\n            else {\n                if (this.checkDateValue(dates) && !_super.prototype.checkPresentDate.call(this, dates, copyValues)) {\n                    if (!isNullOrUndefined(copyValues) && copyValues.length > 0) {\n                        copyValues.push((dates));\n                    }\n                    else {\n                        copyValues = [new Date(+dates)];\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, true);\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.validateValues(this.isMultiSelection, copyValues);\n            this.update();\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * This method is used to remove the single or multiple dates from the values property of the Calendar.\n     *\n     * @param {Date | Date[]} dates - Specifies the date or dates which need to be removed from the values property of the Calendar.\n     * @returns {void}\n     * @deprecated\n     */\n    Calendar.prototype.removeDate = function (dates) {\n        if (typeof dates !== 'string' && typeof dates !== 'number' && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            var copyValues = this.copyValues(this.values);\n            if (typeof dates === 'object' && ((dates).length > 0)) {\n                var tempDates = dates;\n                for (var index = 0; index < tempDates.length; index++) {\n                    for (var i = 0; i < copyValues.length; i++) {\n                        if (+copyValues[i] === +tempDates[index]) {\n                            copyValues.splice(i, 1);\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = 0; i < copyValues.length; i++) {\n                    if (+copyValues[i] === +dates) {\n                        copyValues.splice(i, 1);\n                    }\n                }\n            }\n            this.setProperties({ values: copyValues }, false);\n            this.update();\n            if (this.isMultiSelection) {\n                this.setProperties({ value: this.values[this.values.length - 1] }, true);\n            }\n            this.changedArgs = { value: this.value, values: this.values };\n            this.changeHandler();\n        }\n    };\n    /**\n     * To set custom today date in calendar\n     *\n     * @param {Date} date - Specifies date value to be set.\n     * @private\n     * @returns {void}\n     */\n    Calendar.prototype.setTodayDate = function (date) {\n        var todayDate = new Date(+date);\n        this.setProperties({ value: todayDate }, true);\n        _super.prototype.todayButtonClick.call(this, null, todayDate, true);\n    };\n    Calendar.prototype.update = function () {\n        this.validateDate();\n        this.minMaxUpdate();\n        _super.prototype.setValueUpdate.call(this);\n    };\n    Calendar.prototype.selectDate = function (e, date, element) {\n        _super.prototype.selectDate.call(this, e, date, element, this.isMultiSelection, this.values);\n        if (this.isMultiSelection && !isNullOrUndefined(this.values) && this.values.length > 0) {\n            this.setProperties({ value: this.values[this.values.length - 1] }, true);\n        }\n        this.changedArgs = { value: this.value, values: this.values };\n        this.changeHandler(e);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Calendar.prototype.changeEvent = function (e) {\n        if ((this.value && this.value.valueOf()) !== (this.previousDate && +this.previousDate.valueOf())\n            || this.isMultiSelection) {\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = new Date(+this.value);\n        }\n    };\n    Calendar.prototype.triggerChange = function (e) {\n        if (!isNullOrUndefined(this.todayButtonEvent) && this.isTodayClicked) {\n            e = this.todayButtonEvent;\n            this.isTodayClicked = false;\n        }\n        this.changedArgs.event = e || null;\n        this.changedArgs.isInteracted = !isNullOrUndefined(e);\n        if (!isNullOrUndefined(this.value)) {\n            this.setProperties({ value: this.value }, true);\n        }\n        // eslint-disable-next-line use-isnan\n        if (!this.isMultiSelection && +this.value !== Number.NaN && (!isNullOrUndefined(this.value) &&\n            !isNullOrUndefined(this.previousDate) || this.previousDate === null\n            && !isNaN(+this.value))) {\n            this.changeEvent(e);\n        }\n        else if (!isNullOrUndefined(this.values) && this.previousValues !== this.values.length) {\n            this.changeEvent(e);\n            this.previousValues = this.values.length;\n        }\n    };\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"value\", void 0);\n    __decorate([\n        Property(null)\n    ], Calendar.prototype, \"values\", void 0);\n    __decorate([\n        Property(false)\n    ], Calendar.prototype, \"isMultiSelection\", void 0);\n    __decorate([\n        Event()\n    ], Calendar.prototype, \"change\", void 0);\n    Calendar = __decorate([\n        NotifyPropertyChanges\n    ], Calendar);\n    return Calendar;\n}(CalendarBase));\n\n/**\n *\n */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n//class constant defination.\nvar OTHERMONTH$1 = 'e-other-month';\nvar YEAR$1 = 'e-year';\nvar MONTH$1 = 'e-month';\nvar DECADE$1 = 'e-decade';\nvar DISABLED$1 = 'e-disabled';\nvar OVERLAY$1 = 'e-overlay';\nvar WEEKEND$1 = 'e-weekend';\nvar WEEKNUMBER$1 = 'e-week-number';\nvar SELECTED$1 = 'e-selected';\nvar FOCUSEDDATE$1 = 'e-focused-date';\nvar OTHERMONTHROW$1 = 'e-month-hide';\nvar TODAY$1 = 'e-today';\nvar LINK$1 = 'e-day';\nvar CELL$1 = 'e-cell';\nvar dayMilliSeconds$1 = 86400000;\nvar minDecade = 2060;\nvar maxDecade = 2069;\nvar Islamic = /** @__PURE__ @class */ (function () {\n    function Islamic(instance) {\n        this.calendarInstance = instance;\n    }\n    Islamic.prototype.getModuleName = function () {\n        return 'islamic';\n    };\n    Islamic.prototype.islamicTitleUpdate = function (date, view) {\n        var globalize = new Internationalization(this.calendarInstance.locale);\n        switch (view) {\n            case 'days':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'MMMMyyyy', calendar: 'islamic' });\n                break;\n            case 'months':\n                this.calendarInstance.headerTitleElement.textContent = globalize.formatDate(date, { type: 'dateTime', format: 'yyyy', calendar: 'islamic' });\n        }\n    };\n    Islamic.prototype.islamicRenderDays = function (currentDate, value, multiSelection, values) {\n        var tdEles = [];\n        var cellsCount = 42;\n        var localDate = new Date(this.islamicInValue(currentDate));\n        var minMaxDate;\n        this.islamicTitleUpdate(currentDate, 'days');\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = this.toGregorian(islamicDate.year, islamicDate.month, 1);\n        var currentMonth = islamicDate.month;\n        localDate = gregorianObject;\n        while (localDate.getDay() !== this.calendarInstance.firstDayOfWeek) {\n            this.calendarInstance.setStartDate(localDate, -1 * dayMilliSeconds$1);\n        }\n        for (var day = 0; day < cellsCount; ++day) {\n            var weekEle = this.calendarInstance.createElement('td', { className: CELL$1 });\n            var weekAnchor = this.calendarInstance.createElement('span');\n            if (day % 7 === 0 && this.calendarInstance.weekNumber) {\n                weekAnchor.textContent = '' + this.calendarInstance.getWeek(localDate);\n                weekEle.appendChild(weekAnchor);\n                addClass([weekEle], '' + WEEKNUMBER$1);\n                tdEles.push(weekEle);\n            }\n            minMaxDate = new Date(+localDate);\n            localDate = this.calendarInstance.minMaxDate(localDate);\n            var dateFormatOptions = { type: 'dateTime', skeleton: 'full', calendar: 'islamic' };\n            var date = this.calendarInstance.globalize.parseDate(this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions), dateFormatOptions);\n            var tdEle = this.islamicDayCell(localDate);\n            var title = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'full', calendar: 'islamic' });\n            var dayLink = this.calendarInstance.createElement('span');\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'd', calendar: 'islamic' });\n            var disabled = (this.calendarInstance.min > localDate) || (this.calendarInstance.max < localDate);\n            if (disabled) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n            }\n            else {\n                dayLink.setAttribute('title', '' + title);\n            }\n            var hijriMonthObject = this.getIslamicDate(localDate);\n            if (currentMonth !== hijriMonthObject.month) {\n                addClass([tdEle], OTHERMONTH$1);\n            }\n            if (localDate.getDay() === 0 || localDate.getDay() === 6) {\n                addClass([tdEle], WEEKEND$1);\n            }\n            tdEle.appendChild(dayLink);\n            this.calendarInstance.renderDayCellArgs = {\n                date: localDate,\n                isDisabled: false,\n                element: tdEle,\n                isOutOfRange: disabled\n            };\n            var argument = this.calendarInstance.renderDayCellArgs;\n            this.calendarInstance.renderDayCellEvent(argument);\n            if (argument.isDisabled) {\n                if (this.calendarInstance.isMultiSelection) {\n                    if (!isNullOrUndefined(this.calendarInstance.values) && this.calendarInstance.values.length > 0) {\n                        for (var index = 0; index < values.length; index++) {\n                            var localDateString = +new Date(this.calendarInstance.globalize.formatDate(argument.date, { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            var tempDateString = +new Date(this.calendarInstance.globalize.formatDate(this.calendarInstance.values[index], { type: 'date', skeleton: 'yMd', calendar: 'islamic' }));\n                            if (localDateString === tempDateString) {\n                                this.calendarInstance.values.splice(index, 1);\n                                index = -1;\n                            }\n                        }\n                    }\n                }\n                else if (value && +value === +argument.date) {\n                    this.calendarInstance.setProperties({ value: null }, true);\n                }\n            }\n            if (this.calendarInstance.renderDayCellArgs.isDisabled && !tdEle.classList.contains(SELECTED$1)) {\n                addClass([tdEle], DISABLED$1);\n                addClass([tdEle], OVERLAY$1);\n                if (+this.calendarInstance.renderDayCellArgs.date === +this.calendarInstance.todayDate) {\n                    this.calendarInstance.todayDisabled = true;\n                }\n            }\n            var otherMnthBool = tdEle.classList.contains(OTHERMONTH$1);\n            var disabledCls = tdEle.classList.contains(DISABLED$1);\n            if (!disabledCls) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            if (this.calendarInstance.isMultiSelection && !isNullOrUndefined(this.calendarInstance.values) &&\n                !otherMnthBool && !disabledCls) {\n                for (var tempValue = 0; tempValue < this.calendarInstance.values.length; tempValue++) {\n                    var localDateString = this.calendarInstance.globalize.formatDate(localDate, { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    var tempDateString = this.calendarInstance.globalize.formatDate(this.calendarInstance.values[tempValue], { type: 'date', skeleton: 'short', calendar: 'islamic' });\n                    if (localDateString === tempDateString &&\n                        this.calendarInstance.getDateVal(localDate, this.calendarInstance.values[tempValue])) {\n                        addClass([tdEle], SELECTED$1);\n                    }\n                    else {\n                        this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                    }\n                }\n                if (this.calendarInstance.values.length <= 0) {\n                    this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n                }\n            }\n            else if (!otherMnthBool && !disabledCls && this.calendarInstance.getDateVal(localDate, value)) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                this.calendarInstance.updateFocus(otherMnthBool, disabledCls, localDate, tdEle, currentDate);\n            }\n            if (date.getDate() === new Date().getDate() && date.getMonth() === new Date().getMonth()) {\n                if (date.getFullYear() === new Date().getFullYear()) {\n                    addClass([tdEle], TODAY$1);\n                }\n            }\n            localDate = new Date(+minMaxDate);\n            tdEles.push(this.calendarInstance.renderDayCellArgs.element);\n            this.calendarInstance.addDay(localDate, 1, null, this.calendarInstance.max, this.calendarInstance.min);\n        }\n        return tdEles;\n    };\n    Islamic.prototype.islamicIconHandler = function () {\n        new Date(this.islamicInValue(this.calendarInstance.currentDate)).setDate(1);\n        var date = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                {\n                    var prevMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.min) < 1;\n                    var nextMonthCompare = this.islamicCompareMonth(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevMonthCompare);\n                    this.calendarInstance.nextIconHandler(nextMonthCompare);\n                }\n                break;\n            case 'Year':\n                {\n                    var prevYearCompare = this.hijriCompareYear(date, this.calendarInstance.min) < 1;\n                    var nextYearCompare = this.hijriCompareYear(date, this.calendarInstance.max) > -1;\n                    this.calendarInstance.previousIconHandler(prevYearCompare);\n                    this.calendarInstance.nextIconHandler(nextYearCompare);\n                }\n                break;\n            case 'Decade': {\n                var startIslamicYear = 1361;\n                var gregorianValue = HijriParser.toGregorian(startIslamicYear, 1, 1);\n                var prevDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.min) < 1;\n                var nextDecadeCompare = this.hijriCompareDecade(date, this.calendarInstance.max) > -1;\n                prevDecadeCompare = HijriParser.toGregorian(this.calendarInstance.headerTitleElement.textContent.split('-')[0].trim(), 1, 1).getFullYear() === gregorianValue.getFullYear() ? true : prevDecadeCompare;\n                this.calendarInstance.previousIconHandler(prevDecadeCompare);\n                this.calendarInstance.nextIconHandler(nextDecadeCompare);\n            }\n        }\n    };\n    Islamic.prototype.islamicNext = function () {\n        this.calendarInstance.effect = '';\n        var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month + 1, 1);\n                this.calendarInstance.switchView(view);\n                break;\n            case 'Decade':\n                this.calendarInstance.nextIconClicked = true;\n                if (islamicDate.year - this.calendarInstance.headerElement.textContent.split('-')[0].trim() === 1) {\n                    islamicDate.year = islamicDate.year - this.calendarInstance.headerElement.textContent.split('-')[0].trim() === 1 ? islamicDate.year + 1 : islamicDate.year;\n                }\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year + 10, islamicDate.month, 1);\n                this.calendarInstance.switchView(view);\n                break;\n        }\n    };\n    Islamic.prototype.islamicPrevious = function () {\n        var currentView = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        this.calendarInstance.effect = '';\n        var islamicDate = this.getIslamicDate(this.calendarInstance.currentDate);\n        switch (this.calendarInstance.currentView()) {\n            case 'Month':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Year':\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 1, islamicDate.month, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n            case 'Decade':\n                this.calendarInstance.previousIconClicked = true;\n                this.calendarInstance.currentDate = this.toGregorian(islamicDate.year - 10, islamicDate.month - 1, 1);\n                this.calendarInstance.switchView(currentView);\n                break;\n        }\n    };\n    Islamic.prototype.islamicRenderYears = function (e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        var numCells = 4;\n        var tdEles = [];\n        var valueUtil = isNullOrUndefined(value);\n        var curDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        var localDate = curDate;\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        var mon = islamicDate.month;\n        var yr = islamicDate.year;\n        var curYrs = islamicDate.year;\n        var minYr = (this.getIslamicDate(this.calendarInstance.min)).year;\n        var minMonth = (this.getIslamicDate(this.calendarInstance.min)).month;\n        var maxYr = (this.getIslamicDate(this.calendarInstance.max)).year;\n        var maxMonth = (this.getIslamicDate(this.calendarInstance.max)).month;\n        this.islamicTitleUpdate(this.calendarInstance.currentDate, 'months');\n        for (var month = 1; month <= 12; ++month) {\n            var islamicDate_1 = this.getIslamicDate(localDate);\n            var gregorianObject_1 = HijriParser.toGregorian(islamicDate_1.year, month, 1);\n            localDate = gregorianObject_1;\n            var tdEle = this.islamicDayCell(localDate);\n            var dayLink = this.calendarInstance.createElement('span');\n            var localMonth = (value &&\n                (this.getIslamicDate(value)).month === (this.getIslamicDate(localDate)).month);\n            var select$$1 = (value && (this.getIslamicDate(value)).year === yr && localMonth);\n            dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'MMM', calendar: 'islamic' });\n            if ((this.calendarInstance.min && (curYrs < minYr || (month < minMonth && curYrs === minYr))) || (this.calendarInstance.max && (curYrs > maxYr || (month > maxMonth && curYrs >= maxYr)))) {\n                addClass([tdEle], DISABLED$1);\n            }\n            else if (!valueUtil && select$$1) {\n                addClass([tdEle], SELECTED$1);\n            }\n            else {\n                if ((this.getIslamicDate(localDate)).month === mon &&\n                    (this.getIslamicDate(this.calendarInstance.currentDate)).month === mon) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n            }\n            if (!tdEle.classList.contains(DISABLED$1)) {\n                EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n            }\n            tdEle.appendChild(dayLink);\n            tdEles.push(tdEle);\n        }\n        this.islamicRenderTemplate(tdEles, numCells, YEAR$1, e, value);\n    };\n    Islamic.prototype.islamicRenderDecade = function (e, value) {\n        this.calendarInstance.removeTableHeadElement();\n        var numCells = 4;\n        var yearCell = 12;\n        var tdEles = [];\n        var localDate = new Date(this.islamicInValue(this.calendarInstance.currentDate));\n        var islamicDate = this.getIslamicDate(localDate);\n        var gregorianObject = HijriParser.toGregorian(islamicDate.year, 1, 1);\n        localDate = gregorianObject;\n        var localYr = localDate.getFullYear();\n        var startYr = new Date(this.islamicInValue((localYr - localYr % 10)));\n        var endYr = new Date(this.islamicInValue((localYr - localYr % 10 + (10 - 1))));\n        var startFullYr = startYr.getFullYear();\n        var endFullYr = endYr.getFullYear();\n        var startHdrYr = this.calendarInstance.globalize.formatDate(startYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        var endHdrYr = this.calendarInstance.globalize.formatDate(endYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n        if (this.calendarInstance.locale === 'ar') {\n            startHdrYr = Number(startHdrYr.replace(/[]/g, function (d) { return String.fromCharCode(d.charCodeAt(0) - 1632 + 48); }));\n            endHdrYr = Number(endHdrYr.replace(/[]/g, function (d) { return String.fromCharCode(d.charCodeAt(0) - 1632 + 48); }));\n        }\n        var splityear = this.calendarInstance.headerElement.textContent.split('-');\n        if ((!isNullOrUndefined(e) && (splityear[0] !== startHdrYr) && e.action === 'home') || (!isNullOrUndefined(e) && e.type === 'keydown' && e.action === 'end')) {\n            startHdrYr = this.calendarInstance.headerElement.textContent.split('-')[0].trim();\n            endHdrYr = this.calendarInstance.headerElement.textContent.split('-')[1].trim();\n        }\n        if (this.calendarInstance.islamicPreviousHeader) {\n            startHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[0].trim();\n            endHdrYr = this.calendarInstance.islamicPreviousHeader.split('-')[1].trim();\n            this.calendarInstance.islamicPreviousHeader = null;\n        }\n        if (this.calendarInstance.previousIconClicked) {\n            // eslint-disable-next-line no-var\n            for (var i = 0; i <= splityear.length; i++) {\n                endHdrYr = endHdrYr - splityear[i] === 2 || splityear[i]\n                    - endHdrYr === 2 ? (parseInt(endHdrYr, 10) + 1).toString() :\n                    endHdrYr - splityear[i] === 3 || splityear[i] - endHdrYr === 3 ?\n                        (parseInt(endHdrYr, 10) + 2).toString() : endHdrYr - splityear[i] === 4 ||\n                        splityear[i] - endHdrYr === 4 ? (parseInt(endHdrYr, 10) + 3).toString() :\n                        endHdrYr - splityear[i] === 5 || splityear[i] - endHdrYr === 5 ?\n                            (parseInt(endHdrYr, 10) + 4).toString() : endHdrYr;\n                if (endHdrYr - splityear[i] === 0 || splityear[i] - endHdrYr === 0) {\n                    endHdrYr = (parseInt(endHdrYr, 10) - 1).toString();\n                }\n            }\n            if (endHdrYr - splityear[i] === 8 || splityear[i] - endHdrYr === 8) {\n                endHdrYr = (parseInt(endHdrYr, 10) - 9).toString();\n                startHdrYr = (parseInt(endHdrYr, 10) - 9).toString();\n            }\n            if (endHdrYr - splityear[i] === 7 || splityear[i] - endHdrYr === 7) {\n                endHdrYr = (parseInt(endHdrYr, 10) - 8).toString();\n                startHdrYr = (parseInt(endHdrYr, 10) - 9).toString();\n            }\n            startHdrYr = endHdrYr - startHdrYr === 10\n                ? (parseInt(startHdrYr, 10) + 1).toString() : endHdrYr - startHdrYr === 11\n                ? (parseInt(startHdrYr, 10) + 2).toString() : endHdrYr - startHdrYr === 12\n                ? (parseInt(startHdrYr, 10) + 3).toString() : startHdrYr;\n            if (endHdrYr - startHdrYr === 8) {\n                startHdrYr = (parseInt(startHdrYr, 10) - 1).toString();\n            }\n        }\n        if (this.calendarInstance.nextIconClicked) {\n            for (var i_1 = 0; i_1 <= splityear.length; i_1++) {\n                if (startHdrYr - splityear[i_1] === 0 || splityear[i_1] - startHdrYr === 0) {\n                    startHdrYr = (parseInt(startHdrYr, 10) + 1).toString();\n                }\n                if (startHdrYr - splityear[i_1] === 2 && startHdrYr > splityear[i_1].trim()) {\n                    startHdrYr = (parseInt(startHdrYr, 10) - 1).toString();\n                }\n                if (splityear[i_1] - startHdrYr === 1 && startHdrYr < splityear[i_1].trim()) {\n                    startHdrYr = (parseInt(startHdrYr, 10) + 2).toString();\n                }\n            }\n            if (startHdrYr - this.calendarInstance.headerTitleElement.textContent.split('-')[1].trim() > 1) {\n                startHdrYr = (parseInt(this.calendarInstance.headerTitleElement.textContent.split('-')[1].trim(), 10) + 1).toString();\n                endHdrYr = (parseInt(startHdrYr, 10) + 9).toString();\n            }\n            endHdrYr = endHdrYr - startHdrYr === 10 ? (parseInt(endHdrYr, 10) - 1).toString() : endHdrYr;\n            endHdrYr = endHdrYr - startHdrYr === 7\n                ? (parseInt(endHdrYr, 10) + 2).toString() : endHdrYr - startHdrYr === 8\n                ? (parseInt(endHdrYr, 10) + 1).toString() : endHdrYr;\n        }\n        if (this.calendarInstance.locale === 'ar') {\n            var startHeaderYear = this.calendarInstance.globalize.formatDate(startYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n            var endHeaderYear = this.calendarInstance.globalize.formatDate(endYr, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n            this.calendarInstance.headerTitleElement.textContent = startHeaderYear + ' - ' + (endHeaderYear);\n        }\n        else {\n            this.calendarInstance.headerTitleElement.textContent = startHdrYr + ' - ' + (endHdrYr);\n        }\n        this.calendarInstance.nextIconClicked = this.calendarInstance.previousIconClicked = false;\n        var year = (parseInt(startHdrYr, 10) - 2).toString();\n        startFullYr = Math.round(parseInt(startHdrYr, 10) * 0.97 + 622);\n        endFullYr = Math.round(parseInt(endHdrYr, 10) * 0.97 + 622);\n        var startYear = Math.round(parseInt(year, 10) * 0.97 + 622);\n        for (var rowCount = 1; rowCount <= yearCell; ++rowCount) {\n            var year_1 = startYear + rowCount;\n            localDate.setFullYear(year_1);\n            localDate.setDate(1);\n            localDate.setMonth(0);\n            if ((this.getIslamicDate(localDate).year - islamicDate.year) > 1) {\n                localDate.setMonth(1);\n                rowCount = rowCount - 1;\n                localDate.setFullYear(localDate.getFullYear() - 1);\n            }\n            islamicDate = this.getIslamicDate(localDate);\n            var gregorianObject_2 = HijriParser.toGregorian(islamicDate.year, 1, 1);\n            localDate = gregorianObject_2;\n            if (islamicDate.year === parseInt(startHdrYr, 10) - 1 || islamicDate.year >= startHdrYr &&\n                islamicDate.year <= endFullYr || islamicDate.year === parseInt(endHdrYr, 10) + 1) {\n                var tdEle = this.islamicDayCell(localDate);\n                attributes(tdEle, { 'role': 'gridcell' });\n                var dayLink = this.calendarInstance.createElement('span');\n                dayLink.textContent = this.calendarInstance.globalize.formatDate(localDate, { type: 'dateTime', format: 'y', calendar: 'islamic' });\n                if (islamicDate.year === parseInt(startHdrYr, 10) - 1 || (year_1 < startFullYr) ||\n                    (year_1 > endFullYr) && islamicDate.year !== parseInt(endHdrYr, 10)) {\n                    addClass([tdEle], OTHERMONTH$1);\n                }\n                else if (year_1 < new Date(this.islamicInValue(this.calendarInstance.min)).getFullYear()\n                    || year_1 > new Date(this.islamicInValue(this.calendarInstance.max)).getFullYear()) {\n                    addClass([tdEle], DISABLED$1);\n                }\n                else if (!isNullOrUndefined(value) &&\n                    (this.getIslamicDate(localDate)).year ===\n                        (this.getIslamicDate(value)).year) {\n                    addClass([tdEle], SELECTED$1);\n                }\n                else {\n                    if (localDate.getFullYear() === this.calendarInstance.currentDate.getFullYear() &&\n                        !tdEle.classList.contains(DISABLED$1)) {\n                        addClass([tdEle], FOCUSEDDATE$1);\n                    }\n                }\n                if (!tdEle.classList.contains(DISABLED$1)) {\n                    EventHandler.add(tdEle, 'click', this.calendarInstance.clickHandler, this.calendarInstance);\n                }\n                tdEle.appendChild(dayLink);\n                if ((!isNullOrUndefined(e) && e.action === 'home' && islamicDate.year.toString() === startHdrYr) || (!isNullOrUndefined(e) && e.action === 'end' && islamicDate.year.toString() === endHdrYr)) {\n                    addClass([tdEle], FOCUSEDDATE$1);\n                }\n                tdEles.push(tdEle);\n            }\n        }\n        this.islamicRenderTemplate(tdEles, numCells, 'e-decade', e, value);\n    };\n    Islamic.prototype.islamicDayCell = function (localDate) {\n        var dateFormatOptions = { skeleton: 'full', type: 'dateTime', calendar: 'islamic' };\n        var formatDate = this.calendarInstance.globalize.formatDate(localDate, dateFormatOptions);\n        var date = this.calendarInstance.globalize.parseDate(formatDate, dateFormatOptions);\n        var value = date.valueOf();\n        var attrs = {\n            className: CELL$1, attrs: { 'id': '' + getUniqueID('' + value), 'aria-selected': 'false', 'role': 'gridcell' }\n        };\n        return this.calendarInstance.createElement('td', attrs);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    Islamic.prototype.islamicRenderTemplate = function (elements, count, classNm, e, value) {\n        var view = this.calendarInstance.getViewNumber(this.calendarInstance.currentView());\n        var trEle;\n        this.calendarInstance.tableBodyElement = this.calendarInstance.createElement('tbody');\n        this.calendarInstance.table.appendChild(this.calendarInstance.tableBodyElement);\n        removeClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [MONTH$1, DECADE$1, YEAR$1]);\n        addClass([this.calendarInstance.contentElement, this.calendarInstance.headerElement], [classNm]);\n        var weekNumCell = 41;\n        var numberCell = 35;\n        var otherMonthCell = 6;\n        var row = count;\n        var rowCount = 0;\n        for (var dayCell = 0; dayCell < Math.round(elements.length / count); ++dayCell) {\n            trEle = this.calendarInstance.createElement('tr', { attrs: { 'role': 'row' } });\n            for (rowCount = 0 + rowCount; rowCount < row; rowCount++) {\n                if (!elements[rowCount].classList.contains('e-week-number') && !isNullOrUndefined(elements[rowCount].children[0])) {\n                    addClass([elements[rowCount].children[0]], [LINK$1]);\n                    rippleEffect(elements[rowCount].children[0], {\n                        duration: 600,\n                        isCenterRipple: true\n                    });\n                }\n                trEle.appendChild(elements[rowCount]);\n                if (this.calendarInstance.weekNumber &&\n                    rowCount === otherMonthCell + 1 && elements[otherMonthCell + 1].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (!this.calendarInstance.weekNumber\n                    && rowCount === otherMonthCell && elements[otherMonthCell].classList.contains(OTHERMONTH$1)) {\n                    addClass([trEle], OTHERMONTHROW$1);\n                }\n                if (this.calendarInstance.weekNumber) {\n                    if (rowCount === weekNumCell && elements[weekNumCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n                else {\n                    if (rowCount === numberCell && elements[numberCell].classList.contains(OTHERMONTH$1)) {\n                        addClass([trEle], OTHERMONTHROW$1);\n                    }\n                }\n            }\n            row = row + count;\n            rowCount = rowCount + 0;\n            this.calendarInstance.tableBodyElement.appendChild(trEle);\n        }\n        this.calendarInstance.table.querySelector('tbody').className = this.calendarInstance.effect;\n        this.islamicIconHandler();\n        if (view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView())\n            || (view === 0 && view !== this.calendarInstance.getViewNumber(this.calendarInstance.currentView()))) {\n            this.calendarInstance.navigateHandler(e);\n        }\n        this.calendarInstance.setAriaActiveDescendant();\n        this.calendarInstance.changedArgs = { value: this.calendarInstance.value, values: this.calendarInstance.values };\n        this.calendarInstance.changeHandler();\n    };\n    Islamic.prototype.islamicCompareMonth = function (start, end) {\n        var hijriStart = (this.getIslamicDate(start));\n        var hijriEnd = (this.getIslamicDate(end));\n        var result;\n        if (hijriStart.year > hijriEnd.year) {\n            result = 1;\n        }\n        else if (hijriStart.year < hijriEnd.year) {\n            result = -1;\n        }\n        else {\n            result = hijriStart.month === hijriEnd.month ? 0 : hijriStart.month > hijriEnd.month ? 1 : -1;\n        }\n        return result;\n    };\n    Islamic.prototype.islamicCompare = function (startDate, endDate, modifier) {\n        var hijriStart = this.getIslamicDate(startDate);\n        var hijriEnd = this.getIslamicDate(endDate);\n        var start = hijriEnd.year;\n        var end;\n        var result;\n        end = start;\n        result = 0;\n        if (modifier) {\n            start = start - start % modifier;\n            end = start - start % modifier + modifier - 1;\n        }\n        if (hijriStart.year > end) {\n            result = 1;\n        }\n        else if ((this.calendarInstance.currentView() === 'Decade') && hijriStart.year < start &&\n            !((startDate.getFullYear() >= minDecade && startDate.getFullYear() <= maxDecade))) {\n            result = -1;\n        }\n        else if (hijriStart.year < start && (this.calendarInstance.currentView() === 'Year')) {\n            result = -1;\n        }\n        return result;\n    };\n    Islamic.prototype.getIslamicDate = function (date) {\n        return (HijriParser.getHijriDate(date));\n    };\n    Islamic.prototype.toGregorian = function (year, month, date) {\n        return HijriParser.toGregorian(year, month, date);\n    };\n    Islamic.prototype.hijriCompareYear = function (start, end) {\n        return this.islamicCompare(start, end, 0);\n    };\n    Islamic.prototype.hijriCompareDecade = function (start, end) {\n        return this.islamicCompare(start, end, 10);\n    };\n    Islamic.prototype.destroy = function () {\n        this.calendarInstance = null;\n    };\n    Islamic.prototype.islamicInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    return Islamic;\n}());\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Calendar modules\n */\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\n//class constant defination\nvar DATEWRAPPER = 'e-date-wrapper';\nvar ROOT$1 = 'e-datepicker';\nvar LIBRARY = 'e-lib';\nvar CONTROL = 'e-control';\nvar POPUPWRAPPER = 'e-popup-wrapper';\nvar INPUTWRAPPER = 'e-input-group-icon';\nvar POPUP = 'e-popup';\nvar INPUTCONTAINER = 'e-input-group';\nvar INPUTFOCUS = 'e-input-focus';\nvar INPUTROOT = 'e-input';\nvar ERROR = 'e-error';\nvar ACTIVE = 'e-active';\nvar OVERFLOW = 'e-date-overflow';\nvar DATEICON = 'e-date-icon';\nvar ICONS = 'e-icons';\nvar OPENDURATION = 300;\nvar OFFSETVALUE = 4;\nvar SELECTED$2 = 'e-selected';\nvar FOCUSEDDATE$2 = 'e-focused-date';\nvar NONEDIT = 'e-non-edit';\nvar containerAttr = ['title', 'class', 'style'];\n/**\n * Represents the DatePicker component that allows user to select\n * or enter a date value.\n * ```html\n * <input id='datepicker'/>\n * ```\n * ```typescript\n * <script>\n *   let datePickerObject:DatePicker = new DatePicker({ value: new Date() });\n *   datePickerObject.appendTo('#datepicker');\n * </script>\n * ```\n */\nvar DatePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(DatePicker, _super);\n    /**\n     * Constructor for creating the widget.\n     *\n     * @param {DatePickerModel} options - Specifies the DatePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DatePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isDateIconClicked = false;\n        _this.isAltKeyPressed = false;\n        _this.isInteracted = true;\n        _this.invalidValueString = null;\n        _this.checkPreviousValue = null;\n        _this.maskedDateValue = '';\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.isIconClicked = false;\n        _this.isDynamicValueChanged = false;\n        _this.moduleName = _this.getModuleName();\n        _this.isFocused = false;\n        _this.datepickerOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.render = function () {\n        this.initialize();\n        this.bindEvents();\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.renderComplete();\n        this.setTimeZone(this.serverTimezoneOffset);\n    };\n    DatePicker.prototype.setTimeZone = function (offsetValue) {\n        if (!isNullOrUndefined(this.serverTimezoneOffset) && this.value) {\n            var clientTimeZoneDiff = new Date().getTimezoneOffset() / 60;\n            var serverTimezoneDiff = offsetValue;\n            var timeZoneDiff = serverTimezoneDiff + clientTimeZoneDiff;\n            timeZoneDiff = this.isDayLightSaving() ? timeZoneDiff-- : timeZoneDiff;\n            this.value = new Date((this.value).getTime() + (timeZoneDiff * 60 * 60 * 1000));\n            this.updateInput();\n        }\n    };\n    DatePicker.prototype.isDayLightSaving = function () {\n        var firstOffset = new Date(this.value.getFullYear(), 0, 1).getTimezoneOffset();\n        var secondOffset = new Date(this.value.getFullYear(), 6, 1).getTimezoneOffset();\n        return (this.value.getTimezoneOffset() < Math.max(firstOffset, secondOffset));\n    };\n    DatePicker.prototype.setAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateIconState();\n    };\n    DatePicker.prototype.updateIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDIT]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDIT]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDIT]);\n        }\n    };\n    DatePicker.prototype.initialize = function () {\n        this.checkInvalidValue(this.value);\n        if (this.enableMask) {\n            this.notify('createMask', {\n                module: 'MaskedDateTime'\n            });\n        }\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setAllowEdit();\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType === 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInput(true);\n            this.updateInputValue(this.maskedDateValue);\n        }\n        else if (!this.enableMask) {\n            this.updateInput(true);\n        }\n        this.previousElementValue = this.inputElement.value;\n        this.previousDate = !isNullOrUndefined(this.value) ? new Date(+this.value) : null;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputValueCopy = this.value;\n    };\n    DatePicker.prototype.createInput = function () {\n        var ariaAttrs = {\n            'aria-atomic': 'true', 'aria-expanded': 'false',\n            'role': 'combobox', 'autocomplete': 'off', 'autocorrect': 'off',\n            'autocapitalize': 'off', 'spellcheck': 'false', 'aria-invalid': 'false'\n        };\n        if (this.getModuleName() === 'datepicker') {\n            var l10nLocale = { placeholder: this.placeholder };\n            this.globalize = new Internationalization(this.locale);\n            this.l10n = new L10n('datepicker', l10nLocale, this.locale);\n            this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        }\n        var updatedCssClassValues = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValues = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        var isBindClearAction = this.enableMask ? false : true;\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            floatLabelType: this.floatLabelType,\n            bindClearAction: isBindClearAction,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValues,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [INPUTWRAPPER + ' ' + DATEICON + ' ' + ICONS]\n        }, this.createElement);\n        this.setWidth(this.width);\n        if (this.inputElement.name !== '') {\n            this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute('name'));\n        }\n        else {\n            this.inputElement.setAttribute('name', '' + this.element.id);\n        }\n        attributes(this.inputElement, ariaAttrs);\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        addClass([this.inputWrapper.container], DATEWRAPPER);\n    };\n    DatePicker.prototype.updateInput = function (isDynamic) {\n        if (isDynamic === void 0) { isDynamic = false; }\n        var formatOptions;\n        if (this.value && !this.isCalendar()) {\n            this.disabledDates(isDynamic);\n        }\n        if (isNaN(+new Date(this.checkValue(this.value)))) {\n            this.setProperties({ value: null }, true);\n        }\n        if (this.strictMode) {\n            //calls the Calendar processDate protected method to update the date value according to the strictMode true behaviour.\n            _super.prototype.validateDate.call(this);\n            this.minMaxUpdates();\n            _super.prototype.minMaxUpdate.call(this);\n        }\n        if (!isNullOrUndefined(this.value)) {\n            var dateValue = this.value;\n            var dateString = void 0;\n            var tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd'\n                    });\n                }\n                else {\n                    dateString = this.globalize.formatDate(this.value, {\n                        format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                    });\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                dateString = this.globalize.formatDate(this.value, formatOptions);\n            }\n            if ((+dateValue <= +this.max) && (+dateValue >= +this.min)) {\n                this.updateInputValue(dateString);\n            }\n            else {\n                var value = (+dateValue >= +this.max || !+this.value) || (!+this.value || +dateValue <= +this.min);\n                if (!this.strictMode && value) {\n                    this.updateInputValue(dateString);\n                }\n            }\n        }\n        if (isNullOrUndefined(this.value) && this.strictMode) {\n            if (!this.enableMask) {\n                this.updateInputValue('');\n            }\n            else {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify('createMask', {\n                    module: 'MaskedDateTime'\n                });\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.changedArgs = { value: this.value };\n        this.errorClass();\n        this.updateIconState();\n    };\n    DatePicker.prototype.minMaxUpdates = function () {\n        if (!isNullOrUndefined(this.value) && this.value < this.min && this.min <= this.max && this.strictMode) {\n            this.setProperties({ value: this.min }, true);\n            this.changedArgs = { value: this.value };\n        }\n        else {\n            if (!isNullOrUndefined(this.value) && this.value > this.max && this.min <= this.max && this.strictMode) {\n                this.setProperties({ value: this.max }, true);\n                this.changedArgs = { value: this.value };\n            }\n        }\n    };\n    DatePicker.prototype.checkStringValue = function (val) {\n        var returnDate = null;\n        var formatOptions = null;\n        var formatDateTime = null;\n        if (this.getModuleName() === 'datetimepicker') {\n            var culture = new Internationalization(this.locale);\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n            }\n            else {\n                formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        returnDate = this.checkDateValue(this.globalize.parseDate(val, formatOptions));\n        if (isNullOrUndefined(returnDate) && (this.getModuleName() === 'datetimepicker')) {\n            returnDate = this.checkDateValue(this.globalize.parseDate(val, formatDateTime));\n        }\n        return returnDate;\n    };\n    DatePicker.prototype.checkInvalidValue = function (value) {\n        if (!(value instanceof Date) && !isNullOrUndefined(value)) {\n            var valueDate = null;\n            var valueString = value;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            var formatOptions = null;\n            var formatDateTime = null;\n            if (this.getModuleName() === 'datetimepicker') {\n                var culture = new Internationalization(this.locale);\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd' };\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime' };\n                }\n                else {\n                    formatOptions = { format: this.dateTimeFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatDateTime = { format: culture.getDatePattern({ skeleton: 'yMd' }), type: 'dateTime', calendar: 'islamic' };\n                }\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n            }\n            var invalid = false;\n            if (typeof valueString !== 'string') {\n                valueString = null;\n                invalid = true;\n            }\n            else {\n                if (typeof valueString === 'string') {\n                    valueString = valueString.trim();\n                }\n                valueDate = this.checkStringValue(valueString);\n                if (!valueDate) {\n                    var extISOString = null;\n                    var basicISOString = null;\n                    // eslint-disable-next-line\n                    extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    // eslint-disable-next-line\n                    basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                    if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                        || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                        invalid = true;\n                    }\n                    else {\n                        valueDate = new Date(valueString);\n                    }\n                }\n            }\n            if (invalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n            }\n            else {\n                this.setProperties({ value: valueDate }, true);\n            }\n        }\n    };\n    DatePicker.prototype.bindInputEvent = function () {\n        if (!isNullOrUndefined(this.formatString) || this.enableMask) {\n            if (this.enableMask || this.formatString.indexOf('y') === -1) {\n                EventHandler.add(this.inputElement, 'input', this.inputHandler, this);\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'input', this.inputHandler);\n            }\n        }\n    };\n    DatePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler, this);\n        EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        this.bindInputEvent();\n        // To prevent the twice triggering.\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.resetFormHandler, this);\n        }\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardModules = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyActionHandle.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DatePicker.prototype.keydownHandler = function (e) {\n        switch (e.code) {\n            case 'ArrowLeft':\n            case 'ArrowRight':\n            case 'ArrowUp':\n            case 'ArrowDown':\n            case 'Home':\n            case 'End':\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    if (e.code !== 'Delete') {\n                        e.preventDefault();\n                    }\n                    this.notify('keyDownHandler', {\n                        module: 'MaskedDateTime',\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    DatePicker.prototype.unBindEvents = function () {\n        if (!isNullOrUndefined(this.inputWrapper)) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateIconHandler);\n        }\n        EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.enableMask) {\n            EventHandler.remove(this.inputElement, 'keydown', this.keydownHandler);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n    };\n    DatePicker.prototype.resetFormHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var value = this.inputElement.getAttribute('value');\n            if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n                value = '';\n                this.inputValueCopy = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: this.inputValueCopy }, true);\n            this.restoreValue();\n            if (this.inputElement) {\n                this.updateInputValue(value);\n                this.errorClass();\n            }\n        }\n    };\n    DatePicker.prototype.restoreValue = function () {\n        this.currentDate = this.value ? this.value : new Date();\n        this.previousDate = this.value;\n        this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.globalize.formatDate(this.inputValueCopy, {\n                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n            });\n    };\n    DatePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    DatePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n        }\n    };\n    DatePicker.prototype.resetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        this.clear(e);\n    };\n    DatePicker.prototype.mouseUpHandler = function (e) {\n        if (this.enableMask) {\n            e.preventDefault();\n            this.notify('setMaskSelection', {\n                module: 'MaskedDateTime'\n            });\n        }\n    };\n    DatePicker.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        if (!this.enableMask) {\n            this.updateInputValue('');\n        }\n        var clearedArgs = {\n            event: event\n        };\n        this.trigger('cleared', clearedArgs);\n        this.invalidValueString = '';\n        this.updateInput();\n        this.popupUpdate();\n        this.changeEvent(event);\n        if (this.enableMask) {\n            this.notify('clearHandler', {\n                module: 'MaskedDateTime'\n            });\n        }\n        if (closest(this.element, 'form')) {\n            var element = this.element;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    DatePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.interopAdaptor.invokeMethodAsync('OnDateIconClick');\n    };\n    DatePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    DatePicker.prototype.dateIconHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n            this.inputElement.blur();\n        }\n        e.preventDefault();\n        if (!this.readonly) {\n            if (this.isCalendar()) {\n                this.hide(e);\n            }\n            else {\n                this.isDateIconClicked = true;\n                this.show(null, e);\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                this.inputElement.focus();\n                addClass([this.inputWrapper.container], [INPUTFOCUS]);\n                addClass(this.inputWrapper.buttons, ACTIVE);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DatePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!isNullOrUndefined(this.htmlAttributes[\"\" + key])) {\n                    if (containerAttr.indexOf(key) > -1) {\n                        if (key === 'class') {\n                            var updatedClassValues = (this.htmlAttributes[\"\" + key].replace(/\\s+/g, ' ')).trim();\n                            if (updatedClassValues !== '') {\n                                addClass([this.inputWrapper.container], updatedClassValues.split(' '));\n                            }\n                        }\n                        else if (key === 'style') {\n                            var setStyle = this.inputWrapper.container.getAttribute(key);\n                            if (!isNullOrUndefined(setStyle)) {\n                                if (setStyle.charAt(setStyle.length - 1) === ';') {\n                                    setStyle = setStyle + this.htmlAttributes[\"\" + key];\n                                }\n                                else {\n                                    setStyle = setStyle + ';' + this.htmlAttributes[\"\" + key];\n                                }\n                            }\n                            else {\n                                setStyle = this.htmlAttributes[\"\" + key];\n                            }\n                            this.inputWrapper.container.setAttribute(key, setStyle);\n                        }\n                        else {\n                            this.inputWrapper.container.setAttribute(key, this.htmlAttributes[\"\" + key]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (containerAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[\"\" + key]);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.updateCssClass = function (newCssClass, oldCssClass) {\n        if (!isNullOrUndefined(oldCssClass)) {\n            oldCssClass = (oldCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(newCssClass)) {\n            newCssClass = (newCssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(newCssClass, [this.inputWrapper.container], oldCssClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(newCssClass, [this.popupWrapper], oldCssClass);\n        }\n    };\n    DatePicker.prototype.calendarKeyActionHandle = function (e) {\n        switch (e.action) {\n            case 'escape':\n                if (this.isCalendar()) {\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[this.index].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isCalendar()) {\n                    this.show(null, e);\n                }\n                else {\n                    if (+this.value !== +this.currentDate && !this.isCalendar()) {\n                        this.inputWrapper.container.children[this.index].focus();\n                    }\n                }\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.inputElement.focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n        }\n    };\n    DatePicker.prototype.inputFocusHandler = function () {\n        this.isFocused = true;\n        if (!this.enabled) {\n            return;\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        var focusArguments = {\n            model: this\n        };\n        this.isDateIconClicked = false;\n        this.trigger('focus', focusArguments);\n        this.updateIconState();\n        if (this.openOnFocus && !this.isIconClicked) {\n            this.show();\n        }\n    };\n    DatePicker.prototype.inputHandler = function () {\n        this.isPopupClicked = false;\n        if (this.enableMask) {\n            this.notify('inputHandler', {\n                module: 'MaskedDateTime'\n            });\n        }\n    };\n    DatePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.strictModeUpdate();\n        if (this.inputElement.value === '' && isNullOrUndefined(this.value)) {\n            this.invalidValueString = null;\n            this.updateInputValue('');\n        }\n        this.updateInput();\n        this.popupUpdate();\n        this.changeTrigger(e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value === this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        this.errorClass();\n        if (this.isCalendar() && document.activeElement === this.inputElement) {\n            this.hide(e);\n        }\n        if (this.getModuleName() === 'datepicker') {\n            var blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n        if (this.isCalendar()) {\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.calendarKeyboardModules = new KeyboardEvents(this.calendarElement.children[1].firstElementChild, {\n                eventName: 'keydown',\n                keyAction: this.calendarKeyActionHandle.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        this.isPopupClicked = false;\n    };\n    DatePicker.prototype.documentHandler = function (e) {\n        if ((!isNullOrUndefined(this.popupObj) && !isNullOrUndefined(this.inputWrapper) && (this.inputWrapper.container.contains(e.target) && e.type !== 'mousedown' ||\n            (this.popupObj.element && this.popupObj.element.contains(e.target)))) && e.type !== 'touchstart') {\n            e.preventDefault();\n        }\n        var target = e.target;\n        if (!(closest(target, '.e-datepicker.e-popup-wrapper')) && !isNullOrUndefined(this.inputWrapper)\n            && !(closest(target, '.' + INPUTCONTAINER) === this.inputWrapper.container)\n            && (!target.classList.contains('e-day'))) {\n            this.hide(e);\n            this.focusOut();\n        }\n        else if (closest(target, '.e-datepicker.e-popup-wrapper')) {\n            // Fix for close the popup when select the previously selected value.\n            if (target.classList.contains('e-day')\n                && !isNullOrUndefined(e.target.parentElement)\n                && e.target.parentElement.classList.contains('e-selected')\n                && closest(target, '.e-content')\n                && closest(target, '.e-content').classList.contains('e-' + this.depth.toLowerCase())) {\n                this.hide(e);\n            }\n            else if (closest(target, '.e-footer-container')\n                && target.classList.contains('e-today')\n                && target.classList.contains('e-btn')\n                && (+new Date(+this.value) === +_super.prototype.generateTodayVal.call(this, this.value))) {\n                this.hide(e);\n            }\n        }\n    };\n    DatePicker.prototype.inputKeyActionHandle = function (e) {\n        var clickedView = this.currentView();\n        switch (e.action) {\n            case 'altUpArrow':\n                this.isAltKeyPressed = false;\n                this.hide(e);\n                this.inputElement.focus();\n                break;\n            case 'altDownArrow':\n                this.isAltKeyPressed = true;\n                this.strictModeUpdate();\n                this.updateInput();\n                this.changeTrigger(e);\n                if (this.getModuleName() === 'datepicker') {\n                    this.show(null, e);\n                }\n                break;\n            case 'escape':\n                this.hide(e);\n                break;\n            case 'enter':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.popupUpdate();\n                this.changeTrigger(e);\n                this.errorClass();\n                if (!this.isCalendar() && document.activeElement === this.inputElement) {\n                    this.hide(e);\n                }\n                if (this.isCalendar()) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                {\n                    var start = this.inputElement.selectionStart;\n                    var end = this.inputElement.selectionEnd;\n                    if (this.enableMask && !this.popupObj && !this.readonly) {\n                        var length_1 = this.inputElement.value.length;\n                        if ((start === 0 && end === length_1) || (end !== length_1 && e.action === 'tab') || (start !== 0 && e.action === 'shiftTab')) {\n                            e.preventDefault();\n                        }\n                        this.notify('keyDownHandler', {\n                            module: 'MaskedDateTime',\n                            e: e\n                        });\n                        start = this.inputElement.selectionStart;\n                        end = this.inputElement.selectionEnd;\n                    }\n                    this.strictModeUpdate();\n                    this.updateInput();\n                    this.popupUpdate();\n                    this.changeTrigger(e);\n                    this.errorClass();\n                    if (this.enableMask) {\n                        this.inputElement.selectionStart = start;\n                        this.inputElement.selectionEnd = end;\n                    }\n                    this.hide(e);\n                    break;\n                }\n            default:\n                this.defaultAction(e);\n                // Fix for close the popup when select the previously selected value.\n                if (e.action === 'select' && clickedView === this.depth) {\n                    this.hide(e);\n                }\n        }\n    };\n    DatePicker.prototype.defaultAction = function (e) {\n        this.previousDate = ((!isNullOrUndefined(this.value) && new Date(+this.value)) || null);\n        if (this.isCalendar()) {\n            _super.prototype.keyActionHandle.call(this, e);\n            if (this.isCalendar()) {\n                attributes(this.inputElement, {\n                    'aria-activedescendant': '' + this.setActiveDescendant()\n                });\n            }\n        }\n    };\n    DatePicker.prototype.popupUpdate = function () {\n        if ((isNullOrUndefined(this.value)) && (!isNullOrUndefined(this.previousDate)) ||\n            (+this.value !== +this.previousDate)) {\n            if (this.popupObj) {\n                if (this.popupObj.element.querySelectorAll('.' + SELECTED$2).length > 0) {\n                    removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$2), [SELECTED$2]);\n                }\n            }\n            if (!isNullOrUndefined(this.value)) {\n                if ((+this.value >= +this.min) && (+this.value <= +this.max)) {\n                    var targetdate = new Date(this.checkValue(this.value));\n                    _super.prototype.navigateTo.call(this, 'Month', targetdate);\n                }\n            }\n        }\n    };\n    DatePicker.prototype.strictModeUpdate = function () {\n        var format;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            format = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            format = isNullOrUndefined(this.formatString) ? this.formatString : this.formatString.replace('dd', 'd');\n        }\n        if (!isNullOrUndefined(format)) {\n            var len = format.split('M').length - 1;\n            if (len < 3) {\n                format = format.replace('MM', 'M');\n            }\n        }\n        var dateOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                dateOptions = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: format, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            dateOptions = formatOptions;\n        }\n        var date;\n        if (typeof this.inputElement.value === 'string') {\n            this.inputElement.value = this.inputElement.value.trim();\n        }\n        if ((this.getModuleName() === 'datetimepicker')) {\n            if (this.checkDateValue(this.globalize.parseDate(this.inputElement.value, dateOptions))) {\n                date = this.globalize.parseDate(this.inputElement.value.toLocaleUpperCase(), dateOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.parseDate(this.inputElement.value, formatOptions);\n            }\n        }\n        else {\n            date = this.globalize.parseDate(this.inputElement.value, dateOptions);\n            date = (!isNullOrUndefined(date) && isNaN(+date)) ? null : date;\n            if (!isNullOrUndefined(this.formatString) && this.inputElement.value !== '' && this.strictMode) {\n                if ((this.isPopupClicked || (!this.isPopupClicked && this.inputElement.value === this.previousElementValue))\n                    && this.formatString.indexOf('y') === -1) {\n                    date.setFullYear(this.value.getFullYear());\n                }\n            }\n        }\n        // EJ2-35061 - To prevent change event from triggering twice when using strictmode and format property\n        if ((this.getModuleName() === 'datepicker') && (this.value && !isNaN(+this.value)) && date) {\n            date.setHours(this.value.getHours(), this.value.getMinutes(), this.value.getSeconds(), this.value.getMilliseconds());\n        }\n        if (this.strictMode && date) {\n            this.updateInputValue(this.globalize.formatDate(date, dateOptions));\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        else if (!this.strictMode) {\n            if (this.inputElement.value !== this.previousElementValue) {\n                this.setProperties({ value: date }, true);\n            }\n        }\n        if (this.strictMode && !date && this.inputElement.value === (this.enableMask ? this.maskedDateValue : '')) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNaN(+this.value)) {\n            this.setProperties({ value: null }, true);\n        }\n        if (isNullOrUndefined(this.value)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n    };\n    DatePicker.prototype.createCalendar = function () {\n        var _this = this;\n        this.popupWrapper = this.createElement('div', { className: '' + ROOT$1 + ' ' + POPUPWRAPPER });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (Browser.isDevice) {\n            this.modelHeader();\n            this.modal = this.createElement('div');\n            this.modal.className = '' + ROOT$1 + ' e-date-modal';\n            document.body.className += ' ' + OVERFLOW;\n            this.modal.style.display = 'block';\n            document.body.appendChild(this.modal);\n        }\n        //this.calendarElement represent the Calendar object from the Calendar class.\n        this.calendarElement.querySelector('table tbody').className = '';\n        this.popupObj = new Popup(this.popupWrapper, {\n            content: this.calendarElement,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            offsetY: OFFSETVALUE,\n            targetType: 'container',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            open: function () {\n                if (_this.getModuleName() !== 'datetimepicker') {\n                    if (document.activeElement !== _this.inputElement) {\n                        _this.defaultKeyConfigs = extend(_this.defaultKeyConfigs, _this.keyConfigs);\n                        _this.calendarElement.children[1].firstElementChild.focus();\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.calendarElement.children[1].firstElementChild, {\n                            eventName: 'keydown',\n                            keyAction: _this.calendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                        _this.calendarKeyboardModules = new KeyboardEvents(_this.inputWrapper.container.children[_this.index], {\n                            eventName: 'keydown',\n                            keyAction: _this.calendarKeyActionHandle.bind(_this),\n                            keyConfigs: _this.defaultKeyConfigs\n                        });\n                    }\n                }\n            }, close: function () {\n                if (_this.isDateIconClicked) {\n                    _this.inputWrapper.container.children[_this.index].focus();\n                }\n                if (_this.value) {\n                    _this.disabledDates();\n                }\n                if (_this.popupObj) {\n                    _this.popupObj.destroy();\n                }\n                _this.resetCalendar();\n                detach(_this.popupWrapper);\n                _this.popupObj = _this.popupWrapper = null;\n                _this.preventArgs = null;\n                _this.calendarKeyboardModules = null;\n                _this.setAriaAttributes();\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObj.element.className += ' ' + this.cssClass;\n        this.setAriaAttributes();\n    };\n    DatePicker.prototype.setAriaDisabled = function () {\n        if (!this.enabled) {\n            this.inputElement.setAttribute('aria-disabled', 'true');\n            this.inputElement.tabIndex = -1;\n        }\n        else {\n            this.inputElement.setAttribute('aria-disabled', 'false');\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n    };\n    DatePicker.prototype.modelHeader = function () {\n        var dateOptions;\n        var modelHeader = this.createElement('div', { className: 'e-model-header' });\n        var yearHeading = this.createElement('h1', { className: 'e-model-year' });\n        var h2 = this.createElement('div');\n        var daySpan = this.createElement('span', { className: 'e-model-day' });\n        var monthSpan = this.createElement('span', { className: 'e-model-month' });\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'y', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'y', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        yearHeading.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'E', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'E', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        daySpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions) + ', ';\n        if (this.calendarMode === 'Gregorian') {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime' };\n        }\n        else {\n            dateOptions = { format: 'MMM d', skeleton: 'dateTime', calendar: 'islamic' };\n        }\n        monthSpan.textContent = '' + this.globalize.formatDate(this.value || new Date(), dateOptions);\n        modelHeader.appendChild(yearHeading);\n        h2.appendChild(daySpan);\n        h2.appendChild(monthSpan);\n        modelHeader.appendChild(h2);\n        this.calendarElement.insertBefore(modelHeader, this.calendarElement.firstElementChild);\n    };\n    DatePicker.prototype.changeTrigger = function (event) {\n        if (this.inputElement.value !== this.previousElementValue) {\n            if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n                if (this.isDynamicValueChanged && this.isCalendar()) {\n                    this.popupUpdate();\n                }\n                this.changedArgs.value = this.value;\n                this.changedArgs.event = event || null;\n                this.changedArgs.element = this.element;\n                this.changedArgs.isInteracted = !isNullOrUndefined(event);\n                if (this.isAngular && this.preventChange) {\n                    this.preventChange = false;\n                }\n                else {\n                    this.trigger('change', this.changedArgs);\n                }\n                this.previousElementValue = this.inputElement.value;\n                this.previousDate = !isNaN(+new Date(this.checkValue(this.value))) ? new Date(this.checkValue(this.value)) : null;\n                this.isInteracted = true;\n            }\n        }\n    };\n    DatePicker.prototype.navigatedEvent = function () {\n        this.trigger('navigated', this.navigatedArgs);\n    };\n    DatePicker.prototype.changeEvent = function (event) {\n        if (!this.isIconClicked) {\n            this.selectCalendar(event);\n        }\n        if (((this.previousDate && this.previousDate.valueOf()) !== (this.value && this.value.valueOf()))) {\n            this.changedArgs.event = event ? event : null;\n            this.changedArgs.element = this.element;\n            this.changedArgs.isInteracted = this.isInteracted;\n            if (!this.isDynamicValueChanged) {\n                this.trigger('change', this.changedArgs);\n            }\n            this.previousDate = this.value && new Date(+this.value);\n            if (!this.isDynamicValueChanged) {\n                this.hide(event);\n            }\n            this.previousElementValue = this.inputElement.value;\n            this.errorClass();\n        }\n        else if (event) {\n            this.hide(event);\n        }\n    };\n    DatePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    };\n    DatePicker.prototype.selectCalendar = function (e) {\n        var date;\n        var tempFormat;\n        var formatOptions;\n        if (this.getModuleName() === 'datetimepicker') {\n            tempFormat = !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat;\n        }\n        else {\n            tempFormat = this.formatString;\n        }\n        if (this.value) {\n            if (this.getModuleName() === 'datetimepicker') {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: tempFormat, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            else {\n                if (this.calendarMode === 'Gregorian') {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n                }\n                else {\n                    formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n                }\n                date = this.globalize.formatDate(this.changedArgs.value, formatOptions);\n            }\n            if (this.enableMask) {\n                this.notify('createMask', {\n                    module: 'MaskedDateTime'\n                });\n            }\n        }\n        if (!isNullOrUndefined(date)) {\n            this.updateInputValue(date);\n            if (this.enableMask) {\n                this.notify('setMaskSelection', {\n                    module: 'MaskedDateTime'\n                });\n            }\n        }\n    };\n    DatePicker.prototype.isCalendar = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + POPUPWRAPPER)) {\n            return true;\n        }\n        return false;\n    };\n    DatePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (width.match(/px|%|em/)) ? (this.width) : (formatUnit(this.width));\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Shows the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    DatePicker.prototype.show = function (type, e) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            var prevent_1 = true;\n            var outOfRange = void 0;\n            if (!isNullOrUndefined(this.value) && !(+this.value >= +new Date(this.checkValue(this.min))\n                && +this.value <= +new Date(this.checkValue(this.max)))) {\n                outOfRange = new Date(this.checkValue(this.value));\n                this.setProperties({ 'value': null }, true);\n            }\n            else {\n                outOfRange = this.value || null;\n            }\n            if (!this.isCalendar()) {\n                _super.prototype.render.call(this);\n                this.setProperties({ 'value': outOfRange || null }, true);\n                this.previousDate = outOfRange;\n                this.createCalendar();\n            }\n            if (Browser.isDevice) {\n                this.mobilePopupWrapper = this.createElement('div', { className: 'e-datepick-mob-popup-wrap' });\n                document.body.appendChild(this.mobilePopupWrapper);\n            }\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_1 = false;\n                },\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                appendTo: Browser.isDevice ? this.mobilePopupWrapper : document.body\n            };\n            var eventArgs = this.preventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.preventArgs = eventArgs;\n                if (prevent_1 && !_this.preventArgs.cancel) {\n                    addClass(_this.inputWrapper.buttons, ACTIVE);\n                    _this.preventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupObj.refreshPosition(_this.inputElement);\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: Browser.isDevice ? 0 : OPENDURATION\n                    };\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    _super.prototype.setOverlayIndex.call(_this, _this.mobilePopupWrapper, _this.popupObj.element, _this.modal, Browser.isDevice);\n                    _this.setAriaAttributes();\n                }\n                else {\n                    _this.popupObj.destroy();\n                    _this.popupWrapper = _this.popupObj = null;\n                }\n                if (!isNullOrUndefined(_this.inputElement) && _this.inputElement.value === '') {\n                    if (!isNullOrUndefined(_this.tableBodyElement) && _this.tableBodyElement.querySelectorAll('td.e-selected').length > 0) {\n                        addClass([_this.tableBodyElement.querySelector('td.e-selected')], FOCUSEDDATE$2);\n                        removeClass(_this.tableBodyElement.querySelectorAll('td.e-selected'), SELECTED$2);\n                    }\n                }\n                EventHandler.add(document, 'mousedown touchstart', _this.documentHandler, _this);\n            });\n        }\n    };\n    /**\n     * Hide the Calendar.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    DatePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var prevent_2 = true;\n            this.preventArgs = {\n                preventDefault: function () {\n                    prevent_2 = false;\n                },\n                popup: this.popupObj,\n                event: event || null,\n                cancel: false\n            };\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n            removeClass([document.body], OVERFLOW);\n            var eventArgs = this.preventArgs;\n            if (this.isCalendar()) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventCallback(prevent_2, eventArgs);\n                });\n            }\n            else {\n                this.closeEventCallback(prevent_2, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    DatePicker.prototype.closeEventCallback = function (prevent, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (this.isCalendar() && (prevent && !this.preventArgs.cancel)) {\n            this.popupObj.hide();\n            this.isAltKeyPressed = false;\n            this.keyboardModule.destroy();\n            removeClass(this.inputWrapper.buttons, ACTIVE);\n        }\n        this.setAriaAttributes();\n        if (Browser.isDevice && this.modal) {\n            this.modal.style.display = 'none';\n            this.modal.outerHTML = '';\n            this.modal = null;\n        }\n        if (Browser.isDevice) {\n            if (!isNullOrUndefined(this.mobilePopupWrapper) && (prevent && (isNullOrUndefined(this.preventArgs) || !this.preventArgs.cancel))) {\n                this.mobilePopupWrapper.remove();\n                this.mobilePopupWrapper = null;\n            }\n        }\n        EventHandler.remove(document, 'mousedown touchstart', this.documentHandler);\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    /* eslint-disable jsdoc/require-param */\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DatePicker.prototype.focusIn = function (triggerEvent) {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS]);\n        }\n    };\n    /* eslint-enable jsdoc/require-param */\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DatePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS]);\n            this.inputElement.blur();\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the DatePicker.\n     *\n     * @returns {string}\n     * @deprecated\n     */\n    DatePicker.prototype.currentView = function () {\n        var currentView;\n        if (this.calendarElement) {\n            // calls the Calendar currentView public method\n            currentView = _super.prototype.currentView.call(this);\n        }\n        return currentView;\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Navigates to specified month or year or decade view of the DatePicker.\n     *\n     * @param  {string} view - Specifies the view of the calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @deprecated\n     */\n    DatePicker.prototype.navigateTo = function (view, date) {\n        if (this.calendarElement) {\n            // calls the Calendar navigateTo public method\n            _super.prototype.navigateTo.call(this, view, date);\n        }\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DatePicker.prototype.destroy = function () {\n        this.unBindEvents();\n        _super.prototype.destroy.call(this);\n        if (!isNullOrUndefined(this.keyboardModules)) {\n            this.keyboardModules.destroy();\n        }\n        if (this.popupObj && this.popupObj.element.classList.contains(POPUP)) {\n            _super.prototype.destroy.call(this);\n        }\n        var ariaAttrs = {\n            'aria-atomic': 'true', 'aria-disabled': 'true',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.inputElementCopy.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n            this.ensureInputAttribute();\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObj = this.popupWrapper = null;\n            this.keyboardModule.destroy();\n        }\n        if (this.ngTag === null) {\n            if (this.inputElement) {\n                if (!isNullOrUndefined(this.inputWrapper)) {\n                    this.inputWrapper.container.insertAdjacentElement('afterend', this.inputElement);\n                }\n                removeClass([this.inputElement], [INPUTROOT]);\n            }\n            removeClass([this.element], [ROOT$1]);\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.resetFormHandler);\n        }\n        this.inputWrapper = null;\n        this.keyboardModules = null;\n    };\n    DatePicker.prototype.ensureInputAttribute = function () {\n        var prop = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            prop[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < prop.length; i++) {\n            if (isNullOrUndefined(this.inputElementCopy.getAttribute(prop[i]))) {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(prop[i]);\n            }\n            else {\n                if (prop[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.inputElementCopy.getAttribute(prop[i]);\n                }\n                this.inputElement.setAttribute(prop[i], this.inputElementCopy.getAttribute(prop[i]));\n            }\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.preRender = function () {\n        this.inputElementCopy = this.element.cloneNode(true);\n        removeClass([this.inputElementCopy], [ROOT$1, CONTROL, LIBRARY]);\n        this.inputElement = this.element;\n        this.formElement = closest(this.inputElement, 'form');\n        this.index = this.showClearButton ? 2 : 1;\n        this.ngTag = null;\n        if (this.element.tagName === 'EJS-DATEPICKER' || this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.ngTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        if (this.element.getAttribute('id')) {\n            if (this.ngTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            if (this.getModuleName() === 'datetimepicker') {\n                this.element.id = getUniqueID('ej2-datetimepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n            else {\n                this.element.id = getUniqueID('ej2-datepicker');\n                if (this.ngTag !== null) {\n                    attributes(this.inputElement, { 'id': this.element.id + '_input' });\n                }\n            }\n        }\n        if (this.ngTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.defaultKeyConfigs = this.getDefaultKeyConfig();\n        this.checkHtmlAttributes(false);\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n    };\n    DatePicker.prototype.getDefaultKeyConfig = function () {\n        this.defaultKeyConfigs = {\n            altUpArrow: 'alt+uparrow',\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            controlUp: 'ctrl+38',\n            controlDown: 'ctrl+40',\n            moveDown: 'downarrow',\n            moveUp: 'uparrow',\n            moveLeft: 'leftarrow',\n            moveRight: 'rightarrow',\n            select: 'enter',\n            home: 'home',\n            end: 'end',\n            pageUp: 'pageup',\n            pageDown: 'pagedown',\n            shiftPageUp: 'shift+pageup',\n            shiftPageDown: 'shift+pagedown',\n            controlHome: 'ctrl+home',\n            controlEnd: 'ctrl+end',\n            shiftTab: 'shift+tab',\n            tab: 'tab'\n        };\n        return this.defaultKeyConfigs;\n    };\n    DatePicker.prototype.validationAttribute = function (target, inputElement) {\n        var nameAttribute = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        inputElement.setAttribute('name', nameAttribute);\n        target.removeAttribute('name');\n        var attribute = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attribute.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attribute[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attribute[i]);\n            inputElement.setAttribute(attribute[i], attr);\n            target.removeAttribute(attribute[i]);\n        }\n    };\n    DatePicker.prototype.checkFormat = function () {\n        var culture = new Internationalization(this.locale);\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'dateTime' });\n                }\n                else {\n                    this.formatString = culture.getDatePattern({ skeleton: skeletonString, type: 'date' });\n                }\n            }\n            else {\n                if (this.getModuleName() === 'datetimepicker') {\n                    this.formatString = this.dateTimeFormat;\n                }\n                else {\n                    this.formatString = null;\n                }\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DatePicker.prototype.checkHtmlAttributes = function (dynamic) {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        var attributes$$1 = dynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['value', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder', 'type'];\n        var options;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                };\n            }\n            else {\n                options = {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                };\n            }\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                options = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n        }\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['enabled'] === undefined)) || dynamic)) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !dynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['readonly'] === undefined)) || dynamic)) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !dynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['placeholder'] === undefined)) || dynamic)) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !dynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'value':\n                        if (((isNullOrUndefined(this.datepickerOptions) || (this.datepickerOptions['value'] === undefined)) || dynamic)) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(value, options), {}), !dynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((+this.min === +new Date(1900, 0, 1)) || dynamic) {\n                            var min = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(min), {}), !dynamic);\n                        }\n                        break;\n                    case 'max':\n                        if ((+this.max === +new Date(2099, 11, 31)) || dynamic) {\n                            var max = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, this.globalize.parseDate(max), {}), !dynamic);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DatePicker.prototype.getModuleName = function () {\n        return 'datepicker';\n    };\n    DatePicker.prototype.disabledDates = function (isDynamic) {\n        if (isDynamic === void 0) { isDynamic = false; }\n        var formatOptions;\n        var globalize;\n        var valueCopy = this.checkDateValue(this.value) ? new Date(+this.value) : new Date(this.checkValue(this.value));\n        var previousValCopy = this.previousDate;\n        //calls the Calendar render method to check the disabled dates through renderDayCell event and update the input value accordingly.\n        this.minMaxUpdates();\n        if (!isDynamic || (isDynamic && !isNullOrUndefined(this.renderDayCell))) {\n            _super.prototype.render.call(this);\n        }\n        this.previousDate = previousValCopy;\n        var date = valueCopy && +(valueCopy);\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + date);\n        if (!this.strictMode) {\n            if (typeof this.value === 'string' || ((typeof this.value === 'object') && (+this.value) !== (+valueCopy))) {\n                this.setProperties({ value: valueCopy }, true);\n            }\n        }\n        if (!isNullOrUndefined(this.calendarElement) && !isNullOrUndefined(this.calendarElement.querySelectorAll(dateIdString)[0])) {\n            if (this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled')) {\n                if (!this.strictMode) {\n                    this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                }\n            }\n        }\n        var inputVal;\n        if (this.getModuleName() === 'datetimepicker') {\n            if (this.calendarMode === 'Gregorian') {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd'\n                });\n            }\n            else {\n                globalize = this.globalize.formatDate(valueCopy, {\n                    format: !isNullOrUndefined(this.formatString) ? this.formatString : this.dateTimeFormat,\n                    type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n                });\n            }\n            inputVal = globalize;\n        }\n        else {\n            if (this.calendarMode === 'Gregorian') {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                formatOptions = { format: this.formatString, type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            inputVal = this.globalize.formatDate(valueCopy, formatOptions);\n        }\n        if (!this.popupObj) {\n            this.updateInputValue(inputVal);\n            if (this.enableMask) {\n                this.updateInputValue(this.maskedDateValue);\n                this.notify('createMask', {\n                    module: 'MaskedDateTime'\n                });\n            }\n        }\n    };\n    DatePicker.prototype.setAriaAttributes = function () {\n        if (this.isCalendar()) {\n            Input.addAttributes({ 'aria-expanded': 'true' }, this.inputElement);\n            attributes(this.inputElement, { 'aria-owns': this.inputElement.id + '_options' });\n            if (this.value) {\n                attributes(this.inputElement, { 'aria-activedescendant': '' + this.setActiveDescendant() });\n            }\n        }\n        else {\n            Input.addAttributes({ 'aria-expanded': 'false' }, this.inputElement);\n            this.inputElement.removeAttribute('aria-owns');\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    DatePicker.prototype.errorClass = function () {\n        var dateIdString = '*[id^=\"/id\"]'.replace('/id', '' + (+this.value));\n        var isDisabledDate = this.calendarElement &&\n            this.calendarElement.querySelectorAll(dateIdString)[0] &&\n            this.calendarElement.querySelectorAll(dateIdString)[0].classList.contains('e-disabled');\n        if ((!isNullOrUndefined(this.value) && !isNullOrUndefined(this.min) &&\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            !isNullOrUndefined(this.max) && !(new Date(this.value).setMilliseconds(0) >= new Date(this.min).setMilliseconds(0)\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            && new Date(this.value).setMilliseconds(0) <= new Date(this.max).setMilliseconds(0)))\n            || (!this.strictMode && this.inputElement.value !== '' && this.inputElement.value !== this.maskedDateValue && isNullOrUndefined(this.value) || isDisabledDate)) {\n            addClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else if (!isNullOrUndefined(this.inputWrapper)) {\n            removeClass([this.inputWrapper.container], ERROR);\n            attributes(this.inputElement, { 'aria-invalid': 'false' });\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DatePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DatePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    DatePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.isInteracted = false;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    this.previousElementValue = this.inputElement.value;\n                    if (isNullOrUndefined(this.value)) {\n                        if (this.enableMask) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                        else {\n                            this.updateInputValue('');\n                        }\n                        this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n                    }\n                    this.updateInput(true);\n                    if (+this.previousDate !== +this.value) {\n                        this.changeTrigger(null);\n                    }\n                    this.isInteracted = true;\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                    }\n                    break;\n                case 'format':\n                    this.checkFormat();\n                    this.bindInputEvent();\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setAllowEdit();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    this.setAriaDisabled();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.updateInput();\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                    }\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'start':\n                case 'depth':\n                    this.checkView();\n                    if (this.calendarElement) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    this.index = this.showClearButton ? 2 : 1;\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                        this.bindInputEvent();\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n                default:\n                    if (this.calendarElement && this.isCalendar()) {\n                        _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    }\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"width\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"value\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"cssClass\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"strictMode\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"format\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DatePicker.prototype, \"enabled\", void 0);\n    __decorate$1([\n        Property({})\n    ], DatePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"values\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DatePicker.prototype, \"showClearButton\", void 0);\n    __decorate$1([\n        Property(true)\n    ], DatePicker.prototype, \"allowEdit\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$1([\n        Property(1000)\n    ], DatePicker.prototype, \"zIndex\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"readonly\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"placeholder\", void 0);\n    __decorate$1([\n        Property('Never')\n    ], DatePicker.prototype, \"floatLabelType\", void 0);\n    __decorate$1([\n        Property(null)\n    ], DatePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$1([\n        Property(false)\n    ], DatePicker.prototype, \"enableMask\", void 0);\n    __decorate$1([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DatePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"open\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"cleared\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"close\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"blur\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"focus\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"created\", void 0);\n    __decorate$1([\n        Event()\n    ], DatePicker.prototype, \"destroyed\", void 0);\n    DatePicker = __decorate$1([\n        NotifyPropertyChanges\n    ], DatePicker);\n    return DatePicker;\n}(Calendar));\n\n/**\n * Datepicker modules\n */\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference path='../calendar/calendar-model.d.ts'/>\nvar DATERANGEWRAPPER = 'e-date-range-wrapper';\nvar INPUTCONTAINER$1 = 'e-input-group';\nvar DATERANGEICON = 'e-input-group-icon e-range-icon e-icons';\nvar POPUP$1 = 'e-popup';\nvar LEFTCALENDER = 'e-left-calendar';\nvar RIGHTCALENDER = 'e-right-calendar';\nvar LEFTCONTAINER = 'e-left-container';\nvar RIGHTCONTAINER = 'e-right-container';\nvar ROOT$2 = 'e-daterangepicker';\nvar LIBRARY$1 = 'e-lib';\nvar CONTROL$1 = 'e-control';\nvar ERROR$1 = 'e-error';\nvar ACTIVE$1 = 'e-active';\nvar STARTENDCONTAINER = 'e-start-end';\nvar STARTDATE = 'e-start-date';\nvar ENDDATE = 'e-end-date';\nvar STARTBUTTON = 'e-start-btn';\nvar INPUTFOCUS$1 = 'e-input-focus';\nvar ENDBUTTON = 'e-end-btn';\nvar RANGEHOVER = 'e-range-hover';\nvar OTHERMONTH$2 = 'e-other-month';\nvar STARTLABEL = 'e-start-label';\nvar ENDLABEL = 'e-end-label';\nvar DISABLED$2 = 'e-disabled';\nvar SELECTED$3 = 'e-selected';\nvar CALENDAR = 'e-calendar';\nvar NEXTICON$1 = 'e-next';\nvar PREVICON$1 = 'e-prev';\nvar HEADER$1 = 'e-header';\nvar TITLE$1 = 'e-title';\nvar ICONCONTAINER$1 = 'e-icon-container';\nvar RANGECONTAINER = 'e-date-range-container';\nvar RANGEHEADER = 'e-range-header';\nvar PRESETS = 'e-presets';\nvar FOOTER$1 = 'e-footer';\nvar RANGEBORDER = 'e-range-border';\nvar TODAY$2 = 'e-today';\nvar FOCUSDATE = 'e-focused-date';\nvar CONTENT$1 = 'e-content';\nvar DAYSPAN = 'e-day-span';\nvar WEEKNUMBER$2 = 'e-week-number';\nvar DATEDISABLED = 'e-date-disabled';\nvar ICONDISABLED = 'e-icon-disabled';\nvar CALENDARCONTAINER = 'e-calendar-container';\nvar SEPARATOR = 'e-separator';\nvar APPLY = 'e-apply';\nvar CANCEL = 'e-cancel';\nvar DEVICE$1 = 'e-device';\nvar OVERLAY$2 = 'e-overlay';\nvar CHANGEICON = 'e-change-icon e-icons';\nvar LISTCLASS = 'e-list-item';\nvar RTL$1 = 'e-rtl';\nvar HOVER = 'e-hover';\nvar OVERFLOW$1 = 'e-range-overflow';\nvar OFFSETVALUE$1 = 4;\nvar PRIMARY$1 = 'e-primary';\nvar FLAT$1 = 'e-flat';\nvar CSS$1 = 'e-css';\nvar ZOOMIN$1 = 'e-zoomin';\nvar NONEDITABLE = 'e-non-edit';\nvar DAYHEADERLONG$1 = 'e-daterange-day-header-lg';\nvar HIDDENELEMENT = 'e-daterange-hidden';\nvar wrapperAttr = ['title', 'class', 'style'];\nvar Presets = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Presets, _super);\n    function Presets() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property()\n    ], Presets.prototype, \"label\", void 0);\n    __decorate$2([\n        Property()\n    ], Presets.prototype, \"start\", void 0);\n    __decorate$2([\n        Property()\n    ], Presets.prototype, \"end\", void 0);\n    return Presets;\n}(ChildProperty));\n/**\n * Represents the DateRangePicker component that allows user to select the date range from the calendar\n * or entering the range through the input element.\n * ```html\n * <input id=\"daterangepicker\"/>\n * ```\n * ```typescript\n * <script>\n *   var dateRangePickerObj = new DateRangePicker({ startDate: new Date(\"05/07/2017\"), endDate: new Date(\"10/07/2017\") });\n *   dateRangePickerObj.appendTo(\"#daterangepicker\");\n * </script>\n * ```\n */\nvar DateRangePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(DateRangePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateRangePickerModel} options - Specifies the DateRangePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DateRangePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.isCustomRange = false;\n        _this.isCustomWindow = false;\n        _this.presetsItem = [];\n        _this.liCollections = [];\n        _this.previousEleValue = '';\n        _this.isKeyPopup = false;\n        _this.dateDisabled = false;\n        _this.isRangeIconClicked = false;\n        _this.isMaxDaysClicked = false;\n        _this.disabledDays = [];\n        _this.preventBlur = false;\n        _this.preventFocus = false;\n        _this.invalidValueString = null;\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.dateRangeOptions = options;\n        return _this;\n    }\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DateRangePicker.prototype.render = function () {\n        this.initialize();\n        this.setProperties({ startDate: this.startValue }, true);\n        this.setProperties({ endDate: this.endValue }, true);\n        this.setModelValue();\n        this.setDataAttribute(false);\n        if (this.element.hasAttribute('data-val')) {\n            this.element.setAttribute('data-val', 'false');\n        }\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.renderComplete();\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    DateRangePicker.prototype.preRender = function () {\n        this.keyInputConfigs = {\n            altDownArrow: 'alt+downarrow',\n            escape: 'escape',\n            enter: 'enter',\n            tab: 'tab',\n            altRightArrow: 'alt+rightarrow',\n            altLeftArrow: 'alt+leftarrow',\n            moveUp: 'uparrow',\n            moveDown: 'downarrow',\n            spacebar: 'space'\n        };\n        this.defaultConstant = {\n            placeholder: this.placeholder,\n            startLabel: 'Start Date',\n            endLabel: 'End Date',\n            customRange: 'Custom Range',\n            applyText: 'Apply',\n            cancelText: 'Cancel',\n            selectedDays: 'Selected Days',\n            days: 'days'\n        };\n        /**\n         * Mobile View\n         */\n        this.isMobile = window.matchMedia('(max-width:550px)').matches;\n        this.inputElement = this.element;\n        this.angularTag = null;\n        if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$2, CONTROL$1, LIBRARY$1]);\n        this.updateHtmlAttributeToElement();\n        if (this.element.getAttribute('id')) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            this.element.id = getUniqueID('ej2-datetimepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        this.checkInvalidRange(this.value);\n        if (!this.invalidValueString && (typeof (this.value) === 'string')) {\n            var rangeArray = this.value.split(' ' + this.separator + ' ');\n            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n        }\n        this.initProperty();\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        _super.prototype.preRender.call(this);\n        this.navNextFunction = this.navNextMonth.bind(this);\n        this.navPrevFunction = this.navPrevMonth.bind(this);\n        this.deviceNavNextFunction = this.deviceNavNext.bind(this);\n        this.deviceNavPrevFunction = this.deviceNavPrevious.bind(this);\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.formElement = closest(this.element, 'form');\n    };\n    DateRangePicker.prototype.updateValue = function () {\n        if (this.value && this.value.length > 0) {\n            if (this.value[0] instanceof Date && !isNaN(+this.value[0])) {\n                this.setProperties({ startDate: this.value[0] }, true);\n                this.startValue = this.value[0];\n            }\n            else if (typeof this.value[0] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ startDate: new Date(this.checkValue(this.value[0])) }, true);\n                    this.startValue = new Date(this.checkValue(this.value[0]));\n                }\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value[1] instanceof Date && !isNaN(+this.value[1])) {\n                this.setProperties({ endDate: this.value[1] }, true);\n                this.endValue = this.value[1];\n            }\n            else if (typeof this.value[1] === 'string') {\n                if (+this.value[0] === 0 || isNaN(+(new Date(this.checkValue(this.value[0]))))) {\n                    this.setProperties({ endDate: null }, true);\n                    this.endValue = null;\n                    this.setValue();\n                }\n                else {\n                    this.setProperties({ endDate: new Date(this.checkValue(this.value[1])) }, true);\n                    this.endValue = new Date(this.checkValue(this.value[1]));\n                    this.setValue();\n                }\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (this.value && this.value.start) {\n            if (this.value.start instanceof Date && !isNaN(+this.value.start)) {\n                this.setProperties({ startDate: this.value.start }, true);\n                this.startValue = this.value.start;\n            }\n            else if (typeof this.value.start === 'string') {\n                this.setProperties({ startDate: new Date(this.checkValue(this.value.start)) }, true);\n                this.startValue = new Date(this.checkValue(this.value.start));\n            }\n            else {\n                this.startValue = null;\n                this.setValue();\n            }\n            if (this.value.end instanceof Date && !isNaN(+this.value.end)) {\n                this.setProperties({ endDate: this.value.end }, true);\n                this.endValue = this.value.end;\n            }\n            else if (typeof this.value.end === 'string') {\n                this.setProperties({ endDate: new Date(this.checkValue(this.value.end)) }, true);\n                this.endValue = new Date(this.checkValue(this.value.end));\n                this.setValue();\n            }\n            else {\n                this.setProperties({ endDate: null }, true);\n                this.endValue = null;\n                this.setValue();\n            }\n        }\n        else if (isNullOrUndefined(this.value)) {\n            this.endValue = this.checkDateValue(new Date(this.checkValue(this.endDate)));\n            this.startValue = this.checkDateValue(new Date(this.checkValue(this.startDate)));\n            this.setValue();\n        }\n    };\n    DateRangePicker.prototype.initProperty = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.checkFormat();\n        this.checkView();\n        if (isNullOrUndefined(this.firstDayOfWeek) || this.firstDayOfWeek > 6 || this.firstDayOfWeek < 0) {\n            this.setProperties({ firstDayOfWeek: this.globalize.getFirstDayOfWeek() }, true);\n        }\n        this.updateValue();\n    };\n    DateRangePicker.prototype.checkFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (this.format.skeleton !== '' && !isNullOrUndefined(this.format.skeleton)) {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ skeleton: skeletonString, type: 'date' });\n            }\n            else {\n                this.formatString = null;\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    DateRangePicker.prototype.initialize = function () {\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.checkHtmlAttributes(false);\n        merge(this.defaultKeyConfigs, { shiftTab: 'shift+tab', tab: 'tab' });\n        var start = this.checkDateValue(new Date(this.checkValue(this.startValue)));\n        this.setProperties({ startDate: start }, true); // persist the value propeerty.\n        this.setProperties({ endValue: this.checkDateValue(new Date(this.checkValue(this.endValue))) }, true);\n        this.setValue();\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(this.max))) }, true);\n        this.l10n = new L10n('daterangepicker', this.defaultConstant, this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.processPresets();\n        this.createInput();\n        this.updateHtmlAttributeToWrapper();\n        this.setRangeAllowEdit();\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.setDataAttribute = function (isDynamic) {\n        var attributes$$1 = {};\n        if (!isDynamic) {\n            for (var i = 0; i < this.element.attributes.length; i++) {\n                attributes$$1[this.element.attributes[i].name] =\n                    this.element.getAttribute(this.element.attributes[i].name);\n            }\n        }\n        else {\n            attributes$$1 = this.htmlAttributes;\n        }\n        for (var _i = 0, _a = Object.keys(attributes$$1); _i < _a.length; _i++) {\n            var pro = _a[_i];\n            if (pro.indexOf('data') === 0) {\n                this.firstHiddenChild.setAttribute(pro, attributes$$1[\"\" + pro]);\n                this.secondHiddenChild.setAttribute(pro, attributes$$1[\"\" + pro]);\n            }\n        }\n    };\n    DateRangePicker.prototype.setRangeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.updateClearIconState();\n    };\n    DateRangePicker.prototype.updateClearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [NONEDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [NONEDITABLE]);\n        }\n    };\n    DateRangePicker.prototype.validationAttribute = function (element, input) {\n        var name = element.getAttribute('name') ? element.getAttribute('name') : element.getAttribute('id');\n        input.setAttribute('name', name);\n        element.removeAttribute('name');\n        var attributes$$1 = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(element.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            var attr = element.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            element.removeAttribute(attributes$$1[i]);\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassValue = (this.htmlAttributes[\"\" + key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var dateRangeStyle = this.inputWrapper.container.getAttribute(key);\n                        dateRangeStyle = !isNullOrUndefined(dateRangeStyle) ? (dateRangeStyle + this.htmlAttributes[\"\" + key]) :\n                            this.htmlAttributes[\"\" + key];\n                        this.inputWrapper.container.setAttribute(key, dateRangeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[\"\" + key]);\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttr.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[\"\" + key]);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCssClass = function (cssNewClass, cssOldClass) {\n        if (!isNullOrUndefined(cssOldClass)) {\n            cssOldClass = (cssOldClass.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssNewClass)) {\n            cssNewClass = (cssNewClass.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssNewClass, [this.inputWrapper.container], cssOldClass);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssNewClass, [this.popupWrapper], cssOldClass);\n        }\n    };\n    DateRangePicker.prototype.processPresets = function () {\n        this.presetsItem = [];\n        var i = 0;\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            for (var _i = 0, _a = this.presets; _i < _a.length; _i++) {\n                var range = _a[_i];\n                var id = range.label.replace(/\\s+/g, '') + '_' + (++i);\n                if (typeof range.end === 'string') {\n                    this.presetsItem.push({\n                        id: id, text: range.label, end: new Date(this.checkValue(range.end)), start: new Date(this.checkValue(range.start))\n                    });\n                }\n                else {\n                    this.presetsItem.push({ id: id, text: range.label, start: range.start, end: range.end });\n                }\n            }\n            var startDate = isNullOrUndefined(this.startValue) ? null : new Date(+this.startValue);\n            var endDate = isNullOrUndefined(this.endValue) ? null : new Date(+this.endValue);\n            this.presetsItem.push({ id: 'custom_range', text: this.l10n.getConstant('customRange'), start: startDate, end: endDate });\n            if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n                this.isCustomRange = true;\n                this.activeIndex = this.presetsItem.length - 1;\n            }\n        }\n    };\n    DateRangePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n        if (!this.isMobile) {\n            this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n            this.inputKeyboardModule = new KeyboardEvents(this.inputElement, {\n                eventName: 'keydown',\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyInputConfigs\n            });\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (this.enabled) {\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    DateRangePicker.prototype.unBindEvents = function () {\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler);\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.inputKeyboardModule)) {\n                this.inputKeyboardModule.destroy();\n            }\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        this.inputElement.tabIndex = -1;\n    };\n    DateRangePicker.prototype.updateHiddenInput = function () {\n        if (this.firstHiddenChild && this.secondHiddenChild) {\n            var format = { type: 'datetime', skeleton: 'yMd' };\n            if (typeof this.startDate === 'string') {\n                this.startDate = this.globalize.parseDate(this.startDate, format);\n            }\n            if (typeof this.endDate === 'string') {\n                this.endDate = this.globalize.parseDate(this.endDate, format);\n            }\n            this.firstHiddenChild.value = (this.startDate && this.globalize.formatDate(this.startDate, format))\n                || (this.inputElement.value);\n            this.secondHiddenChild.value = (this.endDate && this.globalize.formatDate(this.endDate, format)) ||\n                (this.inputElement.value);\n            this.dispatchEvent(this.firstHiddenChild, 'focusout');\n            this.dispatchEvent(this.firstHiddenChild, 'change');\n        }\n    };\n    DateRangePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n        this.updateHiddenInput();\n    };\n    DateRangePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.resetHandler, this);\n        }\n    };\n    DateRangePicker.prototype.resetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.valueType = this.value;\n        e.preventDefault();\n        this.clear();\n        var clearedArgs = {\n            event: e\n        };\n        this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n        this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n        this.trigger('cleared', clearedArgs);\n        this.changeTrigger(e);\n        this.clearRange();\n        this.hide(e);\n        if (closest(this.element, 'form')) {\n            var element = this.firstHiddenChild;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    DateRangePicker.prototype.restoreValue = function () {\n        this.previousEleValue = this.inputElement.value;\n        this.previousStartValue = this.startValue;\n        this.previousEndValue = this.endValue;\n        this.valueType = null;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n        this.setValue();\n        this.setModelValue();\n    };\n    DateRangePicker.prototype.formResetHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.formElement && (e.target === this.formElement) && !this.inputElement.disabled) {\n            var val = this.inputElement.getAttribute('value');\n            if (!isNullOrUndefined(this.startCopy)) {\n                if (!isNullOrUndefined(this.value) && !isNullOrUndefined(this.value.start)) {\n                    this.setProperties({ value: { start: this.startCopy, end: this.endCopy } }, true);\n                    this.startValue = this.value.start;\n                    this.endValue = this.value.end;\n                }\n                else {\n                    this.setProperties({ value: [this.startCopy, this.endCopy] }, true);\n                    this.startValue = this.value[0];\n                    this.endValue = this.value[1];\n                }\n                this.setProperties({ startDate: this.startValue, endDate: this.endValue }, true);\n            }\n            else {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                this.startValue = this.endValue = null;\n            }\n            if (this.element.tagName === 'EJS-DATERANGEPICKER') {\n                this.setProperties({ value: null, startDate: null, endDate: null }, true);\n                val = '';\n                this.startValue = this.endValue = null;\n                this.inputElement.setAttribute('value', '');\n            }\n            this.restoreValue();\n            if (this.inputElement) {\n                Input.setValue(val, this.inputElement, this.floatLabelType, this.showClearButton);\n                this.errorClass();\n            }\n        }\n    };\n    DateRangePicker.prototype.clear = function () {\n        if (this.startValue !== null) {\n            this.startValue = null;\n        }\n        if (this.endValue !== null) {\n            this.endValue = null;\n        }\n        if (this.value && this.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        if (this.value !== null && this.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        if (!(isNullOrUndefined(this.applyButton))) {\n            this.applyButton.disabled = this.applyButton.element.disabled = true;\n        }\n        this.removeSelection();\n    };\n    DateRangePicker.prototype.rangeIconHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (this.isMobile) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        this.targetElement = null;\n        if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n            this.applyFunction(e);\n        }\n        else {\n            this.isRangeIconClicked = true;\n            this.inputWrapper.container.children[0].focus();\n            this.show(null, e);\n            if (!this.isMobile) {\n                if (!isNullOrUndefined(this.leftCalendar)) {\n                    this.isRangeIconClicked = false;\n                    this.calendarFocus();\n                    this.isRangeIconClicked = true;\n                }\n            }\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n    };\n    DateRangePicker.prototype.checkHtmlAttributes = function (isDynamic) {\n        this.globalize = new Internationalization(this.locale);\n        var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['startDate', 'endDate', 'minDays', 'maxDays', 'min', 'max', 'disabled', 'readonly', 'style', 'name', 'placeholder',\n                'type', 'value'];\n        var format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['enabled'] === undefined)) || isDynamic) {\n                            var disabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ enabled: !disabled }, !isDynamic);\n                        }\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === 'true' || this.inputElement.getAttribute(prop) === '' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateRangeOptions) || (this.dateRangeOptions['value'] === undefined)) || isDynamic) {\n                            var value = this.inputElement.getAttribute(prop);\n                            this.setProperties(setValue(prop, value, {}), !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputElement.setAttribute('style', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.min) || +this.min === +new Date(1900, 0, 1)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', '' + this.inputElement.getAttribute(prop));\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.max) || +this.max === +new Date(2099, 11, 31)) || isDynamic) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.setProperties(setValue(prop, dateValue, {}), !isDynamic);\n                        }\n                        break;\n                    case 'startDate':\n                        if (isNullOrUndefined(this.startDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.startValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'endDate':\n                        if (isNullOrUndefined(this.endDate)) {\n                            var dateValue = this.globalize.parseDate(this.inputElement.getAttribute(prop), format);\n                            this.endValue = dateValue;\n                            this.setValue();\n                        }\n                        break;\n                    case 'minDays':\n                        if (isNullOrUndefined(this.minDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'maxDays':\n                        if (isNullOrUndefined(this.maxDays)) {\n                            this.setProperties(setValue(prop, parseInt(this.inputElement.getAttribute(prop), 10), {}), true);\n                        }\n                        break;\n                    case 'type':\n                        if (this.inputElement.getAttribute(prop) !== 'text') {\n                            this.inputElement.setAttribute('type', 'text');\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createPopup = function () {\n        for (var i = 0; i < this.presetsItem.length; i++) {\n            if ((i !== (this.presetsItem.length - 1)) && this.presetsItem[i].id === 'custom_range') {\n                this.presetsItem.splice(i, 1);\n            }\n        }\n        this.activeIndex = this.presetsItem.length - 1;\n        this.isCustomRange = true;\n        for (var i = 0; i <= this.presetsItem.length - 2; i++) {\n            var startDate = this.presetsItem[i].start;\n            var endDate = this.presetsItem[i].end;\n            if (this.startValue && this.endValue) {\n                if ((+new Date(startDate.setHours(0, 0, 0, 0)) === +new Date(this.startValue.setHours(0, 0, 0, 0))) &&\n                    (+new Date(endDate.setHours(0, 0, 0, 0)) === +new Date(this.endValue.setHours(0, 0, 0, 0)))) {\n                    this.activeIndex = i;\n                    this.isCustomRange = false;\n                }\n            }\n        }\n        this.popupWrapper = createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.adjustLongHeaderWidth();\n        var isPreset = (!this.isCustomRange || this.isMobile);\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && isPreset) {\n            this.isCustomWindow = false;\n            this.createPresets();\n            this.listRippleEffect();\n            this.renderPopup();\n        }\n        else {\n            this.isCustomWindow = true;\n            this.renderControl();\n        }\n    };\n    DateRangePicker.prototype.renderControl = function () {\n        this.createControl();\n        this.bindCalendarEvents();\n        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) &&\n            !isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n            this.disabledDateRender();\n        }\n        this.updateHeader();\n    };\n    DateRangePicker.prototype.clearCalendarEvents = function () {\n        if (this.leftCalPrevIcon && this.leftCalNextIcon && this.rightCalPrevIcon && this.rightCalNextIcon) {\n            EventHandler.clearEvents(this.leftCalPrevIcon);\n            EventHandler.clearEvents(this.leftCalNextIcon);\n            EventHandler.clearEvents(this.rightCalPrevIcon);\n            EventHandler.clearEvents(this.rightCalNextIcon);\n        }\n    };\n    DateRangePicker.prototype.updateNavIcons = function () {\n        _super.prototype.iconHandler.call(this);\n    };\n    DateRangePicker.prototype.calendarIconEvent = function () {\n        this.clearCalendarEvents();\n        if (this.leftCalPrevIcon && !this.leftCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.leftCalNextIcon && !this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.leftCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n        if (this.rightCalPrevIcon && !this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalPrevIcon, 'mousedown', this.navPrevFunction);\n        }\n        if (this.rightCalNextIcon && !this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.rightCalNextIcon, 'mousedown', this.navNextFunction);\n        }\n    };\n    DateRangePicker.prototype.bindCalendarEvents = function () {\n        if (!this.isMobile) {\n            this.updateNavIcons();\n            this.calendarIconEvent();\n            this.calendarIconRipple();\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.headerTitleElement = this.popupObj.element.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1 + ' .' + TITLE$1);\n            this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n            this.leftKeyboardModule = new KeyboardEvents(this.leftCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n            this.rightKeyboardModule = new KeyboardEvents(this.rightCalendar, {\n                eventName: 'keydown',\n                keyAction: this.keyInputHandler.bind(this),\n                keyConfigs: this.defaultKeyConfigs\n            });\n        }\n        else {\n            this.deviceCalendarEvent();\n            EventHandler.add(this.startButton.element, 'click', this.deviceHeaderClick, this);\n            EventHandler.add(this.endButton.element, 'click', this.deviceHeaderClick, this);\n        }\n        if (this.start === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.calendarIconRipple = function () {\n        rippleEffect(this.leftCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.leftCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalPrevIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.rightCalNextIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n    };\n    DateRangePicker.prototype.deviceCalendarEvent = function () {\n        EventHandler.clearEvents(this.nextIcon);\n        EventHandler.clearEvents(this.previousIcon);\n        rippleEffect(this.nextIcon, { selector: '.e-prev', duration: 400, isCenterRipple: true });\n        rippleEffect(this.previousIcon, { selector: '.e-next', duration: 400, isCenterRipple: true });\n        if (this.nextIcon && !this.nextIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.nextIcon, 'mousedown', this.deviceNavNextFunction);\n        }\n        if (this.previousIcon && !this.previousIcon.classList.contains(DISABLED$2)) {\n            EventHandler.add(this.previousIcon, 'mousedown', this.deviceNavPrevFunction);\n        }\n    };\n    DateRangePicker.prototype.deviceNavNext = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigateNext(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.deviceNavPrevious = function (e) {\n        var calendar = closest(e.target, '.' + CALENDAR);\n        this.updateDeviceCalendar(calendar);\n        this.navigatePrevious(e);\n        this.deviceNavigation();\n    };\n    DateRangePicker.prototype.updateDeviceCalendar = function (calendar) {\n        if (calendar) {\n            this.previousIcon = calendar.querySelector('.' + PREVICON$1);\n            this.nextIcon = calendar.querySelector('.' + NEXTICON$1);\n            this.calendarElement = calendar;\n            this.deviceCalendar = calendar;\n            this.contentElement = calendar.querySelector('.' + CONTENT$1);\n            this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n            this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n            this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n            this.headerElement = calendar.querySelector('.' + HEADER$1);\n        }\n    };\n    DateRangePicker.prototype.deviceHeaderClick = function (event) {\n        var element = event.currentTarget;\n        if (element.classList.contains(STARTBUTTON) && !isNullOrUndefined(this.startValue)) {\n            this.endButton.element.classList.remove(ACTIVE$1);\n            this.startButton.element.classList.add(ACTIVE$1);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + STARTDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.startValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.removeClassDisabled();\n        }\n        else if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.startButton.element.classList.remove(ACTIVE$1);\n            this.endButton.element.classList.add(ACTIVE$1);\n            var calendar = this.popupObj.element.querySelector('.' + CALENDAR);\n            this.updateDeviceCalendar(calendar);\n            if (isNullOrUndefined(this.calendarElement.querySelector('.' + ENDDATE + ':not(.e-other-month)'))) {\n                this.currentDate = new Date(+this.endValue);\n                remove(this.tableBodyElement);\n                this.createContentBody();\n                this.deviceNavigation();\n            }\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            this.selectableDates();\n        }\n    };\n    DateRangePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        this.preventBlur = false;\n        var focusArguments = {\n            model: this\n        };\n        if (!this.preventFocus) {\n            this.trigger('focus', focusArguments);\n        }\n        this.updateClearIconState();\n        this.updateHiddenInput();\n        if (this.openOnFocus && !this.preventFocus) {\n            this.preventFocus = true;\n            this.show();\n        }\n        else {\n            this.preventFocus = true;\n        }\n    };\n    DateRangePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.preventBlur) {\n            var value = this.inputElement.value;\n            if (!isNullOrUndefined(this.presetsItem)) {\n                if (this.presetsItem.length > 0 && this.previousEleValue !== this.inputElement.value) {\n                    this.activeIndex = this.presetsItem.length - 1;\n                    this.isCustomRange = true;\n                }\n            }\n            if (!isNullOrUndefined(value) && value.trim() !== '') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length > 1) {\n                    this.invalidValueString = null;\n                    var dateOptions = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n                    var start = new Date(range[0]);\n                    var end = new Date(range[1]);\n                    var startDate = this.getStartEndDate(start, false, range, dateOptions);\n                    var endDate = this.getStartEndDate(end, true, range, dateOptions);\n                    if (!isNullOrUndefined(startDate) && !isNaN(+startDate) && !isNullOrUndefined(endDate) && !isNaN(+endDate)) {\n                        var prevStartVal = this.startValue;\n                        this.startValue = startDate;\n                        var prevEndVal = this.endValue;\n                        this.endValue = endDate;\n                        this.setValue();\n                        this.refreshControl();\n                        if (value !== this.previousEleValue) {\n                            this.changeTrigger(e);\n                        }\n                        if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                            this.preventFocus = false;\n                            var blurArguments = {\n                                model: this\n                            };\n                            this.trigger('blur', blurArguments);\n                        }\n                        this.updateHiddenInput();\n                        // For Mobile mode, when a value is present and choose another range and click on console\n                        // when popup is open, two startvalues and end values are updated in the popup.\n                        if (this.isMobile && this.isPopupOpen()) {\n                            this.startValue = prevStartVal;\n                            this.endValue = prevEndVal;\n                        }\n                        return;\n                    }\n                    else {\n                        if (!this.strictMode) {\n                            this.startValue = null;\n                            this.endValue = null;\n                            this.setValue();\n                        }\n                    }\n                }\n                else {\n                    if (!this.strictMode) {\n                        this.startValue = null;\n                        this.endValue = null;\n                        this.setValue();\n                    }\n                }\n            }\n            if (!this.strictMode) {\n                if (isNullOrUndefined(this.popupObj)) {\n                    this.currentDate = null;\n                }\n                this.previousStartValue = this.previousEndValue = null;\n                this.startValue = null;\n                this.endValue = null;\n                this.setValue();\n            }\n            else {\n                if (!isNullOrUndefined(value) && value.trim() === '') {\n                    this.startValue = null;\n                    this.endValue = null;\n                }\n                Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n                this.updateInput();\n            }\n            this.errorClass();\n            this.changeTrigger(e);\n            if (!this.preventBlur && document.activeElement !== this.inputElement) {\n                this.preventFocus = false;\n                var blurArguments = {\n                    model: this\n                };\n                this.trigger('blur', blurArguments);\n            }\n        }\n        this.updateHiddenInput();\n    };\n    // eslint-disable-next-line @typescript-eslint/tslint/config\n    DateRangePicker.prototype.getStartEndDate = function (date, isEnd, range, dateOptions) {\n        if (this.depth === 'Month') {\n            return this.globalize.parseDate(range[isEnd ? 1 : 0].trim(), dateOptions);\n        }\n        else if (this.depth === 'Year') {\n            return new Date(date.getFullYear(), date.getMonth() + (isEnd ? 1 : 0), isEnd ? 0 : 1);\n        }\n        else {\n            return new Date(date.getFullYear(), isEnd ? 11 : 0, isEnd ? 31 : 1);\n        }\n    };\n    DateRangePicker.prototype.clearRange = function () {\n        this.previousStartValue = this.previousEndValue = null;\n        this.currentDate = null;\n    };\n    DateRangePicker.prototype.errorClass = function () {\n        var inputStr = this.inputElement.value.trim();\n        if (((isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue) && inputStr !== '') ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max))\n            || ((this.startValue && this.isDateDisabled(this.startValue))\n                || (this.endValue && this.isDateDisabled(this.endValue)))) && inputStr !== '') {\n            addClass([this.inputWrapper.container], ERROR$1);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n        else {\n            if (this.inputWrapper) {\n                removeClass([this.inputWrapper.container], ERROR$1);\n                attributes(this.inputElement, { 'aria-invalid': 'false' });\n            }\n        }\n    };\n    DateRangePicker.prototype.keyCalendarUpdate = function (isLeftCalendar, ele, isRemoveFocus) {\n        if (isRemoveFocus === void 0) { isRemoveFocus = true; }\n        if (isRemoveFocus) {\n            this.removeFocusedDate();\n        }\n        if (isLeftCalendar) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            ele = this.leftCalendar;\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            ele = this.rightCalendar;\n        }\n        this.updateCalendarElement(ele);\n        this.table.focus();\n        return ele;\n    };\n    DateRangePicker.prototype.navInCalendar = function (e, isLeftCalendar, leftLimit, rightLimit, ele) {\n        var view = this.getViewNumber(this.currentView());\n        var date;\n        var min = this.min;\n        var max;\n        if (!isNullOrUndefined(this.maxDays) && this.isMaxDaysClicked && !isNullOrUndefined(this.startValue)) {\n            max = new Date(new Date(+this.startValue).setDate(this.startValue.getDate() + (this.maxDays - 1)));\n        }\n        else {\n            max = this.max;\n        }\n        switch (e.action) {\n            case 'moveRight':\n                date = new Date(+this.currentDate);\n                this.addDay(date, 1, e, max, min);\n                if (isLeftCalendar && +date === +rightLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.keyboardNavigate(1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveLeft':\n                date = new Date(+this.currentDate);\n                this.addDay(date, -1, e, max, min);\n                if (!isLeftCalendar) {\n                    if (+date === +leftLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                }\n                this.keyboardNavigate(-1, view, e, max, min);\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveUp':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, -7, e, max, min);\n                    if (+date <= +leftLimit && !isLeftCalendar) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    this.keyboardNavigate(-7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(-4, view, e, this.max, this.min); // move the current year to the previous four days.\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'moveDown':\n                if (view === 0) {\n                    date = new Date(+this.currentDate);\n                    this.addDay(date, 7, e, max, min);\n                    if (isLeftCalendar && +date >= +rightLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    this.keyboardNavigate(7, view, e, max, min);\n                }\n                else {\n                    this.keyboardNavigate(4, view, e, this.max, this.min);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'home':\n                this.currentDate = this.firstDay(this.currentDate);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'end':\n                this.currentDate = this.lastDay(this.currentDate, view);\n                remove(this.tableBodyElement);\n                if (view === 0) {\n                    this.renderMonths(e);\n                }\n                else if (view === 1) {\n                    this.renderYears(e);\n                }\n                else {\n                    this.renderDecades(e);\n                }\n                this.keyNavigation(ele, e);\n                break;\n            case 'tab':\n                if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n                    ele = this.keyCalendarUpdate(false, ele, false);\n                    this.currentDate = this.firstCellToFocus(this.rightCalendar);\n                    view = this.getViewNumber(this.currentView());\n                    this.keyboardNavigate(0, view, e, max, min);\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'shiftTab':\n                if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n                    ele = this.keyCalendarUpdate(true, ele, false);\n                    this.currentDate = this.firstCellToFocus(this.leftCalendar);\n                    this.keyboardNavigate(0, view, e, max, min);\n                    this.keyNavigation(ele, e);\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.firstCellToFocus = function (calendar) {\n        var focusAbleEle = this.getViewNumber(this.currentView()) === 2 ? calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-year)') : calendar.children[1].firstElementChild.querySelector('td.e-cell:not(.e-week-number):not(.e-disabled):not(.e-other-month)');\n        var focusEleID = focusAbleEle && focusAbleEle.id ? focusAbleEle.id.split('_')[0] : null;\n        var currentFirstDay = new Date(this.currentDate.getFullYear(), this.currentDate.getMonth(), 1);\n        var focusDate = focusEleID ? new Date(+focusEleID) : currentFirstDay;\n        return focusDate;\n    };\n    DateRangePicker.prototype.keyInputHandler = function (e, value) {\n        var date;\n        var view = this.getViewNumber(this.currentView());\n        var rightDateLimit = new Date(this.rightCalCurrentDate.getFullYear(), this.rightCalCurrentDate.getMonth(), 1);\n        var leftDateLimit = new Date(this.leftCalCurrentDate.getFullYear(), this.leftCalCurrentDate.getMonth() + 1, 0);\n        var ele = closest(e.target, '.' + RIGHTCALENDER);\n        ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n        var isLeftCalendar = ele.classList.contains(LEFTCALENDER);\n        this.updateCalendarElement(ele);\n        var selectedDate = this.tableBodyElement.querySelector('tr td.e-selected');\n        var focusedDate = ele.querySelector('tr td.' + FOCUSDATE);\n        var startDate = ele.querySelector('tr td.' + STARTDATE);\n        var endDate = ele.querySelector('tr td.' + ENDDATE);\n        var depthValue = this.getViewNumber(this.depth);\n        var levelRestrict = (view === depthValue && this.getViewNumber(this.start) >= depthValue);\n        var leftCalendar = closest(e.target, '.' + LEFTCALENDER);\n        var rightCalendar = closest(e.target, '.' + RIGHTCALENDER);\n        var presetElement = closest(e.target, '.' + PRESETS);\n        if (!isNullOrUndefined(focusedDate)) {\n            // eslint-disable-next-line no-self-assign\n            this.currentDate = this.currentDate;\n        }\n        else if (!isNullOrUndefined(endDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else if (!isNullOrUndefined(startDate) && !this.dateDisabled) {\n            this.currentDate = new Date(+this.startValue);\n        }\n        else if (!this.dateDisabled) {\n            this.currentDate.setDate(1);\n        }\n        this.effect = '';\n        switch (e.action) {\n            case 'altUpArrow':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                    this.preventFocus = true;\n                    this.inputElement.focus();\n                    addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n                }\n                break;\n            case 'select':\n                if (levelRestrict) {\n                    var element = !isNullOrUndefined(focusedDate) ? focusedDate : startDate;\n                    if (!isNullOrUndefined(element) && !element.classList.contains(DISABLED$2)) {\n                        this.selectRange(null, (element));\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(selectedDate) && !levelRestrict || !isNullOrUndefined(focusedDate)) {\n                        if (!isNullOrUndefined(this.value)) {\n                            if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                                value = this.startDate;\n                            }\n                            else {\n                                value = this.endDate;\n                            }\n                        }\n                        this.controlDown = e;\n                        this.contentClick(null, --view, (focusedDate || selectedDate), value);\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlHome':\n                {\n                    var yearDate = new Date(this.currentDate.getFullYear(), 0, 1);\n                    if (!isLeftCalendar && +yearDate < +leftDateLimit) {\n                        ele = this.keyCalendarUpdate(true, ele);\n                    }\n                    _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 0, 1));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else if (!isNullOrUndefined(rightCalendar)) {\n                    if (!isNullOrUndefined(this.presetElement)) {\n                        this.presetElement.focus();\n                        this.removeFocusedDate();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(presetElement)) {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(leftCalendar)) {\n                    if (this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.cancelButton.element.focus();\n                    }\n                }\n                else {\n                    if (!isNullOrUndefined(rightCalendar)) {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'controlUp':\n                if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                else {\n                    this.calendarNavigation(e, this.calendarElement);\n                }\n                e.preventDefault();\n                break;\n            case 'controlDown':\n                if ((!isNullOrUndefined(selectedDate) || !isNullOrUndefined(focusedDate)) && !levelRestrict) {\n                    if (!isNullOrUndefined(this.value)) {\n                        if (this.calendarElement.classList.contains(LEFTCALENDER)) {\n                            value = this.startDate;\n                        }\n                        else {\n                            value = this.endDate;\n                        }\n                    }\n                    this.controlDown = e;\n                    this.contentClick(null, --view, (selectedDate || focusedDate), value);\n                }\n                e.preventDefault();\n                break;\n            case 'controlEnd':\n                {\n                    var yearDate = new Date(this.currentDate.getFullYear(), 11, 31);\n                    if (isLeftCalendar && +yearDate > +rightDateLimit) {\n                        ele = this.keyCalendarUpdate(false, ele);\n                    }\n                    _super.prototype.navigateTo.call(this, 'Month', new Date(this.currentDate.getFullYear(), 11, 31));\n                    this.keyNavigation(ele, e);\n                }\n                break;\n            case 'pageUp':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addMonths(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'pageDown':\n                date = new Date(+this.currentDate);\n                this.addMonths(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addMonths(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageUp':\n                date = new Date(+this.currentDate);\n                this.addYears(date, -1);\n                if (!isLeftCalendar && +date <= +leftDateLimit) {\n                    ele = this.keyCalendarUpdate(true, ele);\n                }\n                this.addYears(this.currentDate, -1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftPageDown':\n                date = new Date(+this.currentDate);\n                this.addYears(date, 1);\n                if (isLeftCalendar && +date >= +rightDateLimit) {\n                    ele = this.keyCalendarUpdate(false, ele);\n                }\n                this.addYears(this.currentDate, 1);\n                _super.prototype.navigateTo.call(this, 'Month', this.currentDate);\n                this.keyNavigation(ele, e);\n                break;\n            case 'shiftTab':\n                if (!isNullOrUndefined(this.presetElement)) {\n                    this.presetElement.setAttribute('tabindex', '0');\n                    this.presetElement.focus();\n                    this.removeFocusedDate();\n                }\n                if (isLeftCalendar) {\n                    e.preventDefault();\n                }\n                if (this.tabKeyValidation(ele, RIGHTCALENDER)) {\n                    this.currentDate = new Date(+this.leftCalCurrentDate);\n                    this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                }\n                break;\n            case 'spacebar':\n                if (this.applyButton && !this.applyButton.disabled) {\n                    this.applyFunction(e);\n                }\n                break;\n            case 'tab':\n                if (this.tabKeyValidation(ele, LEFTCALENDER)) {\n                    this.currentDate = new Date(+this.rightCalCurrentDate);\n                    this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                }\n                break;\n            default:\n                this.navInCalendar(e, isLeftCalendar, leftDateLimit, rightDateLimit, ele);\n                this.checkMinMaxDays();\n        }\n        this.presetHeight();\n    };\n    DateRangePicker.prototype.tabKeyValidation = function (ele, calendarPos) {\n        var isLeftCalendar = ele.classList.contains(calendarPos);\n        var rightHeader = this.rightCalendar.querySelector('.e-header');\n        var leftHeader = this.leftCalendar.querySelector('.e-header');\n        var isRightMonth = rightHeader ? rightHeader.classList.contains('e-month') : false;\n        var isLeftMonth = leftHeader ? leftHeader.classList.contains('e-month') : false;\n        var isRightYear = rightHeader ? rightHeader.classList.contains('e-year') : false;\n        var isLeftYear = leftHeader ? leftHeader.classList.contains('e-year') : false;\n        var isRightDecade = rightHeader ? rightHeader.classList.contains('e-decade') : false;\n        var isLeftDecade = leftHeader ? leftHeader.classList.contains('e-decade') : false;\n        return isLeftCalendar && (isLeftMonth || isLeftYear || isLeftDecade) &&\n            (isRightMonth || isRightYear || isRightDecade) && !this.isMobile;\n    };\n    DateRangePicker.prototype.keyNavigation = function (calendar, e) {\n        this.bindCalendarCellEvents(calendar);\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        else {\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.updateNavIcons();\n        this.calendarIconEvent();\n        this.updateRange([calendar]);\n        this.dateDisabled = this.isDateDisabled(this.currentDate);\n        e.preventDefault();\n    };\n    DateRangePicker.prototype.inputHandler = function (e) {\n        switch (e.action) {\n            case 'altDownArrow':\n                if (!this.isPopupOpen()) {\n                    if (this.inputElement.value === '') {\n                        this.clear();\n                        this.changeTrigger(e);\n                        this.clearRange();\n                    }\n                    this.show(null, e);\n                    this.isRangeIconClicked = false;\n                    if (!this.isMobile) {\n                        if (!isNullOrUndefined(this.leftCalendar)) {\n                            this.calendarFocus();\n                        }\n                    }\n                    this.isKeyPopup = true;\n                }\n                break;\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    this.hide(e);\n                }\n                break;\n            case 'enter':\n                if (document.activeElement === this.inputElement) {\n                    this.inputBlurHandler(e);\n                    this.hide(e);\n                }\n                break;\n            case 'tab':\n                if (document.activeElement === this.inputElement && this.isPopupOpen()) {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    DateRangePicker.prototype.bindCalendarCellEvents = function (calendar) {\n        var tdCells;\n        if (calendar) {\n            tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        else {\n            tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n        }\n        for (var _i = 0, tdCells_1 = tdCells; _i < tdCells_1.length; _i++) {\n            var cell = tdCells_1[_i];\n            EventHandler.clearEvents(cell);\n            var disabledCell = cell.classList.contains(DISABLED$2) || cell.classList.contains(DATEDISABLED);\n            if (!disabledCell && !cell.classList.contains(WEEKNUMBER$2)) {\n                if (!this.isMobile) {\n                    EventHandler.add(cell, 'mouseover', this.hoverSelection, this);\n                }\n                EventHandler.add(cell, 'mousedown', this.selectRange, this);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeFocusedDate = function () {\n        var isDate = !isNullOrUndefined(this.startValue) || !isNullOrUndefined(this.endValue);\n        var focusedDate = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' .' + FOCUSDATE);\n        for (var _i = 0, focusedDate_1 = focusedDate; _i < focusedDate_1.length; _i++) {\n            var ele = focusedDate_1[_i];\n            var today = new Date();\n            var eleDate = this.getIdValue(null, ele);\n            if ((this.depth === 'Month' && this.currentView() === 'Month' &&\n                (!ele.classList.contains(TODAY$2) || (ele.classList.contains(TODAY$2) && isDate)))\n                || (this.depth === 'Year' && this.currentView() === 'Year' &&\n                    ((!this.isSameMonth(today, eleDate) && !this.isSameYear(today, eleDate)) || isDate))\n                || (this.depth === 'Decade' && this.currentView() === 'Decade' &&\n                    (!this.isSameYear(today, eleDate) || isDate))) {\n                ele.classList.remove(FOCUSDATE);\n                if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(ENDDATE)) {\n                    ele.removeAttribute('aria-label');\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.hoverSelection = function (event, element) {\n        var currentElement = element || event.currentTarget;\n        var currentDate = this.getIdValue(null, currentElement);\n        if (!isNullOrUndefined(this.startValue) && +this.startValue >= +this.min && +this.startValue <= +this.max) {\n            if ((!this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)\n                && isNullOrUndefined(this.endValue) && isNullOrUndefined(this.startValue))\n                || (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _i = 0, tdCells_2 = tdCells; _i < tdCells_2.length; _i++) {\n                    var ele = tdCells_2[_i];\n                    var isDisabledCell = (!ele.classList.contains(DISABLED$2) || ele.classList.contains(DATEDISABLED));\n                    if (!ele.classList.contains(WEEKNUMBER$2) && isDisabledCell) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var startDateValue = new Date(+this.startValue);\n                        var eleDateValue = new Date(+eleDate);\n                        if (eleDateValue.setHours(0, 0, 0, 0) >= startDateValue.setHours(0, 0, 0, 0) && +eleDate <= +currentDate) {\n                            addClass([ele], RANGEHOVER);\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.isSameStartEnd = function (startVal, endVal) {\n        var isSame = false;\n        if (this.depth === 'Month') {\n            if ((startVal).setHours(0, 0, 0, 0) === (endVal).setHours(0, 0, 0, 0)) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Year') {\n            if ((startVal.getFullYear() === endVal.getFullYear()) &&\n                (startVal.getMonth() === endVal.getMonth())) {\n                isSame = true;\n            }\n        }\n        else if (this.depth === 'Decade') {\n            if (startVal.getFullYear() === endVal.getFullYear()) {\n                isSame = true;\n            }\n        }\n        return isSame;\n    };\n    DateRangePicker.prototype.updateRange = function (elementCollection) {\n        if (!isNullOrUndefined(this.startValue)) {\n            for (var _i = 0, elementCollection_1 = elementCollection; _i < elementCollection_1.length; _i++) {\n                var calendar = elementCollection_1[_i];\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                for (var _a = 0, tdCells_3 = tdCells; _a < tdCells_3.length; _a++) {\n                    var ele = tdCells_3[_a];\n                    if (!ele.classList.contains(WEEKNUMBER$2) && !ele.classList.contains(DISABLED$2)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        var eleDateValue = this.getIdValue(null, ele);\n                        if (!isNullOrUndefined(this.endValue)) {\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue.setHours(0, 0, 0, 0) >= +new Date(+this.startValue).setHours(0, 0, 0, 0)\n                                && +eleDateValue.setHours(0, 0, 0, 0) <= +new Date(+this.endValue).setHours(0, 0, 0, 0) &&\n                                !this.isSameStartEnd(new Date(+this.startValue), new Date(+this.endValue)) &&\n                                +new Date(+this.startValue).setHours(0, 0, 0, 0) >= +this.min\n                                && +new Date(+this.endValue).setHours(0, 0, 0, 0) <= +this.max\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], RANGEHOVER);\n                            }\n                        }\n                        else {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (ele.classList.contains(SELECTED$3) && ele.classList.contains(ENDDATE) &&\n                            (+eleDateValue !== +this.endValue)) {\n                            removeClass([ele], [SELECTED$3]);\n                            removeClass([ele], [ENDDATE]);\n                        }\n                        if (ele.classList.contains(RANGEHOVER) && (+eleDateValue > +this.endValue)) {\n                            removeClass([ele], [RANGEHOVER]);\n                        }\n                        if (!ele.classList.contains(OTHERMONTH$2)) {\n                            var startDateValue = new Date(+this.startValue);\n                            var eleDateValue_1 = new Date(+eleDate);\n                            if (this.currentView() === this.depth &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +startDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) >= +startDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [STARTDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, true);\n                            }\n                            var endDateValue = new Date(+this.endValue);\n                            if (this.currentView() === 'Year') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), eleDateValue_1.getMonth() + 1, 0);\n                            }\n                            else if (this.currentView() === 'Decade') {\n                                eleDateValue_1 = new Date(eleDateValue_1.getFullYear(), 11, 31);\n                            }\n                            if (this.currentView() === this.depth &&\n                                !isNullOrUndefined(this.endValue) &&\n                                +eleDateValue_1.setHours(0, 0, 0, 0) === +endDateValue.setHours(0, 0, 0, 0)\n                                && +eleDateValue_1.setHours(0, 0, 0, 0) <= +endDateValue.setHours(0, 0, 0, 0) &&\n                                +this.startValue >= +this.min\n                                && !this.inputWrapper.container.classList.contains('e-error')\n                                && !(this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue))) {\n                                addClass([ele], [ENDDATE, SELECTED$3]);\n                                this.addSelectedAttributes(ele, this.startValue, false);\n                            }\n                            if (+eleDate === +this.startValue && !isNullOrUndefined(this.endValue) && +eleDate === +this.endValue) {\n                                this.addSelectedAttributes(ele, this.endValue, false, true);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.checkMinMaxDays = function () {\n        if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n            if (!this.isMobile) {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + LEFTCALENDER));\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + RIGHTCALENDER));\n            }\n            else {\n                this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n            }\n        }\n    };\n    DateRangePicker.prototype.rangeArgs = function (e) {\n        var inputValue;\n        var range;\n        var startDate = !isNullOrUndefined(this.startValue) ?\n            this.globalize.formatDate(this.startValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        var endDate = !isNullOrUndefined(this.endValue) ?\n            this.globalize.formatDate(this.endValue, {\n                format: this.formatString, type: 'date', skeleton: 'yMd'\n            }) : null;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            inputValue = startDate + ' ' + this.separator + ' ' + endDate;\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n        }\n        else {\n            inputValue = '';\n            range = 0;\n        }\n        var args = {\n            value: this.value,\n            startDate: this.startValue,\n            endDate: this.endValue,\n            daySpan: range,\n            event: e || null,\n            element: this.element,\n            isInteracted: !isNullOrUndefined(e),\n            text: inputValue\n        };\n        return args;\n    };\n    DateRangePicker.prototype.otherMonthSelect = function (ele, isStartDate, sameDate) {\n        var value = +this.getIdValue(null, ele);\n        var dateIdString = '*[id^=\"/id\"]:not(.e-other-month)'.replace('/id', '' + value);\n        var tdCell = this.popupObj && this.popupObj.element.querySelector(dateIdString);\n        if (!isNullOrUndefined(tdCell)) {\n            if (isStartDate) {\n                addClass([tdCell], [STARTDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.startValue, true);\n            }\n            else {\n                addClass([tdCell], [ENDDATE, SELECTED$3]);\n                this.addSelectedAttributes(tdCell, this.endValue, true);\n            }\n            if (sameDate) {\n                this.addSelectedAttributes(ele, this.endValue, false, true);\n            }\n        }\n    };\n    DateRangePicker.prototype.selectRange = function (event, element) {\n        var leftCalendar;\n        var rightCalendar;\n        if (event) {\n            event.preventDefault();\n        }\n        var date = isNullOrUndefined(event) ? this.getIdValue(null, element)\n            : this.getIdValue(event, null);\n        var y = date.getFullYear();\n        var m = date.getMonth();\n        var firstDay = new Date(y, m, 1);\n        var lastDay = new Date(y, m + 1, 0);\n        var firstMonth = new Date(y, 0, 1);\n        var lastMonth = new Date(y, 11, 31);\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            if (!this.isMobile || this.isMobile && !this.endButton.element.classList.contains(ACTIVE$1)) {\n                this.removeSelection();\n            }\n        }\n        else if (this.isMobile && this.startButton.element.classList.contains(ACTIVE$1)) {\n            this.removeSelection();\n        }\n        var ele = element || event.currentTarget;\n        if (isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.previousStartValue)) {\n                date.setHours(this.previousStartValue.getHours());\n                date.setMinutes(this.previousStartValue.getMinutes());\n                date.setSeconds(this.previousStartValue.getSeconds());\n            }\n            this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                (this.depth === 'Year') ? firstDay : firstMonth;\n            this.endValue = null;\n            this.setValue();\n            addClass([ele], STARTDATE);\n            this.addSelectedAttributes(ele, this.startValue, true);\n            if (ele.classList.contains(OTHERMONTH$2)) {\n                this.otherMonthSelect(ele, true);\n            }\n            this.checkMinMaxDays();\n            this.applyButton.disabled = true;\n            this.applyButton.element.disabled = true;\n            if (this.isMobile) {\n                this.endButton.element.classList.add(ACTIVE$1);\n                this.startButton.element.classList.remove(ACTIVE$1);\n                this.endButton.element.removeAttribute('disabled');\n                this.selectableDates();\n            }\n            this.trigger('select', this.rangeArgs(event));\n        }\n        else {\n            if (+date === +this.startValue || +date > +this.startValue) {\n                if (+date === +this.startValue && !isNullOrUndefined(this.minDays) && this.minDays > 1) {\n                    return;\n                }\n                this.endValue = null;\n                this.setValue();\n                if (this.isMobile || element) {\n                    this.hoverSelection(event, element);\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    date.setHours(this.previousEndValue.getHours());\n                    date.setMinutes(this.previousEndValue.getMinutes());\n                    date.setSeconds(this.previousEndValue.getSeconds());\n                }\n                this.endValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? lastDay : lastMonth;\n                this.setValue();\n                var endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                if (this.isMobile) {\n                    this.startButton.element.classList.remove(ACTIVE$1);\n                    this.endButton.element.classList.add(ACTIVE$1);\n                    for (var _i = 0, endEle_1 = endEle; _i < endEle_1.length; _i++) {\n                        var ele_1 = endEle_1[_i];\n                        ele_1.removeAttribute('aria-label');\n                        if (!ele_1.classList.contains(STARTDATE)) {\n                            ele_1.setAttribute('aria-selected', 'false');\n                            removeClass([ele_1], [ENDDATE, SELECTED$3]);\n                        }\n                        else {\n                            this.addSelectedAttributes(ele_1, this.startValue, true);\n                            removeClass([ele_1], [ENDDATE]);\n                        }\n                    }\n                }\n                addClass([ele], ENDDATE);\n                if (+this.endValue === +this.startValue) {\n                    this.addSelectedAttributes(ele, this.endValue, false, true);\n                }\n                else {\n                    this.addSelectedAttributes(ele, this.endValue, false);\n                }\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    if (+this.endValue === +this.startValue) {\n                        this.otherMonthSelect(ele, false, true);\n                    }\n                    else {\n                        this.otherMonthSelect(ele, false);\n                    }\n                }\n                endEle = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n                for (var _a = 0, endEle_2 = endEle; _a < endEle_2.length; _a++) {\n                    var ele_2 = endEle_2[_a];\n                    if (ele_2.classList.contains(STARTDATE)) {\n                        removeClass([ele_2], [RANGEHOVER]);\n                    }\n                }\n                this.applyButton.disabled = false;\n                this.applyButton.element.disabled = false;\n                if (!this.isMobile) {\n                    this.removeClassDisabled();\n                }\n                if (!isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n                    this.disabledDateRender();\n                }\n                this.trigger('select', this.rangeArgs(event));\n            }\n            else if (+date < +this.startValue) {\n                this.removeClassDisabled();\n                this.startValue = (this.depth === 'Month') ? new Date(this.checkValue(date)) :\n                    (this.depth === 'Year') ? firstDay : firstMonth;\n                this.setValue();\n                this.removeSelectedAttributes();\n                removeClass(this.popupObj.element.querySelectorAll('.' + STARTDATE), [STARTDATE, SELECTED$3]);\n                addClass([ele], STARTDATE);\n                this.addSelectedAttributes(ele, this.startValue, true);\n                if (ele.classList.contains(OTHERMONTH$2)) {\n                    this.otherMonthSelect(ele, true);\n                }\n                this.checkMinMaxDays();\n            }\n        }\n        if (event) {\n            leftCalendar = closest(event.target, '.' + LEFTCALENDER);\n        }\n        if (!isNullOrUndefined(leftCalendar)) {\n            this.leftCalendar.children[1].firstElementChild.focus();\n        }\n        else {\n            if (event) {\n                rightCalendar = event && closest(event.target, '.' + RIGHTCALENDER);\n            }\n            if (!isNullOrUndefined(rightCalendar)) {\n                this.rightCalendar.children[1].firstElementChild.focus();\n            }\n        }\n        addClass([ele], SELECTED$3);\n        this.calendarIconEvent();\n        this.updateHeader();\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.selectableDates = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            var tdCells = this.calendarElement.querySelectorAll('.' + CALENDAR + ' td');\n            var isStartDate = false;\n            if (this.currentView() === this.depth) {\n                for (var _i = 0, tdCells_4 = tdCells; _i < tdCells_4.length; _i++) {\n                    var ele = tdCells_4[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            var eleDate = this.getIdValue(null, ele);\n                            if (+eleDate < +this.startValue) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                                continue;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                    }\n                    if (ele.classList.contains(STARTDATE) && !ele.classList.contains(OTHERMONTH$2)) {\n                        isStartDate = true;\n                        break;\n                    }\n                }\n                if (isStartDate) {\n                    if (!this.previousIcon.classList.contains(DISABLED$2)) {\n                        addClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                    }\n                }\n            }\n            else {\n                for (var _a = 0, tdCells_5 = tdCells; _a < tdCells_5.length; _a++) {\n                    var ele = tdCells_5[_a];\n                    var startMonth = this.startValue.getMonth();\n                    var startYear = this.startValue.getFullYear();\n                    var element = this.getIdValue(null, ele);\n                    if (!this.startButton.element.classList.contains(ACTIVE$1) && ((this.currentView() === 'Year' &&\n                        (element.getMonth() < startMonth) && (element.getFullYear() <= startYear))\n                        || (this.currentView() === 'Decade' && (element.getMonth() <= startMonth) &&\n                            (element.getFullYear() < startYear)))) {\n                        addClass([ele], [DISABLED$2]);\n                    }\n                    else {\n                        break;\n                    }\n                }\n                if (tdCells[0].classList.contains(DISABLED$2)) {\n                    this.previousIconHandler(true);\n                }\n                else if (tdCells[tdCells.length - 1].classList.contains(DISABLED$2)) {\n                    this.nextIconHandler(true);\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.updateMinMaxDays = function (calendar) {\n        if ((!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) ||\n            (this.isMobile && this.endButton.element.classList.contains(ACTIVE$1))) {\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) || (!isNullOrUndefined(this.maxDays) && this.maxDays > 0)) {\n                var startValueSelected = this.removeTimeValueFromDate(this.startValue);\n                var minDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.minDays - 1)));\n                var maxDate = new Date(new Date(+startValueSelected).setDate(startValueSelected.getDate() + (this.maxDays - 1)));\n                minDate = (!isNullOrUndefined(this.minDays) && this.minDays > 0) ? minDate : null;\n                maxDate = (!isNullOrUndefined(this.maxDays) && this.maxDays > 0) ? maxDate : null;\n                if (this.currentView() === 'Year') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear(), minDate.getMonth(), 0);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), maxDate.getMonth(), 1);\n                }\n                else if (this.currentView() === 'Decade') {\n                    minDate = isNullOrUndefined(minDate) ? null : new Date(minDate.getFullYear() - 1, 11, 1);\n                    maxDate = isNullOrUndefined(maxDate) ? null : new Date(maxDate.getFullYear(), 0, 1);\n                }\n                var tdCells = calendar.querySelectorAll('.' + CALENDAR + ' td');\n                var maxEle = void 0;\n                for (var _i = 0, tdCells_6 = tdCells; _i < tdCells_6.length; _i++) {\n                    var ele = tdCells_6[_i];\n                    if (!ele.classList.contains(STARTDATE) && !ele.classList.contains(WEEKNUMBER$2)) {\n                        var eleDate = this.getIdValue(null, ele);\n                        eleDate = this.removeTimeValueFromDate(eleDate);\n                        if (!isNullOrUndefined(minDate) && +eleDate === +minDate && ele.classList.contains(DISABLED$2)) {\n                            minDate.setDate(minDate.getDate() + 1);\n                        }\n                        if (!ele.classList.contains(DISABLED$2)) {\n                            if (+eleDate <= +startValueSelected) {\n                                continue;\n                            }\n                            if (!isNullOrUndefined(minDate) && +eleDate < +minDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                EventHandler.clearEvents(ele);\n                            }\n                            if (!isNullOrUndefined(maxDate) && +eleDate > +maxDate) {\n                                addClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                                this.isMaxDaysClicked = true;\n                                EventHandler.clearEvents(ele);\n                                if (isNullOrUndefined(maxEle) && !ele.classList.contains(OTHERMONTH$2)) {\n                                    maxEle = ele;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (!isNullOrUndefined(maxEle)) {\n                    if (this.isMobile) {\n                        if (!this.nextIcon.classList.contains(DISABLED$2)) {\n                            addClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                        }\n                    }\n                    else {\n                        var calendar_1 = closest(maxEle, '.' + RIGHTCALENDER);\n                        calendar_1 = isNullOrUndefined(calendar_1) ? this.leftCalendar : calendar_1;\n                        var isLeftCalendar = calendar_1.classList.contains(LEFTCALENDER);\n                        if (!isLeftCalendar) {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                        else {\n                            if (!this.rightCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.leftCalNextIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                            if (!this.rightCalPrevIcon.classList.contains(DISABLED$2)) {\n                                addClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        else {\n            this.isMaxDaysClicked = false;\n        }\n    };\n    DateRangePicker.prototype.removeTimeValueFromDate = function (value) {\n        var dateValue = new Date(value.getFullYear(), value.getMonth(), value.getDate());\n        return dateValue;\n    };\n    DateRangePicker.prototype.removeClassDisabled = function () {\n        var tdCells = this.popupObj.element.querySelectorAll('.' + CALENDAR + ' td' + '.' + DATEDISABLED);\n        for (var _i = 0, tdCells_7 = tdCells; _i < tdCells_7.length; _i++) {\n            var ele = tdCells_7[_i];\n            if (ele.classList.contains(DATEDISABLED)) {\n                removeClass([ele], [DATEDISABLED, DISABLED$2, OVERLAY$2]);\n                EventHandler.add(ele, 'click', this.selectRange, this);\n                if (!this.isMobile) {\n                    EventHandler.add(ele, 'mouseover', this.hoverSelection, this);\n                }\n            }\n        }\n        if (this.isMobile) {\n            if (this.nextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.nextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.previousIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.previousIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n        else {\n            if (this.rightCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.rightCalPrevIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.rightCalPrevIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n            if (this.leftCalNextIcon.classList.contains(ICONDISABLED)) {\n                removeClass([this.leftCalNextIcon], [ICONDISABLED, DISABLED$2, OVERLAY$2]);\n            }\n        }\n    };\n    DateRangePicker.prototype.updateHeader = function () {\n        var format = { type: 'date', skeleton: 'yMMMd' };\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = range.toString() + ' ' + this.l10n.getConstant('days');\n        }\n        else {\n            this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n        }\n        if (!this.isMobile) {\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            if (!isNullOrUndefined(this.startValue)) {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.startButton.element.textContent = this.globalize.formatDate(this.startValue, format);\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n            }\n            if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n                this.endButton.element.textContent = this.globalize.formatDate(this.endValue, format);\n            }\n            else {\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n            }\n        }\n        if ((this.isDateDisabled(this.startValue) || this.isDateDisabled(this.endValue)) ||\n            ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n                || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n                || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue))\n                    && +this.startValue > +this.endValue))) {\n            if (!this.isMobile) {\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n                this.popupObj.element.querySelector('.' + STARTLABEL).textContent = this.l10n.getConstant('startLabel');\n                this.popupObj.element.querySelector('.' + ENDLABEL).textContent = this.l10n.getConstant('endLabel');\n            }\n            else {\n                this.startButton.element.textContent = this.l10n.getConstant('startLabel');\n                this.endButton.element.textContent = this.l10n.getConstant('endLabel');\n                this.popupObj.element.querySelector('.' + DAYSPAN).textContent = this.l10n.getConstant('selectedDays');\n            }\n        }\n        if (this.popupObj.element.querySelector('#custom_range')) {\n            this.popupObj.element.querySelector('#custom_range').textContent =\n                this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange') : 'Custom Range';\n        }\n    };\n    DateRangePicker.prototype.removeSelection = function () {\n        this.startValue = null;\n        this.endValue = null;\n        this.setValue();\n        this.removeSelectedAttributes();\n        if (this.popupObj) {\n            if (this.popupObj.element.querySelectorAll('.' + SELECTED$3).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + SELECTED$3), [STARTDATE, ENDDATE, SELECTED$3]);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + FOCUSDATE).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + FOCUSDATE), FOCUSDATE);\n            }\n            if (this.popupObj.element.querySelectorAll('.' + RANGEHOVER).length > 0) {\n                removeClass(this.popupObj.element.querySelectorAll('.' + RANGEHOVER), [RANGEHOVER]);\n            }\n        }\n    };\n    DateRangePicker.prototype.addSelectedAttributes = function (ele, date, isStartDate, sameDate) {\n        if (ele) {\n            var title = this.globalize.formatDate(date, { type: 'date', skeleton: 'full' });\n            if (!isNullOrUndefined(sameDate) && sameDate) {\n                ele.setAttribute('aria-label', 'The current start and end date is ' + '' + title);\n            }\n            else {\n                ele.setAttribute('aria-label', 'The current ' + (isStartDate ? 'start' : 'end') + ' date is ' + '' + title);\n            }\n            ele.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateRangePicker.prototype.removeSelectedAttributes = function () {\n        if (this.popupObj) {\n            var start = this.popupObj.element.querySelectorAll('.' + STARTDATE);\n            for (var _i = 0, start_1 = start; _i < start_1.length; _i++) {\n                var ele = start_1[_i];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n            var end = this.popupObj.element.querySelectorAll('.' + ENDDATE);\n            for (var _a = 0, end_1 = end; _a < end_1.length; _a++) {\n                var ele = end_1[_a];\n                ele.setAttribute('aria-selected', 'false');\n                ele.removeAttribute('aria-label');\n            }\n        }\n    };\n    DateRangePicker.prototype.updateCalendarElement = function (calendar) {\n        if (calendar.classList.contains(LEFTCALENDER)) {\n            this.calendarElement = this.leftCalendar;\n            this.currentDate = this.leftCalCurrentDate;\n            this.previousIcon = this.leftCalPrevIcon;\n            this.nextIcon = this.leftCalNextIcon;\n        }\n        else {\n            this.calendarElement = this.rightCalendar;\n            this.currentDate = this.rightCalCurrentDate;\n            this.previousIcon = this.rightCalPrevIcon;\n            this.nextIcon = this.rightCalNextIcon;\n        }\n        this.contentElement = calendar.querySelector('.' + CONTENT$1);\n        this.tableBodyElement = select('.' + CONTENT$1 + ' tbody', calendar);\n        this.table = calendar.querySelector('.' + CONTENT$1).getElementsByTagName('table')[0];\n        this.headerTitleElement = calendar.querySelector('.' + HEADER$1 + ' .' + TITLE$1);\n        this.headerElement = calendar.querySelector('.' + HEADER$1);\n    };\n    DateRangePicker.prototype.navPrevMonth = function (e) {\n        e.preventDefault();\n        var ele = closest(e.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(e.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigatePrevious(e);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.deviceNavigation = function (ele) {\n        this.deviceCalendarEvent();\n        this.updateRange([this.popupObj.element.querySelector('.' + CALENDAR)]);\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.updateMinMaxDays(this.popupObj.element.querySelector('.' + CALENDAR));\n        }\n        if (this.endButton.element.classList.contains(ACTIVE$1)) {\n            this.selectableDates();\n        }\n        if (this.currentView() === this.depth) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n    };\n    DateRangePicker.prototype.updateControl = function (calendar, customDate) {\n        if (customDate === void 0) { customDate = null; }\n        if (calendar.classList.contains(RIGHTCALENDER)) {\n            this.rightCalCurrentDate = new Date(+(customDate ? customDate : this.currentDate));\n        }\n        else {\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n        }\n        this.calendarIconEvent();\n        if ((((this.depth === 'Month')\n            && this.leftCalendar.querySelector('.e-content').classList.contains('e-month')\n            && this.rightCalendar.querySelector('.e-content').classList.contains('e-month'))\n            || ((this.depth === 'Year')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-year')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-year'))\n            || ((this.depth === 'Decade')\n                && this.leftCalendar.querySelector('.e-content').classList.contains('e-decade')\n                && this.rightCalendar.querySelector('.e-content').classList.contains('e-decade')))\n            || this.isMobile) {\n            this.bindCalendarCellEvents();\n        }\n        this.removeFocusedDate();\n        this.updateRange([calendar]);\n    };\n    DateRangePicker.prototype.navNextMonth = function (event) {\n        event.preventDefault();\n        var ele = closest(event.target, '.' + LEFTCALENDER);\n        ele = isNullOrUndefined(ele) ? closest(event.target, '.' + RIGHTCALENDER) : ele;\n        this.updateCalendarElement(ele);\n        this.navigateNext(event);\n        if (!isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.updateMinMaxDays(ele);\n        }\n        this.updateControl(ele);\n    };\n    DateRangePicker.prototype.isPopupOpen = function () {\n        if (!isNullOrUndefined(this.popupObj) && this.popupObj.element.classList.contains(POPUP$1)) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.createRangeHeader = function () {\n        var labelContainer = this.createElement('div', { className: STARTENDCONTAINER });\n        if (!this.isMobile) {\n            var startLabel = this.createElement('a', { className: STARTLABEL });\n            var endLabel = this.createElement('a', { className: ENDLABEL });\n            var changeIcon = this.createElement('span', { className: CHANGEICON });\n            attributes(startLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'Start Date', 'role': 'button' });\n            attributes(endLabel, { 'aria-atomic': 'true', 'aria-live': 'assertive', 'aria-label': 'End Date', 'role': 'button' });\n            labelContainer.appendChild(startLabel);\n            labelContainer.appendChild(changeIcon);\n            labelContainer.appendChild(endLabel);\n            startLabel.textContent = this.l10n.getConstant('startLabel');\n            endLabel.textContent = this.l10n.getConstant('endLabel');\n        }\n        else {\n            var endBtn = this.createElement('button', { className: ENDBUTTON });\n            var startBtn = this.createElement('button', { className: STARTBUTTON });\n            this.startButton = new Button({ content: this.l10n.getConstant('startLabel') }, startBtn);\n            this.endButton = new Button({ content: this.l10n.getConstant('endLabel') }, endBtn);\n            labelContainer.appendChild(startBtn);\n            labelContainer.appendChild(endBtn);\n        }\n        return labelContainer;\n    };\n    DateRangePicker.prototype.disableInput = function () {\n        if (this.strictMode) {\n            if (!isNullOrUndefined(this.previousStartValue) && !isNullOrUndefined(this.previousEndValue)) {\n                this.startValue = this.previousStartValue;\n                this.endValue = this.previousEndValue;\n                this.setValue();\n                this.updateInput();\n            }\n        }\n        else {\n            this.updateInput();\n            this.clearRange();\n            this.setProperties({ startDate: null }, true);\n            this.setProperties({ endDate: null }, true);\n            this.startValue = null;\n            this.endValue = null;\n            this.setValue();\n            this.errorClass();\n        }\n        this.setProperties({ enabled: false }, true);\n        Input.setEnabled(this.enabled, this.inputElement);\n        this.bindEvents();\n    };\n    DateRangePicker.prototype.validateMinMax = function () {\n        this.min = isNullOrUndefined(this.min) || !(+this.min) ? this.min = new Date(1900, 0, 1) : this.min;\n        this.max = isNullOrUndefined(this.max) || !(+this.max) ? this.max = new Date(2099, 11, 31) : this.max;\n        if (!(this.min <= this.max)) {\n            this.disableInput();\n            return;\n        }\n        if (!isNullOrUndefined(this.minDays) && !isNullOrUndefined(this.maxDays)) {\n            if (this.maxDays > 0 && this.minDays > 0 && (this.minDays > this.maxDays)) {\n                this.maxDays = null;\n            }\n        }\n        if (!isNullOrUndefined(this.minDays) && this.minDays < 0) {\n            this.minDays = null;\n        }\n        if (!isNullOrUndefined(this.maxDays) && this.maxDays < 0) {\n            this.maxDays = null;\n        }\n    };\n    DateRangePicker.prototype.validateRangeStrict = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (+this.startValue <= +this.min) {\n                this.startValue = this.min;\n                this.setValue();\n            }\n            else if (+this.startValue >= +this.min && +this.startValue >= +this.max) {\n                this.startValue = this.max;\n            }\n        }\n        if (!isNullOrUndefined(this.endValue)) {\n            if (+this.endValue > +this.max) {\n                this.endValue = this.max;\n                this.setValue();\n            }\n            else if (+this.endValue < +this.min) {\n                this.endValue = this.min;\n                this.setValue();\n            }\n        }\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateRange = function () {\n        this.validateMinMaxDays();\n    };\n    DateRangePicker.prototype.validateMinMaxDays = function () {\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            var range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if ((!isNullOrUndefined(this.minDays) && this.minDays > 0) && !(range >= this.minDays)) {\n                if (this.strictMode) {\n                    var date = new Date(+this.startValue);\n                    date.setDate(date.getDate() + (this.minDays - 1));\n                    if (+date > +this.max) {\n                        this.endValue = this.max;\n                        this.setValue();\n                    }\n                    else {\n                        this.endValue = date;\n                        this.setValue();\n                    }\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if ((!isNullOrUndefined(this.maxDays) && this.maxDays > 0) && !(range <= this.maxDays)) {\n                if (this.strictMode) {\n                    this.endValue = new Date(+this.startValue);\n                    this.endValue.setDate(this.endValue.getDate() + (this.maxDays - 1));\n                    this.setValue();\n                }\n                else {\n                    this.startValue = null;\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.renderCalendar = function () {\n        this.calendarElement = this.createElement('div');\n        this.calendarElement.classList.add(CALENDAR);\n        if (this.enableRtl) {\n            this.calendarElement.classList.add(RTL$1);\n        }\n        attributes(this.calendarElement, { 'data-role': 'calendar' });\n        _super.prototype.createHeader.call(this);\n        _super.prototype.createContent.call(this);\n    };\n    DateRangePicker.prototype.isSameMonth = function (start, end) {\n        if (start.getMonth() === end.getMonth() && start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameYear = function (start, end) {\n        if (start.getFullYear() === end.getFullYear()) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.isSameDecade = function (start, end) {\n        var startYear = start.getFullYear();\n        var endYear = end.getFullYear();\n        if ((startYear - (startYear % 10)) === (endYear - (endYear % 10))) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.startMonthCurrentDate = function () {\n        if (this.isSameMonth(this.min, this.max) || +this.currentDate > +this.max || this.isSameMonth(this.currentDate, this.max)) {\n            this.currentDate = new Date(+this.max);\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n        }\n        else if (this.currentDate < this.min) {\n            this.currentDate = new Date(this.checkValue(this.min));\n        }\n    };\n    DateRangePicker.prototype.selectNextMonth = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameMonth(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setDate(1);\n            this.currentDate.setMonth(this.currentDate.getMonth() + 1);\n            return;\n        }\n        if ((!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setDate(1);\n            var month = this.currentDate.getMonth() + 1;\n            this.currentDate.setMonth(month);\n        }\n    };\n    DateRangePicker.prototype.selectNextYear = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameYear(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            this.currentDate.setMonth(0);\n            var yr = this.currentDate.getFullYear() + 1;\n            this.currentDate.setFullYear(yr);\n            return;\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setMonth(0);\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 1);\n        }\n    };\n    DateRangePicker.prototype.selectNextDecade = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) && !this.isSameDecade(this.endValue, this.currentDate)\n            && !this.isDateDisabled(this.endValue) && !this.isDateDisabled(this.startValue)) {\n            this.currentDate = new Date(+this.endValue);\n        }\n        else {\n            var decyr = this.currentDate.getFullYear() + 10;\n            this.currentDate.setFullYear(decyr);\n            return;\n        }\n        if (((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)\n            || (!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.currentDate.setFullYear(this.currentDate.getFullYear() + 10);\n        }\n    };\n    DateRangePicker.prototype.selectStartMonth = function () {\n        if (!isNullOrUndefined(this.startValue)) {\n            if (!isNullOrUndefined(this.max) && this.isSameMonth(this.startValue, this.max)) {\n                this.currentDate = new Date(+this.max);\n                this.currentDate.setDate(1);\n                this.currentDate.setMonth(this.currentDate.getMonth() - 1);\n            }\n            else if (!(this.startValue >= this.min && this.startValue <= this.max)\n                || this.isDateDisabled(this.startValue)) {\n                this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            }\n            else {\n                this.currentDate = new Date(+this.startValue);\n            }\n        }\n        else {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n            this.startMonthCurrentDate();\n        }\n        if ((!isNullOrUndefined(this.endValue) && +this.endValue > +this.max)\n            || (!isNullOrUndefined(this.startValue) && +this.startValue < +this.min)\n            || ((!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) && +this.startValue > +this.endValue)) {\n            this.currentDate = new Date(new Date().setHours(0, 0, 0, 0));\n        }\n        this.startMonthCurrentDate();\n    };\n    DateRangePicker.prototype.createCalendar = function () {\n        var calendarContainer = this.createElement('div', { className: CALENDARCONTAINER });\n        if (!this.isMobile) {\n            this.selectStartMonth();\n            this.renderCalendar();\n            this.leftCalCurrentDate = new Date(+this.currentDate);\n            this.calendarElement.classList.add(LEFTCALENDER);\n            this.leftCalPrevIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + PREVICON$1);\n            this.leftCalNextIcon = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + NEXTICON$1);\n            this.leftTitle = this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalNextIcon);\n            this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1).appendChild(this.leftCalPrevIcon);\n            prepend([this.leftCalPrevIcon], this.calendarElement.querySelector('.' + LEFTCALENDER + ' .' + HEADER$1));\n            this.leftCalendar = this.calendarElement;\n            var leftContainer = this.createElement('div', { className: LEFTCONTAINER });\n            var rightContainer = this.createElement('div', { className: RIGHTCONTAINER });\n            leftContainer.appendChild(this.leftCalendar);\n            calendarContainer.appendChild(leftContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.leftTitle, 'click', this.leftNavTitle, this);\n            }\n            if (this.start === 'Month') {\n                this.selectNextMonth();\n            }\n            if (this.start === 'Year') {\n                this.selectNextYear();\n            }\n            if (this.start === 'Decade') {\n                this.selectNextDecade();\n            }\n            this.renderCalendar();\n            this.rightCalCurrentDate = new Date(+this.currentDate);\n            addClass([this.calendarElement], RIGHTCALENDER);\n            this.rightCalendar = this.calendarElement;\n            removeClass([this.leftCalendar && this.leftCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            removeClass([this.rightCalendar && this.rightCalendar.querySelector('.e-content tbody')], 'e-zoomin');\n            this.rightCalPrevIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + PREVICON$1);\n            this.rightCalNextIcon = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + NEXTICON$1);\n            this.rightTitle = this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + TITLE$1);\n            remove(this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('table').setAttribute('tabindex', '0');\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalNextIcon);\n            this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1).appendChild(this.rightCalPrevIcon);\n            prepend([this.rightCalPrevIcon], this.calendarElement.querySelector('.' + RIGHTCALENDER + ' .' + HEADER$1));\n            rightContainer.appendChild(this.rightCalendar);\n            calendarContainer.appendChild(rightContainer);\n            if (!this.isMobile) {\n                EventHandler.add(this.rightTitle, 'click', this.rightNavTitle, this);\n            }\n        }\n        else {\n            if (!isNullOrUndefined(this.startValue)) {\n                this.currentDate = new Date(+this.startValue);\n            }\n            _super.prototype.validateDate.call(this);\n            _super.prototype.minMaxUpdate.call(this);\n            _super.prototype.render.call(this);\n            var prevIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + PREVICON$1);\n            var nextIcon = this.calendarElement.querySelector('.' + CALENDAR + ' .' + NEXTICON$1);\n            remove(this.calendarElement.querySelector('.' + CALENDAR + ' .' + ICONCONTAINER$1));\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(nextIcon);\n            this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1).appendChild(prevIcon);\n            prepend([prevIcon], this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1));\n            this.deviceCalendar = this.calendarElement;\n            calendarContainer.appendChild(this.calendarElement);\n            this.headerTitleElement = this.calendarElement.querySelector('.' + CALENDAR + ' .' + HEADER$1 + ' .' + TITLE$1);\n        }\n        return calendarContainer;\n    };\n    DateRangePicker.prototype.leftNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.leftCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.calendarNavigation = function (e, element) {\n        this.table = element.querySelector('table');\n        this.headerTitleElement = element.querySelector('.e-title');\n        this.tableBodyElement = element.querySelector('tbody');\n        this.tableHeadElement = element.querySelector('thead');\n        this.contentElement = element.querySelector('.e-content');\n        this.updateCalendarElement(element);\n        _super.prototype.navigateTitle.call(this, e);\n        this.updateNavIcons();\n    };\n    DateRangePicker.prototype.rightNavTitle = function (e) {\n        if (this.isPopupOpen()) {\n            this.calendarElement = this.rightCalendar;\n            this.calendarNavigation(e, this.calendarElement);\n        }\n    };\n    DateRangePicker.prototype.clickEventEmitter = function (e) {\n        if (!this.isMobile) {\n            if (closest(e.target, '.e-calendar.e-left-calendar')) {\n                this.calendarElement = this.leftCalendar;\n                this.updateCalendarElement(this.leftCalendar);\n            }\n            else {\n                this.calendarElement = this.rightCalendar;\n                this.updateCalendarElement(this.rightCalendar);\n            }\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the current view of the Calendar.\n     *\n     * @returns {string}\n     * @private\n     * @hidden\n     */\n    DateRangePicker.prototype.currentView = function () {\n        return _super.prototype.currentView.call(this);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    DateRangePicker.prototype.getCalendarView = function (view) {\n        if (view === 'Year') {\n            return 'Year';\n        }\n        else if (view === 'Decade') {\n            return 'Decade';\n        }\n        else {\n            return 'Month';\n        }\n    };\n    DateRangePicker.prototype.navigatedEvent = function (e) {\n        this.trigger('navigated', this.navigatedArgs);\n        if (!isNullOrUndefined(this.popupObj)) {\n            var element = void 0;\n            var view = this.getCalendarView(this.currentView());\n            if (this.isMobile) {\n                if (view === this.depth) {\n                    this.bindCalendarCellEvents();\n                    this.deviceNavigation();\n                    this.removeFocusedDate();\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.selectableDates();\n                }\n            }\n            else {\n                if (!this.isMobile && view === this.depth) {\n                    element = this.calendarElement.classList.contains('e-left-calendar') ? this.leftCalendar : this.rightCalendar;\n                    if (element === this.leftCalendar && ((e && !e.currentTarget.children[0].classList.contains('e-icons'))\n                        || (!isNullOrUndefined(this.controlDown)))) {\n                        this.leftCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.leftCalCurrentDate;\n                        this.updateCalendarElement(this.leftCalendar);\n                        this.updateControl(this.leftCalendar);\n                        this.updateCalendarElement(this.rightCalendar);\n                        _super.prototype.navigateTo.call(this, view, this.rightCalCurrentDate);\n                        var customDate = this.rightCalCurrentDate ? this.rightCalCurrentDate : this.currentDate;\n                        this.updateControl(this.rightCalendar, customDate);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    else if (e && !e.currentTarget.children[0].classList.contains('e-icons')\n                        || (!isNullOrUndefined(this.controlDown))) {\n                        this.rightCalCurrentDate = new Date(+this.currentDate);\n                        this.effect = '';\n                        this.currentDate = this.rightCalCurrentDate;\n                        this.updateCalendarElement(this.rightCalendar);\n                        this.updateControl(this.rightCalendar);\n                        this.updateCalendarElement(this.leftCalendar);\n                        if (this.startValue && isNullOrUndefined(this.endValue)) {\n                            if (view === 'Month' && this.startValue.getMonth() < this.rightCalCurrentDate.getMonth() &&\n                                this.startValue.getFullYear() <= this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else if (view === 'Year' && this.startValue.getFullYear() < this.rightCalCurrentDate.getFullYear()) {\n                                _super.prototype.navigateTo.call(this, view, new Date(+this.startValue));\n                            }\n                            else {\n                                _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                            }\n                        }\n                        else {\n                            _super.prototype.navigateTo.call(this, view, this.leftCalCurrentDate);\n                        }\n                        this.updateControl(this.leftCalendar);\n                        this.updateNavIcons();\n                        this.calendarIconEvent();\n                        this.calendarIconRipple();\n                        this.controlDown = null;\n                    }\n                    this.checkMinMaxDays();\n                }\n                else {\n                    this.updateNavIcons();\n                    this.calendarIconEvent();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createControl = function () {\n        var controlContainer = this.createElement('div', { className: RANGECONTAINER });\n        var headerContainer = this.createElement('div', { className: RANGEHEADER });\n        var labelContainer = this.createRangeHeader();\n        headerContainer.appendChild(labelContainer);\n        var daySpan = this.createElement('div', { className: DAYSPAN });\n        attributes(daySpan, { 'aria-label': 'Selected Days' });\n        daySpan.textContent = this.l10n.getConstant('selectedDays');\n        headerContainer.appendChild(daySpan);\n        var separator = this.createElement('div', { className: SEPARATOR });\n        var calendarContainer = this.createCalendar();\n        controlContainer.appendChild(headerContainer);\n        controlContainer.appendChild(separator);\n        controlContainer.appendChild(calendarContainer);\n        var footerSection = this.createElement('div', { className: FOOTER$1 });\n        var cancelBtn = this.createElement('button', { className: CANCEL + ' ' + FLAT$1 + ' ' + CSS$1 });\n        var applyBtn = this.createElement('button');\n        addClass([applyBtn], [APPLY, FLAT$1, PRIMARY$1, CSS$1]);\n        footerSection.appendChild(applyBtn);\n        footerSection.appendChild(cancelBtn);\n        var enable = !isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue);\n        this.cancelButton = new Button({ content: this.l10n.getConstant('cancelText') }, cancelBtn);\n        this.applyButton = new Button({ content: this.l10n.getConstant('applyText'), disabled: !enable }, applyBtn);\n        EventHandler.add(applyBtn, 'click', this.applyFunction, this);\n        EventHandler.add(cancelBtn, 'click', this.cancelFunction, this);\n        this.popupWrapper.appendChild(controlContainer);\n        if (!this.isMobile) {\n            if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n                this.createPresets();\n                this.listRippleEffect();\n                addClass([controlContainer], RANGEBORDER);\n                addClass([this.popupWrapper], 'e-preset-wrapper');\n                var presets = this.popupWrapper.querySelector('.' + PRESETS);\n                presets.style.height = this.popupWrapper.querySelector('.' + RANGECONTAINER).getBoundingClientRect().height + 'px';\n            }\n        }\n        this.popupWrapper.appendChild(footerSection);\n        if (this.isMobile) {\n            this.deviceHeaderUpdate();\n        }\n        this.renderPopup();\n    };\n    DateRangePicker.prototype.cancelFunction = function (eve) {\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        eve.preventDefault();\n        if (this.isKeyPopup) {\n            this.inputElement.focus();\n            this.isKeyPopup = false;\n        }\n        this.startValue = null;\n        this.endValue = null;\n        this.removeSelection();\n        this.hide(eve);\n    };\n    DateRangePicker.prototype.deviceHeaderUpdate = function () {\n        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n            this.endButton.element.setAttribute('disabled', '');\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n        else if (!isNullOrUndefined(this.startValue)) {\n            this.startButton.element.classList.add(ACTIVE$1);\n        }\n    };\n    DateRangePicker.prototype.applyFunction = function (eve) {\n        var isValueChanged = false;\n        if (eve.type !== 'touchstart') {\n            eve.preventDefault();\n        }\n        if (this.closeEventArgs && this.closeEventArgs.cancel) {\n            this.startValue = this.popupWrapper.querySelector('.e-start-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-start-date'));\n            this.endValue = this.popupWrapper.querySelector('.e-end-date') &&\n                this.getIdValue(null, this.popupWrapper.querySelector('.e-end-date'));\n            this.setValue();\n        }\n        if (document.activeElement !== this.inputElement) {\n            this.preventFocus = true;\n            this.inputElement.focus();\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n        }\n        if (eve.type !== 'touchstart' &&\n            this.closeEventArgs && !this.closeEventArgs.cancel) {\n            eve.preventDefault();\n        }\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n            this.previousEleValue = this.inputElement.value;\n            Input.setValue(this.rangeArgs(eve).text, this.inputElement, this.floatLabelType, this.showClearButton);\n            if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n                isValueChanged = true;\n            }\n            this.changeTrigger(eve);\n            this.hide(eve ? eve : null);\n            this.errorClass();\n            isValueChanged = true;\n        }\n        else {\n            this.hide(eve ? eve : null);\n        }\n        if (!(closest(eve.target, '.' + INPUTCONTAINER$1))\n            && (!isValueChanged)) {\n            this.focusOut();\n        }\n        if (!this.isMobile) {\n            this.isKeyPopup = false;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.children[1].focus();\n                this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n                this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n                    eventName: 'keydown',\n                    keyConfigs: this.keyInputConfigs,\n                    keyAction: this.popupKeyActionHandle.bind(this)\n                });\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseClick = function (event, item) {\n        if (event.type === 'touchstart') {\n            return;\n        }\n        var target = item || event.target;\n        var li = closest(target, '.' + LISTCLASS);\n        var isClick = li && li.classList.contains(ACTIVE$1);\n        if (li && li.classList.contains(LISTCLASS)) {\n            this.setListSelection(li, event);\n        }\n        this.preventFocus = true;\n        this.inputElement.focus();\n        if (!this.isMobile) {\n            this.preventFocus = true;\n            if (li && li.classList.contains(LISTCLASS) && li.getAttribute('id') === 'custom_range') {\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n            else {\n                if (!isClick && event.type === 'keydown') {\n                    this.inputElement.focus();\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.onMouseOver = function (event) {\n        var li = closest(event.target, '.' + LISTCLASS);\n        if (li && li.classList.contains(LISTCLASS) && !li.classList.contains(HOVER)) {\n            addClass([li], HOVER);\n        }\n    };\n    DateRangePicker.prototype.onMouseLeave = function (event) {\n        var item = closest(event.target, '.' + HOVER);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], HOVER);\n        }\n    };\n    DateRangePicker.prototype.setListSelection = function (li, event) {\n        if (li && (!li.classList.contains(ACTIVE$1) || (this.isMobile && li.classList.contains(ACTIVE$1)))) {\n            if (this.isMobile && li.classList.contains(ACTIVE$1)) {\n                this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n                var values_1 = this.presetsItem[this.activeIndex];\n                if (values_1.id === 'custom_range') {\n                    this.renderCustomPopup();\n                    return;\n                }\n                return;\n            }\n            this.removeListSelection();\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            addClass([li], ACTIVE$1);\n            li.setAttribute('aria-selected', 'true');\n            var values = this.presetsItem[this.activeIndex];\n            if (values.id === 'custom_range') {\n                this.renderCustomPopup();\n            }\n            else {\n                this.applyPresetRange(values, event);\n            }\n        }\n    };\n    DateRangePicker.prototype.removeListSelection = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE$1);\n        if (!isNullOrUndefined(item)) {\n            removeClass([item], ACTIVE$1);\n            item.removeAttribute('aria-selected');\n        }\n    };\n    DateRangePicker.prototype.setValue = function () {\n        this.modelValue = [this.startValue, this.endValue];\n    };\n    DateRangePicker.prototype.applyPresetRange = function (values, e) {\n        this.hide(null);\n        this.presetsItem[this.presetsItem.length - 1].start = null;\n        this.presetsItem[this.presetsItem.length - 1].end = null;\n        this.startValue = values.start;\n        this.endValue = values.end;\n        this.setValue();\n        this.refreshControl();\n        this.trigger('select', this.rangeArgs(e));\n        this.changeTrigger(e);\n        this.previousEleValue = this.inputElement.value;\n        this.isCustomRange = false;\n        this.leftCalendar = this.rightCalendar = null;\n        if (this.isKeyPopup) {\n            this.isRangeIconClicked = false;\n            this.inputElement.focus();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.showPopup = function (element, event) {\n        this.presetHeight();\n        if (this.zIndex === 1000) {\n            this.popupObj.show(null, this.element);\n        }\n        else {\n            this.popupObj.show(null, null);\n        }\n        if (this.isMobile) {\n            this.popupObj.refreshPosition();\n        }\n    };\n    DateRangePicker.prototype.renderCustomPopup = function () {\n        this.isCustomWindow = true;\n        this.popupObj.hide();\n        this.popupWrapper = this.createElement('div', { id: this.element.id + '_popup', className: ROOT$2 + ' ' + POPUP$1 });\n        this.renderControl();\n        this.openEventArgs.appendTo.appendChild(this.popupWrapper);\n        this.showPopup();\n        this.isCustomRange = true;\n        if (!this.isMobile) {\n            this.calendarFocus();\n        }\n    };\n    DateRangePicker.prototype.listRippleEffect = function () {\n        for (var _i = 0, _a = this.liCollections; _i < _a.length; _i++) {\n            var li = _a[_i];\n            rippleEffect(li);\n        }\n    };\n    DateRangePicker.prototype.createPresets = function () {\n        if (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label)) {\n            this.presetElement = this.createElement('div', { className: PRESETS, attrs: { 'tabindex': '0' } });\n            var listTag = ListBase.createList(this.createElement, this.presetsItem, null, true);\n            attributes(listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options', 'tabindex': '0' });\n            this.presetElement.appendChild(listTag);\n            this.popupWrapper.appendChild(this.presetElement);\n            var customElement = this.presetElement.querySelector('#custom_range');\n            if (!isNullOrUndefined(customElement)) {\n                customElement.textContent = this.l10n.getConstant('customRange') !== '' ? this.l10n.getConstant('customRange')\n                    : 'Custom Range';\n            }\n            this.liCollections = this.presetElement.querySelectorAll('.' + LISTCLASS);\n            this.wireListEvents();\n            if (this.isMobile) {\n                this.presetElement.style.width = this.inputWrapper.container.getBoundingClientRect().width + 'px';\n            }\n            if (!isNullOrUndefined(this.activeIndex) && this.activeIndex > -1) {\n                addClass([this.liCollections[this.activeIndex]], ACTIVE$1);\n            }\n        }\n    };\n    DateRangePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.presetElement, 'click', this.onMouseClick, this);\n        if (!this.isMobile) {\n            EventHandler.add(this.presetElement, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.presetElement, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateRangePicker.prototype.unWireListEvents = function () {\n        if (!isNullOrUndefined(this.presetElement)) {\n            EventHandler.remove(this.presetElement, 'click touchstart', this.onMouseClick);\n            if (!this.isMobile) {\n                EventHandler.remove(this.presetElement, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.presetElement, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    DateRangePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.popupWrapper.classList.add('e-control');\n        var popupWidth = this.popupWrapper.getBoundingClientRect().width;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass.trim() !== '') {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            this.modal = this.createElement('div');\n            document.body.appendChild(this.modal);\n        }\n        this.popupObj = new Popup(this.popupWrapper, {\n            relateTo: this.isMobile && this.isCustomWindow ? document.body :\n                (!isNullOrUndefined(this.targetElement) ? this.targetElement : this.inputWrapper.container),\n            position: (this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'left', Y: 'bottom' } : { X: 'center', Y: 'center' }) :\n                this.enableRtl ? { X: 'left', Y: 'bottom' } : { X: 'right', Y: 'bottom' }),\n            offsetX: this.isMobile || this.enableRtl ? 0 : -popupWidth,\n            offsetY: OFFSETVALUE$1,\n            collision: this.isMobile ?\n                (!isUndefined(this.presets[0].start && this.presets[0].end && this.presets[0].label) && !this.isCustomWindow ?\n                    { X: 'fit' } : { X: 'fit', Y: 'fit' }) : { X: 'fit', Y: 'flip' },\n            targetType: this.isMobile && this.isCustomWindow ? 'container' : 'relative',\n            enableRtl: this.enableRtl,\n            zIndex: this.zIndex,\n            open: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'true', 'aria-owns': _this.inputElement.id + '_options' });\n                if (_this.value) {\n                    attributes(_this.inputElement, { 'aria-activedescendant': _this.inputElement.id });\n                }\n                else {\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                }\n                addClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (!_this.isMobile) {\n                    if (_this.cancelButton) {\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.cancelButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { tab: 'tab', altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        _this.btnKeyboardModule = new KeyboardEvents(_this.applyButton.element, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                    }\n                    if (!isNullOrUndefined(_this.leftCalendar)) {\n                        if (!_this.isRangeIconClicked) {\n                            _this.calendarFocus();\n                        }\n                    }\n                    if (!isNullOrUndefined(_this.presetElement)) {\n                        _this.keyInputConfigs = extend(_this.keyInputConfigs, _this.keyConfigs);\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.presetKeyActionHandler.bind(_this),\n                            keyConfigs: _this.keyInputConfigs\n                        });\n                        _this.presetKeyboardModule = new KeyboardEvents(_this.presetElement, {\n                            eventName: 'keydown',\n                            keyAction: _this.popupKeyActionHandle.bind(_this),\n                            keyConfigs: { altRightArrow: 'alt+rightarrow', altLeftArrow: 'alt+leftarrow' }\n                        });\n                        if (isNullOrUndefined(_this.leftCalendar)) {\n                            _this.preventBlur = true;\n                            _this.presetElement.focus();\n                        }\n                        else {\n                            _this.presetElement.setAttribute('tabindex', '-1');\n                        }\n                    }\n                    _this.popupKeyBoardHandler();\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.add(document, 'keydown', _this.popupCloseHandler, _this);\n                }\n            },\n            close: function () {\n                attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                _this.inputElement.removeAttribute('aria-owns');\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n                if (_this.isRangeIconClicked) {\n                    _this.inputWrapper.container.children[1].focus();\n                }\n                if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label)) {\n                    _this.unWireListEvents();\n                }\n                if (!isNullOrUndefined(_this.popupObj)) {\n                    if (!isNullOrUndefined(_this.popupObj.element.parentElement)) {\n                        detach(_this.popupObj.element);\n                    }\n                    _this.popupObj.destroy();\n                    _this.popupObj = null;\n                }\n                if (_this.isMobile && !Browser.isDevice) {\n                    EventHandler.remove(document, 'keydown', _this.popupCloseHandler);\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (this.isMobile) {\n            this.popupObj.element.classList.add(DEVICE$1);\n            if (!this.isMobile) {\n                this.popupObj.element.classList.add('e-bigger');\n            }\n        }\n        if (this.isMobile && this.isCustomWindow) {\n            addClass([this.modal], [DEVICE$1, ROOT$2, 'e-range-modal']);\n            document.body.className += ' ' + OVERFLOW$1;\n            this.modal.style.display = 'block';\n        }\n        EventHandler.add(document, 'mousedown touchstart', this.documentHandler, this);\n    };\n    DateRangePicker.prototype.popupCloseHandler = function (e) {\n        switch (e.keyCode) {\n            case 27:\n                this.hide(e);\n                break;\n        }\n    };\n    DateRangePicker.prototype.calendarFocus = function () {\n        var startDate = this.popupObj && this.popupObj.element.querySelector('.' + STARTDATE);\n        if (startDate) {\n            var ele = closest(startDate, '.' + RIGHTCALENDER);\n            ele = isNullOrUndefined(ele) ? this.leftCalendar : ele;\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                ele.children[1].firstElementChild.focus();\n            }\n            addClass([startDate], FOCUSDATE);\n        }\n        else {\n            if (this.isRangeIconClicked) {\n                this.inputWrapper.container.focus();\n            }\n            else {\n                this.preventBlur = true;\n                this.leftCalendar.children[1].firstElementChild.focus();\n            }\n        }\n    };\n    DateRangePicker.prototype.presetHeight = function () {\n        var presets = this.popupObj && this.popupObj.element.querySelector('.' + PRESETS);\n        var rangeContainer = this.popupObj && this.popupObj.element.querySelector('.' + RANGECONTAINER);\n        if (!isNullOrUndefined(presets) && !isNullOrUndefined(rangeContainer)) {\n            presets.style.height = rangeContainer.getBoundingClientRect().height + 'px';\n        }\n    };\n    DateRangePicker.prototype.presetKeyActionHandler = function (e) {\n        switch (e.action) {\n            case 'moveDown':\n                this.listMoveDown(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'moveUp':\n                this.listMoveUp(e);\n                this.setScrollPosition();\n                e.preventDefault();\n                break;\n            case 'enter':\n                {\n                    var hvrItem = this.getHoverLI();\n                    var actItem = this.getActiveLI();\n                    if (!isNullOrUndefined(this.leftCalendar) && !isNullOrUndefined(actItem)) {\n                        if (isNullOrUndefined(hvrItem) || (!isNullOrUndefined(actItem) && actItem === hvrItem)) {\n                            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(actItem);\n                            var values = this.presetsItem[this.activeIndex];\n                            if (values.id === 'custom_range') {\n                                this.calendarFocus();\n                                actItem.classList.remove(HOVER);\n                                e.preventDefault();\n                                return;\n                            }\n                        }\n                    }\n                    if (!isNullOrUndefined(hvrItem) || !isNullOrUndefined(actItem)) {\n                        this.onMouseClick(e, hvrItem || actItem);\n                    }\n                    e.preventDefault();\n                }\n                break;\n            case 'tab':\n                if (this.leftCalendar) {\n                    var item = this.getHoverLI();\n                    if (!isNullOrUndefined(item)) {\n                        item.classList.remove(HOVER);\n                    }\n                }\n                else {\n                    this.hide(e);\n                    e.preventDefault();\n                }\n                break;\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.listMoveDown = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.nextElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n        else {\n            addClass([this.liCollections[0]], HOVER);\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateRangePicker.prototype.listMoveUp = function (e) {\n        var hvrItem = this.getHoverLI();\n        var actItem = this.getActiveLI();\n        if (!isNullOrUndefined(hvrItem)) {\n            var li = hvrItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                removeClass([hvrItem], HOVER);\n                addClass([li], HOVER);\n            }\n        }\n        else if (!isNullOrUndefined(actItem)) {\n            var li = actItem.previousElementSibling;\n            if (!isNullOrUndefined(li) && li.classList.contains(LISTCLASS)) {\n                addClass([li], HOVER);\n            }\n        }\n    };\n    DateRangePicker.prototype.getHoverLI = function () {\n        var item = this.presetElement.querySelector('.' + HOVER);\n        return item;\n    };\n    DateRangePicker.prototype.getActiveLI = function () {\n        var item = this.presetElement.querySelector('.' + ACTIVE$1);\n        return item;\n    };\n    DateRangePicker.prototype.popupKeyBoardHandler = function () {\n        this.popupKeyboardModule = new KeyboardEvents(this.popupWrapper, {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: { escape: 'escape' }\n        });\n        this.keyInputConfigs = extend(this.keyInputConfigs, this.keyConfigs);\n        this.popupKeyboardModule = new KeyboardEvents(this.inputWrapper.container.children[1], {\n            eventName: 'keydown',\n            keyAction: this.popupKeyActionHandle.bind(this),\n            keyConfigs: this.keyInputConfigs\n        });\n    };\n    DateRangePicker.prototype.setScrollPosition = function () {\n        var listHeight = this.presetElement.getBoundingClientRect().height;\n        var hover = this.presetElement.querySelector('.' + HOVER);\n        var active = this.presetElement.querySelector('.' + ACTIVE$1);\n        var element = !isNullOrUndefined(hover) ? hover : active;\n        if (!isNullOrUndefined(element)) {\n            var nextEle = element.nextElementSibling;\n            var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n            var liHeight = element.getBoundingClientRect().height;\n            if ((height + element.offsetTop) > listHeight) {\n                this.presetElement.scrollTop = nextEle ? (height - (listHeight / 2 + liHeight / 2)) : height;\n            }\n            else {\n                this.presetElement.scrollTop = 0;\n            }\n        }\n    };\n    DateRangePicker.prototype.popupKeyActionHandle = function (e) {\n        var presetElement = closest(e.target, '.' + PRESETS);\n        switch (e.action) {\n            case 'escape':\n                if (this.isPopupOpen()) {\n                    if (this.isKeyPopup) {\n                        this.inputElement.focus();\n                        this.isKeyPopup = false;\n                    }\n                    this.hide(e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].blur();\n                }\n                break;\n            case 'enter':\n                if (!this.isPopupOpen()) {\n                    this.show(null, e);\n                }\n                else {\n                    this.inputWrapper.container.children[1].focus();\n                }\n                break;\n            case 'tab':\n                this.hide(e);\n                break;\n            case 'altRightArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.cancelButton.element.focus();\n                }\n                else {\n                    if (document.activeElement === this.cancelButton.element && this.applyButton.element.disabled !== true) {\n                        this.applyButton.element.focus();\n                    }\n                    else {\n                        this.leftCalendar.children[1].firstElementChild.focus();\n                    }\n                }\n                e.preventDefault();\n                break;\n            case 'altLeftArrow':\n                if (!isNullOrUndefined(presetElement)) {\n                    this.rightCalendar.children[1].firstElementChild.focus();\n                }\n                else {\n                    if (document.activeElement === this.applyButton.element && this.applyButton.element.disabled !== true) {\n                        this.cancelButton.element.focus();\n                    }\n                    else {\n                        if (!isNullOrUndefined(this.presetElement) && (document.activeElement === this.cancelButton.element)) {\n                            this.presetElement.focus();\n                        }\n                        else {\n                            this.rightCalendar.children[1].firstElementChild.focus();\n                        }\n                    }\n                }\n                e.preventDefault();\n                break;\n        }\n    };\n    DateRangePicker.prototype.documentHandler = function (e) {\n        if (isNullOrUndefined(this.popupObj)) {\n            return;\n        }\n        var target = e.target;\n        if (!this.inputWrapper.container.contains(target) ||\n            (!isNullOrUndefined(this.popupObj) && !closest(target, '[id=\"' + this.popupWrapper.id + '\"]') && e.type !== 'mousedown')) {\n            if (e.type !== 'touchstart' && ((e.type === 'mousedown') ||\n                this.closeEventArgs && !this.closeEventArgs.cancel)) {\n                e.preventDefault();\n            }\n        }\n        if ((isNullOrUndefined(this.targetElement) ||\n            (!isNullOrUndefined(this.targetElement) && !(target === this.targetElement))) &&\n            !(closest(target, '[id=\"' + this.popupWrapper.id + '\"]'))\n            && !(closest(target, '.' + INPUTCONTAINER$1) === this.inputWrapper.container)\n            && !(closest(target, '.e-daterangepicker.e-popup') && (!target.classList.contains('e-day')))) {\n            this.preventBlur = false;\n            if (this.isPopupOpen() && document.body.contains(this.popupObj.element)) {\n                this.applyFunction(e);\n                if (!this.isMobile) {\n                    this.isRangeIconClicked = false;\n                }\n            }\n        }\n    };\n    DateRangePicker.prototype.createInput = function () {\n        var updatedCssClassValue = this.cssClass;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            floatLabelType: this.floatLabelType,\n            element: this.inputElement,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [DATERANGEICON]\n        }, this.createElement);\n        attributes(this.inputElement, {\n            'tabindex': '0', 'aria-expanded': 'false', 'role': 'combobox',\n            'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false'\n        });\n        Input.addAttributes({ 'aria-label': 'select' }, this.inputWrapper.buttons[0]);\n        if (!isNullOrUndefined(this.placeholder) && this.placeholder.trim() !== '') {\n            Input.addAttributes({ 'aria-placeholder': this.placeholder }, this.inputElement);\n        }\n        this.setEleWidth(this.width);\n        addClass([this.inputWrapper.container], DATERANGEWRAPPER);\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.inputElement.type === 'hidden') {\n            this.inputWrapper.container.style.display = 'none';\n        }\n        this.refreshControl();\n        this.previousEleValue = this.inputElement.value;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.startCopy = this.startDate;\n        this.endCopy = this.endDate;\n    };\n    DateRangePicker.prototype.setEleWidth = function (width) {\n        if (typeof width === 'string') {\n            this.inputWrapper.container.style.width = (this.width);\n        }\n        else if (typeof width === 'number') {\n            this.inputWrapper.container.style.width = formatUnit(this.width);\n        }\n        else {\n            this.inputWrapper.container.style.width = '100%';\n        }\n    };\n    DateRangePicker.prototype.adjustLongHeaderWidth = function () {\n        if (this.dayHeaderFormat === 'Wide') {\n            addClass([this.popupWrapper], DAYHEADERLONG$1);\n        }\n    };\n    DateRangePicker.prototype.refreshControl = function () {\n        this.validateMinMax();\n        if (this.strictMode) {\n            this.validateRangeStrict();\n        }\n        var isDisabled = this.disabledDates();\n        if (this.strictMode && (isDisabled)) {\n            this.startValue = this.previousStartValue;\n            this.setProperties({ startDate: this.startValue }, true);\n            this.endValue = this.previousEndValue;\n            this.setProperties({ endDate: this.endValue }, true);\n            this.setValue();\n        }\n        this.updateInput();\n        if (!this.strictMode) {\n            this.validateRange();\n        }\n        if (!this.strictMode && (isDisabled)) {\n            this.clearRange();\n        }\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue) &&\n            !isDisabled && !isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n            this.disabledDateRender();\n        }\n        this.errorClass();\n        this.previousStartValue = isNullOrUndefined(this.startValue) || isNaN(+this.startValue) ? null : new Date(+this.startValue);\n        this.previousEndValue = isNullOrUndefined(this.endValue) || isNaN(+this.endValue) ? null : new Date(+this.endValue);\n    };\n    DateRangePicker.prototype.updateInput = function () {\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            var formatOption = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n            var startDate = this.globalize.formatDate(this.startValue, formatOption);\n            var endDate = this.globalize.formatDate(this.endValue, formatOption);\n            Input.setValue(startDate + ' ' + this.separator + ' ' + endDate, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousStartValue = new Date(+this.startValue);\n            this.previousEndValue = new Date(+this.endValue);\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            Input.setValue(this.invalidValueString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n    };\n    DateRangePicker.prototype.checkInvalidRange = function (value) {\n        if (!isNullOrUndefined(value)) {\n            var invalid = false;\n            var startinvalue = void 0;\n            var endinvalue = void 0;\n            var startString = null;\n            var endString = null;\n            var valueString = null;\n            var startObject = false;\n            var endObject = false;\n            var invalidobject = false;\n            if (typeof (value) === 'string') {\n                var range = value.split(' ' + this.separator + ' ');\n                if (range.length === 2) {\n                    startString = range[0];\n                    endString = range[1];\n                }\n                else {\n                    invalid = true;\n                    valueString = value;\n                }\n            }\n            else {\n                if (value.length > 0) {\n                    startinvalue = value[0];\n                    endinvalue = value[1];\n                }\n                else {\n                    startinvalue = value.start;\n                    endinvalue = value.end;\n                }\n                if (!(startinvalue instanceof Date) && typeof (startinvalue) !== 'object') {\n                    startString = this.getstringvalue(startinvalue);\n                }\n                else if (startinvalue instanceof Date) {\n                    startObject = true;\n                }\n                else if (!isNullOrUndefined(startinvalue)) {\n                    invalidobject = true;\n                }\n                if (!(endinvalue instanceof Date) && typeof (endinvalue) !== 'object') {\n                    endString = this.getstringvalue(endinvalue);\n                }\n                else if (endinvalue instanceof Date) {\n                    endObject = true;\n                }\n                else if (!isNullOrUndefined(endinvalue)) {\n                    invalidobject = true;\n                }\n            }\n            if ((isNullOrUndefined(startString) && !startObject && !isNullOrUndefined(endString)) ||\n                (!isNullOrUndefined(startString) && !endObject && isNullOrUndefined(endString))) {\n                invalid = true;\n            }\n            if (invalidobject) {\n                startString = endString = valueString = null;\n                invalid = true;\n            }\n            if (startString) {\n                invalid = invalid || this.checkInvalidValue(startString);\n            }\n            if (endString) {\n                invalid = invalid || this.checkInvalidValue(endString);\n            }\n            if (invalid) {\n                if (startObject && !invalidobject) {\n                    startString = startinvalue.toLocaleDateString();\n                }\n                if (endObject && !invalidobject) {\n                    endString = endinvalue.toLocaleDateString();\n                }\n                if (!isNullOrUndefined(startString) && !isNullOrUndefined(endString)) {\n                    valueString = startString + ' ' + this.separator + ' ' + endString;\n                }\n                else if (!isNullOrUndefined(startString)) {\n                    valueString = startString;\n                }\n                else if (!isNullOrUndefined(endString)) {\n                    valueString = endString;\n                }\n                this.invalidValueString = valueString;\n                this.setProperties({ value: null }, true);\n                this.setProperties({ startValue: null }, true);\n                this.setProperties({ endValue: null }, true);\n                this.startDate = null;\n                this.endDate = null;\n            }\n        }\n    };\n    DateRangePicker.prototype.getstringvalue = function (value) {\n        var stringValue = null;\n        if (!isNullOrUndefined(value) && (typeof value === 'number')) {\n            stringValue = (value).toString();\n        }\n        else if (!isNullOrUndefined(value) && (typeof value === 'string')) {\n            stringValue = '' + value;\n        }\n        return stringValue;\n    };\n    DateRangePicker.prototype.checkInvalidValue = function (value) {\n        var valueString = value;\n        var invalid = false;\n        var formatOpt = null;\n        formatOpt = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        if (typeof valueString !== 'string') {\n            invalid = true;\n        }\n        else {\n            var globalize = new Internationalization(this.locale);\n            if (!this.checkDateValue(globalize.parseDate(valueString, formatOpt))) {\n                var extISOStr = null;\n                var basISOString = null;\n                // eslint-disable-next-line\n                extISOStr = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOStr.test(valueString) && !basISOString.test(valueString))\n                    || (/^[a-zA-Z0-9- ]*$/).test(valueString) || isNaN(+new Date(this.checkValue(valueString)))) {\n                    invalid = true;\n                }\n            }\n        }\n        return invalid;\n    };\n    DateRangePicker.prototype.isDateDisabled = function (date) {\n        if (isNullOrUndefined(date)) {\n            return false;\n        }\n        var value = new Date(+date);\n        if (+value < +this.min || +value > +this.max) {\n            return true;\n        }\n        this.virtualRenderCellArgs = {\n            date: value,\n            isDisabled: false\n        };\n        var args = this.virtualRenderCellArgs;\n        this.virtualRenderCellEvent(args);\n        if (args.isDisabled) {\n            return true;\n        }\n        return false;\n    };\n    DateRangePicker.prototype.disabledDateRender = function () {\n        this.disabledDays = [];\n        this.disabledDayCnt = null;\n        var localDate = new Date(+this.startValue);\n        var count = 0;\n        while (+localDate <= +this.endValue && +this.endValue <= +this.max) {\n            this.virtualRenderCellArgs = {\n                date: localDate,\n                isDisabled: false\n            };\n            var args = this.virtualRenderCellArgs;\n            this.virtualRenderCellEvent(args);\n            if (args.isDisabled) {\n                this.disabledDays.push(new Date(+args.date));\n                if (+localDate > +this.startValue && +localDate < +this.endValue) {\n                    count++;\n                }\n            }\n            this.addDay(localDate, 1, null, this.max, this.min);\n        }\n        this.disabledDayCnt = count;\n    };\n    DateRangePicker.prototype.virtualRenderCellEvent = function (args) {\n        extend(this.virtualRenderCellArgs, { name: 'renderDayCell' });\n        this.trigger('renderDayCell', args);\n    };\n    DateRangePicker.prototype.disabledDates = function () {\n        var isStartDisabled = false;\n        var isEndDisabled = false;\n        if (!isNullOrUndefined(this.endValue) && !isNullOrUndefined(this.startValue)) {\n            isStartDisabled = this.isDateDisabled(this.startValue);\n            isEndDisabled = this.isDateDisabled(this.endValue);\n            if (!this.isPopupOpen()) {\n                this.currentDate = null;\n            }\n            this.setValue();\n        }\n        return (isStartDisabled || isEndDisabled);\n    };\n    DateRangePicker.prototype.setModelValue = function () {\n        if (!this.value && this.startDate === null && this.endDate === null) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (this.value === null || this.value.start === null) {\n            if (this.value === null) {\n                this.setProperties({ value: [this.startDate, this.endDate] }, true);\n            }\n            else if (this.value.start === null) {\n                this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n            }\n        }\n        else {\n            if ((this.value && this.value.length > 0) ||\n                this.valueType && this.valueType.length > 0) {\n                if (+this.startDate !== +this.value[0] || +this.endDate !== +this.value[1]) {\n                    this.setProperties({ value: [this.startDate, this.endDate] }, true);\n                }\n                if (this.value && this.value[0] == null && this.value[1] == null) {\n                    this.setProperties({ value: null }, true);\n                }\n            }\n            else {\n                if ((this.value && this.value.start)) {\n                    this.setProperties({ value: { start: this.startDate, end: this.endDate } }, true);\n                }\n            }\n        }\n        this.createHiddenInput();\n    };\n    /**\n     * To dispatch the event manually\n     *\n     * @param {HTMLElement} element - Specifies the element to dispatch the event.\n     * @param {string} type - Specifies the name of the event.\n     * @returns {void}\n     */\n    DateRangePicker.prototype.dispatchEvent = function (element, type) {\n        var evt = document.createEvent('HTMLEvents');\n        evt.initEvent(type, false, true);\n        element.dispatchEvent(evt);\n        this.firstHiddenChild.dispatchEvent(evt);\n    };\n    DateRangePicker.prototype.changeTrigger = function (e) {\n        if (+this.initStartDate !== +this.startValue || +this.initEndDate !== +this.endValue) {\n            this.setProperties({ endDate: this.checkDateValue(this.endValue) }, true);\n            this.setProperties({ startDate: this.checkDateValue(this.startValue) }, true);\n            this.setModelValue();\n            if (this.isAngular && this.preventChange) {\n                this.preventChange = false;\n            }\n            else {\n                this.trigger('change', this.rangeArgs(e));\n            }\n        }\n        this.previousEleValue = this.inputElement.value;\n        this.initStartDate = this.checkDateValue(this.startValue);\n        this.initEndDate = this.checkDateValue(this.endValue);\n    };\n    /**\n     * This method is used to navigate to the month/year/decade view of the Calendar.\n     *\n     * @param  {string} view - Specifies the view of the Calendar.\n     * @param  {Date} date - Specifies the focused date in a view.\n     * @returns {void}\n     * @hidden\n     */\n    DateRangePicker.prototype.navigateTo = function (view, date) {\n        if (this.isPopupOpen()) {\n            if (view.toLowerCase() === 'month') {\n                view = 'Month';\n            }\n            else if (view.toLowerCase() === 'year') {\n                view = 'Year';\n            }\n            else if (view.toLowerCase() === 'decade') {\n                view = 'Decade';\n            }\n            else {\n                return;\n            }\n            if (this.getViewNumber(view) < this.getViewNumber(this.depth)) {\n                view = this.depth;\n            }\n            if (this.isMobile) {\n                _super.prototype.navigateTo.call(this, view, date);\n            }\n            else {\n                if (date < this.min) {\n                    date = new Date(+this.min);\n                }\n                else if (date >= this.max) {\n                    date = new Date(+this.max);\n                }\n                if (view === 'Month' && this.isSameMonth(date, this.max)) {\n                    date = new Date(this.max.getFullYear(), this.max.getMonth() - 1, this.min.getDate());\n                }\n                else if (view === 'Year' && this.isSameYear(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 1), this.max.getMonth(), this.max.getDate());\n                }\n                else if (view === 'Decade' && this.isSameDecade(date, this.max)) {\n                    date = new Date((this.max.getFullYear() - 10), this.max.getMonth(), this.max.getDate());\n                }\n                this.leftCalCurrentDate = date;\n                this.navigate(this.leftCalendar, this.leftCalCurrentDate, view);\n                if (view === 'Month') {\n                    date = new Date(this.currentDate.setMonth(this.currentDate.getMonth() + 1));\n                }\n                else if (view === 'Year') {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 1));\n                }\n                else {\n                    date = new Date(this.currentDate.setFullYear(this.currentDate.getFullYear() + 10));\n                }\n                this.rightCalCurrentDate = date;\n                this.navigate(this.rightCalendar, this.rightCalCurrentDate, view);\n                this.leftKeyboardModule = this.rightKeyboardModule = null;\n                this.updateNavIcons();\n            }\n            if (this.currentView() === this.depth) {\n                this.bindCalendarCellEvents();\n            }\n            this.removeFocusedDate();\n            this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n        }\n    };\n    DateRangePicker.prototype.navigate = function (calendar, date, view) {\n        this.calendarElement = calendar;\n        this.table = calendar.querySelector('table');\n        this.tableBodyElement = calendar.querySelector('tbody');\n        this.headerTitleElement = calendar.querySelector('.e-title');\n        this.tableHeadElement = calendar.querySelector('thead');\n        this.contentElement = calendar.querySelector('.e-content');\n        this.previousIcon = calendar.querySelector('.e-prev');\n        this.nextIcon = calendar.querySelector('.e-next');\n        this.effect = ZOOMIN$1;\n        _super.prototype.navigateTo.call(this, view, date);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            addClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.focusOut = function () {\n        var isBlur = this.preventBlur;\n        if (document.activeElement === this.inputElement) {\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$1]);\n            this.preventBlur = false;\n            this.inputElement.blur();\n            this.preventBlur = isBlur;\n        }\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.destroy = function () {\n        this.unBindEvents();\n        this.hide(null);\n        var ariaAttrs = {\n            'tabindex': '0', 'aria-expanded': 'false', 'role': 'combobox',\n            'autocomplete': 'off', 'aria-disabled': !this.enabled ? 'true' : 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'aria-invalid': 'false', 'spellcheck': 'false'\n        };\n        if (this.inputElement) {\n            removeClass([this.inputElement], [ROOT$2]);\n            EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n            Input.removeAttributes(ariaAttrs, this.inputElement);\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.inputElement.classList.remove('e-input');\n            if (!isNullOrUndefined(this.inputWrapper)) {\n                EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown', this.rangeIconHandler);\n                if (this.angularTag === null) {\n                    this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n                }\n                detach(this.inputWrapper.container);\n            }\n        }\n        if (!isNullOrUndefined(this.inputKeyboardModule) && !this.isMobile) {\n            this.inputKeyboardModule.destroy();\n        }\n        if (this.popupObj) {\n            if (!this.isMobile) {\n                this.clearCalendarEvents();\n            }\n        }\n        _super.prototype.destroy.call(this);\n        this.inputWrapper = this.popupWrapper = this.popupObj = this.cloneElement = this.presetElement = null;\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        if ((!isNullOrUndefined(this.firstHiddenChild))\n            && (!isNullOrUndefined(this.secondHiddenChild))) {\n            detach(this.firstHiddenChild);\n            detach(this.secondHiddenChild);\n            this.firstHiddenChild = this.secondHiddenChild = null;\n            this.inputElement.setAttribute('name', this.element.getAttribute('data-name'));\n            this.inputElement.removeAttribute('data-name');\n        }\n        this.closeEventArgs = null;\n        this.leftCalendar = null;\n        this.rightTitle = null;\n        this.leftTitle = null;\n        this.openEventArgs = null;\n        this.leftCalNextIcon = null;\n        this.rightCalendar = null;\n        this.closeEventArgs = null;\n        this.rightCalPrevIcon = null;\n        this.leftCalPrevIcon = null;\n        this.popupKeyboardModule = null;\n        this.cancelButton = null;\n        this.applyButton = null;\n        this.calendarElement = null;\n        this.leftKeyboardModule = null;\n        this.rightCalNextIcon = null;\n        this.leftCalNextIcon = null;\n        this.btnKeyboardModule = null;\n        this.rightKeyboardModule = null;\n        this.leftKeyboardModule = null;\n        this.presetKeyboardModule = null;\n        this.liCollections = null;\n        this.popupObj = null;\n        this.popupWrapper = null;\n    };\n    DateRangePicker.prototype.ensureInputAttribute = function () {\n        var attr = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            attr[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < attr.length; i++) {\n            if (isNullOrUndefined(this.cloneElement.getAttribute(attr[i]))) {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n                this.inputElement.removeAttribute(attr[i]);\n            }\n            else {\n                if (attr[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(attr[i]);\n                }\n                this.inputElement.setAttribute(attr[i], this.cloneElement.getAttribute(attr[i]));\n            }\n        }\n    };\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DateRangePicker.prototype.getModuleName = function () {\n        return 'daterangepicker';\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Return the properties that are maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    DateRangePicker.prototype.getPersistData = function () {\n        var keyEntity = ['startDate', 'endDate', 'value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /**\n     * Return the selected range and day span in the DateRangePicker.\n     *\n     * @returns {Object}\n     */\n    DateRangePicker.prototype.getSelectedRange = function () {\n        var range;\n        if (!isNullOrUndefined(this.startValue) && !isNullOrUndefined(this.endValue)) {\n            range = (Math.round(Math.abs((this.removeTimeValueFromDate(this.startValue).getTime() -\n                this.removeTimeValueFromDate(this.endValue).getTime()) / (1000 * 60 * 60 * 24))) + 1);\n            if (!isNullOrUndefined(this.renderDayCellArgs) && this.renderDayCellArgs.isDisabled) {\n                this.disabledDateRender();\n            }\n            if (!isNullOrUndefined(this.disabledDayCnt)) {\n                range = range - this.disabledDayCnt;\n                this.disabledDayCnt = null;\n            }\n        }\n        else {\n            range = 0;\n        }\n        return { startDate: this.startValue, endDate: this.endValue, daySpan: range };\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * To open the Popup container in the DateRangePicker component.\n     *\n     * @param {HTMLElement} element - Specifies element.\n     * @returns {void}\n     */\n    DateRangePicker.prototype.show = function (element, event) {\n        var _this = this;\n        if (this.isMobile && this.popupObj) {\n            this.popupObj.refreshPosition();\n        }\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupObj) {\n            return;\n        }\n        else {\n            if (!this.isPopupOpen()) {\n                if (element) {\n                    this.targetElement = element;\n                }\n                this.createPopup();\n                if (this.isMobile || Browser.isDevice) {\n                    this.mobileRangePopupWrap = this.createElement('div', { className: 'e-daterangepick-mob-popup-wrap' });\n                    document.body.appendChild(this.mobileRangePopupWrap);\n                }\n                this.openEventArgs = {\n                    popup: this.popupObj || null,\n                    cancel: false,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null,\n                    appendTo: this.isMobile || Browser.isDevice ? this.mobileRangePopupWrap : document.body\n                };\n                var eventArgs = this.openEventArgs;\n                this.trigger('open', eventArgs, function (eventArgs) {\n                    _this.openEventArgs = eventArgs;\n                    if (!_this.openEventArgs.cancel) {\n                        _this.openEventArgs.appendTo.appendChild(_this.popupWrapper);\n                        _this.showPopup(element, event);\n                        var isPreset = (!_this.isCustomRange || (_this.isMobile && _this.isCustomRange));\n                        if (!isUndefined(_this.presets[0].start && _this.presets[0].end && _this.presets[0].label) && isPreset) {\n                            _this.setScrollPosition();\n                        }\n                        _this.checkMinMaxDays();\n                        if ((_this.isMobile) && (!isNullOrUndefined(_this.startDate)) && (isNullOrUndefined(_this.endDate))) {\n                            _this.endButton.element.classList.add(ACTIVE$1);\n                            _this.startButton.element.classList.remove(ACTIVE$1);\n                            _this.endButton.element.removeAttribute('disabled');\n                            _this.selectableDates();\n                        }\n                        _super.prototype.setOverlayIndex.call(_this, _this.mobileRangePopupWrap, _this.popupObj.element, _this.modal, \n                        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                        _this.isMobile || Browser.isDevice);\n                    }\n                });\n            }\n        }\n    };\n    /**\n     * To close the Popup container in the DateRangePicker component.\n     *\n     * @returns {void}\n     */\n    DateRangePicker.prototype.hide = function (event) {\n        var _this = this;\n        if (this.popupObj) {\n            if (isNullOrUndefined(this.previousEndValue) && isNullOrUndefined(this.previousStartValue)) {\n                this.clearRange();\n            }\n            else {\n                if (!isNullOrUndefined(this.previousStartValue)) {\n                    this.startValue = new Date(this.checkValue(this.previousStartValue));\n                    this.setValue();\n                    this.currentDate = new Date(this.checkValue(this.startValue));\n                }\n                else {\n                    this.startValue = null;\n                    this.setValue();\n                }\n                if (!isNullOrUndefined(this.previousEndValue)) {\n                    this.endValue = new Date(this.checkValue(this.previousEndValue));\n                    this.setValue();\n                }\n                else {\n                    this.endValue = null;\n                    this.setValue();\n                }\n            }\n            if (this.isPopupOpen()) {\n                this.closeEventArgs = {\n                    cancel: false,\n                    popup: this.popupObj,\n                    date: this.inputElement.value,\n                    model: this,\n                    event: event ? event : null\n                };\n                var eventArgs = this.closeEventArgs;\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.closeEventArgs = eventArgs;\n                    if (!_this.closeEventArgs.cancel) {\n                        if (_this.isMobile) {\n                            if (!isNullOrUndefined(_this.startButton) && !isNullOrUndefined(_this.endButton)) {\n                                EventHandler.remove(_this.startButton.element, 'click touchstart', _this.deviceHeaderClick);\n                                EventHandler.remove(_this.endButton.element, 'click touchstart', _this.deviceHeaderClick);\n                            }\n                        }\n                        if (_this.popupObj) {\n                            _this.popupObj.hide();\n                            if (_this.preventBlur) {\n                                _this.inputElement.focus();\n                                addClass([_this.inputWrapper.container], [INPUTFOCUS$1]);\n                            }\n                        }\n                        if (!_this.isMobile) {\n                            if (!isNullOrUndefined(_this.leftKeyboardModule) && !isNullOrUndefined(_this.rightKeyboardModule)) {\n                                _this.leftKeyboardModule.destroy();\n                                _this.rightKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.presetElement)) {\n                                _this.presetKeyboardModule.destroy();\n                            }\n                            if (!isNullOrUndefined(_this.cancelButton)) {\n                                _this.btnKeyboardModule.destroy();\n                            }\n                        }\n                        _this.targetElement = null;\n                        removeClass([document.body], OVERFLOW$1);\n                        EventHandler.remove(document, 'mousedown touchstart', _this.documentHandler);\n                        if (_this.isMobile && _this.modal) {\n                            _this.modal.style.display = 'none';\n                            _this.modal.outerHTML = '';\n                            _this.modal = null;\n                        }\n                        if (_this.isMobile || Browser.isDevice) {\n                            if (!isNullOrUndefined(_this.mobileRangePopupWrap)) {\n                                _this.mobileRangePopupWrap.remove();\n                                _this.mobileRangePopupWrap = null;\n                            }\n                        }\n                        _this.isKeyPopup = _this.dateDisabled = false;\n                    }\n                    else {\n                        removeClass([_this.inputWrapper.buttons[0]], ACTIVE$1);\n                    }\n                    _this.updateClearIconState();\n                    _this.updateHiddenInput();\n                    if (_this.isMobile && _this.allowEdit && !_this.readonly) {\n                        _this.inputElement.removeAttribute('readonly');\n                    }\n                });\n            }\n        }\n        else {\n            this.updateClearIconState();\n            this.updateHiddenInput();\n            if (this.isMobile && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    DateRangePicker.prototype.setLocale = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.l10n.setLocale(this.locale);\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n        Input.setPlaceholder(this.placeholder, this.inputElement);\n        this.updateInput();\n        this.updateHiddenInput();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.refreshChange = function () {\n        this.checkView();\n        this.refreshControl();\n        this.changeTrigger();\n    };\n    DateRangePicker.prototype.setDate = function () {\n        Input.setValue('', this.inputElement, this.floatLabelType, this.showClearButton);\n        this.refreshChange();\n    };\n    DateRangePicker.prototype.enableInput = function () {\n        if (+this.min <= +this.max) {\n            this.setProperties({ enabled: true }, true);\n            Input.setEnabled(this.enabled, this.inputElement);\n            if (this.element.hasAttribute('disabled')) {\n                this.bindEvents();\n            }\n        }\n    };\n    DateRangePicker.prototype.clearModelvalue = function (newProp, oldProp) {\n        this.setProperties({ startDate: null }, true);\n        this.setProperties({ endDate: null }, true);\n        if (oldProp.value && oldProp.value.length > 0) {\n            this.setProperties({ value: null }, true);\n        }\n        else if (oldProp.value && oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        else if (oldProp.value && !oldProp.value.start) {\n            this.setProperties({ value: { start: null, end: null } }, true);\n        }\n        this.updateValue();\n        this.setDate();\n    };\n    DateRangePicker.prototype.createHiddenInput = function () {\n        if (isNullOrUndefined(this.firstHiddenChild) && isNullOrUndefined(this.secondHiddenChild)) {\n            this.firstHiddenChild = this.createElement('input');\n            this.secondHiddenChild = this.createElement('input');\n        }\n        if (!isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            this.inputElement.setAttribute('data-name', this.inputElement.getAttribute('name'));\n            this.inputElement.removeAttribute('name');\n        }\n        attributes(this.firstHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        attributes(this.secondHiddenChild, {\n            'type': 'text', 'name': this.inputElement.getAttribute('data-name'), 'class': HIDDENELEMENT\n        });\n        var format = { type: 'datetime', skeleton: 'yMd' };\n        this.firstHiddenChild.value = this.startDate && this.globalize.formatDate(this.startDate, format);\n        this.secondHiddenChild.value = this.endDate && this.globalize.formatDate(this.endDate, format);\n        this.inputElement.parentElement.appendChild(this.firstHiddenChild);\n        this.inputElement.parentElement.appendChild(this.secondHiddenChild);\n    };\n    DateRangePicker.prototype.setMinMaxDays = function () {\n        if (this.isPopupOpen()) {\n            this.removeClassDisabled();\n            this.checkMinMaxDays();\n            if (this.isMobile) {\n                this.selectableDates();\n            }\n            if (!this.strictMode && (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue))) {\n                this.removeSelection();\n            }\n            else {\n                this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n            }\n            this.updateHeader();\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/tslint/config\n    DateRangePicker.prototype.getStartEndValue = function (date, isEnd) {\n        if (this.depth === 'Month') {\n            return this.checkDateValue(new Date(this.checkValue(date)));\n        }\n        else if (this.depth === 'Year') {\n            return new Date(date.getFullYear(), date.getMonth() + (isEnd ? 1 : 0), isEnd ? 0 : 1);\n        }\n        else {\n            return new Date(date.getFullYear(), isEnd ? 11 : 0, isEnd ? 31 : 1);\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateRangePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateRangePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    DateRangePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var format = { format: this.formatString, type: 'date', skeleton: 'yMd' };\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var openPopup = ['maxDays', 'minDays', 'value'];\n            if (openPopup.indexOf(prop) < 0) {\n                this.hide(null);\n            }\n            switch (prop) {\n                case 'width':\n                    this.setEleWidth(this.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'separator':\n                    this.previousEleValue = this.inputElement.value;\n                    this.setProperties({ separator: newProp.separator }, true);\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    this.setProperties({ placeholder: newProp.placeholder }, true);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    this.setRangeAllowEdit();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (this.enabled) {\n                        this.inputElement.setAttribute('tabindex', this.tabIndex);\n                    }\n                    else {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'allowEdit':\n                    this.setRangeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.updateInput();\n                    this.changeTrigger();\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.placeholder, this.inputElement);\n                    this.setLocale();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.setDataAttribute(true);\n                    this.checkHtmlAttributes(true);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'startDate':\n                    if (typeof newProp.startDate === 'string') {\n                        newProp.startDate = this.globalize.parseDate(newProp.startDate, format);\n                    }\n                    if (+this.initStartDate !== +newProp.startDate) {\n                        this.startValue = this.getStartEndValue(newProp.startDate, false);\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'endDate':\n                    if (typeof newProp.endDate === 'string') {\n                        newProp.endDate = this.globalize.parseDate(newProp.endDate, format);\n                    }\n                    if (+this.initEndDate !== +newProp.endDate) {\n                        this.endValue = this.getStartEndValue(newProp.endDate, true);\n                        this.setDate();\n                        this.setValue();\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidRange(newProp.value);\n                    if (typeof (newProp.value) === 'string') {\n                        if (!this.invalidValueString) {\n                            var rangeArray = newProp.value.split(' ' + this.separator + ' ');\n                            this.value = [new Date(rangeArray[0]), new Date(rangeArray[1])];\n                            this.updateValue();\n                            this.setDate();\n                        }\n                        else {\n                            this.clearModelvalue(newProp, oldProp);\n                        }\n                    }\n                    else {\n                        if ((!isNullOrUndefined(newProp.value) && newProp.value.length > 0)\n                            || !isNullOrUndefined(newProp.value) && newProp.value.start) {\n                            this.valueType = newProp.value;\n                            if (newProp.value[0] === null || (newProp.value.start === null)) {\n                                if (newProp.value.length === 1 || (newProp.value.start)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                                else if (newProp.value[1] === null ||\n                                    (newProp.value.start === null)) {\n                                    this.clearModelvalue(newProp, oldProp);\n                                }\n                            }\n                            else if ((+this.initStartDate !== +newProp.value[0]\n                                || +this.initEndDate !== +newProp.value[1]) ||\n                                (+this.initStartDate !== +(newProp.value.start\n                                    || +this.initEndDate !== +newProp.value.start))) {\n                                if (newProp.value.length === 1) {\n                                    this.modelValue = newProp.value;\n                                }\n                                else if (newProp.value.start) {\n                                    this.modelValue = newProp.value;\n                                }\n                                this.updateValue();\n                                this.setDate();\n                            }\n                        }\n                        else {\n                            if (isNullOrUndefined(this.value)\n                                || newProp.value.start == null) {\n                                this.valueType = newProp.value;\n                                this.startValue = null;\n                                this.endValue = null;\n                                this.clearModelvalue(newProp, oldProp);\n                            }\n                        }\n                    }\n                    if (this.isPopupOpen()) {\n                        if (isNullOrUndefined(this.startValue) && isNullOrUndefined(this.endValue)) {\n                            this.removeSelection();\n                            if (this.isMobile) {\n                                this.deviceHeaderUpdate();\n                            }\n                            return;\n                        }\n                        if (this.isMobile) {\n                            this.navigate(this.deviceCalendar, this.startValue, this.currentView());\n                            this.deviceHeaderUpdate();\n                        }\n                        else {\n                            this.navigate(this.leftCalendar, this.startValue, this.currentView());\n                            this.updateControl(this.leftCalendar);\n                            this.navigate(this.rightCalendar, this.endValue, this.currentView());\n                            this.updateControl(this.rightCalendar);\n                        }\n                        this.updateRange((this.isMobile ? [this.calendarElement] : [this.leftCalendar, this.rightCalendar]));\n                        this.updateHeader();\n                        this.applyButton.disabled = this.applyButton.element.disabled = false;\n                    }\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    break;\n                case 'minDays':\n                    this.setProperties({ minDays: newProp.minDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'maxDays':\n                    this.setProperties({ maxDays: newProp.maxDays }, true);\n                    this.refreshChange();\n                    this.setMinMaxDays();\n                    break;\n                case 'min':\n                    this.setProperties({ min: this.checkDateValue(new Date(this.checkValue(newProp.min))) }, true);\n                    this.previousEleValue = this.inputElement.value;\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'max':\n                    this.setProperties({ max: this.checkDateValue(new Date(this.checkValue(newProp.max))) }, true);\n                    this.enableInput();\n                    this.refreshChange();\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.refreshChange();\n                    break;\n                case 'presets':\n                    this.setProperties({ presets: newProp.presets }, true);\n                    this.processPresets();\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'start':\n                    this.setProperties({ start: newProp.start }, true);\n                    this.refreshChange();\n                    break;\n                case 'depth':\n                    this.setProperties({ depth: newProp.depth }, true);\n                    this.refreshChange();\n                    break;\n            }\n        }\n    };\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"value\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$2([\n        Property(new Date(1900, 0, 1))\n    ], DateRangePicker.prototype, \"min\", void 0);\n    __decorate$2([\n        Property(new Date(2099, 11, 31))\n    ], DateRangePicker.prototype, \"max\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"locale\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"weekNumber\", void 0);\n    __decorate$2([\n        Property('Gregorian')\n    ], DateRangePicker.prototype, \"calendarMode\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"created\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"destroyed\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"change\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"cleared\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"navigated\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"renderDayCell\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"startDate\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"endDate\", void 0);\n    __decorate$2([\n        Collection([{}], Presets)\n    ], DateRangePicker.prototype, \"presets\", void 0);\n    __decorate$2([\n        Property('')\n    ], DateRangePicker.prototype, \"width\", void 0);\n    __decorate$2([\n        Property(1000)\n    ], DateRangePicker.prototype, \"zIndex\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"showClearButton\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"showTodayButton\", void 0);\n    __decorate$2([\n        Property('Month')\n    ], DateRangePicker.prototype, \"start\", void 0);\n    __decorate$2([\n        Property('Month')\n    ], DateRangePicker.prototype, \"depth\", void 0);\n    __decorate$2([\n        Property('')\n    ], DateRangePicker.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property('-')\n    ], DateRangePicker.prototype, \"separator\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"minDays\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"maxDays\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"strictMode\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"format\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"enabled\", void 0);\n    __decorate$2([\n        Property(false)\n    ], DateRangePicker.prototype, \"readonly\", void 0);\n    __decorate$2([\n        Property(true)\n    ], DateRangePicker.prototype, \"allowEdit\", void 0);\n    __decorate$2([\n        Property('Never')\n    ], DateRangePicker.prototype, \"floatLabelType\", void 0);\n    __decorate$2([\n        Property(null)\n    ], DateRangePicker.prototype, \"placeholder\", void 0);\n    __decorate$2([\n        Property({})\n    ], DateRangePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"open\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"close\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"select\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"focus\", void 0);\n    __decorate$2([\n        Event()\n    ], DateRangePicker.prototype, \"blur\", void 0);\n    DateRangePicker = __decorate$2([\n        NotifyPropertyChanges\n    ], DateRangePicker);\n    return DateRangePicker;\n}(CalendarBase));\n\n/**\n * DateRangePicker modules\n */\n\nvar __extends$3 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$3 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/* eslint-disable @typescript-eslint/no-explicit-any */\nvar WRAPPERCLASS = 'e-time-wrapper';\nvar POPUP$2 = 'e-popup';\nvar ERROR$2 = 'e-error';\nvar POPUPDIMENSION = '240px';\nvar DAY = new Date().getDate();\nvar MONTH$2 = new Date().getMonth();\nvar YEAR$2 = new Date().getFullYear();\nvar ROOT$3 = 'e-timepicker';\nvar LIBRARY$2 = 'e-lib';\nvar CONTROL$2 = 'e-control';\nvar CONTENT$2 = 'e-content';\nvar SELECTED$4 = 'e-active';\nvar HOVER$1 = 'e-hover';\nvar NAVIGATION = 'e-navigation';\nvar DISABLED$3 = 'e-disabled';\nvar ICONANIMATION = 'e-icon-anim';\nvar FOCUS = 'e-input-focus';\nvar LISTCLASS$1 = 'e-list-item';\nvar HALFPOSITION = 2;\nvar ANIMATIONDURATION = 50;\nvar OVERFLOW$2 = 'e-time-overflow';\nvar OFFSETVAL = 4;\nvar EDITABLE = 'e-non-edit';\nvar wrapperAttributes = ['title', 'class', 'style'];\n// eslint-disable-next-line @typescript-eslint/no-namespace\nvar TimePickerBase;\n(function (TimePickerBase) {\n    // eslint-disable-next-line max-len, jsdoc/require-jsdoc\n    function createListItems(createdEl, min, max, globalize, timeFormat, step) {\n        if (this.calendarMode === 'Gregorian') {\n            \n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            \n        }\n        var start;\n        var interval = step * 60000;\n        var listItems = [];\n        var timeCollections = [];\n        start = +(min.setMilliseconds(0));\n        var end = +(max.setMilliseconds(0));\n        while (end >= start) {\n            timeCollections.push(start);\n            listItems.push(globalize.formatDate(new Date(start), { format: timeFormat, type: 'time' }));\n            start += interval;\n        }\n        var listTag = ListBase.createList(createdEl, listItems, null, true);\n        return { collection: timeCollections, list: listTag };\n    }\n    TimePickerBase.createListItems = createListItems;\n})(TimePickerBase || (TimePickerBase = {}));\nvar TimeMaskPlaceholder = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(TimeMaskPlaceholder, _super);\n    function TimeMaskPlaceholder() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$3([\n        Property('day')\n    ], TimeMaskPlaceholder.prototype, \"day\", void 0);\n    __decorate$3([\n        Property('month')\n    ], TimeMaskPlaceholder.prototype, \"month\", void 0);\n    __decorate$3([\n        Property('year')\n    ], TimeMaskPlaceholder.prototype, \"year\", void 0);\n    __decorate$3([\n        Property('day of the week')\n    ], TimeMaskPlaceholder.prototype, \"dayOfTheWeek\", void 0);\n    __decorate$3([\n        Property('hour')\n    ], TimeMaskPlaceholder.prototype, \"hour\", void 0);\n    __decorate$3([\n        Property('minute')\n    ], TimeMaskPlaceholder.prototype, \"minute\", void 0);\n    __decorate$3([\n        Property('second')\n    ], TimeMaskPlaceholder.prototype, \"second\", void 0);\n    return TimeMaskPlaceholder;\n}(ChildProperty));\n/**\n * TimePicker is an intuitive interface component which provides an options to select a time value\n * from popup list or to set a desired time value.\n * ```\n * <input id='timepicker' type='text'/>\n * <script>\n *   var timePickerObj = new TimePicker({ value: new Date() });\n *   timePickerObj.appendTo('#timepicker');\n * </script>\n * ```\n */\nvar TimePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$3(TimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {TimePickerModel} options - Specifies the TimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function TimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.liCollections = [];\n        _this.timeCollections = [];\n        _this.disableItemCollection = [];\n        _this.invalidValueString = null;\n        _this.isAngular = false;\n        _this.preventChange = false;\n        _this.maskedDateValue = '';\n        _this.moduleName = _this.getModuleName();\n        _this.timeOptions = options;\n        return _this;\n    }\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    TimePicker.prototype.preRender = function () {\n        this.keyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.cloneElement = this.element.cloneNode(true);\n        removeClass([this.cloneElement], [ROOT$3, CONTROL$2, LIBRARY$2]);\n        this.inputElement = this.element;\n        this.angularTag = null;\n        this.formElement = closest(this.element, 'form');\n        if (this.element.tagName === 'EJS-TIMEPICKER') {\n            this.angularTag = this.element.tagName;\n            this.inputElement = this.createElement('input');\n            this.element.appendChild(this.inputElement);\n        }\n        this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n        this.element.removeAttribute('tabindex');\n        this.openPopupEventArgs = {\n            appendTo: document.body\n        };\n    };\n    // element creation\n    TimePicker.prototype.render = function () {\n        this.initialize();\n        this.createInputElement();\n        this.updateHtmlAttributeToWrapper();\n        this.setTimeAllowEdit();\n        this.setEnable();\n        this.validateInterval();\n        this.bindEvents();\n        this.validateDisable();\n        this.setValue(this.getFormattedValue(this.value));\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType === 'Always' || !this.floatLabelType || !this.placeholder)) {\n            this.updateInputValue(this.maskedDateValue);\n            this.checkErrorState(this.maskedDateValue);\n        }\n        this.anchor = this.inputElement;\n        this.inputElement.setAttribute('value', this.inputElement.value);\n        this.inputEleValue = this.getDateObject(this.inputElement.value);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n        }\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        this.renderComplete();\n    };\n    TimePicker.prototype.setTimeAllowEdit = function () {\n        if (this.allowEdit) {\n            if (!this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n        else {\n            attributes(this.inputElement, { 'readonly': '' });\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.clearIconState = function () {\n        if (!this.allowEdit && this.inputWrapper && !this.readonly) {\n            if (this.inputElement.value === '') {\n                removeClass([this.inputWrapper.container], [EDITABLE]);\n            }\n            else {\n                addClass([this.inputWrapper.container], [EDITABLE]);\n            }\n        }\n        else if (this.inputWrapper) {\n            removeClass([this.inputWrapper.container], [EDITABLE]);\n        }\n    };\n    TimePicker.prototype.validateDisable = function () {\n        this.setMinMax(this.initMin, this.initMax);\n        if (!isNullOrUndefined(this.value)) {\n            this.popupCreation();\n            this.popupObj.destroy();\n            this.popupWrapper = this.popupObj = null;\n        }\n        if ((!isNaN(+this.value) && this.value !== null)) {\n            if (!this.valueIsDisable(this.value)) {\n                //disable value given in value property so reset the date based on current date\n                if (this.strictMode) {\n                    this.resetState();\n                }\n                this.initValue = null;\n                this.initMax = this.getDateObject(this.initMax);\n                this.initMin = this.getDateObject(this.initMin);\n                this.timeCollections = this.liCollections = [];\n                this.setMinMax(this.initMin, this.initMax);\n            }\n        }\n    };\n    TimePicker.prototype.validationAttribute = function (target, input) {\n        var name = target.getAttribute('name') ? target.getAttribute('name') : target.getAttribute('id');\n        input.setAttribute('name', name);\n        target.removeAttribute('name');\n        var attributes$$1 = ['required', 'aria-required', 'form'];\n        for (var i = 0; i < attributes$$1.length; i++) {\n            if (isNullOrUndefined(target.getAttribute(attributes$$1[i]))) {\n                continue;\n            }\n            var attr = target.getAttribute(attributes$$1[i]);\n            input.setAttribute(attributes$$1[i], attr);\n            target.removeAttribute(attributes$$1[i]);\n        }\n    };\n    TimePicker.prototype.initialize = function () {\n        this.globalize = new Internationalization(this.locale);\n        this.defaultCulture = new Internationalization('en');\n        this.checkTimeFormat();\n        this.checkInvalidValue(this.value);\n        // persist the value property.\n        this.setProperties({ value: this.checkDateValue(new Date(this.checkInValue(this.value))) }, true);\n        this.setProperties({ min: this.checkDateValue(new Date(this.checkInValue(this.min))) }, true);\n        this.setProperties({ max: this.checkDateValue(new Date(this.checkInValue(this.max))) }, true);\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(this.scrollTo))) }, true);\n        if (this.angularTag !== null) {\n            this.validationAttribute(this.element, this.inputElement);\n        }\n        this.updateHtmlAttributeToElement();\n        this.checkAttributes(false); //check the input element attributes\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('timepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        this.initValue = this.checkDateValue(this.value);\n        this.initMin = this.checkDateValue(this.min);\n        this.initMax = this.checkDateValue(this.max);\n        this.isNavigate = this.isPreventBlur = this.isTextSelected = false;\n        this.activeIndex = this.valueWithMinutes = this.prevDate = null;\n        if (!isNullOrUndefined(this.element.getAttribute('id'))) {\n            if (this.angularTag !== null) {\n                this.inputElement.id = this.element.getAttribute('id') + '_input';\n            }\n        }\n        else {\n            //for angular case\n            this.element.id = getUniqueID('ej2_timepicker');\n            if (this.angularTag !== null) {\n                attributes(this.inputElement, { 'id': this.element.id + '_input' });\n            }\n        }\n        if (isNullOrUndefined(this.inputElement.getAttribute('name'))) {\n            attributes(this.inputElement, { 'name': this.element.id });\n        }\n        if (this.enableMask) {\n            this.notify('createMask', {\n                module: 'MaskedDateTime'\n            });\n        }\n    };\n    TimePicker.prototype.checkTimeFormat = function () {\n        if (this.format) {\n            if (typeof this.format === 'string') {\n                this.formatString = this.format;\n            }\n            else if (!isNullOrUndefined(this.format.skeleton) && this.format.skeleton !== '') {\n                var skeletonString = this.format.skeleton;\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: skeletonString });\n            }\n            else {\n                this.formatString = this.globalize.getDatePattern({ type: 'time', skeleton: 'short' });\n            }\n        }\n        else {\n            this.formatString = null;\n        }\n    };\n    TimePicker.prototype.checkDateValue = function (value) {\n        return (!isNullOrUndefined(value) && value instanceof Date && !isNaN(+value)) ? value : null;\n    };\n    TimePicker.prototype.createInputElement = function () {\n        var updatedCssClassesValue = this.cssClass;\n        var isBindClearAction = this.enableMask ? false : true;\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            updatedCssClassesValue = (this.cssClass.replace(/\\s+/g, ' ')).trim();\n        }\n        this.inputWrapper = Input.createInput({\n            element: this.inputElement,\n            bindClearAction: isBindClearAction,\n            floatLabelType: this.floatLabelType,\n            properties: {\n                readonly: this.readonly,\n                placeholder: this.placeholder,\n                cssClass: updatedCssClassesValue,\n                enabled: this.enabled,\n                enableRtl: this.enableRtl,\n                showClearButton: this.showClearButton\n            },\n            buttons: [' e-input-group-icon e-time-icon e-icons']\n        }, this.createElement);\n        this.inputWrapper.container.style.width = this.setWidth(this.width);\n        attributes(this.inputElement, {\n            'aria-autocomplete': 'list', 'tabindex': '0',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-disabled': 'false', 'aria-invalid': 'false'\n        });\n        if (!this.isNullOrEmpty(this.inputStyle)) {\n            Input.addAttributes({ 'style': this.inputStyle }, this.inputElement);\n        }\n        addClass([this.inputWrapper.container], WRAPPERCLASS);\n    };\n    TimePicker.prototype.getCldrDateTimeFormat = function () {\n        var culture = new Internationalization(this.locale);\n        var cldrTime;\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.cldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.checkInvalidValue = function (value) {\n        var isInvalid = false;\n        if (typeof value !== 'object' && !isNullOrUndefined(value)) {\n            var valueString = value;\n            if (typeof valueString === 'string') {\n                valueString = valueString.trim();\n            }\n            var valueExpression = null;\n            var valueExp = null;\n            if (typeof value === 'number') {\n                valueString = value.toString();\n            }\n            else if (typeof value === 'string') {\n                if (!(/^[a-zA-Z0-9- ]*$/).test(value)) {\n                    valueExpression = this.setCurrentDate(this.getDateObject(value));\n                    if (isNullOrUndefined(valueExpression)) {\n                        valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                            format: this.getCldrDateTimeFormat(), type: 'datetime'\n                        }));\n                        if (isNullOrUndefined(valueExpression)) {\n                            valueExpression = this.checkDateValue(this.globalize.parseDate(valueString, {\n                                format: this.formatString, type: 'dateTime', skeleton: 'yMd'\n                            }));\n                        }\n                    }\n                }\n            }\n            valueExp = this.globalize.parseDate(valueString, {\n                format: this.getCldrDateTimeFormat(), type: 'datetime'\n            });\n            valueExpression = (!isNullOrUndefined(valueExp) && valueExp instanceof Date && !isNaN(+valueExp)) ? valueExp : null;\n            if (isNullOrUndefined(valueExpression) && valueString.replace(/\\s/g, '').length) {\n                var extISOString = null;\n                var basicISOString = null;\n                // eslint-disable-next-line\n                extISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})-(?:\\d\\d-\\d\\d|W\\d\\d-\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?::\\d\\d(?::\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                // eslint-disable-next-line\n                basicISOString = /^\\s*((?:[+-]\\d{6}|\\d{4})(?:\\d\\d\\d\\d|W\\d\\d\\d|W\\d\\d|\\d\\d\\d|\\d\\d))(?:(T| )(\\d\\d(?:\\d\\d(?:\\d\\d(?:[.,]\\d+)?)?)?)([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?/;\n                if ((!extISOString.test(valueString) && !basicISOString.test(valueString))\n                    || ((/^[a-zA-Z0-9- ]*$/).test(value)) || isNaN(+new Date('' + valueString))) {\n                    isInvalid = true;\n                }\n                else {\n                    valueExpression = new Date('' + valueString);\n                }\n            }\n            if (isInvalid) {\n                if (!this.strictMode) {\n                    this.invalidValueString = valueString;\n                }\n                this.setProperties({ value: null }, true);\n                this.initValue = null;\n            }\n            else {\n                this.setProperties({ value: valueExpression }, true);\n                this.initValue = this.value;\n            }\n        }\n    };\n    TimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this.enableMask) {\n            modules.push({ args: [this], member: 'MaskedDateTime' });\n        }\n        return modules;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimePicker.prototype.cldrFormat = function (type) {\n        var cldrDateTimeString;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTimeString = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTimeString = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTimeString;\n    };\n    // destroy function\n    TimePicker.prototype.destroy = function () {\n        this.hide();\n        this.unBindEvents();\n        var ariaAttribute = {\n            'aria-autocomplete': 'list', 'tabindex': '0',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-disabled': 'true', 'aria-invalid': 'false'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n            if (this.angularTag === null) {\n                this.inputWrapper.container.parentElement.appendChild(this.inputElement);\n            }\n            if (!isNullOrUndefined(this.cloneElement.getAttribute('tabindex'))) {\n                this.inputElement.setAttribute('tabindex', this.tabIndex);\n            }\n            else {\n                this.inputElement.removeAttribute('tabindex');\n            }\n            this.ensureInputAttribute();\n            this.enableElement([this.inputElement]);\n            this.inputElement.classList.remove('e-input');\n            if (isNullOrUndefined(this.cloneElement.getAttribute('disabled'))) {\n                Input.setEnabled(true, this.inputElement, this.floatLabelType);\n            }\n        }\n        if (this.inputWrapper.container) {\n            detach(this.inputWrapper.container);\n        }\n        this.inputWrapper = this.popupWrapper = this.cloneElement = undefined;\n        this.liCollections = this.timeCollections = this.disableItemCollection = [];\n        if (!isNullOrUndefined(this.rippleFn)) {\n            this.rippleFn();\n        }\n        _super.prototype.destroy.call(this);\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n        this.rippleFn = null;\n        this.openPopupEventArgs = null;\n        this.selectedElement = null;\n        this.listTag = null;\n        this.liCollections = null;\n    };\n    TimePicker.prototype.ensureInputAttribute = function () {\n        var propertyList = [];\n        for (var i = 0; i < this.inputElement.attributes.length; i++) {\n            propertyList[i] = this.inputElement.attributes[i].name;\n        }\n        for (var i = 0; i < propertyList.length; i++) {\n            if (!isNullOrUndefined(this.cloneElement.getAttribute(propertyList[i]))) {\n                this.inputElement.setAttribute(propertyList[i], this.cloneElement.getAttribute(propertyList[i]));\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = this.cloneElement.getAttribute(propertyList[i]);\n                }\n            }\n            else {\n                this.inputElement.removeAttribute(propertyList[i]);\n                if (propertyList[i].toLowerCase() === 'value') {\n                    this.inputElement.value = '';\n                }\n            }\n        }\n    };\n    //popup creation\n    TimePicker.prototype.popupCreation = function () {\n        this.popupWrapper = this.createElement('div', {\n            className: ROOT$3 + ' ' + POPUP$2,\n            attrs: { 'id': this.element.id + '_popup', 'style': 'visibility:hidden' }\n        });\n        if (!isNullOrUndefined(this.cssClass)) {\n            this.popupWrapper.className += ' ' + this.cssClass;\n        }\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.generateList();\n            append([this.listWrapper], this.popupWrapper);\n        }\n        this.addSelection();\n        this.renderPopup();\n        detach(this.popupWrapper);\n    };\n    TimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION, 10);\n        var popupHeight = this.popupWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    TimePicker.prototype.generateList = function () {\n        this.createListItems();\n        this.wireListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS$1 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$1);\n    };\n    TimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        this.popupObj = new Popup(this.popupWrapper, {\n            width: this.setPopupWidth(this.width),\n            zIndex: this.zIndex,\n            targetType: 'relative',\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            enableRtl: this.enableRtl,\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            offsetY: OFFSETVAL,\n            open: function () {\n                _this.popupWrapper.style.visibility = 'visible';\n                addClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n            }, close: function () {\n                removeClass([_this.inputWrapper.buttons[0]], SELECTED$4);\n                _this.unWireListEvents();\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                remove(_this.popupObj.element);\n                _this.popupObj.destroy();\n                _this.popupWrapper.innerHTML = '';\n                _this.listWrapper = _this.popupWrapper = _this.listTag = undefined;\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        if (!Browser.isDevice) {\n            this.popupObj.collision = { X: 'none', Y: 'flip' };\n        }\n        this.popupObj.element.style.maxHeight = POPUPDIMENSION;\n    };\n    //util function\n    TimePicker.prototype.getFormattedValue = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { skeleton: 'medium', type: 'time' });\n        }\n    };\n    TimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = !this.isNullOrEmpty(this.initValue);\n            if (this.checkDateValue(dateValue)) {\n                var date = value ? this.initValue.getDate() : DAY;\n                var month = value ? this.initValue.getMonth() : MONTH$2;\n                var year = value ? this.initValue.getFullYear() : YEAR$2;\n                return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds());\n            }\n        }\n        return null;\n    };\n    TimePicker.prototype.updateHtmlAttributeToWrapper = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) > -1) {\n                    if (key === 'class') {\n                        var updatedClassesValue = (this.htmlAttributes[\"\" + key].replace(/\\s+/g, ' ')).trim();\n                        if (updatedClassesValue !== '') {\n                            addClass([this.inputWrapper.container], updatedClassesValue.split(' '));\n                        }\n                    }\n                    else if (key === 'style') {\n                        var timeStyle = this.inputWrapper.container.getAttribute(key);\n                        timeStyle = !isNullOrUndefined(timeStyle) ? (timeStyle + this.htmlAttributes[\"\" + key]) :\n                            this.htmlAttributes[\"\" + key];\n                        this.inputWrapper.container.setAttribute(key, timeStyle);\n                    }\n                    else {\n                        this.inputWrapper.container.setAttribute(key, this.htmlAttributes[\"\" + key]);\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateHtmlAttributeToElement = function () {\n        if (!isNullOrUndefined(this.htmlAttributes)) {\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (wrapperAttributes.indexOf(key) < 0) {\n                    this.inputElement.setAttribute(key, this.htmlAttributes[\"\" + key]);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.updateCssClass = function (cssClassNew, cssClassOld) {\n        if (!isNullOrUndefined(cssClassOld)) {\n            cssClassOld = (cssClassOld.replace(/\\s+/g, ' ')).trim();\n        }\n        if (!isNullOrUndefined(cssClassNew)) {\n            cssClassNew = (cssClassNew.replace(/\\s+/g, ' ')).trim();\n        }\n        Input.setCssClass(cssClassNew, [this.inputWrapper.container], cssClassOld);\n        if (this.popupWrapper) {\n            Input.setCssClass(cssClassNew, [this.popupWrapper], cssClassOld);\n        }\n    };\n    TimePicker.prototype.removeErrorClass = function () {\n        removeClass([this.inputWrapper.container], ERROR$2);\n        attributes(this.inputElement, { 'aria-invalid': 'false' });\n    };\n    TimePicker.prototype.checkErrorState = function (val) {\n        var value = this.getDateObject(val);\n        if ((this.validateState(value) && !this.invalidValueString) ||\n            (this.enableMask && this.inputElement.value === this.maskedDateValue)) {\n            this.removeErrorClass();\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$2);\n            attributes(this.inputElement, { 'aria-invalid': 'true' });\n        }\n    };\n    TimePicker.prototype.validateInterval = function () {\n        if (!isNullOrUndefined(this.step) && this.step > 0) {\n            this.enableElement([this.inputWrapper.buttons[0]]);\n        }\n        else {\n            this.disableTimeIcon();\n        }\n    };\n    TimePicker.prototype.disableTimeIcon = function () {\n        this.disableElement([this.inputWrapper.buttons[0]]);\n        this.hide();\n    };\n    TimePicker.prototype.disableElement = function (element) {\n        addClass(element, DISABLED$3);\n    };\n    TimePicker.prototype.enableElement = function (element) {\n        removeClass(element, DISABLED$3);\n    };\n    TimePicker.prototype.selectInputText = function () {\n        this.inputElement.setSelectionRange(0, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.setCursorToEnd = function () {\n        this.inputElement.setSelectionRange((this.inputElement).value.length, (this.inputElement).value.length);\n    };\n    TimePicker.prototype.getMeridianText = function () {\n        var meridian;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            meridian = getValue('dayPeriods.format.wide', getDefaultDateObject());\n        }\n        else {\n            var gregorianFormat = '.dates.calendars.gregorian.dayPeriods.format.abbreviated';\n            var mainVal = 'main.';\n            meridian = getValue(mainVal + '' + this.locale + gregorianFormat, cldrData);\n        }\n        return meridian;\n    };\n    TimePicker.prototype.getCursorSelection = function () {\n        var input = (this.inputElement);\n        var start = 0;\n        var end = 0;\n        if (!isNaN(input.selectionStart)) {\n            start = input.selectionStart;\n            end = input.selectionEnd;\n        }\n        return { start: Math.abs(start), end: Math.abs(end) };\n    };\n    TimePicker.prototype.getActiveElement = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            return this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n        }\n        else {\n            return null;\n        }\n    };\n    TimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    TimePicker.prototype.setWidth = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            width = (width.match(/px|%|em/)) ? width : formatUnit(width);\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    TimePicker.prototype.setPopupWidth = function (width) {\n        width = this.setWidth(width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    TimePicker.prototype.setScrollPosition = function () {\n        var element = this.selectedElement;\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else if (this.popupWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    TimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextEle = element.nextElementSibling;\n        var height = nextEle ? nextEle.offsetTop : element.offsetTop;\n        var liHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.popupWrapper.scrollTop = nextEle ? (height - (listHeight / HALFPOSITION + liHeight / HALFPOSITION)) : height;\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.setScrollTo = function () {\n        var element;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                var initialTime = this.timeCollections[0];\n                var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n                element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n            }\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.popupWrapper.scrollTop = 0;\n        }\n    };\n    TimePicker.prototype.getText = function () {\n        return (isNullOrUndefined(this.checkDateValue(this.value))) ? '' : this.getValue(this.value);\n    };\n    TimePicker.prototype.getValue = function (value) {\n        return (isNullOrUndefined(this.checkDateValue(value))) ? null : this.globalize.formatDate(value, {\n            format: this.cldrTimeFormat(), type: 'time'\n        });\n    };\n    TimePicker.prototype.cldrDateFormat = function () {\n        var cldrDate;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDate = (getValue('dateFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDate = (this.getCultureDateObject(cldrData, '' + this.locale));\n        }\n        return cldrDate;\n    };\n    TimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.formatString)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.dateToNumeric = function () {\n        var cldrTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrTime = (getValue('timeFormats.medium', getDefaultDateObject()));\n        }\n        else {\n            cldrTime = (getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.medium', cldrData));\n        }\n        return cldrTime;\n    };\n    TimePicker.prototype.getExactDateTime = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(value, { format: this.dateToNumeric(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.setValue = function (value) {\n        var time = this.checkValue(value);\n        if (!this.strictMode && !this.validateState(time)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            if (this.isNullOrEmpty(time)) {\n                this.initValue = null;\n                this.validateMinMax(this.value, this.min, this.max);\n            }\n            else {\n                this.initValue = this.compareFormatChange(time);\n            }\n        }\n        this.updateInput(true, this.initValue);\n    };\n    TimePicker.prototype.compareFormatChange = function (value) {\n        if (isNullOrUndefined(value)) {\n            return null;\n        }\n        return (value !== this.getText()) ? this.getDateObject(value) : this.getDateObject(this.value);\n    };\n    TimePicker.prototype.updatePlaceHolder = function () {\n        Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n    };\n    //event related functions\n    TimePicker.prototype.updateInputValue = function (value) {\n        Input.setValue(value, this.inputElement, this.floatLabelType, this.showClearButton);\n    };\n    TimePicker.prototype.preventEventBubbling = function (e) {\n        e.preventDefault();\n        this.interopAdaptor.invokeMethodAsync('OnTimeIconClick');\n    };\n    TimePicker.prototype.popupHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        e.preventDefault();\n        if (this.isPopupOpen()) {\n            this.closePopup(0, e);\n        }\n        else {\n            this.inputElement.focus();\n            this.show(e);\n        }\n    };\n    TimePicker.prototype.mouseDownHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.readonly) {\n            this.inputElement.setSelectionRange(0, 0);\n            EventHandler.add(this.inputElement, 'mouseup', this.mouseUpHandler, this);\n        }\n    };\n    TimePicker.prototype.mouseUpHandler = function (event) {\n        if (!this.readonly) {\n            event.preventDefault();\n            if (this.enableMask) {\n                event.preventDefault();\n                this.notify('setMaskSelection', {\n                    module: 'MaskedDateTime'\n                });\n                return;\n            }\n            else {\n                EventHandler.remove(this.inputElement, 'mouseup', this.mouseUpHandler);\n                var curPos = this.getCursorSelection();\n                if (!(curPos.start === 0 && curPos.end === this.inputElement.value.length)) {\n                    if (this.inputElement.value.length > 0) {\n                        this.cursorDetails = this.focusSelection();\n                    }\n                    this.inputElement.setSelectionRange(this.cursorDetails.start, this.cursorDetails.end);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.focusSelection = function () {\n        var regex = new RegExp('^[a-zA-Z0-9]+$');\n        var split = this.inputElement.value.split('');\n        split.push(' ');\n        var curPos = this.getCursorSelection();\n        var start = 0;\n        var end = 0;\n        var isSeparator = false;\n        if (!this.isTextSelected) {\n            for (var i = 0; i < split.length; i++) {\n                if (!regex.test(split[i])) {\n                    end = i;\n                    isSeparator = true;\n                }\n                if (isSeparator) {\n                    if (curPos.start >= start && curPos.end <= end) {\n                        // eslint-disable-next-line no-self-assign\n                        end = end;\n                        this.isTextSelected = true;\n                        break;\n                    }\n                    else {\n                        start = i + 1;\n                        isSeparator = false;\n                    }\n                }\n            }\n        }\n        else {\n            start = curPos.start;\n            end = curPos.end;\n            this.isTextSelected = false;\n        }\n        return { start: start, end: end };\n    };\n    TimePicker.prototype.inputHandler = function (event) {\n        if (!this.readonly && this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'home':\n                case 'end':\n                case 'up':\n                case 'down':\n                    if (!this.isPopupOpen()) {\n                        this.popupCreation();\n                        this.popupObj.destroy();\n                        this.popupObj = this.popupWrapper = null;\n                    }\n                    if (this.enableMask && !this.readonly && !this.isPopupOpen()) {\n                        event.preventDefault();\n                        this.notify('keyDownHandler', {\n                            module: 'MaskedDateTime',\n                            e: event\n                        });\n                    }\n                    if (!this.enableMask || this.isPopupOpen()) {\n                        this.keyHandler(event);\n                    }\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.updateValue(this.valueWithMinutes, event);\n                    }\n                    else {\n                        this.updateValue(this.inputElement.value, event);\n                    }\n                    this.hide();\n                    this.isNavigate = false;\n                    if (this.isPopupOpen()) {\n                        event.stopPropagation();\n                    }\n                    break;\n                case 'open':\n                    this.show(event);\n                    break;\n                case 'escape':\n                    this.updateInputValue(this.objToString(this.value));\n                    if (this.enableMask) {\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                        this.createMask();\n                    }\n                    this.previousState(this.value);\n                    this.hide();\n                    break;\n                case 'close':\n                    this.hide();\n                    break;\n                case 'right':\n                case 'left':\n                case 'tab':\n                case 'shiftTab':\n                    if (!this.isPopupOpen() && this.enableMask && !this.readonly) {\n                        if ((this.inputElement.selectionStart === 0 && this.inputElement.selectionEnd === this.inputElement.value.length) ||\n                            (this.inputElement.selectionEnd !== this.inputElement.value.length && event.action === 'tab') ||\n                            (this.inputElement.selectionStart !== 0 && event.action === 'shiftTab') || (event.action === 'left' || event.action === 'right')) {\n                            event.preventDefault();\n                        }\n                        this.notify('keyDownHandler', { module: 'MaskedDateTime',\n                            e: event\n                        });\n                    }\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS$1);\n        this.setSelection(li, event);\n        if (li && li.classList.contains(LISTCLASS$1)) {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.closePopup = function (delay, e) {\n        var _this = this;\n        if (this.isPopupOpen() && this.popupWrapper) {\n            var args = {\n                popup: this.popupObj,\n                event: e || null,\n                cancel: false,\n                name: 'open'\n            };\n            removeClass([document.body], OVERFLOW$2);\n            this.trigger('close', args, function (args) {\n                if (!args.cancel) {\n                    var animModel = {\n                        name: 'FadeOut',\n                        duration: ANIMATIONDURATION,\n                        delay: delay ? delay : 0\n                    };\n                    _this.popupObj.hide(new Animation(animModel));\n                    removeClass([_this.inputWrapper.container], [ICONANIMATION]);\n                    attributes(_this.inputElement, { 'aria-expanded': 'false' });\n                    _this.inputElement.removeAttribute('aria-owns');\n                    _this.inputElement.removeAttribute('aria-activedescendant');\n                    EventHandler.remove(document, 'mousedown touchstart', _this.documentClickHandler);\n                }\n                if (Browser.isDevice && _this.modal) {\n                    _this.modal.style.display = 'none';\n                    _this.modal.outerHTML = '';\n                    _this.modal = null;\n                }\n                if (Browser.isDevice) {\n                    if (!isNullOrUndefined(_this.mobileTimePopupWrap)) {\n                        _this.mobileTimePopupWrap.remove();\n                        _this.mobileTimePopupWrap = null;\n                    }\n                }\n                if (Browser.isDevice && _this.allowEdit && !_this.readonly) {\n                    _this.inputElement.removeAttribute('readonly');\n                }\n            });\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n        }\n    };\n    TimePicker.prototype.disposeServerPopup = function () {\n        if (this.popupWrapper) {\n            this.popupWrapper.style.visibility = 'hidden';\n            this.popupWrapper.style.top = '-9999px';\n            this.popupWrapper.style.left = '-9999px';\n            this.popupWrapper.style.width = '0px';\n            this.popupWrapper.style.height = '0px';\n        }\n    };\n    TimePicker.prototype.checkValueChange = function (event, isNavigation) {\n        if (!this.strictMode && !this.validateState(this.valueWithMinutes)) {\n            if (this.checkDateValue(this.valueWithMinutes) === null) {\n                this.initValue = this.valueWithMinutes = null;\n            }\n            this.setProperties({ value: this.compareFormatChange(this.inputElement.value) }, true);\n            this.initValue = this.valueWithMinutes = this.compareFormatChange(this.inputElement.value);\n            this.prevValue = this.inputElement.value;\n            if (+this.prevDate !== +this.value) {\n                this.changeEvent(event);\n            }\n        }\n        else {\n            if (!isNavigation) {\n                if ((this.prevValue !== this.inputElement.value) || isNullOrUndefined(this.checkDateValue(this.value))) {\n                    this.valueProcess(event, this.compareFormatChange(this.inputElement.value));\n                }\n            }\n            else {\n                var value = this.getDateObject(new Date(this.timeCollections[this.activeIndex]));\n                if (+this.prevDate !== +value) {\n                    this.valueProcess(event, value);\n                }\n            }\n        }\n    };\n    TimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS$1);\n        this.setHover(currentLi, HOVER$1);\n    };\n    TimePicker.prototype.setHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeHover(className);\n            addClass([li], className);\n            if (className === NAVIGATION) {\n                li.setAttribute('aria-selected', 'true');\n            }\n        }\n    };\n    TimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li)) {\n            this.checkValue(li.getAttribute('data-value'));\n            if (this.enableMask) {\n                this.notify('createMask', {\n                    module: 'MaskedDateTime', navigated: true\n                });\n            }\n            this.selectedElement = li;\n            this.activeIndex = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.checkValueChange(event, true);\n        }\n    };\n    TimePicker.prototype.onMouseLeave = function () {\n        this.removeHover(HOVER$1);\n    };\n    TimePicker.prototype.scrollHandler = function () {\n        if (this.getModuleName() === 'timepicker' && Browser.isDevice) {\n            return;\n        }\n        else {\n            this.hide();\n        }\n    };\n    TimePicker.prototype.setMinMax = function (minVal, maxVal) {\n        if (isNullOrUndefined(this.checkDateValue(minVal))) {\n            this.initMin = this.getDateObject('12:00:00 AM');\n        }\n        if (isNullOrUndefined(this.checkDateValue(maxVal))) {\n            this.initMax = this.getDateObject('11:59:59 PM');\n        }\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    TimePicker.prototype.validateMinMax = function (dateVal, minVal, maxVal) {\n        var value = dateVal instanceof Date ? dateVal : this.getDateObject(dateVal);\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            dateVal = this.strictOperation(this.initMin, this.initMax, dateVal, value);\n        }\n        else if (+(this.createDateObj(this.getFormattedValue(this.initMin))) >\n            +(this.createDateObj(this.getFormattedValue(this.initMax)))) {\n            this.disableTimeIcon();\n        }\n        if (this.strictMode) {\n            dateVal = this.valueIsDisable(dateVal) ? dateVal : null;\n        }\n        this.checkErrorState(dateVal);\n        return dateVal;\n    };\n    TimePicker.prototype.valueIsDisable = function (value) {\n        if (this.disableItemCollection.length > 0) {\n            if (this.disableItemCollection.length === this.timeCollections.length) {\n                return false;\n            }\n            var time = value instanceof Date ? this.objToString(value) : value;\n            for (var index = 0; index < this.disableItemCollection.length; index++) {\n                if (time === this.disableItemCollection[index]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.validateState = function (val) {\n        if (!this.strictMode) {\n            if (this.valueIsDisable(val)) {\n                var value = typeof val === 'string' ? this.setCurrentDate(this.getDateObject(val)) :\n                    this.setCurrentDate(this.getDateObject(val));\n                var maxValue = this.setCurrentDate(this.getDateObject(this.initMax));\n                var minValue = this.setCurrentDate(this.getDateObject(this.initMin));\n                if (!isNullOrUndefined(this.checkDateValue(value))) {\n                    if ((+(value) > +(maxValue)) || (+(value) < +(minValue))) {\n                        return false;\n                    }\n                }\n                else {\n                    if ((+(maxValue) < +(minValue)) || this.inputElement.value !== '') {\n                        return false;\n                    }\n                }\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    TimePicker.prototype.strictOperation = function (minimum, maximum, dateVal, val) {\n        var maxValue = this.createDateObj(this.getFormattedValue(maximum));\n        var minValue = this.createDateObj(this.getFormattedValue(minimum));\n        var value = this.createDateObj(this.getFormattedValue(val));\n        if (this.strictMode) {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                this.initValue = this.getDateObject(maxValue);\n                this.updateInputValue(this.getValue(this.initValue));\n                if (this.enableMask) {\n                    this.createMask();\n                }\n                return this.inputElement.value;\n            }\n            else if (+minValue >= +value) {\n                return this.getDateObject(minValue);\n            }\n            else if (+value >= +maxValue || +minValue === +maxValue) {\n                return this.getDateObject(maxValue);\n            }\n        }\n        else {\n            if (+minValue > +maxValue) {\n                this.disableTimeIcon();\n                if (!isNaN(+this.createDateObj(dateVal))) {\n                    return dateVal;\n                }\n            }\n        }\n        return dateVal;\n    };\n    TimePicker.prototype.bindEvents = function () {\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.popupHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.inputBlurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.inputFocusHandler, this);\n        EventHandler.add(this.inputElement, 'change', this.inputChangeHandler, this);\n        EventHandler.add(this.inputElement, 'input', this.inputEventHandler, this);\n        if (this.enableMask) {\n            EventHandler.add(this.inputElement, 'keydown', this.keydownHandler, this);\n        }\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n        if (this.formElement) {\n            EventHandler.add(this.formElement, 'reset', this.formResetHandler, this);\n        }\n        if (!Browser.isDevice) {\n            this.keyConfigure = extend(this.keyConfigure, this.keyConfigs);\n            this.inputEvent = new KeyboardEvents(this.inputWrapper.container, {\n                keyAction: this.inputHandler.bind(this),\n                keyConfigs: this.keyConfigure,\n                eventName: 'keydown'\n            });\n            if (this.showClearButton && this.inputElement) {\n                EventHandler.add(this.inputElement, 'mousedown', this.mouseDownHandler, this);\n            }\n        }\n    };\n    TimePicker.prototype.keydownHandler = function (e) {\n        switch (e.code) {\n            case 'Delete':\n                if (this.enableMask && !this.popupObj && !this.readonly) {\n                    this.notify('keyDownHandler', {\n                        module: 'MaskedDateTime',\n                        e: e\n                    });\n                }\n                break;\n            default:\n                break;\n        }\n    };\n    TimePicker.prototype.formResetHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        if (!this.inputElement.disabled) {\n            var timeValue = this.inputElement.getAttribute('value');\n            var val = this.checkDateValue(this.inputEleValue);\n            if (this.element.tagName === 'EJS-TIMEPICKER') {\n                val = null;\n                timeValue = '';\n                this.inputElement.setAttribute('value', '');\n            }\n            this.setProperties({ value: val }, true);\n            this.prevDate = this.value;\n            this.valueWithMinutes = this.value;\n            this.initValue = this.value;\n            if (this.inputElement) {\n                this.updateInputValue(timeValue);\n                if (this.enableMask) {\n                    if (!timeValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    this.createMask();\n                }\n                this.checkErrorState(timeValue);\n                this.prevValue = this.inputElement.value;\n            }\n        }\n    };\n    TimePicker.prototype.inputChangeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.stopPropagation();\n    };\n    TimePicker.prototype.inputEventHandler = function () {\n        if (this.enableMask) {\n            this.notify('inputHandler', {\n                module: 'MaskedDateTime'\n            });\n        }\n    };\n    TimePicker.prototype.unBindEvents = function () {\n        if (this.inputWrapper) {\n            EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.popupHandler);\n        }\n        EventHandler.remove(this.inputElement, 'blur', this.inputBlurHandler);\n        EventHandler.remove(this.inputElement, 'focus', this.inputFocusHandler);\n        EventHandler.remove(this.inputElement, 'change', this.inputChangeHandler);\n        EventHandler.remove(this.inputElement, 'input', this.inputEventHandler);\n        if (this.inputEvent) {\n            this.inputEvent.destroy();\n        }\n        EventHandler.remove(this.inputElement, 'mousedown touchstart', this.mouseDownHandler);\n        if (this.showClearButton && !isNullOrUndefined(this.inputWrapper) && !isNullOrUndefined(this.inputWrapper.clearButton)) {\n            EventHandler.remove(this.inputWrapper.clearButton, 'mousedown touchstart', this.clearHandler);\n        }\n        if (this.formElement) {\n            EventHandler.remove(this.formElement, 'reset', this.formResetHandler);\n        }\n    };\n    TimePicker.prototype.bindClearEvent = function () {\n        if (this.showClearButton && this.inputWrapper.clearButton) {\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown', this.clearHandler, this);\n        }\n    };\n    TimePicker.prototype.raiseClearedEvent = function (e) {\n        var clearedArgs = {\n            event: e\n        };\n        this.trigger('cleared', clearedArgs);\n    };\n    TimePicker.prototype.clearHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        e.preventDefault();\n        if (!isNullOrUndefined(this.value)) {\n            this.clear(e);\n        }\n        else {\n            this.resetState();\n            this.raiseClearedEvent(e);\n        }\n        if (this.popupWrapper) {\n            this.popupWrapper.scrollTop = 0;\n        }\n        if (this.enableMask) {\n            this.notify('clearHandler', {\n                module: 'MaskedDateTime'\n            });\n        }\n        if (closest(this.element, 'form')) {\n            var element = this.element;\n            var keyupEvent = document.createEvent('KeyboardEvent');\n            keyupEvent.initEvent('keyup', false, true);\n            element.dispatchEvent(keyupEvent);\n        }\n    };\n    TimePicker.prototype.clear = function (event) {\n        this.setProperties({ value: null }, true);\n        this.initValue = null;\n        this.resetState();\n        this.raiseClearedEvent(event);\n        this.changeEvent(event);\n    };\n    TimePicker.prototype.setZIndex = function () {\n        if (this.popupObj) {\n            this.popupObj.zIndex = this.zIndex;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['step', 'disabled', 'readonly', 'style', 'name', 'value', 'min', 'max', 'placeholder'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'style':\n                        this.inputStyle = this.inputElement.getAttribute(prop);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'readonly' ||\n                                this.inputElement.getAttribute(prop) === '' || this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.timeOptions) || (this.timeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!isNullOrUndefined(this.checkDateValue(value))) {\n                                this.initValue = value;\n                                this.updateInput(false, this.initValue);\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    TimePicker.prototype.setCurrentDate = function (value) {\n        if (isNullOrUndefined(this.checkDateValue(value))) {\n            return null;\n        }\n        return new Date(YEAR$2, MONTH$2, DAY, value.getHours(), value.getMinutes(), value.getSeconds());\n    };\n    TimePicker.prototype.getTextFormat = function () {\n        var time = 0;\n        if (this.cldrTimeFormat().split(' ')[0] === 'a' || this.cldrTimeFormat().indexOf('a') === 0) {\n            time = 1;\n        }\n        else if (this.cldrTimeFormat().indexOf('a') < 0) {\n            var strArray = this.cldrTimeFormat().split(' ');\n            for (var i = 0; i < strArray.length; i++) {\n                if (strArray[i].toLowerCase().indexOf('h') >= 0) {\n                    time = i;\n                    break;\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.updateValue = function (value, event) {\n        var val;\n        if (this.isNullOrEmpty(value)) {\n            this.resetState();\n        }\n        else {\n            val = this.checkValue(value);\n            if (this.strictMode) {\n                // this case set previous value to the text box when set invalid date\n                var inputVal = (val === null && value.trim().length > 0) ?\n                    this.previousState(this.prevDate) : this.inputElement.value;\n                this.updateInputValue(inputVal);\n                if (this.enableMask) {\n                    if (!inputVal) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    if (isNullOrUndefined(val) && value !== this.maskedDateValue) {\n                        this.createMask();\n                    }\n                    if (isNullOrUndefined(val) && value === this.maskedDateValue) {\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                }\n            }\n        }\n        this.checkValueChange(event, typeof value === 'string' ? false : true);\n    };\n    TimePicker.prototype.previousState = function (date) {\n        var value = this.getDateObject(date);\n        for (var i = 0; i < this.timeCollections.length; i++) {\n            if (+value === this.timeCollections[i]) {\n                this.activeIndex = i;\n                this.selectedElement = this.liCollections[i];\n                this.valueWithMinutes = new Date(this.timeCollections[i]);\n                break;\n            }\n        }\n        return this.prevValue;\n    };\n    TimePicker.prototype.resetState = function () {\n        this.removeSelection();\n        Input.setValue('', this.inputElement, this.floatLabelType, false);\n        this.valueWithMinutes = this.activeIndex = null;\n        if (!this.strictMode) {\n            this.checkErrorState(null);\n        }\n    };\n    TimePicker.prototype.objToString = function (val) {\n        if (isNullOrUndefined(this.checkDateValue(val))) {\n            return null;\n        }\n        else {\n            return this.globalize.formatDate(val, { format: this.cldrTimeFormat(), type: 'time' });\n        }\n    };\n    TimePicker.prototype.checkValue = function (value) {\n        if (!this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.validateValue(date, value);\n        }\n        this.resetState();\n        return this.valueWithMinutes = null;\n    };\n    TimePicker.prototype.validateValue = function (date, value) {\n        var time;\n        var val = this.validateMinMax(value, this.min, this.max);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== this.getFormattedValue(this.value)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = this.objToString(this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = this.objToString(this.valueWithMinutes);\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            var value_1 = val.trim().length > 0 ? val : '';\n            this.updateInputValue(value_1);\n            if (this.enableMask) {\n                if (!value_1) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        else {\n            this.updateInputValue(time);\n            if (this.enableMask) {\n                if (time === '') {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n                if (isNullOrUndefined(time) && value !== this.maskedDateValue) {\n                    this.createMask();\n                }\n                if (isNullOrUndefined(time) && value === this.maskedDateValue) {\n                    this.updateInputValue(this.maskedDateValue);\n                }\n            }\n        }\n        return time;\n    };\n    TimePicker.prototype.createMask = function () {\n        this.notify('createMask', {\n            module: 'MaskedDateTime'\n        });\n    };\n    TimePicker.prototype.findNextElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var timeVal = null;\n        var count = this.liCollections.length;\n        var collections = this.timeCollections;\n        if (!isNullOrUndefined(this.checkDateValue(value)) || !isNullOrUndefined(this.activeIndex)) {\n            if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(collections.length - 1, true);\n                timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                this.activeIndex = index;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < count; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            var index = this.validLiElement(i);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === count - 1) {\n                            var index = this.validLiElement(0);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = count - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            var index = this.validLiElement(i, true);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                        else if (i === 0) {\n                            var index = this.validLiElement(count - 1);\n                            timeVal = +(this.createDateObj(new Date(this.timeCollections[index])));\n                            this.activeIndex = index;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(isNullOrUndefined(timeVal) ? null : new Date(timeVal));\n        }\n        else {\n            this.selectNextItem(event);\n        }\n    };\n    TimePicker.prototype.selectNextItem = function (event) {\n        var index = this.validLiElement(0, event.action === 'down' ? false : true);\n        this.activeIndex = index;\n        this.selectedElement = this.liCollections[index];\n        this.elementValue(new Date(this.timeCollections[index]));\n    };\n    TimePicker.prototype.elementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value))) {\n            this.checkValue(value);\n        }\n    };\n    TimePicker.prototype.validLiElement = function (index, backward) {\n        var elementIndex = null;\n        var items = isNullOrUndefined(this.popupWrapper) ? this.liCollections :\n            this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n        var isCheck = true;\n        if (items.length) {\n            if (backward) {\n                for (var i = index; i >= 0; i--) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === 0) {\n                        if (isCheck) {\n                            index = i = items.length;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n            else {\n                for (var i = index; i <= items.length - 1; i++) {\n                    if (!items[i].classList.contains(DISABLED$3)) {\n                        elementIndex = i;\n                        break;\n                    }\n                    else if (i === items.length - 1) {\n                        if (isCheck) {\n                            index = i = -1;\n                            isCheck = false;\n                        }\n                    }\n                }\n            }\n        }\n        return elementIndex;\n    };\n    TimePicker.prototype.keyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0 || !isNullOrUndefined(this.inputWrapper)\n            && this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n            return;\n        }\n        var count = this.timeCollections.length;\n        if (isNullOrUndefined(this.getActiveElement()) || this.getActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    var index = this.validLiElement(0, event.action === 'down' ? false : true);\n                    this.activeIndex = index;\n                    this.selectedElement = this.liCollections[index];\n                    this.elementValue(new Date(this.timeCollections[index]));\n                }\n                else {\n                    this.findNextElement(event);\n                }\n            }\n            else {\n                this.findNextElement(event);\n            }\n        }\n        else {\n            var nextItem = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (count) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (count - 1) : this.activeIndex;\n                this.activeIndex = index = this.validLiElement(this.activeIndex, (event.keyCode === 40 || event.keyCode === 39) ?\n                    false : true);\n                nextItem = isNullOrUndefined(this.timeCollections[index]) ?\n                    this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                var index = this.validLiElement(0);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            else if (event.action === 'end') {\n                var index = this.validLiElement(count - 1, true);\n                this.activeIndex = index;\n                nextItem = this.timeCollections[index];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.elementValue(new Date(nextItem));\n        }\n        this.isNavigate = true;\n        this.setHover(this.selectedElement, NAVIGATION);\n        this.setActiveDescendant();\n        this.selectInputText();\n        if (this.isPopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setScrollPosition();\n        }\n    };\n    TimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.timeFormats.short', ld);\n    };\n    TimePicker.prototype.getCultureDateObject = function (ld, c) {\n        return getValue('main.' + c + '.dates.calendars.gregorian.dateFormats.short', ld);\n    };\n    TimePicker.prototype.wireListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    TimePicker.prototype.unWireListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            if (!Browser.isDevice) {\n                EventHandler.remove(this.listWrapper, 'mouseover', this.onMouseOver);\n                EventHandler.remove(this.listWrapper, 'mouseout', this.onMouseLeave);\n            }\n        }\n    };\n    TimePicker.prototype.valueProcess = function (event, value) {\n        var result = (isNullOrUndefined(this.checkDateValue(value))) ? null : value;\n        if (+this.prevDate !== +result) {\n            this.initValue = result;\n            this.changeEvent(event);\n        }\n    };\n    TimePicker.prototype.changeEvent = function (e) {\n        this.addSelection();\n        this.updateInput(true, this.initValue);\n        var eventArgs = {\n            event: (e || null),\n            value: this.value,\n            text: (this.inputElement).value,\n            isInteracted: !isNullOrUndefined(e),\n            element: this.element\n        };\n        eventArgs.value = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        this.prevDate = this.valueWithMinutes || this.getDateObject(this.inputElement.value);\n        if (this.isAngular && this.preventChange) {\n            this.preventChange = false;\n        }\n        else {\n            this.trigger('change', eventArgs);\n        }\n        this.invalidValueString = null;\n        this.checkErrorState(this.value);\n    };\n    TimePicker.prototype.updateInput = function (isUpdate, date) {\n        if (isUpdate) {\n            this.prevValue = this.getValue(date);\n        }\n        this.prevDate = this.valueWithMinutes = date;\n        if ((typeof date !== 'number') || (this.value && +new Date(+this.value).setMilliseconds(0)) !== +date) {\n            this.setProperties({ value: date }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        if (!this.strictMode && isNullOrUndefined(this.value) && this.invalidValueString) {\n            this.checkErrorState(this.invalidValueString);\n            this.updateInputValue(this.invalidValueString);\n        }\n        this.clearIconState();\n    };\n    TimePicker.prototype.setActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement) && this.value) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    TimePicker.prototype.removeSelection = function () {\n        this.removeHover(HOVER$1);\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + SELECTED$4);\n            if (items.length) {\n                removeClass(items, SELECTED$4);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.removeHover = function (className) {\n        var hoveredItem = this.getHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n            if (className === NAVIGATION) {\n                hoveredItem[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    TimePicker.prototype.getHoverItem = function (className) {\n        var hoveredItem;\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            hoveredItem = this.popupWrapper.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    TimePicker.prototype.setActiveClass = function () {\n        if (!isNullOrUndefined(this.popupWrapper)) {\n            var items = this.popupWrapper.querySelectorAll('.' + LISTCLASS$1);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if ((this.timeCollections[i] === +this.getDateObject(this.valueWithMinutes))) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    TimePicker.prototype.addSelection = function () {\n        this.selectedElement = null;\n        this.removeSelection();\n        this.setActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], SELECTED$4);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    TimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS$1) && !li.classList.contains(DISABLED$3));\n    };\n    TimePicker.prototype.createDateObj = function (val) {\n        var formatStr = null;\n        var today = this.globalize.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n        var value = null;\n        if (typeof val === 'string') {\n            if (val.toUpperCase().indexOf('AM') > -1 || val.toUpperCase().indexOf('PM') > -1) {\n                today = this.defaultCulture.formatDate(new Date(), { format: formatStr, skeleton: 'short', type: 'date' });\n                value = isNaN(+new Date(today + ' ' + val)) ? null : new Date(new Date(today + ' ' + val).setMilliseconds(0));\n                if (isNullOrUndefined(value)) {\n                    value = this.timeParse(today, val);\n                }\n            }\n            else {\n                value = this.timeParse(today, val);\n            }\n        }\n        else if (val instanceof Date) {\n            value = val;\n        }\n        return value;\n    };\n    TimePicker.prototype.timeParse = function (today, val) {\n        var value;\n        value = this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.cldrTimeFormat(), type: 'datetime'\n        });\n        value = isNullOrUndefined(value) ? this.globalize.parseDate(today + ' ' + val, {\n            format: this.cldrDateFormat() + ' ' + this.dateToNumeric(), type: 'datetime'\n        }) : value;\n        value = isNullOrUndefined(value) ? value : new Date(value.setMilliseconds(0));\n        return value;\n    };\n    TimePicker.prototype.createListItems = function () {\n        var _this = this;\n        this.listWrapper = this.createElement('div', { className: CONTENT$2, attrs: { 'tabindex': '-1' } });\n        var start;\n        var interval = this.step * 60000;\n        var listItems = [];\n        this.timeCollections = [];\n        this.disableItemCollection = [];\n        start = +(this.getDateObject(this.initMin).setMilliseconds(0));\n        var end = +(this.getDateObject(this.initMax).setMilliseconds(0));\n        while (end >= start) {\n            this.timeCollections.push(start);\n            listItems.push(this.globalize.formatDate(new Date(start), { format: this.cldrTimeFormat(), type: 'time' }));\n            start += interval;\n        }\n        var listBaseOptions = {\n            itemCreated: function (args) {\n                var eventArgs = {\n                    element: args.item,\n                    text: args.text, value: _this.getDateObject(args.text), isDisabled: false\n                };\n                _this.trigger('itemRender', eventArgs, function (eventArgs) {\n                    if (eventArgs.isDisabled) {\n                        eventArgs.element.classList.add(DISABLED$3);\n                    }\n                    if (eventArgs.element.classList.contains(DISABLED$3)) {\n                        _this.disableItemCollection.push(eventArgs.element.getAttribute('data-value'));\n                    }\n                });\n            }\n        };\n        this.listTag = ListBase.createList(this.createElement, listItems, listBaseOptions, true);\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options', 'tabindex': '0' });\n        append([this.listTag], this.listWrapper);\n    };\n    TimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObj) && !isNullOrUndefined(this.inputWrapper) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' ||\n            (this.popupObj.element && this.popupObj.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + this.popupObj.element.id + '\"]')) && target !== this.inputElement\n            && target !== (this.inputWrapper && this.inputWrapper.buttons[0]) &&\n            target !== (this.inputWrapper && this.inputWrapper.clearButton) &&\n            target !== (this.inputWrapper && this.inputWrapper.container)) {\n            if (this.isPopupOpen()) {\n                this.hide();\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = (Browser.isIE || Browser.info.name === 'edge') && (document.activeElement === this.inputElement)\n                    && (target === this.popupWrapper);\n            }\n        }\n    };\n    TimePicker.prototype.setEnableRtl = function () {\n        Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n        if (this.popupObj) {\n            this.popupObj.enableRtl = this.enableRtl;\n            this.popupObj.dataBind();\n        }\n    };\n    TimePicker.prototype.setEnable = function () {\n        Input.setEnabled(this.enabled, this.inputElement, this.floatLabelType);\n        if (this.enabled) {\n            removeClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'false' });\n            this.inputElement.setAttribute('tabindex', this.tabIndex);\n        }\n        else {\n            this.hide();\n            addClass([this.inputWrapper.container], DISABLED$3);\n            attributes(this.inputElement, { 'aria-disabled': 'true' });\n            this.inputElement.tabIndex = -1;\n        }\n    };\n    TimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.initMin = this.checkDateValue(new Date(this.checkInValue(date.min)));\n            this.setProperties({ min: this.initMin }, true);\n        }\n        else {\n            this.initMax = this.checkDateValue(new Date(this.checkInValue(date.max)));\n            this.setProperties({ max: this.initMax }, true);\n        }\n        if (this.inputElement.value === '') {\n            this.validateMinMax(this.value, this.min, this.max);\n        }\n        else {\n            this.checkValue(this.inputElement.value);\n        }\n        this.checkValueChange(null, false);\n    };\n    TimePicker.prototype.inputBlurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isPreventBlur && this.isPopupOpen()) {\n            this.inputElement.focus();\n            return;\n        }\n        this.closePopup(0, e);\n        if (this.enableMask && this.maskedDateValue && this.placeholder && this.floatLabelType !== 'Always') {\n            if (this.inputElement.value === this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n                this.updateInputValue('');\n            }\n        }\n        removeClass([this.inputWrapper.container], [FOCUS]);\n        var blurArguments = {\n            model: this\n        };\n        this.trigger('blur', blurArguments);\n        if (this.getText() !== this.inputElement.value) {\n            this.updateValue((this.inputElement).value, e);\n        }\n        else if (this.inputElement.value.trim().length === 0) {\n            this.resetState();\n        }\n        this.cursorDetails = null;\n        this.isNavigate = false;\n        if (this.inputElement.value === '') {\n            this.invalidValueString = null;\n        }\n    };\n    /**\n     * Focuses out the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    TimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [FOCUS]);\n            var blurArguments = {\n                model: this\n            };\n            this.trigger('blur', blurArguments);\n        }\n    };\n    TimePicker.prototype.isPopupOpen = function () {\n        if (this.popupWrapper && this.popupWrapper.classList.contains('' + ROOT$3)) {\n            return true;\n        }\n        return false;\n    };\n    TimePicker.prototype.inputFocusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        var focusArguments = {\n            model: this\n        };\n        if (!this.readonly && !Browser.isDevice && !this.enableMask) {\n            this.selectInputText();\n        }\n        if (this.enableMask && !this.inputElement.value && this.placeholder) {\n            if (this.maskedDateValue && !this.value && (this.floatLabelType === 'Auto' || this.floatLabelType === 'Never' || this.placeholder)) {\n                this.updateInputValue(this.maskedDateValue);\n                this.inputElement.selectionStart = 0;\n                this.inputElement.selectionEnd = this.inputElement.value.length;\n            }\n        }\n        this.trigger('focus', focusArguments);\n        this.clearIconState();\n        if (this.openOnFocus) {\n            this.show();\n        }\n    };\n    /**\n     * Focused the TimePicker textbox element.\n     *\n     * @returns {void}\n     */\n    TimePicker.prototype.focusIn = function () {\n        if (document.activeElement !== this.inputElement && this.enabled) {\n            this.inputElement.focus();\n        }\n    };\n    /**\n     * Hides the TimePicker popup.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    TimePicker.prototype.hide = function () {\n        this.closePopup(100, null);\n        this.clearIconState();\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-param */\n    /**\n     * Opens the popup to show the list items.\n     *\n     * @returns {void}\n     * @deprecated\n     */\n    TimePicker.prototype.show = function (event) {\n        var _this = this;\n        if ((this.enabled && this.readonly) || !this.enabled || this.popupWrapper) {\n            return;\n        }\n        else {\n            this.popupCreation();\n            if (Browser.isDevice && this.listWrapper) {\n                this.modal = this.createElement('div');\n                this.modal.className = '' + ROOT$3 + ' e-time-modal';\n                document.body.className += ' ' + OVERFLOW$2;\n                document.body.appendChild(this.modal);\n            }\n            if (Browser.isDevice) {\n                this.mobileTimePopupWrap = this.createElement('div', { className: 'e-timepicker-mob-popup-wrap' });\n                document.body.appendChild(this.mobileTimePopupWrap);\n            }\n            this.openPopupEventArgs = {\n                popup: this.popupObj || null,\n                cancel: false,\n                event: event || null,\n                name: 'open',\n                appendTo: Browser.isDevice ? this.mobileTimePopupWrap : document.body\n            };\n            var eventArgs = this.openPopupEventArgs;\n            this.trigger('open', eventArgs, function (eventArgs) {\n                _this.openPopupEventArgs = eventArgs;\n                if (!_this.openPopupEventArgs.cancel && !_this.inputWrapper.buttons[0].classList.contains(DISABLED$3)) {\n                    _this.openPopupEventArgs.appendTo.appendChild(_this.popupWrapper);\n                    _this.popupAlignment(_this.openPopupEventArgs);\n                    _this.setScrollPosition();\n                    if (!Browser.isDevice) {\n                        _this.inputElement.focus();\n                    }\n                    var openAnimation = {\n                        name: 'FadeIn',\n                        duration: ANIMATIONDURATION\n                    };\n                    _this.popupObj.refreshPosition(_this.anchor);\n                    if (_this.zIndex === 1000) {\n                        _this.popupObj.show(new Animation(openAnimation), _this.element);\n                    }\n                    else {\n                        _this.popupObj.show(new Animation(openAnimation), null);\n                    }\n                    _this.setActiveDescendant();\n                    attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                    attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options' });\n                    addClass([_this.inputWrapper.container], FOCUS);\n                    EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n                    _this.setOverlayIndex(_this.mobileTimePopupWrap, _this.popupObj.element, _this.modal, Browser.isDevice);\n                }\n                else {\n                    _this.popupObj.destroy();\n                    _this.popupWrapper = _this.listTag = undefined;\n                    _this.liCollections = _this.timeCollections = _this.disableItemCollection = [];\n                    _this.popupObj = null;\n                }\n            });\n        }\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-param */\n    TimePicker.prototype.setOverlayIndex = function (popupWrapper, timePopupElement, modal, isDevice) {\n        if (isDevice && !isNullOrUndefined(timePopupElement) && !isNullOrUndefined(modal) && !isNullOrUndefined(popupWrapper)) {\n            var index = parseInt(timePopupElement.style.zIndex, 10) ? parseInt(timePopupElement.style.zIndex, 10) : 1000;\n            modal.style.zIndex = (index - 1).toString();\n            popupWrapper.style.zIndex = index.toString();\n        }\n    };\n    TimePicker.prototype.formatValues = function (type) {\n        var value;\n        if (typeof type === 'number') {\n            value = formatUnit(type);\n        }\n        else if (typeof type === 'string') {\n            value = (type.match(/px|%|em/)) ? type : isNaN(parseInt(type, 10)) ? type : formatUnit(type);\n        }\n        return value;\n    };\n    TimePicker.prototype.popupAlignment = function (args) {\n        args.popup.position.X = this.formatValues(args.popup.position.X);\n        args.popup.position.Y = this.formatValues(args.popup.position.Y);\n        if (!isNaN(parseFloat(args.popup.position.X)) || !isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.relateTo = this.anchor = document.body;\n            this.popupObj.targetType = 'container';\n        }\n        if (!isNaN(parseFloat(args.popup.position.X))) {\n            this.popupObj.offsetX = parseFloat(args.popup.position.X);\n        }\n        if (!isNaN(parseFloat(args.popup.position.Y))) {\n            this.popupObj.offsetY = parseFloat(args.popup.position.Y);\n        }\n        if (!Browser.isDevice) {\n            switch (args.popup.position.X) {\n                case 'left':\n                    break;\n                case 'right':\n                    args.popup.offsetX = this.containerStyle.width;\n                    break;\n                case 'center':\n                    args.popup.offsetX = -(this.containerStyle.width / 2);\n                    break;\n            }\n            switch (args.popup.position.Y) {\n                case 'top':\n                    break;\n                case 'bottom':\n                    break;\n                case 'center':\n                    args.popup.offsetY = -(this.containerStyle.height / 2);\n                    break;\n            }\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.inputWrapper.container;\n                this.anchor = this.inputElement;\n                this.popupObj.targetType = 'relative';\n            }\n        }\n        else {\n            if (args.popup.position.X === 'center' && args.popup.position.Y === 'center') {\n                this.popupObj.relateTo = this.anchor = document.body;\n                this.popupObj.offsetY = 0;\n                this.popupObj.targetType = 'container';\n                this.popupObj.collision = { X: 'fit', Y: 'fit' };\n            }\n        }\n    };\n    /* eslint-disable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * Gets the properties to be maintained upon browser refresh.\n     *\n     * @returns {string}\n     */\n    TimePicker.prototype.getPersistData = function () {\n        var keyEntity = ['value'];\n        return this.addOnPersist(keyEntity);\n    };\n    /* eslint-enable valid-jsdoc, jsdoc/require-returns-description */\n    /**\n     * To get component name\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    TimePicker.prototype.getModuleName = function () {\n        return 'timepicker';\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {TimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {TimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @private\n     */\n    TimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement, this.floatLabelType);\n                    if (this.readonly) {\n                        this.hide();\n                    }\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enabled':\n                    this.setProperties({ enabled: newProp.enabled }, true);\n                    this.setEnable();\n                    break;\n                case 'allowEdit':\n                    this.setTimeAllowEdit();\n                    break;\n                case 'enableRtl':\n                    this.setProperties({ enableRtl: newProp.enableRtl }, true);\n                    this.setEnableRtl();\n                    break;\n                case 'cssClass':\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n                    break;\n                case 'zIndex':\n                    this.setProperties({ zIndex: newProp.zIndex }, true);\n                    this.setZIndex();\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    break;\n                case 'showClearButton':\n                    Input.setClearButton(this.showClearButton, this.inputElement, this.inputWrapper);\n                    this.bindClearEvent();\n                    break;\n                case 'locale':\n                    this.setProperties({ locale: newProp.locale }, true);\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.updatePlaceHolder();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                    }\n                    break;\n                case 'width':\n                    setStyleAttribute(this.inputWrapper.container, { 'width': this.setWidth(newProp.width) });\n                    this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkTimeFormat();\n                    this.setValue(this.value);\n                    if (this.enableMask) {\n                        this.createMask();\n                        if (!this.value) {\n                            this.updateInputValue(this.maskedDateValue);\n                        }\n                    }\n                    break;\n                case 'value':\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    if (!this.invalidValueString) {\n                        if (typeof newProp.value === 'string') {\n                            this.setProperties({ value: this.checkDateValue(new Date(newProp.value)) }, true);\n                            newProp.value = this.value;\n                        }\n                        else {\n                            if ((newProp.value && +new Date(+newProp.value).setMilliseconds(0)) !== +this.value) {\n                                newProp.value = this.checkDateValue(new Date('' + newProp.value));\n                            }\n                        }\n                        this.initValue = newProp.value;\n                        newProp.value = this.compareFormatChange(this.checkValue(newProp.value));\n                    }\n                    else {\n                        this.updateInputValue(this.invalidValueString);\n                        this.checkErrorState(this.invalidValueString);\n                    }\n                    if (this.enableMask && isNullOrUndefined(newProp.value)) {\n                        this.updateInputValue(this.maskedDateValue);\n                        this.checkErrorState(this.maskedDateValue);\n                    }\n                    this.checkValueChange(null, false);\n                    if (this.isPopupOpen()) {\n                        this.setScrollPosition();\n                    }\n                    if (this.isAngular && this.preventChange) {\n                        this.preventChange = false;\n                    }\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                    }\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-icon');\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    if (newProp.strictMode) {\n                        this.checkErrorState(null);\n                    }\n                    this.setProperties({ strictMode: newProp.strictMode }, true);\n                    this.checkValue((this.inputElement).value);\n                    this.checkValueChange(null, false);\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo)))) {\n                        if (this.popupWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkInValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                        this.updateInputValue(this.maskedDateValue);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.updateInputValue('');\n                        }\n                    }\n                    break;\n            }\n        }\n    };\n    TimePicker.prototype.checkInValue = function (inValue) {\n        if (inValue instanceof Date) {\n            return (inValue.toUTCString());\n        }\n        else {\n            return ('' + inValue);\n        }\n    };\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"width\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"cssClass\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"strictMode\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"format\", void 0);\n    __decorate$3([\n        Property(true)\n    ], TimePicker.prototype, \"enabled\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"readonly\", void 0);\n    __decorate$3([\n        Property({})\n    ], TimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$3([\n        Property('Never')\n    ], TimePicker.prototype, \"floatLabelType\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"placeholder\", void 0);\n    __decorate$3([\n        Property(1000)\n    ], TimePicker.prototype, \"zIndex\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$3([\n        Property(true)\n    ], TimePicker.prototype, \"showClearButton\", void 0);\n    __decorate$3([\n        Property(30)\n    ], TimePicker.prototype, \"step\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"scrollTo\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"value\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"min\", void 0);\n    __decorate$3([\n        Property(null)\n    ], TimePicker.prototype, \"max\", void 0);\n    __decorate$3([\n        Property(true)\n    ], TimePicker.prototype, \"allowEdit\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$3([\n        Property(false)\n    ], TimePicker.prototype, \"enableMask\", void 0);\n    __decorate$3([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], TimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"change\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"created\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"destroyed\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"open\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"itemRender\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"close\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"cleared\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"blur\", void 0);\n    __decorate$3([\n        Event()\n    ], TimePicker.prototype, \"focus\", void 0);\n    TimePicker = __decorate$3([\n        NotifyPropertyChanges\n    ], TimePicker);\n    return TimePicker;\n}(Component));\n\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * TimePicker modules\n */\n\nvar __extends$4 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$4 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n///<reference path='../datepicker/datepicker-model.d.ts'/>\n//class constant defination\nvar DATEWRAPPER$1 = 'e-date-wrapper';\nvar DATEPICKERROOT = 'e-datepicker';\nvar DATETIMEWRAPPER = 'e-datetime-wrapper';\nvar DAY$1 = new Date().getDate();\nvar MONTH$3 = new Date().getMonth();\nvar YEAR$3 = new Date().getFullYear();\nvar HOUR = new Date().getHours();\nvar MINUTE = new Date().getMinutes();\nvar SECOND = new Date().getSeconds();\nvar MILLISECOND = new Date().getMilliseconds();\nvar ROOT$4 = 'e-datetimepicker';\nvar DATETIMEPOPUPWRAPPER = 'e-datetimepopup-wrapper';\nvar INPUTWRAPPER$1 = 'e-input-group-icon';\nvar POPUP$3 = 'e-popup';\nvar TIMEICON$1 = 'e-time-icon';\nvar INPUTFOCUS$2 = 'e-input-focus';\nvar POPUPDIMENSION$1 = '250px';\nvar ICONANIMATION$1 = 'e-icon-anim';\nvar DISABLED$4 = 'e-disabled';\nvar ERROR$3 = 'e-error';\nvar CONTENT$3 = 'e-content';\nvar NAVIGATION$1 = 'e-navigation';\nvar ACTIVE$2 = 'e-active';\nvar HOVER$2 = 'e-hover';\nvar ICONS$1 = 'e-icons';\nvar HALFPOSITION$1 = 2;\nvar LISTCLASS$2 = 'e-list-item';\nvar ANIMATIONDURATION$1 = 100;\nvar OVERFLOW$3 = 'e-time-overflow';\n/**\n * Represents the DateTimePicker component that allows user to select\n * or enter a date time value.\n * ```html\n * <input id=\"dateTimePicker\"/>\n * ```\n * ```typescript\n * <script>\n *   let dateTimePickerObject:DateTimePicker = new DateTimePicker({ value: new Date() });\n *   dateTimePickerObject.appendTo(\"#dateTimePicker\");\n * </script>\n * ```\n */\nvar DateTimePicker = /** @__PURE__ @class */ (function (_super) {\n    __extends$4(DateTimePicker, _super);\n    /**\n     * Constructor for creating the widget\n     *\n     * @param {DateTimePickerModel} options - Specifies the DateTimePicker model.\n     * @param {string | HTMLInputElement} element - Specifies the element to render as component.\n     * @private\n     */\n    function DateTimePicker(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.valueWithMinutes = null;\n        _this.scrollInvoked = false;\n        _this.moduleName = _this.getModuleName();\n        _this.dateTimeOptions = options;\n        return _this;\n    }\n    DateTimePicker.prototype.focusHandler = function () {\n        if (!this.enabled) {\n            return;\n        }\n        addClass([this.inputWrapper.container], INPUTFOCUS$2);\n    };\n    /**\n     * Sets the focus to widget for interaction.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusIn = function () {\n        _super.prototype.focusIn.call(this);\n    };\n    /**\n     * Remove the focus from widget, if the widget is in focus state.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.focusOut = function () {\n        if (document.activeElement === this.inputElement) {\n            this.inputElement.blur();\n            removeClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n        }\n    };\n    DateTimePicker.prototype.blurHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        // IE popup closing issue when click over the scrollbar\n        if (this.isTimePopupOpen() && this.isPreventBlur) {\n            this.inputElement.focus();\n            return;\n        }\n        removeClass([this.inputWrapper.container], INPUTFOCUS$2);\n        var blurArguments = {\n            model: this\n        };\n        if (this.isTimePopupOpen()) {\n            this.hide(e);\n        }\n        this.trigger('blur', blurArguments);\n    };\n    /**\n     * To destroy the widget.\n     *\n     * @returns {void}\n     */\n    DateTimePicker.prototype.destroy = function () {\n        if (this.popupObject && this.popupObject.element.classList.contains(POPUP$3)) {\n            this.popupObject.destroy();\n            detach(this.dateTimeWrapper);\n            this.dateTimeWrapper = undefined;\n            this.liCollections = this.timeCollections = [];\n            if (!isNullOrUndefined(this.rippleFn)) {\n                this.rippleFn();\n            }\n        }\n        var ariaAttribute = {\n            'aria-live': 'assertive', 'aria-atomic': 'true', 'aria-invalid': 'false',\n            'autocorrect': 'off', 'autocapitalize': 'off', 'spellcheck': 'false',\n            'aria-expanded': 'false', 'role': 'combobox', 'autocomplete': 'off'\n        };\n        if (this.inputElement) {\n            Input.removeAttributes(ariaAttribute, this.inputElement);\n        }\n        if (this.isCalendar()) {\n            if (this.popupWrapper) {\n                detach(this.popupWrapper);\n            }\n            this.popupObject = this.popupWrapper = null;\n            this.keyboardHandler.destroy();\n        }\n        this.unBindInputEvents();\n        this.liCollections = null;\n        this.rippleFn = null;\n        this.selectedElement = null;\n        this.listTag = null;\n        this.timeIcon = null;\n        this.popupObject = null;\n        this.preventArgs = null;\n        this.keyboardModule = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering.\n     *\n     * @returns {void}\n     * @private\n     */\n    DateTimePicker.prototype.render = function () {\n        this.timekeyConfigure = {\n            enter: 'enter',\n            escape: 'escape',\n            end: 'end',\n            tab: 'tab',\n            home: 'home',\n            down: 'downarrow',\n            up: 'uparrow',\n            left: 'leftarrow',\n            right: 'rightarrow',\n            open: 'alt+downarrow',\n            close: 'alt+uparrow'\n        };\n        this.valueWithMinutes = null;\n        this.previousDateTime = null;\n        this.isPreventBlur = false;\n        this.cloneElement = this.element.cloneNode(true);\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        this.initValue = this.value;\n        if (!isNullOrUndefined(closest(this.element, 'fieldset')) && closest(this.element, 'fieldset').disabled) {\n            this.enabled = false;\n        }\n        _super.prototype.updateHtmlAttributeToElement.call(this);\n        this.checkAttributes(false);\n        var localeText = { placeholder: this.placeholder };\n        this.l10n = new L10n('datetimepicker', localeText, this.locale);\n        this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\n        _super.prototype.render.call(this);\n        this.createInputElement();\n        _super.prototype.updateHtmlAttributeToWrapper.call(this);\n        this.bindInputEvents();\n        if (this.enableMask) {\n            this.notify('createMask', {\n                module: 'MaskedDateTime'\n            });\n        }\n        this.setValue(true);\n        if (this.enableMask && !this.value && this.maskedDateValue && (this.floatLabelType === 'Always' || !this.floatLabelType || !this.placeholder)) {\n            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(this.scrollTo))) }, true);\n        this.previousDateTime = this.value && new Date(+this.value);\n        if (this.element.tagName === 'EJS-DATETIMEPICKER') {\n            this.tabIndex = this.element.hasAttribute('tabindex') ? this.element.getAttribute('tabindex') : '0';\n            this.element.removeAttribute('tabindex');\n            if (!this.enabled) {\n                this.inputElement.tabIndex = -1;\n            }\n        }\n        Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n        if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n            this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n        }\n        this.renderComplete();\n    };\n    DateTimePicker.prototype.setValue = function (isDynamic) {\n        if (isDynamic === void 0) { isDynamic = false; }\n        this.initValue = this.validateMinMaxRange(this.value);\n        if (!this.strictMode && this.isDateObject(this.initValue)) {\n            var value = this.validateMinMaxRange(this.initValue);\n            Input.setValue(this.getFormattedValue(value), this.inputElement, this.floatLabelType, this.showClearButton);\n            this.setProperties({ value: value }, true);\n        }\n        else {\n            if (isNullOrUndefined(this.value)) {\n                this.initValue = null;\n                this.setProperties({ value: null }, true);\n            }\n        }\n        this.valueWithMinutes = this.value;\n        _super.prototype.updateInput.call(this, isDynamic);\n    };\n    DateTimePicker.prototype.validateMinMaxRange = function (value) {\n        var result = value;\n        if (this.isDateObject(value)) {\n            result = this.validateValue(value);\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n            }\n        }\n        this.checkValidState(result);\n        return result;\n    };\n    DateTimePicker.prototype.checkValidState = function (value) {\n        this.isValidState = true;\n        if (!this.strictMode) {\n            if ((+(value) > +(this.max)) || (+(value) < +(this.min))) {\n                this.isValidState = false;\n            }\n        }\n        this.checkErrorState();\n    };\n    DateTimePicker.prototype.checkErrorState = function () {\n        if (this.isValidState) {\n            removeClass([this.inputWrapper.container], ERROR$3);\n        }\n        else {\n            addClass([this.inputWrapper.container], ERROR$3);\n        }\n        attributes(this.inputElement, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\n    };\n    DateTimePicker.prototype.validateValue = function (value) {\n        var dateVal = value;\n        if (this.strictMode) {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = this.max;\n            }\n            else if (+value < +this.min) {\n                dateVal = this.min;\n            }\n            else if (+value > +this.max) {\n                dateVal = this.max;\n            }\n        }\n        else {\n            if (+this.min > +this.max) {\n                this.disablePopupButton(true);\n                dateVal = value;\n            }\n        }\n        return dateVal;\n    };\n    DateTimePicker.prototype.disablePopupButton = function (isDisable) {\n        if (isDisable) {\n            addClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n            this.hide();\n        }\n        else {\n            removeClass([this.inputWrapper.buttons[0], this.timeIcon], DISABLED$4);\n        }\n    };\n    DateTimePicker.prototype.getFormattedValue = function (value) {\n        var dateOptions;\n        if (!isNullOrUndefined(value)) {\n            if (this.calendarMode === 'Gregorian') {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd' };\n            }\n            else {\n                dateOptions = { format: this.cldrDateTimeFormat(), type: 'dateTime', skeleton: 'yMd', calendar: 'islamic' };\n            }\n            return this.globalize.formatDate(value, dateOptions);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.isDateObject = function (value) {\n        return (!isNullOrUndefined(value) && !isNaN(+value)) ? true : false;\n    };\n    DateTimePicker.prototype.createInputElement = function () {\n        removeClass([this.inputElement], DATEPICKERROOT);\n        removeClass([this.inputWrapper.container], DATEWRAPPER$1);\n        addClass([this.inputWrapper.container], DATETIMEWRAPPER);\n        addClass([this.inputElement], ROOT$4);\n        this.renderTimeIcon();\n    };\n    DateTimePicker.prototype.renderTimeIcon = function () {\n        this.timeIcon = Input.appendSpan(INPUTWRAPPER$1 + ' ' + TIMEICON$1 + ' ' + ICONS$1, this.inputWrapper.container);\n    };\n    DateTimePicker.prototype.bindInputEvents = function () {\n        EventHandler.add(this.timeIcon, 'mousedown', this.timeHandler, this);\n        EventHandler.add(this.inputWrapper.buttons[0], 'mousedown', this.dateHandler, this);\n        EventHandler.add(this.inputElement, 'blur', this.blurHandler, this);\n        EventHandler.add(this.inputElement, 'focus', this.focusHandler, this);\n        this.defaultKeyConfigs = extend(this.defaultKeyConfigs, this.keyConfigs);\n        this.keyboardHandler = new KeyboardEvents(this.inputElement, {\n            eventName: 'keydown',\n            keyAction: this.inputKeyAction.bind(this),\n            keyConfigs: this.defaultKeyConfigs\n        });\n    };\n    DateTimePicker.prototype.unBindInputEvents = function () {\n        EventHandler.remove(this.timeIcon, 'mousedown touchstart', this.timeHandler);\n        EventHandler.remove(this.inputWrapper.buttons[0], 'mousedown touchstart', this.dateHandler);\n        if (this.inputElement) {\n            EventHandler.remove(this.inputElement, 'blur', this.blurHandler);\n            EventHandler.remove(this.inputElement, 'focus', this.focusHandler);\n        }\n        if (this.keyboardHandler) {\n            this.keyboardHandler.destroy();\n        }\n    };\n    DateTimePicker.prototype.cldrTimeFormat = function () {\n        var cldrTime;\n        if (this.isNullOrEmpty(this.timeFormat)) {\n            if (this.locale === 'en' || this.locale === 'en-US') {\n                cldrTime = (getValue('timeFormats.short', getDefaultDateObject()));\n            }\n            else {\n                cldrTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n            }\n        }\n        else {\n            cldrTime = this.timeFormat;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.cldrDateTimeFormat = function () {\n        var cldrTime;\n        var culture = new Internationalization(this.locale);\n        var dateFormat = culture.getDatePattern({ skeleton: 'yMd' });\n        if (this.isNullOrEmpty(this.formatString)) {\n            cldrTime = dateFormat + ' ' + this.getCldrFormat('time');\n        }\n        else {\n            cldrTime = this.formatString;\n        }\n        return cldrTime;\n    };\n    DateTimePicker.prototype.getCldrFormat = function (type) {\n        var cldrDateTime;\n        if (this.locale === 'en' || this.locale === 'en-US') {\n            cldrDateTime = (getValue('timeFormats.short', getDefaultDateObject()));\n        }\n        else {\n            cldrDateTime = (this.getCultureTimeObject(cldrData, '' + this.locale));\n        }\n        return cldrDateTime;\n    };\n    DateTimePicker.prototype.isNullOrEmpty = function (value) {\n        if (isNullOrUndefined(value) || (typeof value === 'string' && value.trim() === '')) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DateTimePicker.prototype.getCultureTimeObject = function (ld, c) {\n        if (this.calendarMode === 'Gregorian') {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.gregorian.timeFormats.short', ld);\n        }\n        else {\n            return getValue('main.' + '' + this.locale + '.dates.calendars.islamic.timeFormats.short', ld);\n        }\n    };\n    DateTimePicker.prototype.timeHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        this.isIconClicked = true;\n        if (Browser.isDevice) {\n            this.inputElement.setAttribute('readonly', '');\n        }\n        if (e.currentTarget === this.timeIcon) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            else {\n                this.inputElement.focus();\n                this.popupCreation('time', e);\n                addClass([this.inputWrapper.container], [INPUTFOCUS$2]);\n            }\n        }\n        this.isIconClicked = false;\n    };\n    DateTimePicker.prototype.dateHandler = function (e) {\n        if (!this.enabled) {\n            return;\n        }\n        if (e.currentTarget === this.inputWrapper.buttons[0]) {\n            e.preventDefault();\n        }\n        if (this.enabled && !this.readonly) {\n            if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n            }\n            if (!isNullOrUndefined(this.popupWrapper)) {\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.show = function (type, e) {\n        if ((this.enabled && this.readonly) || !this.enabled) {\n            return;\n        }\n        else {\n            if (type === 'time' && !this.dateTimeWrapper) {\n                if (this.isDatePopupOpen()) {\n                    this.hide(e);\n                }\n                this.popupCreation('time', e);\n            }\n            else if (!this.popupObj) {\n                if (this.isTimePopupOpen()) {\n                    this.hide(e);\n                }\n                _super.prototype.show.call(this);\n                this.popupCreation('date', e);\n            }\n        }\n    };\n    DateTimePicker.prototype.toggle = function (e) {\n        if (this.isDatePopupOpen()) {\n            _super.prototype.hide.call(this, e);\n            this.show('time', null);\n        }\n        else if (this.isTimePopupOpen()) {\n            this.hide(e);\n            _super.prototype.show.call(this, null, e);\n            this.popupCreation('date', null);\n        }\n        else {\n            this.show(null, e);\n        }\n    };\n    DateTimePicker.prototype.listCreation = function () {\n        var dateObject;\n        if (this.calendarMode === 'Gregorian') {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime'\n            });\n        }\n        else {\n            dateObject = this.globalize.parseDate(this.inputElement.value, {\n                format: this.cldrDateTimeFormat(), type: 'datetime', calendar: 'islamic'\n            });\n        }\n        var value = isNullOrUndefined(this.value) ? this.inputElement.value !== '' ?\n            dateObject : new Date() : this.value;\n        this.valueWithMinutes = value;\n        this.listWrapper = createElement('div', { className: CONTENT$3, attrs: { 'tabindex': '0' } });\n        var min = this.startTime(value);\n        var max = this.endTime(value);\n        var listDetails = TimePickerBase.createListItems(this.createElement, min, max, this.globalize, this.cldrTimeFormat(), this.step);\n        this.timeCollections = listDetails.collection;\n        this.listTag = listDetails.list;\n        attributes(this.listTag, { 'role': 'listbox', 'aria-hidden': 'false', 'id': this.element.id + '_options' });\n        append([listDetails.list], this.listWrapper);\n        this.wireTimeListEvents();\n        var rippleModel = { duration: 300, selector: '.' + LISTCLASS$2 };\n        this.rippleFn = rippleEffect(this.listWrapper, rippleModel);\n        this.liCollections = this.listWrapper.querySelectorAll('.' + LISTCLASS$2);\n    };\n    DateTimePicker.prototype.popupCreation = function (type, e) {\n        if (Browser.isDevice) {\n            this.element.setAttribute('readonly', 'readonly');\n        }\n        if (type === 'date') {\n            if (!this.readonly && this.popupWrapper) {\n                addClass([this.popupWrapper], DATETIMEPOPUPWRAPPER);\n                attributes(this.popupWrapper, { 'id': this.element.id + '_datepopup' });\n            }\n        }\n        else {\n            if (!this.readonly) {\n                this.dateTimeWrapper = createElement('div', {\n                    className: ROOT$4 + ' ' + POPUP$3,\n                    attrs: { 'id': this.element.id + '_timepopup', 'style': 'visibility:hidden ; display:block' }\n                });\n                if (!isNullOrUndefined(this.cssClass)) {\n                    this.dateTimeWrapper.className += ' ' + this.cssClass;\n                }\n                if (!isNullOrUndefined(this.step) && this.step > 0) {\n                    this.listCreation();\n                    append([this.listWrapper], this.dateTimeWrapper);\n                }\n                document.body.appendChild(this.dateTimeWrapper);\n                this.addTimeSelection();\n                this.renderPopup();\n                this.setTimeScrollPosition();\n                this.openPopup(e);\n                this.popupObject.refreshPosition(this.inputElement);\n            }\n        }\n    };\n    DateTimePicker.prototype.openPopup = function (e) {\n        var _this = this;\n        this.preventArgs = {\n            cancel: false,\n            popup: this.popupObject,\n            event: e || null\n        };\n        var eventArgs = this.preventArgs;\n        this.trigger('open', eventArgs, function (eventArgs) {\n            _this.preventArgs = eventArgs;\n            if (!_this.preventArgs.cancel && !_this.readonly) {\n                var openAnimation = {\n                    name: 'FadeIn',\n                    duration: ANIMATIONDURATION$1\n                };\n                if (_this.zIndex === 1000) {\n                    _this.popupObject.show(new Animation(openAnimation), _this.element);\n                }\n                else {\n                    _this.popupObject.show(new Animation(openAnimation), null);\n                }\n                addClass([_this.inputWrapper.container], [ICONANIMATION$1]);\n                attributes(_this.inputElement, { 'aria-expanded': 'true' });\n                attributes(_this.inputElement, { 'aria-owns': _this.inputElement.id + '_options' });\n                EventHandler.add(document, 'mousedown touchstart', _this.documentClickHandler, _this);\n            }\n        });\n    };\n    DateTimePicker.prototype.documentClickHandler = function (event) {\n        var target = event.target;\n        if ((!isNullOrUndefined(this.popupObject) && (this.inputWrapper.container.contains(target) && event.type !== 'mousedown' ||\n            (this.popupObject.element && this.popupObject.element.contains(target)))) && event.type !== 'touchstart') {\n            event.preventDefault();\n        }\n        if (!(closest(target, '[id=\"' + (this.popupObject && this.popupObject.element.id + '\"]'))) && target !== this.inputElement\n            && target !== this.timeIcon && !isNullOrUndefined(this.inputWrapper) && target !== this.inputWrapper.container) {\n            if (this.isTimePopupOpen()) {\n                this.hide(event);\n                this.focusOut();\n            }\n        }\n        else if (target !== this.inputElement) {\n            if (!Browser.isDevice) {\n                this.isPreventBlur = ((document.activeElement === this.inputElement) && (Browser.isIE || Browser.info.name === 'edge')\n                    && target === this.popupObject.element);\n            }\n        }\n    };\n    DateTimePicker.prototype.isTimePopupOpen = function () {\n        return (this.dateTimeWrapper && this.dateTimeWrapper.classList.contains('' + ROOT$4)) ? true : false;\n    };\n    DateTimePicker.prototype.isDatePopupOpen = function () {\n        return (this.popupWrapper && this.popupWrapper.classList.contains('' + DATETIMEPOPUPWRAPPER)) ? true : false;\n    };\n    DateTimePicker.prototype.renderPopup = function () {\n        var _this = this;\n        this.containerStyle = this.inputWrapper.container.getBoundingClientRect();\n        if (Browser.isDevice) {\n            this.timeModal = createElement('div');\n            this.timeModal.className = '' + ROOT$4 + ' e-time-modal';\n            document.body.className += ' ' + OVERFLOW$3;\n            this.timeModal.style.display = 'block';\n            document.body.appendChild(this.timeModal);\n        }\n        var offset = 4;\n        this.popupObject = new Popup(this.dateTimeWrapper, {\n            width: this.setPopupWidth(),\n            zIndex: this.zIndex,\n            targetType: 'container',\n            collision: Browser.isDevice ? { X: 'fit', Y: 'fit' } : { X: 'flip', Y: 'flip' },\n            relateTo: Browser.isDevice ? document.body : this.inputWrapper.container,\n            position: Browser.isDevice ? { X: 'center', Y: 'center' } : { X: 'left', Y: 'bottom' },\n            enableRtl: this.enableRtl,\n            offsetY: offset,\n            open: function () {\n                _this.dateTimeWrapper.style.visibility = 'visible';\n                addClass([_this.timeIcon], ACTIVE$2);\n                if (!Browser.isDevice) {\n                    _this.timekeyConfigure = extend(_this.timekeyConfigure, _this.keyConfigs);\n                    _this.inputEvent = new KeyboardEvents(_this.inputWrapper.container, {\n                        keyAction: _this.timeKeyActionHandle.bind(_this),\n                        keyConfigs: _this.timekeyConfigure,\n                        eventName: 'keydown'\n                    });\n                }\n            }, close: function () {\n                removeClass([_this.timeIcon], ACTIVE$2);\n                _this.unWireTimeListEvents();\n                _this.inputElement.removeAttribute('aria-activedescendant');\n                remove(_this.popupObject.element);\n                _this.popupObject.destroy();\n                _this.dateTimeWrapper.innerHTML = '';\n                _this.listWrapper = _this.dateTimeWrapper = undefined;\n                if (_this.inputEvent) {\n                    _this.inputEvent.destroy();\n                }\n            }, targetExitViewport: function () {\n                if (!Browser.isDevice) {\n                    _this.hide();\n                }\n            }\n        });\n        this.popupObject.element.style.maxHeight = POPUPDIMENSION$1;\n    };\n    DateTimePicker.prototype.setDimension = function (width) {\n        if (typeof width === 'number') {\n            width = formatUnit(width);\n        }\n        else if (typeof width === 'string') {\n            // eslint-disable-next-line no-self-assign\n            width = width;\n        }\n        else {\n            width = '100%';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.setPopupWidth = function () {\n        var width = this.setDimension(this.width);\n        if (width.indexOf('%') > -1) {\n            var inputWidth = this.containerStyle.width * parseFloat(width) / 100;\n            width = inputWidth.toString() + 'px';\n        }\n        return width;\n    };\n    DateTimePicker.prototype.wireTimeListEvents = function () {\n        EventHandler.add(this.listWrapper, 'click', this.onMouseClick, this);\n        if (!Browser.isDevice) {\n            EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n            EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n        }\n    };\n    DateTimePicker.prototype.unWireTimeListEvents = function () {\n        if (this.listWrapper) {\n            EventHandler.remove(this.listWrapper, 'click', this.onMouseClick);\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n            if (!Browser.isDevice) {\n                EventHandler.add(this.listWrapper, 'mouseover', this.onMouseOver, this);\n                EventHandler.add(this.listWrapper, 'mouseout', this.onMouseLeave, this);\n            }\n        }\n    };\n    DateTimePicker.prototype.onMouseOver = function (event) {\n        var currentLi = closest(event.target, '.' + LISTCLASS$2);\n        this.setTimeHover(currentLi, HOVER$2);\n    };\n    DateTimePicker.prototype.onMouseLeave = function () {\n        this.removeTimeHover(HOVER$2);\n    };\n    DateTimePicker.prototype.setTimeHover = function (li, className) {\n        if (this.enabled && this.isValidLI(li) && !li.classList.contains(className)) {\n            this.removeTimeHover(className);\n            addClass([li], className);\n        }\n    };\n    DateTimePicker.prototype.getPopupHeight = function () {\n        var height = parseInt(POPUPDIMENSION$1, 10);\n        var popupHeight = this.dateTimeWrapper.getBoundingClientRect().height;\n        return popupHeight > height ? height : popupHeight;\n    };\n    DateTimePicker.prototype.changeEvent = function (e) {\n        _super.prototype.changeEvent.call(this, e);\n        if ((this.value && this.value.valueOf()) !== (this.previousDateTime && +this.previousDateTime.valueOf())) {\n            this.valueWithMinutes = this.value;\n            this.setInputValue('date');\n            this.previousDateTime = this.value && new Date(+this.value);\n        }\n    };\n    DateTimePicker.prototype.updateValue = function (e) {\n        this.setInputValue('time');\n        if (+this.previousDateTime !== +this.value) {\n            this.changedArgs = {\n                value: this.value, event: e || null,\n                isInteracted: !isNullOrUndefined(e),\n                element: this.element\n            };\n            this.addTimeSelection();\n            this.trigger('change', this.changedArgs);\n            this.previousDateTime = this.previousDate = this.value;\n        }\n    };\n    DateTimePicker.prototype.setTimeScrollPosition = function () {\n        var popupElement = this.selectedElement;\n        if (!isNullOrUndefined(popupElement)) {\n            this.findScrollTop(popupElement);\n        }\n        else if (this.dateTimeWrapper && this.checkDateValue(this.scrollTo)) {\n            this.setScrollTo();\n        }\n    };\n    DateTimePicker.prototype.findScrollTop = function (element) {\n        var listHeight = this.getPopupHeight();\n        var nextElement = element.nextElementSibling;\n        var height = nextElement ? nextElement.offsetTop : element.offsetTop;\n        var lineHeight = element.getBoundingClientRect().height;\n        if ((height + element.offsetTop) > listHeight) {\n            this.dateTimeWrapper.scrollTop = nextElement ? (height - (listHeight / HALFPOSITION$1 + lineHeight / HALFPOSITION$1)) : height;\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setScrollTo = function () {\n        var element;\n        var items = this.dateTimeWrapper.querySelectorAll('.' + LISTCLASS$2);\n        if (items.length >= 0) {\n            this.scrollInvoked = true;\n            var initialTime = this.timeCollections[0];\n            var scrollTime = this.getDateObject(this.checkDateValue(this.scrollTo)).getTime();\n            element = items[Math.round((scrollTime - initialTime) / (this.step * 60000))];\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n        if (!isNullOrUndefined(element)) {\n            this.findScrollTop(element);\n        }\n        else {\n            this.dateTimeWrapper.scrollTop = 0;\n        }\n    };\n    DateTimePicker.prototype.setInputValue = function (type) {\n        if (type === 'date') {\n            this.inputElement.value = this.previousElementValue = this.getFormattedValue(this.getFullDateTime());\n            this.setProperties({ value: this.getFullDateTime() }, true);\n        }\n        else {\n            var tempVal = this.getFormattedValue(new Date(this.timeCollections[this.activeIndex]));\n            Input.setValue(tempVal, this.inputElement, this.floatLabelType, this.showClearButton);\n            this.previousElementValue = this.inputElement.value;\n            this.setProperties({ value: new Date(this.timeCollections[this.activeIndex]) }, true);\n            if (this.enableMask) {\n                this.createMask();\n            }\n        }\n        this.updateIconState();\n    };\n    DateTimePicker.prototype.getFullDateTime = function () {\n        var value = null;\n        if (this.isDateObject(this.valueWithMinutes)) {\n            value = this.combineDateTime(this.valueWithMinutes);\n        }\n        else {\n            value = this.previousDate;\n        }\n        return this.validateMinMaxRange(value);\n    };\n    DateTimePicker.prototype.createMask = function () {\n        this.notify('createMask', {\n            module: 'MaskedDateTime'\n        });\n    };\n    DateTimePicker.prototype.combineDateTime = function (value) {\n        if (this.isDateObject(value)) {\n            var day = this.previousDate.getDate();\n            var month = this.previousDate.getMonth();\n            var year = this.previousDate.getFullYear();\n            var hour = value.getHours();\n            var minutes = value.getMinutes();\n            var seconds = value.getSeconds();\n            return new Date(year, month, day, hour, minutes, seconds);\n        }\n        else {\n            return this.previousDate;\n        }\n    };\n    DateTimePicker.prototype.onMouseClick = function (event) {\n        var target = event.target;\n        var li = this.selectedElement = closest(target, '.' + LISTCLASS$2);\n        if (li && li.classList.contains(LISTCLASS$2)) {\n            this.timeValue = li.getAttribute('data-value');\n            this.hide(event);\n        }\n        this.setSelection(li, event);\n    };\n    DateTimePicker.prototype.setSelection = function (li, event) {\n        if (this.isValidLI(li) && !li.classList.contains(ACTIVE$2)) {\n            this.selectedElement = li;\n            var index = Array.prototype.slice.call(this.liCollections).indexOf(li);\n            this.activeIndex = index;\n            this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n            this.updateValue(event);\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveClass = function () {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        if (!isNullOrUndefined(collections)) {\n            var items = collections.querySelectorAll('.' + LISTCLASS$2);\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    if (this.timeCollections[i] === +(this.valueWithMinutes)) {\n                        items[i].setAttribute('aria-selected', 'true');\n                        this.selectedElement = items[i];\n                        this.activeIndex = i;\n                        this.setTimeActiveDescendant();\n                        break;\n                    }\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.setTimeActiveDescendant = function () {\n        if (!isNullOrUndefined(this.selectedElement) && this.value) {\n            attributes(this.inputElement, { 'aria-activedescendant': this.selectedElement.getAttribute('id') });\n        }\n        else {\n            this.inputElement.removeAttribute('aria-activedescendant');\n        }\n    };\n    DateTimePicker.prototype.addTimeSelection = function () {\n        this.selectedElement = null;\n        this.removeTimeSelection();\n        this.setTimeActiveClass();\n        if (!isNullOrUndefined(this.selectedElement)) {\n            addClass([this.selectedElement], ACTIVE$2);\n            this.selectedElement.setAttribute('aria-selected', 'true');\n        }\n    };\n    DateTimePicker.prototype.removeTimeSelection = function () {\n        this.removeTimeHover(HOVER$2);\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            var items = this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n            if (items.length) {\n                removeClass(items, ACTIVE$2);\n                items[0].removeAttribute('aria-selected');\n            }\n        }\n    };\n    DateTimePicker.prototype.removeTimeHover = function (className) {\n        var hoveredItem = this.getTimeHoverItem(className);\n        if (hoveredItem && hoveredItem.length) {\n            removeClass(hoveredItem, className);\n        }\n    };\n    DateTimePicker.prototype.getTimeHoverItem = function (className) {\n        var collections = isNullOrUndefined(this.dateTimeWrapper) ? this.listWrapper : this.dateTimeWrapper;\n        var hoveredItem;\n        if (!isNullOrUndefined(collections)) {\n            hoveredItem = collections.querySelectorAll('.' + className);\n        }\n        return hoveredItem;\n    };\n    DateTimePicker.prototype.isValidLI = function (li) {\n        return (li && li.classList.contains(LISTCLASS$2) && !li.classList.contains(DISABLED$4));\n    };\n    DateTimePicker.prototype.calculateStartEnd = function (value, range, method) {\n        var day = value.getDate();\n        var month = value.getMonth();\n        var year = value.getFullYear();\n        var hours = value.getHours();\n        var minutes = value.getMinutes();\n        var seconds = value.getSeconds();\n        var milliseconds = value.getMilliseconds();\n        if (range) {\n            if (method === 'starttime') {\n                return new Date(year, month, day, 0, 0, 0);\n            }\n            else {\n                return new Date(year, month, day, 23, 59, 59);\n            }\n        }\n        else {\n            return new Date(year, month, day, hours, minutes, seconds, milliseconds);\n        }\n    };\n    DateTimePicker.prototype.startTime = function (date) {\n        var tempStartValue;\n        var start;\n        var tempMin = this.min;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMin.getDate() && +value.getMonth() === +tempMin.getMonth() &&\n            +value.getFullYear() === +tempMin.getFullYear()) || ((+new Date(value.getFullYear(), value.getMonth(), value.getDate())) <=\n            +new Date(tempMin.getFullYear(), tempMin.getMonth(), tempMin.getDate()))) {\n            start = false;\n            tempStartValue = this.min;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            start = true;\n            tempStartValue = value;\n        }\n        else if (+value >= +this.max) {\n            start = true;\n            tempStartValue = this.max;\n        }\n        return this.calculateStartEnd(tempStartValue, start, 'starttime');\n    };\n    DateTimePicker.prototype.endTime = function (date) {\n        var tempEndValue;\n        var end;\n        var tempMax = this.max;\n        var value = date === null ? new Date() : date;\n        if ((+value.getDate() === +tempMax.getDate() && +value.getMonth() === +tempMax.getMonth() &&\n            +value.getFullYear() === +tempMax.getFullYear()) || (+new Date(value.getUTCFullYear(), value.getMonth(), value.getDate()) >=\n            +new Date(tempMax.getFullYear(), tempMax.getMonth(), tempMax.getDate()))) {\n            end = false;\n            tempEndValue = this.max;\n        }\n        else if (+value < +this.max && +value > +this.min) {\n            end = true;\n            tempEndValue = value;\n        }\n        else if (+value <= +this.min) {\n            end = true;\n            tempEndValue = this.min;\n        }\n        return this.calculateStartEnd(tempEndValue, end, 'endtime');\n    };\n    DateTimePicker.prototype.hide = function (e) {\n        var _this = this;\n        if (this.popupObj || this.dateTimeWrapper) {\n            this.preventArgs = {\n                cancel: false,\n                popup: this.popupObj || this.popupObject,\n                event: e || null\n            };\n            var eventArgs = this.preventArgs;\n            if (isNullOrUndefined(this.popupObj)) {\n                this.trigger('close', eventArgs, function (eventArgs) {\n                    _this.dateTimeCloseEventCallback(e, eventArgs);\n                });\n            }\n            else {\n                this.dateTimeCloseEventCallback(e, eventArgs);\n            }\n        }\n        else {\n            if (Browser.isDevice && this.allowEdit && !this.readonly) {\n                this.inputElement.removeAttribute('readonly');\n            }\n            this.setAllowEdit();\n        }\n    };\n    DateTimePicker.prototype.dateTimeCloseEventCallback = function (e, eventArgs) {\n        this.preventArgs = eventArgs;\n        if (!this.preventArgs.cancel) {\n            if (this.isDatePopupOpen()) {\n                _super.prototype.hide.call(this, e);\n            }\n            else if (this.isTimePopupOpen()) {\n                this.closePopup(e);\n                removeClass([document.body], OVERFLOW$3);\n                if (Browser.isDevice && this.timeModal) {\n                    this.timeModal.style.display = 'none';\n                    this.timeModal.outerHTML = '';\n                    this.timeModal = null;\n                }\n                this.setTimeActiveDescendant();\n            }\n        }\n        if (Browser.isDevice && this.allowEdit && !this.readonly) {\n            this.inputElement.removeAttribute('readonly');\n        }\n        this.setAllowEdit();\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    DateTimePicker.prototype.closePopup = function (e) {\n        if (this.isTimePopupOpen() && this.popupObject) {\n            var animModel = {\n                name: 'FadeOut',\n                duration: ANIMATIONDURATION$1,\n                delay: 0\n            };\n            this.popupObject.hide(new Animation(animModel));\n            this.inputWrapper.container.classList.remove(ICONANIMATION$1);\n            attributes(this.inputElement, { 'aria-expanded': 'false' });\n            this.inputElement.removeAttribute('aria-owns');\n            EventHandler.remove(document, 'mousedown touchstart', this.documentClickHandler);\n        }\n    };\n    DateTimePicker.prototype.preRender = function () {\n        this.checkFormat();\n        this.dateTimeFormat = this.cldrDateTimeFormat();\n        _super.prototype.preRender.call(this);\n        removeClass([this.inputElementCopy], [ROOT$4]);\n    };\n    DateTimePicker.prototype.getProperty = function (date, val) {\n        if (val === 'min') {\n            this.setProperties({ min: this.validateValue(date.min) }, true);\n        }\n        else {\n            this.setProperties({ max: this.validateValue(date.max) }, true);\n        }\n    };\n    DateTimePicker.prototype.checkAttributes = function (isDynamic) {\n        var attributes$$1 = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\n            ['style', 'name', 'step', 'disabled', 'readonly', 'value', 'min', 'max', 'placeholder', 'type'];\n        var value;\n        for (var _i = 0, attributes_1 = attributes$$1; _i < attributes_1.length; _i++) {\n            var prop = attributes_1[_i];\n            if (!isNullOrUndefined(this.inputElement.getAttribute(prop))) {\n                switch (prop) {\n                    case 'name':\n                        this.inputElement.setAttribute('name', this.inputElement.getAttribute(prop));\n                        break;\n                    case 'step':\n                        this.step = parseInt(this.inputElement.getAttribute(prop), 10);\n                        break;\n                    case 'readonly':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['readonly'] === undefined)) || isDynamic) {\n                            var readonly = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === '' ||\n                                this.inputElement.getAttribute(prop) === 'true' ? true : false;\n                            this.setProperties({ readonly: readonly }, !isDynamic);\n                        }\n                        break;\n                    case 'placeholder':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['placeholder'] === undefined)) || isDynamic) {\n                            this.setProperties({ placeholder: this.inputElement.getAttribute(prop) }, !isDynamic);\n                        }\n                        break;\n                    case 'min':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['min'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ min: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'disabled':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['enabled'] === undefined)) || isDynamic) {\n                            var enabled = this.inputElement.getAttribute(prop) === 'disabled' ||\n                                this.inputElement.getAttribute(prop) === 'true' ||\n                                this.inputElement.getAttribute(prop) === '' ? false : true;\n                            this.setProperties({ enabled: enabled }, !isDynamic);\n                        }\n                        break;\n                    case 'value':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['value'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ value: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                    case 'max':\n                        if ((isNullOrUndefined(this.dateTimeOptions) || (this.dateTimeOptions['max'] === undefined)) || isDynamic) {\n                            value = new Date(this.inputElement.getAttribute(prop));\n                            if (!this.isNullOrEmpty(value) && !isNaN(+value)) {\n                                this.setProperties({ max: value }, !isDynamic);\n                            }\n                        }\n                        break;\n                }\n            }\n        }\n    };\n    DateTimePicker.prototype.requiredModules = function () {\n        var modules = [];\n        if (this) {\n            modules.push({ args: [this], member: 'islamic' });\n        }\n        if (this.enableMask) {\n            modules.push(this.maskedDateModule());\n        }\n        return modules;\n    };\n    DateTimePicker.prototype.maskedDateModule = function () {\n        var modules = { args: [this], member: 'MaskedDateTime' };\n        return modules;\n    };\n    DateTimePicker.prototype.getTimeActiveElement = function () {\n        if (!isNullOrUndefined(this.dateTimeWrapper)) {\n            return this.dateTimeWrapper.querySelectorAll('.' + ACTIVE$2);\n        }\n        else {\n            return null;\n        }\n    };\n    DateTimePicker.prototype.createDateObj = function (val) {\n        return val instanceof Date ? val : null;\n    };\n    DateTimePicker.prototype.getDateObject = function (text) {\n        if (!this.isNullOrEmpty(text)) {\n            var dateValue = this.createDateObj(text);\n            var value = this.valueWithMinutes;\n            var status_1 = !isNullOrUndefined(value);\n            if (this.checkDateValue(dateValue)) {\n                var date = status_1 ? value.getDate() : DAY$1;\n                var month = status_1 ? value.getMonth() : MONTH$3;\n                var year = status_1 ? value.getFullYear() : YEAR$3;\n                var hour = status_1 ? value.getHours() : HOUR;\n                var minute = status_1 ? value.getMinutes() : MINUTE;\n                var second = status_1 ? value.getSeconds() : SECOND;\n                var millisecond = status_1 ? value.getMilliseconds() : MILLISECOND;\n                if (!this.scrollInvoked) {\n                    return new Date(year, month, date, hour, minute, second, millisecond);\n                }\n                else {\n                    this.scrollInvoked = false;\n                    return new Date(year, month, date, dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds(), dateValue.getMilliseconds());\n                }\n            }\n        }\n        return null;\n    };\n    DateTimePicker.prototype.findNextTimeElement = function (event) {\n        var textVal = (this.inputElement).value;\n        var value = isNullOrUndefined(this.valueWithMinutes) ? this.createDateObj(textVal) :\n            this.getDateObject(this.valueWithMinutes);\n        var dateTimeVal = null;\n        var listCount = this.liCollections.length;\n        if (!isNullOrUndefined(this.activeIndex) || !isNullOrUndefined(this.checkDateValue(value))) {\n            if (event.action === 'home') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[0])));\n                this.activeIndex = 0;\n            }\n            else if (event.action === 'end') {\n                dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[this.timeCollections.length - 1])));\n                this.activeIndex = this.timeCollections.length - 1;\n            }\n            else {\n                if (event.action === 'down') {\n                    for (var i = 0; i < listCount; i++) {\n                        if (+value < this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n                else {\n                    for (var i = listCount - 1; i >= 0; i--) {\n                        if (+value > this.timeCollections[i]) {\n                            dateTimeVal = +(this.createDateObj(new Date(this.timeCollections[i])));\n                            this.activeIndex = i;\n                            break;\n                        }\n                    }\n                }\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(isNullOrUndefined(dateTimeVal) ? null : new Date(dateTimeVal));\n        }\n    };\n    DateTimePicker.prototype.setTimeValue = function (date, value) {\n        var dateString;\n        var time;\n        var val = this.validateMinMaxRange(value);\n        var newval = this.createDateObj(val);\n        if (this.getFormattedValue(newval) !== (!isNullOrUndefined(this.value) ? this.getFormattedValue(this.value) : null)) {\n            this.valueWithMinutes = isNullOrUndefined(newval) ? null : newval;\n            time = new Date(+this.valueWithMinutes);\n        }\n        else {\n            if (this.strictMode) {\n                //for strict mode case, when value not present within a range. Reset the nearest range value.\n                date = newval;\n            }\n            this.valueWithMinutes = this.checkDateValue(date);\n            time = new Date(+this.valueWithMinutes);\n        }\n        if (this.calendarMode === 'Gregorian') {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd'\n            });\n        }\n        else {\n            dateString = this.globalize.formatDate(time, {\n                format: !isNullOrUndefined(this.formatString) ? this.formatString : this.cldrDateTimeFormat(),\n                type: 'dateTime', skeleton: 'yMd', calendar: 'islamic'\n            });\n        }\n        if (!this.strictMode && isNullOrUndefined(time)) {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        else {\n            Input.setValue(dateString, this.inputElement, this.floatLabelType, this.showClearButton);\n        }\n        return time;\n    };\n    DateTimePicker.prototype.timeElementValue = function (value) {\n        if (!isNullOrUndefined(this.checkDateValue(value)) && !this.isNullOrEmpty(value)) {\n            var date = value instanceof Date ? value : this.getDateObject(value);\n            return this.setTimeValue(date, value);\n        }\n        return null;\n    };\n    DateTimePicker.prototype.timeKeyHandler = function (event) {\n        if (isNullOrUndefined(this.step) || this.step <= 0) {\n            return;\n        }\n        var listCount = this.timeCollections.length;\n        if (isNullOrUndefined(this.getTimeActiveElement()) || this.getTimeActiveElement().length === 0) {\n            if (this.liCollections.length > 0) {\n                if (isNullOrUndefined(this.value) && isNullOrUndefined(this.activeIndex)) {\n                    this.activeIndex = 0;\n                    this.selectedElement = this.liCollections[0];\n                    this.timeElementValue(new Date(this.timeCollections[0]));\n                }\n                else {\n                    this.findNextTimeElement(event);\n                }\n            }\n        }\n        else {\n            var nextItemValue = void 0;\n            if ((event.keyCode >= 37) && (event.keyCode <= 40)) {\n                var index = (event.keyCode === 40 || event.keyCode === 39) ? ++this.activeIndex : --this.activeIndex;\n                this.activeIndex = index = this.activeIndex === (listCount) ? 0 : this.activeIndex;\n                this.activeIndex = index = this.activeIndex < 0 ? (listCount - 1) : this.activeIndex;\n                nextItemValue = isNullOrUndefined(this.timeCollections[index]) ?\n                    this.timeCollections[0] : this.timeCollections[index];\n            }\n            else if (event.action === 'home') {\n                this.activeIndex = 0;\n                nextItemValue = this.timeCollections[0];\n            }\n            else if (event.action === 'end') {\n                this.activeIndex = listCount - 1;\n                nextItemValue = this.timeCollections[listCount - 1];\n            }\n            this.selectedElement = this.liCollections[this.activeIndex];\n            this.timeElementValue(new Date(nextItemValue));\n        }\n        this.isNavigate = true;\n        this.setTimeHover(this.selectedElement, NAVIGATION$1);\n        this.setTimeActiveDescendant();\n        if (this.isTimePopupOpen() && this.selectedElement !== null && (!event || event.type !== 'click')) {\n            this.setTimeScrollPosition();\n        }\n    };\n    DateTimePicker.prototype.timeKeyActionHandle = function (event) {\n        if (this.enabled) {\n            if (event.action !== 'right' && event.action !== 'left' && event.action !== 'tab') {\n                event.preventDefault();\n            }\n            switch (event.action) {\n                case 'up':\n                case 'down':\n                case 'home':\n                case 'end':\n                    this.timeKeyHandler(event);\n                    break;\n                case 'enter':\n                    if (this.isNavigate) {\n                        this.selectedElement = this.liCollections[this.activeIndex];\n                        this.valueWithMinutes = new Date(this.timeCollections[this.activeIndex]);\n                        this.setInputValue('time');\n                        if (+this.previousDateTime !== +this.value) {\n                            this.changedArgs.value = this.value;\n                            this.addTimeSelection();\n                            this.previousDateTime = this.value;\n                        }\n                    }\n                    else {\n                        this.updateValue(event);\n                    }\n                    this.hide(event);\n                    addClass([this.inputWrapper.container], INPUTFOCUS$2);\n                    this.isNavigate = false;\n                    event.stopPropagation();\n                    break;\n                case 'escape':\n                    this.hide(event);\n                    break;\n                default:\n                    this.isNavigate = false;\n                    break;\n            }\n        }\n    };\n    DateTimePicker.prototype.inputKeyAction = function (event) {\n        switch (event.action) {\n            case 'altDownArrow':\n                this.strictModeUpdate();\n                this.updateInput();\n                this.toggle(event);\n                break;\n        }\n    };\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {DateTimePickerModel} newProp - Returns the dynamic property value of the component.\n     * @param {DateTimePickerModel} oldProp - Returns the previous property value of the component.\n     * @returns {void}\n     * @deprecated\n     */\n    DateTimePicker.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'value':\n                    this.isDynamicValueChanged = true;\n                    this.invalidValueString = null;\n                    this.checkInvalidValue(newProp.value);\n                    newProp.value = this.value;\n                    newProp.value = this.validateValue(newProp.value);\n                    if (this.enableMask) {\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        Input.setValue(this.getFormattedValue(newProp.value), this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    this.valueWithMinutes = newProp.value;\n                    this.setProperties({ value: newProp.value }, true);\n                    if (this.popupObj) {\n                        this.popupUpdate();\n                    }\n                    this.previousDateTime = new Date(this.inputElement.value);\n                    this.updateInput();\n                    this.changeTrigger(null);\n                    this.preventChange = this.isAngular && this.preventChange ? !this.preventChange : this.preventChange;\n                    if (this.enableMask && this.value) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                    }\n                    break;\n                case 'min':\n                case 'max':\n                    this.getProperty(newProp, prop);\n                    this.updateInput();\n                    break;\n                case 'enableRtl':\n                    Input.setEnableRtl(this.enableRtl, [this.inputWrapper.container]);\n                    break;\n                case 'cssClass':\n                    if (!isNullOrUndefined(oldProp.cssClass)) {\n                        oldProp.cssClass = (oldProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    if (!isNullOrUndefined(newProp.cssClass)) {\n                        newProp.cssClass = (newProp.cssClass.replace(/\\s+/g, ' ')).trim();\n                    }\n                    Input.setCssClass(newProp.cssClass, [this.inputWrapper.container], oldProp.cssClass);\n                    if (this.dateTimeWrapper) {\n                        Input.setCssClass(newProp.cssClass, [this.dateTimeWrapper], oldProp.cssClass);\n                    }\n                    break;\n                case 'locale':\n                    this.globalize = new Internationalization(this.locale);\n                    this.l10n.setLocale(this.locale);\n                    this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\n                    Input.setPlaceholder(this.l10n.getConstant('placeholder'), this.inputElement);\n                    this.dateTimeFormat = this.cldrDateTimeFormat();\n                    _super.prototype.updateInput.call(this);\n                    break;\n                case 'htmlAttributes':\n                    this.updateHtmlAttributeToElement();\n                    this.updateHtmlAttributeToWrapper();\n                    this.checkAttributes(true);\n                    break;\n                case 'format':\n                    this.setProperties({ format: newProp.format }, true);\n                    this.checkFormat();\n                    this.dateTimeFormat = this.formatString;\n                    this.setValue();\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                        if (!this.value) {\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                case 'placeholder':\n                    Input.setPlaceholder(newProp.placeholder, this.inputElement);\n                    break;\n                case 'enabled':\n                    Input.setEnabled(this.enabled, this.inputElement);\n                    if (!this.enabled) {\n                        this.inputElement.tabIndex = -1;\n                    }\n                    break;\n                case 'strictMode':\n                    this.invalidValueString = null;\n                    this.updateInput();\n                    break;\n                case 'width':\n                    this.setWidth(newProp.width);\n                    Input.calculateWidth(this.inputElement, this.inputWrapper.container);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n                    }\n                    break;\n                case 'readonly':\n                    Input.setReadonly(this.readonly, this.inputElement);\n                    break;\n                case 'floatLabelType':\n                    this.floatLabelType = newProp.floatLabelType;\n                    Input.removeFloating(this.inputWrapper);\n                    Input.addFloating(this.inputElement, this.floatLabelType, this.placeholder);\n                    if (!isNullOrUndefined(this.inputWrapper.buttons[0]) && !isNullOrUndefined(this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0]) && this.floatLabelType !== 'Never') {\n                        this.inputWrapper.container.getElementsByClassName('e-float-text-overflow')[0].classList.add('e-date-time-icon');\n                    }\n                    break;\n                case 'scrollTo':\n                    if (this.checkDateValue(new Date(this.checkValue(newProp.scrollTo)))) {\n                        if (this.dateTimeWrapper) {\n                            this.setScrollTo();\n                        }\n                        this.setProperties({ scrollTo: this.checkDateValue(new Date(this.checkValue(newProp.scrollTo))) }, true);\n                    }\n                    else {\n                        this.setProperties({ scrollTo: null }, true);\n                    }\n                    break;\n                case 'enableMask':\n                    if (this.enableMask) {\n                        this.notify('createMask', {\n                            module: 'MaskedDateTime'\n                        });\n                        Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                    }\n                    else {\n                        if (this.inputElement.value === this.maskedDateValue) {\n                            this.maskedDateValue = '';\n                            Input.setValue(this.maskedDateValue, this.inputElement, this.floatLabelType, this.showClearButton);\n                        }\n                    }\n                    break;\n                default:\n                    _super.prototype.onPropertyChanged.call(this, newProp, oldProp);\n                    break;\n            }\n            if (!this.isDynamicValueChanged) {\n                this.hide(null);\n            }\n            this.isDynamicValueChanged = false;\n        }\n    };\n    /**\n     * To get component name.\n     *\n     * @returns {string} Returns the component name.\n     * @private\n     */\n    DateTimePicker.prototype.getModuleName = function () {\n        return 'datetimepicker';\n    };\n    DateTimePicker.prototype.restoreValue = function () {\n        this.previousDateTime = this.previousDate;\n        this.currentDate = this.value ? this.value : new Date();\n        this.valueWithMinutes = this.value;\n        this.previousDate = this.value;\n        this.previousElementValue = this.previousElementValue = (isNullOrUndefined(this.inputValueCopy)) ? '' :\n            this.getFormattedValue(this.inputValueCopy);\n    };\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"timeFormat\", void 0);\n    __decorate$4([\n        Property(30)\n    ], DateTimePicker.prototype, \"step\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"scrollTo\", void 0);\n    __decorate$4([\n        Property(1000)\n    ], DateTimePicker.prototype, \"zIndex\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"value\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"keyConfigs\", void 0);\n    __decorate$4([\n        Property({})\n    ], DateTimePicker.prototype, \"htmlAttributes\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"enablePersistence\", void 0);\n    __decorate$4([\n        Property(true)\n    ], DateTimePicker.prototype, \"allowEdit\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"isMultiSelection\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"values\", void 0);\n    __decorate$4([\n        Property(true)\n    ], DateTimePicker.prototype, \"showClearButton\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"placeholder\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"strictMode\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"serverTimezoneOffset\", void 0);\n    __decorate$4([\n        Property(new Date(1900, 0, 1))\n    ], DateTimePicker.prototype, \"min\", void 0);\n    __decorate$4([\n        Property(new Date(2099, 11, 31))\n    ], DateTimePicker.prototype, \"max\", void 0);\n    __decorate$4([\n        Property(null)\n    ], DateTimePicker.prototype, \"firstDayOfWeek\", void 0);\n    __decorate$4([\n        Property('Gregorian')\n    ], DateTimePicker.prototype, \"calendarMode\", void 0);\n    __decorate$4([\n        Property('Month')\n    ], DateTimePicker.prototype, \"start\", void 0);\n    __decorate$4([\n        Property('Month')\n    ], DateTimePicker.prototype, \"depth\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"weekNumber\", void 0);\n    __decorate$4([\n        Property(true)\n    ], DateTimePicker.prototype, \"showTodayButton\", void 0);\n    __decorate$4([\n        Property('Short')\n    ], DateTimePicker.prototype, \"dayHeaderFormat\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"openOnFocus\", void 0);\n    __decorate$4([\n        Property(false)\n    ], DateTimePicker.prototype, \"enableMask\", void 0);\n    __decorate$4([\n        Property({ day: 'day', month: 'month', year: 'year', hour: 'hour', minute: 'minute', second: 'second', dayOfTheWeek: 'day of the week' })\n    ], DateTimePicker.prototype, \"maskPlaceholder\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"open\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"close\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"cleared\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"blur\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"focus\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"created\", void 0);\n    __decorate$4([\n        Event()\n    ], DateTimePicker.prototype, \"destroyed\", void 0);\n    DateTimePicker = __decorate$4([\n        NotifyPropertyChanges\n    ], DateTimePicker);\n    return DateTimePicker;\n}(DatePicker));\n\n/**\n * DateTimePicker modules\n */\n\nvar ARROWLEFT = 'ArrowLeft';\nvar ARROWRIGHT = 'ArrowRight';\nvar ARROWUP = 'ArrowUp';\nvar ARROWDOWN = 'ArrowDown';\nvar TAB = 'Tab';\nvar SHIFTTAB = 'shiftTab';\nvar END = 'End';\nvar HOME = 'Home';\nvar MaskedDateTime = /** @__PURE__ @class */ (function () {\n    function MaskedDateTime(parent) {\n        this.mask = '';\n        this.defaultConstant = {\n            day: 'day',\n            month: 'month',\n            year: 'year',\n            hour: 'hour',\n            minute: 'minute',\n            second: 'second',\n            dayOfTheWeek: 'day of the week'\n        };\n        this.hiddenMask = '';\n        this.validCharacters = 'dMyhmHfasz';\n        this.isDayPart = false;\n        this.isMonthPart = false;\n        this.isYearPart = false;\n        this.isHourPart = false;\n        this.isMinutePart = false;\n        this.isSecondsPart = false;\n        this.isMilliSecondsPart = false;\n        this.monthCharacter = '';\n        this.periodCharacter = '';\n        this.isHiddenMask = false;\n        this.isComplete = false;\n        this.isNavigate = false;\n        this.navigated = false;\n        this.formatRegex = /EEEEE|EEEE|EEE|EE|E|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|HH|H|hh|h|mm|m|fff|ff|f|aa|a|ss|s|zzzz|zzz|zz|z|'[^']*'|'[^']*'/g;\n        this.isDeletion = false;\n        this.isShortYear = false;\n        this.isDeleteKey = false;\n        this.isDateZero = false;\n        this.isMonthZero = false;\n        this.isYearZero = false;\n        this.dayTypeCount = 0;\n        this.monthTypeCount = 0;\n        this.hourTypeCount = 0;\n        this.minuteTypeCount = 0;\n        this.secondTypeCount = 0;\n        this.parent = parent;\n        this.dateformat = this.getCulturedFormat();\n        this.maskDateValue = this.parent.value != null ? new Date(+this.parent.value) : new Date();\n        this.maskDateValue.setMonth(0);\n        this.maskDateValue.setHours(0);\n        this.maskDateValue.setMinutes(0);\n        this.maskDateValue.setSeconds(0);\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.removeEventListener();\n        this.addEventListener();\n    }\n    MaskedDateTime.prototype.getModuleName = function () {\n        return 'MaskedDateTime';\n    };\n    MaskedDateTime.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on('createMask', this.createMask, this);\n        this.parent.on('setMaskSelection', this.validCharacterCheck, this);\n        this.parent.on('inputHandler', this.maskInputHandler, this);\n        this.parent.on('keyDownHandler', this.maskKeydownHandler, this);\n        this.parent.on('clearHandler', this.clearHandler, this);\n    };\n    MaskedDateTime.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off('createMask', this.createMask);\n        this.parent.off('setMaskSelection', this.validCharacterCheck);\n        this.parent.off('inputHandler', this.maskInputHandler);\n        this.parent.off('keyDownHandler', this.maskKeydownHandler);\n        this.parent.off('clearHandler', this.clearHandler);\n    };\n    MaskedDateTime.prototype.createMask = function (navigated) {\n        if (navigated === void 0) { navigated = false; }\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.dateformat = this.getCulturedFormat();\n        if (this.parent.maskPlaceholder.day) {\n            this.defaultConstant['day'] = this.parent.maskPlaceholder.day;\n        }\n        if (this.parent.maskPlaceholder.month) {\n            this.defaultConstant['month'] = this.parent.maskPlaceholder.month;\n        }\n        if (this.parent.maskPlaceholder.year) {\n            this.defaultConstant['year'] = this.parent.maskPlaceholder.year;\n        }\n        if (this.parent.maskPlaceholder.hour) {\n            this.defaultConstant['hour'] = this.parent.maskPlaceholder.hour;\n        }\n        if (this.parent.maskPlaceholder.minute) {\n            this.defaultConstant['minute'] = this.parent.maskPlaceholder.minute;\n        }\n        if (this.parent.maskPlaceholder.second) {\n            this.defaultConstant['second'] = this.parent.maskPlaceholder.second;\n        }\n        if (this.parent.maskPlaceholder.dayOfTheWeek) {\n            this.defaultConstant['dayOfTheWeek'] = this.parent.maskPlaceholder.dayOfTheWeek.toString();\n        }\n        this.getCUltureMaskFormat();\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.mask = this.previousValue = inputValue;\n        this.parent.maskedDateValue = this.mask;\n        if (this.parent.value) {\n            this.navigated = navigated;\n            this.setDynamicValue();\n        }\n    };\n    MaskedDateTime.prototype.getCUltureMaskFormat = function () {\n        this.l10n = new L10n(this.parent.moduleName, this.defaultConstant, this.parent.locale);\n        this.objectString = Object.keys(this.defaultConstant);\n        for (var i = 0; i < this.objectString.length; i++) {\n            this.defaultConstant[this.objectString[i].toString()] =\n                this.l10n.getConstant(this.objectString[i].toString());\n        }\n    };\n    MaskedDateTime.prototype.validCharacterCheck = function () {\n        var start = this.parent.inputElement.selectionStart;\n        for (var i = start, j = start - 1; i < this.hiddenMask.length || j >= 0; i++, j--) {\n            if (i < this.hiddenMask.length && this.validCharacters.indexOf(this.hiddenMask[i]) !== -1) {\n                this.setSelection(this.hiddenMask[i]);\n                return;\n            }\n            if (j >= 0 && this.validCharacters.indexOf(this.hiddenMask[j]) !== -1) {\n                this.setSelection(this.hiddenMask[j]);\n                return;\n            }\n        }\n    };\n    MaskedDateTime.prototype.setDynamicValue = function () {\n        this.maskDateValue = new Date(+this.parent.value);\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = true;\n        this.updateValue();\n        this.validCharacterCheck();\n    };\n    MaskedDateTime.prototype.setSelection = function (validChar) {\n        var start = -1;\n        var end = 0;\n        for (var i = 0; i < this.hiddenMask.length; i++) {\n            if (this.hiddenMask[i] === validChar) {\n                end = i + 1;\n                if (start === -1) {\n                    start = i;\n                }\n            }\n        }\n        if (start < 0) {\n            start = 0;\n        }\n        this.parent.inputElement.setSelectionRange(start, end);\n    };\n    MaskedDateTime.prototype.maskKeydownHandler = function (args) {\n        this.dayTypeCount = this.monthTypeCount = this.hourTypeCount = this.minuteTypeCount = this.secondTypeCount = 0;\n        if (args.e.key === 'Delete') {\n            this.isDeleteKey = true;\n            return;\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWLEFT || args.e.key === ARROWRIGHT\n            || args.e.key === SHIFTTAB || args.e.key === TAB || args.e.action === SHIFTTAB ||\n            args.e.key === END || args.e.key === HOME)) {\n            var start = this.parent.inputElement.selectionStart;\n            var end = this.parent.inputElement.selectionEnd;\n            var length_1 = this.parent.inputElement.value.length;\n            if ((start === 0 && end === length_1) && (args.e.key === TAB || args.e.action === SHIFTTAB)) {\n                var index = args.e.action === SHIFTTAB ? end : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = index;\n            }\n            if (args.e.key === END || args.e.key === HOME) {\n                var range = args.e.key === END ? length_1 : 0;\n                this.parent.inputElement.selectionStart = this.parent.inputElement.selectionEnd = range;\n            }\n            this.navigateSelection(args.e.key === ARROWLEFT || args.e.action === SHIFTTAB || args.e.key === END ? true : false);\n        }\n        if ((!args.e.altKey && !args.e.ctrlKey) && (args.e.key === ARROWUP || args.e.key === ARROWDOWN)) {\n            var start = this.parent.inputElement.selectionStart;\n            var formatText = '';\n            if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n                formatText = this.hiddenMask[start];\n            }\n            this.dateAlteration(args.e.key === ARROWDOWN ? true : false);\n            var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = true;\n            this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n            this.isHiddenMask = false;\n            this.previousHiddenMask = this.hiddenMask;\n            this.previousValue = inputValue;\n            this.parent.inputElement.value = inputValue;\n            for (var i = 0; i < this.hiddenMask.length; i++) {\n                if (formatText === this.hiddenMask[i]) {\n                    start = i;\n                    break;\n                }\n            }\n            this.parent.inputElement.selectionStart = start;\n            this.validCharacterCheck();\n        }\n    };\n    MaskedDateTime.prototype.isPersist = function () {\n        var isPersist = this.parent.isFocused || this.navigated;\n        return isPersist;\n    };\n    MaskedDateTime.prototype.differenceCheck = function () {\n        var start = this.parent.inputElement.selectionStart;\n        var inputValue = this.parent.inputElement.value;\n        var previousVal = this.previousValue.substring(0, start + this.previousValue.length - inputValue.length);\n        var newVal = inputValue.substring(0, start);\n        var newDateValue = new Date(+this.maskDateValue);\n        var maxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n        if (previousVal.indexOf(newVal) === 0 && (newVal.length === 0 ||\n            this.previousHiddenMask[newVal.length - 1] !== this.previousHiddenMask[newVal.length])) {\n            for (var i = newVal.length; i < previousVal.length; i++) {\n                if (this.previousHiddenMask[i] !== '' && this.validCharacters.indexOf(this.previousHiddenMask[i]) >= 0) {\n                    this.isDeletion = this.handleDeletion(this.previousHiddenMask[i], false);\n                }\n            }\n            if (this.isDeletion) {\n                return;\n            }\n        }\n        switch (this.previousHiddenMask[start - 1]) {\n            case 'd':\n                {\n                    var date = (this.isDayPart && newDateValue.getDate().toString().length < 2 &&\n                        !this.isPersist() ? newDateValue.getDate() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.isDateZero = (newVal[start - 1] === '0');\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    if (isNaN(date)) {\n                        return;\n                    }\n                    for (var i = 0; date > maxDate; i++) {\n                        date = parseInt(date.toString().slice(1), 10);\n                    }\n                    if (date >= 1) {\n                        newDateValue.setDate(date);\n                        this.isNavigate = date.toString().length === 2;\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        if (newDateValue.getMonth() !== this.maskDateValue.getMonth()) {\n                            return;\n                        }\n                        this.isDayPart = true;\n                        this.dayTypeCount = this.dayTypeCount + 1;\n                    }\n                    else {\n                        this.isDayPart = false;\n                        this.dayTypeCount = this.isDateZero ? this.dayTypeCount + 1 : this.dayTypeCount;\n                    }\n                    break;\n                }\n            case 'M':\n                {\n                    var month = void 0;\n                    if (newDateValue.getMonth().toString().length < 2 && !this.isPersist()) {\n                        month = (this.isMonthPart ? (newDateValue.getMonth() + 1) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    }\n                    else {\n                        month = parseInt(newVal[start - 1], 10);\n                    }\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    this.isMonthZero = (newVal[start - 1] === '0');\n                    if (!isNaN(month)) {\n                        while (month > 12) {\n                            month = parseInt(month.toString().slice(1), 10);\n                        }\n                        if (month >= 1) {\n                            newDateValue.setMonth(month - 1);\n                            this.isNavigate = month.toString().length === 2;\n                            if (newDateValue.getMonth() !== month - 1) {\n                                newDateValue.setDate(1);\n                                newDateValue.setMonth(month - 1);\n                            }\n                            if (this.isDayPart) {\n                                var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                                var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                                if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n                                    newDateValue.setDate(currentMaxDate);\n                                }\n                            }\n                            this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                            this.isMonthPart = true;\n                            this.monthTypeCount = this.monthTypeCount + 1;\n                        }\n                        else {\n                            newDateValue.setMonth(0);\n                            this.isMonthPart = false;\n                            this.monthTypeCount = this.isMonthZero ? this.monthTypeCount + 1 : this.monthTypeCount;\n                        }\n                    }\n                    else {\n                        var monthString = (this.getCulturedValue('months[stand-alone].wide'));\n                        var monthValue = Object.keys(monthString);\n                        this.monthCharacter += newVal[start - 1].toLowerCase();\n                        while (this.monthCharacter.length > 0) {\n                            var i = 1;\n                            for (var _i = 0, monthValue_1 = monthValue; _i < monthValue_1.length; _i++) {\n                                var months = monthValue_1[_i];\n                                if (monthString[i].toLowerCase().indexOf(this.monthCharacter) === 0) {\n                                    newDateValue.setMonth(i - 1);\n                                    this.isMonthPart = true;\n                                    this.maskDateValue = newDateValue;\n                                    return;\n                                }\n                                i++;\n                            }\n                            this.monthCharacter = this.monthCharacter.substring(1, this.monthCharacter.length);\n                        }\n                    }\n                    break;\n                }\n            case 'y':\n                {\n                    var year = (this.isYearPart && (newDateValue.getFullYear().toString().length < 4\n                        && !this.isShortYear) ? newDateValue.getFullYear() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.isShortYear = false;\n                    this.isYearZero = (newVal[start - 1] === '0');\n                    if (isNaN(year)) {\n                        return;\n                    }\n                    while (year > 9999) {\n                        year = parseInt(year.toString().slice(1), 10);\n                    }\n                    if (year < 1) {\n                        this.isYearPart = false;\n                    }\n                    else {\n                        newDateValue.setFullYear(year);\n                        if (year.toString().length === 4) {\n                            this.isNavigate = true;\n                        }\n                        this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                        this.isYearPart = true;\n                    }\n                    break;\n                }\n            case 'h':\n                this.hour = (this.isHourPart && (newDateValue.getHours() % 12 || 12).toString().length < 2\n                    && !this.isPersist() ? (newDateValue.getHours() % 12 || 12) * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                while (this.hour > 12) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(Math.floor(newDateValue.getHours() / 12) * 12 + (this.hour % 12));\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = this.hourTypeCount + 1;\n                break;\n            case 'H':\n                this.hour = (this.isHourPart && newDateValue.getHours().toString().length < 2 &&\n                    !this.isPersist() ? newDateValue.getHours() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                this.navigated = this.navigated ? false : this.navigated;\n                if (isNaN(this.hour)) {\n                    return;\n                }\n                for (var i = 0; this.hour > 23; i++) {\n                    this.hour = parseInt(this.hour.toString().slice(1), 10);\n                }\n                newDateValue.setHours(this.hour);\n                this.isNavigate = this.hour.toString().length === 2;\n                this.isHourPart = true;\n                this.hourTypeCount = this.hourTypeCount + 1;\n                break;\n            case 'm':\n                {\n                    var minutes = (this.isMinutePart && newDateValue.getMinutes().toString().length < 2\n                        && !this.isPersist() ? newDateValue.getMinutes() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    if (isNaN(minutes)) {\n                        return;\n                    }\n                    for (var i = 0; minutes > 59; i++) {\n                        minutes = parseInt(minutes.toString().slice(1), 10);\n                    }\n                    newDateValue.setMinutes(minutes);\n                    this.isNavigate = minutes.toString().length === 2;\n                    this.isMinutePart = true;\n                    this.minuteTypeCount = this.minuteTypeCount + 1;\n                    break;\n                }\n            case 's':\n                {\n                    var seconds = (this.isSecondsPart && newDateValue.getSeconds().toString().length < 2 &&\n                        !this.isPersist() ? newDateValue.getSeconds() * 10 : 0) + parseInt(newVal[start - 1], 10);\n                    this.parent.isFocused = this.parent.isFocused ? false : this.parent.isFocused;\n                    this.navigated = this.navigated ? false : this.navigated;\n                    if (isNaN(seconds)) {\n                        return;\n                    }\n                    for (var i = 0; seconds > 59; i++) {\n                        seconds = parseInt(seconds.toString().slice(1), 10);\n                    }\n                    newDateValue.setSeconds(seconds);\n                    this.isNavigate = seconds.toString().length === 2;\n                    this.isSecondsPart = true;\n                    this.secondTypeCount = this.secondTypeCount + 1;\n                    break;\n                }\n            case 'a':\n                {\n                    this.periodCharacter += newVal[start - 1].toLowerCase();\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    var periodString = (this.getCulturedValue('dayPeriods.format.wide'));\n                    var periodkeys = Object.keys(periodString);\n                    for (var i = 0; this.periodCharacter.length > 0; i++) {\n                        if ((periodString[periodkeys[0]].toLowerCase().indexOf(this.periodCharacter) === 0\n                            && newDateValue.getHours() >= 12) || (periodString[periodkeys[1]].toLowerCase().\n                            indexOf(this.periodCharacter) === 0 && newDateValue.getHours() < 12)) {\n                            newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                            this.maskDateValue = newDateValue;\n                        }\n                        this.periodCharacter = this.periodCharacter.substring(1, this.periodCharacter.length);\n                    }\n                    break;\n                }\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue;\n    };\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MaskedDateTime.prototype.formatCheck = function () {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        var proxy = this;\n        function formatValueSpecifier(formattext) {\n            var result;\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var daysAbbreviated = proxy.getCulturedValue('days[stand-alone].abbreviated');\n            var dayKeyAbbreviated = Object.keys(daysAbbreviated);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var daysWide = (proxy.getCulturedValue('days[stand-alone].wide'));\n            var dayKeyWide = Object.keys(daysWide);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var daysNarrow = (proxy.getCulturedValue('days[stand-alone].narrow'));\n            var dayKeyNarrow = Object.keys(daysNarrow);\n            var monthAbbreviated = (proxy.getCulturedValue('months[stand-alone].abbreviated'));\n            var monthWide = (proxy.getCulturedValue('months[stand-alone].wide'));\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            var periodString = (proxy.getCulturedValue('dayPeriods.format.wide'));\n            var periodkeys = Object.keys(periodString);\n            var milliseconds;\n            var dateOptions;\n            switch (formattext) {\n                case 'ddd':\n                case 'dddd':\n                case 'd':\n                    result = proxy.isDayPart ? proxy.maskDateValue.getDate().toString() : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'dd':\n                    result = proxy.isDayPart ? proxy.roundOff(proxy.maskDateValue.getDate(), 2) : proxy.defaultConstant['day'].toString();\n                    result = proxy.zeroCheck(proxy.isDateZero, proxy.isDayPart, result);\n                    if (proxy.dayTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.dayTypeCount = 0;\n                    }\n                    break;\n                case 'E':\n                case 'EE':\n                case 'EEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysAbbreviated[dayKeyAbbreviated[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysWide[dayKeyWide[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'EEEEE':\n                    result = proxy.isDayPart && proxy.isMonthPart && proxy.isYearPart ? daysNarrow[dayKeyNarrow[proxy.maskDateValue.getDay()]].toString() : proxy.defaultConstant['dayOfTheWeek'].toString();\n                    break;\n                case 'M':\n                    result = proxy.isMonthPart ? (proxy.maskDateValue.getMonth() + 1).toString() : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MM':\n                    result = proxy.isMonthPart ? proxy.roundOff(proxy.maskDateValue.getMonth() + 1, 2) : proxy.defaultConstant['month'].toString();\n                    result = proxy.zeroCheck(proxy.isMonthZero, proxy.isMonthPart, result);\n                    if (proxy.monthTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.monthTypeCount = 0;\n                    }\n                    break;\n                case 'MMM':\n                    result = proxy.isMonthPart ? monthAbbreviated[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'MMMM':\n                    result = proxy.isMonthPart ? monthWide[proxy.maskDateValue.getMonth() + 1] : proxy.defaultConstant['month'].toString();\n                    break;\n                case 'yy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear() % 100, 2) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    if (proxy.isYearPart) {\n                        proxy.isNavigate = proxy.isShortYear = (proxy.maskDateValue.getFullYear() % 100).toString().length === 2;\n                    }\n                    break;\n                case 'y':\n                case 'yyyy':\n                    result = proxy.isYearPart ? proxy.roundOff(proxy.maskDateValue.getFullYear(), 4) : proxy.defaultConstant['year'].toString();\n                    result = proxy.zeroCheck(proxy.isYearZero, proxy.isYearPart, result);\n                    break;\n                case 'h':\n                    result = proxy.isHourPart ? (proxy.maskDateValue.getHours() % 12 || 12).toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'hh':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours() % 12 || 12, 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'H':\n                    result = proxy.isHourPart ? proxy.maskDateValue.getHours().toString() : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'HH':\n                    result = proxy.isHourPart ? proxy.roundOff(proxy.maskDateValue.getHours(), 2) : proxy.defaultConstant['hour'].toString();\n                    if (proxy.hourTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.hourTypeCount = 0;\n                    }\n                    break;\n                case 'm':\n                    result = proxy.isMinutePart ? proxy.maskDateValue.getMinutes().toString() : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 'mm':\n                    result = proxy.isMinutePart ? proxy.roundOff(proxy.maskDateValue.getMinutes(), 2) : proxy.defaultConstant['minute'].toString();\n                    if (proxy.minuteTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.minuteTypeCount = 0;\n                    }\n                    break;\n                case 's':\n                    result = proxy.isSecondsPart ? proxy.maskDateValue.getSeconds().toString() : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'ss':\n                    result = proxy.isSecondsPart ? proxy.roundOff(proxy.maskDateValue.getSeconds(), 2) : proxy.defaultConstant['second'].toString();\n                    if (proxy.secondTypeCount === 2) {\n                        proxy.isNavigate = true;\n                        proxy.secondTypeCount = 0;\n                    }\n                    break;\n                case 'f':\n                    result = Math.floor(proxy.maskDateValue.getMilliseconds() / 100).toString();\n                    break;\n                case 'ff':\n                    milliseconds = proxy.maskDateValue.getMilliseconds();\n                    if (proxy.maskDateValue.getMilliseconds() > 99) {\n                        milliseconds = Math.floor(proxy.maskDateValue.getMilliseconds() / 10);\n                    }\n                    result = proxy.roundOff(milliseconds, 2);\n                    break;\n                case 'fff':\n                    result = proxy.roundOff(proxy.maskDateValue.getMilliseconds(), 3);\n                    break;\n                case 'a':\n                case 'aa':\n                    result = proxy.maskDateValue.getHours() < 12 ? periodString[periodkeys[0]] : periodString[periodkeys[1]];\n                    break;\n                case 'z':\n                case 'zz':\n                case 'zzz':\n                case 'zzzz':\n                    dateOptions = {\n                        format: formattext,\n                        type: 'dateTime', skeleton: 'yMd', calendar: proxy.parent.calendarMode\n                    };\n                    result = proxy.parent.globalize.formatDate(proxy.maskDateValue, dateOptions);\n                    break;\n            }\n            result = result !== undefined ? result : formattext.slice(1, formattext.length - 1);\n            if (proxy.isHiddenMask) {\n                var hiddenChar = '';\n                for (var i = 0; i < result.length; i++) {\n                    hiddenChar += formattext[0];\n                }\n                return hiddenChar;\n            }\n            else {\n                return result;\n            }\n        }\n        return formatValueSpecifier;\n    };\n    MaskedDateTime.prototype.maskInputHandler = function () {\n        var start = this.parent.inputElement.selectionStart;\n        var formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        this.differenceCheck();\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isDateZero = this.isMonthZero = this.isYearZero = false;\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.inputElement.value = inputValue;\n        this.parent.inputElement.value = inputValue;\n        for (var i = 0; i < this.hiddenMask.length; i++) {\n            if (formatText === this.hiddenMask[i]) {\n                start = i;\n                break;\n            }\n        }\n        this.parent.inputElement.selectionStart = start;\n        this.validCharacterCheck();\n        if ((this.isNavigate || this.isDeletion) && !this.isDeleteKey) {\n            var isbackward = this.isNavigate ? false : true;\n            this.isNavigate = this.isDeletion = false;\n            this.navigateSelection(isbackward);\n        }\n        if (this.isDeleteKey) {\n            this.isDeletion = false;\n        }\n        this.isDeleteKey = false;\n    };\n    MaskedDateTime.prototype.navigateSelection = function (isbackward) {\n        var start = this.parent.inputElement.selectionStart;\n        var end = this.parent.inputElement.selectionEnd;\n        var formatIndex = isbackward ? start - 1 : end + 1;\n        this.navigated = true;\n        while (formatIndex < this.hiddenMask.length && formatIndex >= 0) {\n            if (this.validCharacters.indexOf(this.hiddenMask[formatIndex]) >= 0) {\n                this.setSelection(this.hiddenMask[formatIndex]);\n                break;\n            }\n            formatIndex = formatIndex + (isbackward ? -1 : 1);\n        }\n    };\n    MaskedDateTime.prototype.roundOff = function (val, count) {\n        var valueText = val.toString();\n        var length = count - valueText.length;\n        var result = '';\n        for (var i = 0; i < length; i++) {\n            result += '0';\n        }\n        return result + valueText;\n    };\n    MaskedDateTime.prototype.zeroCheck = function (isZero, isDayPart, resultValue) {\n        var result = resultValue;\n        if (isZero && !isDayPart) {\n            result = '0';\n        }\n        return result;\n    };\n    MaskedDateTime.prototype.handleDeletion = function (format, isSegment) {\n        switch (format) {\n            case 'd':\n                this.isDayPart = isSegment;\n                break;\n            case 'M':\n                this.isMonthPart = isSegment;\n                if (!isSegment) {\n                    this.maskDateValue.setMonth(0);\n                    this.monthCharacter = '';\n                }\n                break;\n            case 'y':\n                this.isYearPart = isSegment;\n                break;\n            case 'H':\n            case 'h':\n                this.isHourPart = isSegment;\n                if (!isSegment) {\n                    this.periodCharacter = '';\n                }\n                break;\n            case 'm':\n                this.isMinutePart = isSegment;\n                break;\n            case 's':\n                this.isSecondsPart = isSegment;\n                break;\n            default:\n                return false;\n        }\n        return true;\n    };\n    MaskedDateTime.prototype.dateAlteration = function (isDecrement) {\n        var start = this.parent.inputElement.selectionStart;\n        var formatText = '';\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            formatText = this.hiddenMask[start];\n        }\n        else {\n            return;\n        }\n        var newDateValue = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        this.previousDate = new Date(this.maskDateValue.getFullYear(), this.maskDateValue.getMonth(), this.maskDateValue.getDate(), this.maskDateValue.getHours(), this.maskDateValue.getMinutes(), this.maskDateValue.getSeconds());\n        var incrementValue = isDecrement ? -1 : 1;\n        switch (formatText) {\n            case 'd':\n                newDateValue.setDate(newDateValue.getDate() + incrementValue);\n                break;\n            case 'M':\n                {\n                    var newMonth = newDateValue.getMonth() + incrementValue;\n                    newDateValue.setDate(1);\n                    newDateValue.setMonth(newMonth);\n                    if (this.isDayPart) {\n                        var previousMaxDate = new Date(this.previousDate.getFullYear(), this.previousDate.getMonth() + 1, 0).getDate();\n                        var currentMaxDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth() + 1, 0).getDate();\n                        if (this.previousDate.getDate() === previousMaxDate && currentMaxDate <= previousMaxDate) {\n                            newDateValue.setDate(currentMaxDate);\n                        }\n                        else {\n                            newDateValue.setDate(this.previousDate.getDate());\n                        }\n                    }\n                    else {\n                        newDateValue.setDate(this.previousDate.getDate());\n                    }\n                    this.previousDate = new Date(newDateValue.getFullYear(), newDateValue.getMonth(), newDateValue.getDate());\n                    break;\n                }\n            case 'y':\n                newDateValue.setFullYear(newDateValue.getFullYear() + incrementValue);\n                break;\n            case 'H':\n            case 'h':\n                newDateValue.setHours(newDateValue.getHours() + incrementValue);\n                break;\n            case 'm':\n                newDateValue.setMinutes(newDateValue.getMinutes() + incrementValue);\n                break;\n            case 's':\n                newDateValue.setSeconds(newDateValue.getSeconds() + incrementValue);\n                break;\n            case 'a':\n                newDateValue.setHours((newDateValue.getHours() + 12) % 24);\n                break;\n            default:\n                break;\n        }\n        this.maskDateValue = newDateValue.getFullYear() > 0 ? newDateValue : this.maskDateValue;\n        if (this.validCharacters.indexOf(this.hiddenMask[start]) !== -1) {\n            this.handleDeletion(this.hiddenMask[start], true);\n        }\n    };\n    MaskedDateTime.prototype.getCulturedValue = function (format) {\n        var locale = this.parent.locale;\n        var result;\n        if (locale === 'en' || locale === 'en-US') {\n            result = getValue(format, getDefaultDateObject());\n        }\n        else {\n            result = getValue('main.' + '' + locale + ('.dates.calendars.gregorian.' + format), cldrData);\n        }\n        return result;\n    };\n    MaskedDateTime.prototype.getCulturedFormat = function () {\n        var formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n        if (this.parent.moduleName === 'datepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.format && this.parent.formatString) {\n                formatString = this.parent.formatString;\n            }\n        }\n        if (this.parent.moduleName === 'datetimepicker') {\n            formatString = (this.getCulturedValue('dateTimeFormats[availableFormats].yMd')).toString();\n            if (this.parent.dateTimeFormat) {\n                formatString = this.parent.dateTimeFormat;\n            }\n        }\n        if (this.parent.moduleName === 'timepicker') {\n            formatString = this.parent.cldrTimeFormat();\n        }\n        return formatString;\n    };\n    MaskedDateTime.prototype.clearHandler = function () {\n        this.isDayPart = this.isMonthPart = this.isYearPart = this.isHourPart = this.isMinutePart = this.isSecondsPart = false;\n        this.updateValue();\n    };\n    MaskedDateTime.prototype.updateValue = function () {\n        this.monthCharacter = this.periodCharacter = '';\n        var inputValue = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = true;\n        this.hiddenMask = this.dateformat.replace(this.formatRegex, this.formatCheck());\n        this.isHiddenMask = false;\n        this.previousHiddenMask = this.hiddenMask;\n        this.previousValue = inputValue;\n        this.parent.updateInputValue(inputValue);\n    };\n    MaskedDateTime.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    return MaskedDateTime;\n}());\n\n/**\n * MaskedDateTime modules\n */\n\n/**\n * Calendar all modules\n */\n\nexport { CalendarBase, Calendar, Islamic, DatePicker, Presets, DateRangePicker, TimePickerBase, TimeMaskPlaceholder, TimePicker, DateTimePicker, MaskedDateTime };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}