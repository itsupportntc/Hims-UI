{"ast":null,"code":"import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Event, EventHandler, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getUniqueID, isBlazor, isNullOrUndefined, prepend, remove, removeClass, select, selectAll, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n/**\n * Position library\n */\n\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\n\nfunction calculateRelativeBasedPosition(anchor, element) {\n  var fixedElement = false;\n  var anchorPos = {\n    left: 0,\n    top: 0\n  };\n  var tempAnchor = anchor;\n\n  if (!anchor || !element) {\n    return anchorPos;\n  }\n\n  if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n    fixedElement = true;\n  }\n\n  while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n    anchorPos.left += anchor.offsetLeft;\n    anchorPos.top += anchor.offsetTop;\n    anchor = anchor.offsetParent;\n  }\n\n  anchor = tempAnchor;\n\n  while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n    anchorPos.left -= anchor.scrollLeft;\n    anchorPos.top -= anchor.scrollTop;\n    anchor = anchor.parentElement;\n  }\n\n  return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\n\n\nfunction calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n  popupRect = undefined;\n  popupRect = targetValues;\n  fixedParent = parentElement ? true : false;\n\n  if (!currentElement) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  if (!positionX) {\n    positionX = 'left';\n  }\n\n  if (!positionY) {\n    positionY = 'top';\n  }\n\n  parentDocument = currentElement.ownerDocument;\n  element = currentElement;\n  var pos = {\n    left: 0,\n    top: 0\n  };\n  return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\n\n\nfunction setPosx(value, pos) {\n  pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\n\n\nfunction setPosy(value, pos) {\n  pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\n\n\nfunction updatePosition(posX, posY, pos) {\n  elementRect = element.getBoundingClientRect();\n\n  switch (posY + posX) {\n    case 'topcenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n\n    case 'topright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n\n    case 'centercenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'centerright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'centerleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementVCenter(), pos);\n      break;\n\n    case 'bottomcenter':\n      setPosx(getElementHCenter(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    case 'bottomright':\n      setPosx(getElementRight(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    case 'bottomleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementBottom(), pos);\n      break;\n\n    default:\n    case 'topleft':\n      setPosx(getElementLeft(), pos);\n      setPosy(getElementTop(), pos);\n      break;\n  }\n\n  element = null;\n  return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getBodyScrollTop() {\n  return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getBodyScrollLeft() {\n  return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementBottom() {\n  return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementVCenter() {\n  return getElementTop() + elementRect.height / 2;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementTop() {\n  return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementLeft() {\n  return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementRight() {\n  var popupWidth = element && element.classList.contains('e-date-range-wrapper') ? popupRect ? popupRect.width : 0 : popupRect && elementRect.width >= popupRect.width ? popupRect.width : 0;\n  return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\n\n\nfunction getElementHCenter() {\n  return getElementLeft() + elementRect.width / 2;\n}\n/**\n * Collision module.\n */\n\n\nvar parentDocument$1;\nvar targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\n\nfunction fit(element, viewPortElement, axis, position) {\n  if (viewPortElement === void 0) {\n    viewPortElement = null;\n  }\n\n  if (axis === void 0) {\n    axis = {\n      X: false,\n      Y: false\n    };\n  }\n\n  if (!axis.Y && !axis.X) {\n    return {\n      left: 0,\n      top: 0\n    };\n  }\n\n  var elemData = element.getBoundingClientRect();\n  targetContainer = viewPortElement;\n  parentDocument$1 = element.ownerDocument;\n\n  if (!position) {\n    position = calculatePosition(element, 'left', 'top');\n  }\n\n  if (axis.X) {\n    var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n    var containerLeft = ContainerLeft();\n    var containerRight = ContainerRight();\n    var overLeft = containerLeft - position.left;\n    var overRight = position.left + elemData.width - containerRight;\n\n    if (elemData.width > containerWidth) {\n      if (overLeft > 0 && overRight <= 0) {\n        position.left = containerRight - elemData.width;\n      } else if (overRight > 0 && overLeft <= 0) {\n        position.left = containerLeft;\n      } else {\n        position.left = overLeft > overRight ? containerRight - elemData.width : containerLeft;\n      }\n    } else if (overLeft > 0) {\n      position.left += overLeft;\n    } else if (overRight > 0) {\n      position.left -= overRight;\n    }\n  }\n\n  if (axis.Y) {\n    var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n    var containerTop = ContainerTop();\n    var containerBottom = ContainerBottom();\n    var overTop = containerTop - position.top;\n    var overBottom = position.top + elemData.height - containerBottom;\n\n    if (elemData.height > containerHeight) {\n      if (overTop > 0 && overBottom <= 0) {\n        position.top = containerBottom - elemData.height;\n      } else if (overBottom > 0 && overTop <= 0) {\n        position.top = containerTop;\n      } else {\n        position.top = overTop > overBottom ? containerBottom - elemData.height : containerTop;\n      }\n    } else if (overTop > 0) {\n      position.top += overTop;\n    } else if (overBottom > 0) {\n      position.top -= overBottom;\n    }\n  }\n\n  return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\n\n\nfunction isCollide(element, viewPortElement, x, y) {\n  if (viewPortElement === void 0) {\n    viewPortElement = null;\n  }\n\n  var elemOffset = calculatePosition(element, 'left', 'top');\n\n  if (x) {\n    elemOffset.left = x;\n  }\n\n  if (y) {\n    elemOffset.top = y;\n  }\n\n  var data = [];\n  targetContainer = viewPortElement;\n  parentDocument$1 = element.ownerDocument;\n  var elementRect = element.getBoundingClientRect();\n  var top = elemOffset.top;\n  var left = elemOffset.left;\n  var right = elemOffset.left + elementRect.width;\n  var bottom = elemOffset.top + elementRect.height; // eslint-disable-next-line\n\n  var yAxis = topCollideCheck(top, bottom);\n  var xAxis = leftCollideCheck(left, right);\n\n  if (yAxis.topSide) {\n    data.push('top');\n  }\n\n  if (xAxis.rightSide) {\n    data.push('right');\n  }\n\n  if (xAxis.leftSide) {\n    data.push('left');\n  }\n\n  if (yAxis.bottomSide) {\n    data.push('bottom');\n  }\n\n  return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\n\n\nfunction flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement,\n/* eslint-disable */\naxis, fixedParent) {\n  if (viewPortElement === void 0) {\n    viewPortElement = null;\n  }\n\n  if (axis === void 0) {\n    axis = {\n      X: true,\n      Y: true\n    };\n  }\n\n  if (!target || !element || !positionX || !positionY || !axis.X && !axis.Y) {\n    return;\n  }\n\n  var tEdge = {\n    TL: null,\n    TR: null,\n    BL: null,\n    BR: null\n  },\n      eEdge = {\n    TL: null,\n    TR: null,\n    BL: null,\n    BR: null\n    /* eslint-enable */\n\n  };\n  var elementRect;\n\n  if (window.getComputedStyle(element).display === 'none') {\n    var oldVisibility = element.style.visibility;\n    element.style.visibility = 'hidden';\n    element.style.display = 'block';\n    elementRect = element.getBoundingClientRect();\n    element.style.removeProperty('display');\n    element.style.visibility = oldVisibility;\n  } else {\n    elementRect = element.getBoundingClientRect();\n  }\n\n  var pos = {\n    posX: positionX,\n    posY: positionY,\n    offsetX: offsetX,\n    offsetY: offsetY,\n    position: {\n      left: 0,\n      top: 0\n    }\n  };\n  targetContainer = viewPortElement;\n  parentDocument$1 = target.ownerDocument;\n  updateElementData(target, tEdge, pos, fixedParent, elementRect);\n  setPosition(eEdge, pos, elementRect);\n\n  if (axis.X) {\n    leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n  }\n\n  if (axis.Y && tEdge.TL.top > -1) {\n    topFlip(target, eEdge, tEdge, pos, elementRect, true);\n  }\n\n  setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\n\n\nfunction setPopup(element, pos, elementRect) {\n  //eslint-disable-next-line\n  var left = 0,\n      top = 0;\n\n  if (element.offsetParent != null && (getComputedStyle(element.offsetParent).position === 'absolute' || getComputedStyle(element.offsetParent).position === 'relative')) {\n    var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n    left = data.left;\n    top = data.top;\n  }\n\n  element.style.top = pos.position.top + pos.offsetY - top + 'px';\n  element.style.left = pos.position.left + pos.offsetX - left + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\n\n\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n  pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n  edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n  edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n  edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n  edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\n\n\nfunction setPosition(eStatus, pos, elementRect) {\n  eStatus.TL = {\n    top: pos.position.top + pos.offsetY,\n    left: pos.position.left + pos.offsetX\n  };\n  eStatus.TR = {\n    top: eStatus.TL.top,\n    left: eStatus.TL.left + elementRect.width\n  };\n  eStatus.BL = {\n    top: eStatus.TL.top + elementRect.height,\n    left: eStatus.TL.left\n  };\n  eStatus.BR = {\n    top: eStatus.TL.top + elementRect.height,\n    left: eStatus.TL.left + elementRect.width\n  };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\n\n\nfunction leftCollideCheck(left, right) {\n  //eslint-disable-next-line\n  var leftSide = false,\n      rightSide = false;\n\n  if (left - getBodyScrollLeft$1() < ContainerLeft()) {\n    leftSide = true;\n  }\n\n  if (right > ContainerRight()) {\n    rightSide = true;\n  }\n\n  return {\n    leftSide: leftSide,\n    rightSide: rightSide\n  };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\n\n\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n  var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n\n  if (tEdge.TL.left - getBodyScrollLeft$1() <= ContainerLeft()) {\n    collideSide.leftSide = false;\n  }\n\n  if (tEdge.TR.left > ContainerRight()) {\n    collideSide.rightSide = false;\n  }\n\n  if (collideSide.leftSide && !collideSide.rightSide || !collideSide.leftSide && collideSide.rightSide) {\n    if (pos.posX === 'right') {\n      pos.posX = 'left';\n    } else {\n      pos.posX = 'right';\n    }\n\n    pos.offsetX = pos.offsetX + elementRect.width;\n    pos.offsetX = -1 * pos.offsetX;\n    pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n    setPosition(edge, pos, elementRect);\n\n    if (deepCheck) {\n      leftFlip(target, edge, tEdge, pos, elementRect, false);\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\n\n\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n  var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n\n  if (tEdge.TL.top - getBodyScrollTop$1() <= ContainerTop()) {\n    collideSide.topSide = false;\n  }\n\n  if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n    collideSide.bottomSide = false;\n  }\n\n  if (collideSide.topSide && !collideSide.bottomSide || !collideSide.topSide && collideSide.bottomSide) {\n    if (pos.posY === 'top') {\n      pos.posY = 'bottom';\n    } else {\n      pos.posY = 'top';\n    }\n\n    pos.offsetY = pos.offsetY + elementRect.height;\n    pos.offsetY = -1 * pos.offsetY;\n    pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n    setPosition(edge, pos, elementRect);\n\n    if (deepCheck) {\n      topFlip(target, edge, tEdge, pos, elementRect, false);\n    }\n  }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\n\n\nfunction topCollideCheck(top, bottom) {\n  //eslint-disable-next-line\n  var topSide = false,\n      bottomSide = false;\n\n  if (top - getBodyScrollTop$1() < ContainerTop()) {\n    topSide = true;\n  }\n\n  if (bottom > ContainerBottom()) {\n    bottomSide = true;\n  }\n\n  return {\n    topSide: topSide,\n    bottomSide: bottomSide\n  };\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerWidth() {\n  return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerHeight() {\n  return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerLeft() {\n  return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getTargetContainerTop() {\n  return targetContainer.getBoundingClientRect().top;\n} //eslint-disable-next-line\n\n\nfunction ContainerTop() {\n  if (targetContainer) {\n    return getTargetContainerTop();\n  }\n\n  return 0;\n} //eslint-disable-next-line\n\n\nfunction ContainerLeft() {\n  if (targetContainer) {\n    return getTargetContainerLeft();\n  }\n\n  return 0;\n} //eslint-disable-next-line\n\n\nfunction ContainerRight() {\n  if (targetContainer) {\n    return getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth();\n  }\n\n  return getBodyScrollLeft$1() + getViewPortWidth();\n} //eslint-disable-next-line\n\n\nfunction ContainerBottom() {\n  if (targetContainer) {\n    return getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight();\n  }\n\n  return getBodyScrollTop$1() + getViewPortHeight();\n}\n/**\n * @returns {void}\n */\n\n\nfunction getBodyScrollTop$1() {\n  // if(targetContainer)\n  //     return targetContainer.scrollTop;\n  return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getBodyScrollLeft$1() {\n  // if(targetContainer)\n  //     return targetContainer.scrollLeft;\n  return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getViewPortHeight() {\n  return window.innerHeight;\n}\n/**\n * @returns {void}\n */\n\n\nfunction getViewPortWidth() {\n  var windowWidth = window.innerWidth;\n  var documentReact = document.documentElement.getBoundingClientRect();\n  var offsetWidth = isNullOrUndefined(document.documentElement) ? 0 : documentReact.width;\n  return windowWidth - (windowWidth - offsetWidth);\n}\n\nvar __extends = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the offset position values.\n */\n\n\nvar PositionData =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(PositionData, _super);\n\n  function PositionData() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate([Property('left')], PositionData.prototype, \"X\", void 0);\n\n  __decorate([Property('top')], PositionData.prototype, \"Y\", void 0);\n\n  return PositionData;\n}(ChildProperty); // don't use space in classNames\n\n\nvar CLASSNAMES = {\n  ROOT: 'e-popup',\n  RTL: 'e-rtl',\n  OPEN: 'e-popup-open',\n  CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\n\nvar Popup =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends(Popup, _super);\n\n  function Popup(element, options) {\n    return _super.call(this, options, element) || this;\n  }\n  /**\n   * Called internally if any of the property value changed.\n   *\n   * @param {PopupModel} newProp - specifies the new property\n   * @param {PopupModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          break;\n\n        case 'zIndex':\n          setStyleAttribute(this.element, {\n            'zIndex': newProp.zIndex\n          });\n          break;\n\n        case 'enableRtl':\n          this.setEnableRtl();\n          break;\n\n        case 'position':\n        case 'relateTo':\n          this.refreshPosition();\n          break;\n\n        case 'offsetX':\n          // eslint-disable-next-line\n          var x = newProp.offsetX - oldProp.offsetX;\n          this.element.style.left = (parseInt(this.element.style.left, 10) + x).toString() + 'px';\n          break;\n\n        case 'offsetY':\n          // eslint-disable-next-line\n          var y = newProp.offsetY - oldProp.offsetY;\n          this.element.style.top = (parseInt(this.element.style.top, 10) + y).toString() + 'px';\n          break;\n\n        case 'content':\n          this.setContent();\n          break;\n\n        case 'actionOnScroll':\n          if (newProp.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n          } else {\n            this.unwireScrollEvents();\n          }\n\n          break;\n      }\n    }\n  };\n  /**\n   * gets the Component module name.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Popup.prototype.getModuleName = function () {\n    return 'popup';\n  };\n  /**\n   * To resolve if any collision occurs.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.resolveCollision = function () {\n    this.checkCollision();\n  };\n  /**\n   * gets the persisted state properties of the Component.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * To destroy the control.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.destroy = function () {\n    if (this.element.classList.contains('e-popup-open')) {\n      this.unwireEvents();\n    }\n\n    this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n    this.content = null;\n    this.relateTo = null;\n\n    _super.prototype.destroy.call(this);\n  };\n  /**\n   * To Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Popup.prototype.render = function () {\n    this.element.classList.add(CLASSNAMES.ROOT);\n    var styles = {};\n\n    if (this.zIndex !== 1000) {\n      styles.zIndex = this.zIndex;\n    }\n\n    if (this.width !== 'auto') {\n      styles.width = formatUnit(this.width);\n    }\n\n    if (this.height !== 'auto') {\n      styles.height = formatUnit(this.height);\n    }\n\n    setStyleAttribute(this.element, styles);\n    this.fixedParent = false;\n    this.setEnableRtl();\n    this.setContent();\n  };\n\n  Popup.prototype.wireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      this.wireScrollEvents();\n    }\n  };\n\n  Popup.prototype.wireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_1 = _a[_i];\n        EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n      }\n    }\n  };\n\n  Popup.prototype.unwireEvents = function () {\n    if (Browser.isDevice) {\n      EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      this.unwireScrollEvents();\n    }\n  };\n\n  Popup.prototype.unwireScrollEvents = function () {\n    if (this.getRelateToElement()) {\n      for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n        var parent_2 = _a[_i];\n        EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n      }\n    }\n  };\n\n  Popup.prototype.getRelateToElement = function () {\n    var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ? document.body : this.relateTo;\n    this.setProperties({\n      relateTo: relateToElement\n    }, true);\n    return typeof this.relateTo === 'string' ? document.querySelector(this.relateTo) : this.relateTo;\n  };\n\n  Popup.prototype.scrollRefresh = function (e) {\n    if (this.actionOnScroll === 'reposition') {\n      if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target || this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && e.target.parentElement == null)) {\n        this.refreshPosition();\n      }\n    } else if (this.actionOnScroll === 'hide') {\n      this.hide();\n    }\n\n    if (this.actionOnScroll !== 'none') {\n      if (this.getRelateToElement()) {\n        var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n\n        if (!targetVisible && !this.targetInvisibleStatus) {\n          this.trigger('targetExitViewport');\n          this.targetInvisibleStatus = true;\n        } else if (targetVisible) {\n          this.targetInvisibleStatus = false;\n        }\n      }\n    }\n  };\n  /**\n   * This method is to get the element visibility on viewport when scroll\n   * the page. This method will returns true even though 1 px of element\n   * part is in visible.\n   *\n   * @param {HTMLElement} relateToElement - specifies the element\n   * @param {HTMLElement} scrollElement - specifies the scroll element\n   * @returns {boolean} - retruns the boolean\n   */\n  // eslint-disable-next-line\n\n\n  Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n    var scrollParents = this.getScrollableParent(relateToElement);\n\n    for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n      if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n        continue;\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n    var rect = this.checkGetBoundingClientRect(relateToElement);\n\n    if (!rect.height || !rect.width) {\n      return false;\n    }\n\n    if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n      var parent_4 = scrollElement.getBoundingClientRect();\n      return !(rect.bottom < parent_4.top) && !(rect.bottom > parent_4.bottom) && !(rect.right > parent_4.right) && !(rect.left < parent_4.left);\n    } else {\n      var win = window;\n      var windowView = {\n        top: win.scrollY,\n        left: win.scrollX,\n        right: win.scrollX + win.outerWidth,\n        bottom: win.scrollY + win.outerHeight\n      };\n      var off = calculatePosition(relateToElement);\n      var ele = {\n        top: off.top,\n        left: off.left,\n        right: off.left + rect.width,\n        bottom: off.top + rect.height\n      };\n      var elementView = {\n        top: windowView.bottom - ele.top,\n        left: windowView.right - ele.left,\n        bottom: ele.bottom - windowView.top,\n        right: ele.right - windowView.left\n      };\n      return elementView.top > 0 && elementView.left > 0 && elementView.right > 0 && elementView.bottom > 0;\n    }\n  };\n  /**\n   * Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Popup.prototype.preRender = function () {//There is no event handler\n  };\n\n  Popup.prototype.setEnableRtl = function () {\n    this.reposition(); // eslint-disable-next-line\n\n    this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n  };\n\n  Popup.prototype.setContent = function () {\n    if (!isNullOrUndefined(this.content)) {\n      this.element.innerHTML = '';\n\n      if (typeof this.content === 'string') {\n        this.element.textContent = this.content;\n      } else {\n        var relateToElem = this.getRelateToElement(); // eslint-disable-next-line\n\n        var props = this.content.props;\n\n        if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n          this.element.appendChild(this.content);\n        }\n      }\n    }\n  };\n\n  Popup.prototype.orientationOnChange = function () {\n    var _this = this;\n\n    setTimeout(function () {\n      _this.refreshPosition();\n    }, 200);\n  }; // eslint-disable-next-line\n\n  /**\n   * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n   *\n   * @returns {void}\n   */\n\n\n  Popup.prototype.refreshPosition = function (target, collision) {\n    if (!isNullOrUndefined(target)) {\n      this.checkFixedParent(target);\n    }\n\n    this.reposition();\n\n    if (!collision) {\n      this.checkCollision();\n    }\n  };\n\n  Popup.prototype.reposition = function () {\n    var pos;\n    var position;\n    var relateToElement = this.getRelateToElement();\n\n    if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n      pos = {\n        left: this.position.X,\n        top: this.position.Y\n      };\n    } else if (typeof this.position.X === 'string' && typeof this.position.Y === 'number' || typeof this.position.X === 'number' && typeof this.position.Y === 'string') {\n      var parentDisplay = void 0;\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n\n      if (this.element.classList.contains('e-dlg-modal')) {\n        parentDisplay = this.element.parentElement.style.display;\n        this.element.parentElement.style.display = 'block';\n      }\n\n      position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n\n      if (typeof this.position.X === 'string') {\n        pos = {\n          left: position.left,\n          top: this.position.Y\n        };\n      } else {\n        pos = {\n          left: this.position.X,\n          top: position.top\n        };\n      }\n\n      this.element.style.display = display;\n\n      if (this.element.classList.contains('e-dlg-modal')) {\n        this.element.parentElement.style.display = parentDisplay;\n      }\n    } else if (relateToElement) {\n      var display = this.element.style.display;\n      this.element.style.display = 'block';\n      pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n      this.element.style.display = display;\n    } else {\n      pos = {\n        left: 0,\n        top: 0\n      };\n    }\n\n    if (!isNullOrUndefined(pos)) {\n      this.element.style.left = pos.left + 'px';\n      this.element.style.top = pos.top + 'px';\n    }\n  };\n\n  Popup.prototype.checkGetBoundingClientRect = function (ele) {\n    var eleRect;\n\n    try {\n      eleRect = ele.getBoundingClientRect();\n      return eleRect;\n    } catch (error) {\n      return null;\n    }\n  };\n\n  Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n    var eleRect = this.checkGetBoundingClientRect(ele);\n    var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n\n    if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n      return null;\n    }\n\n    var anchor = anchorEle;\n    var anchorPos = {\n      left: 0,\n      top: 0\n    };\n\n    if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n      anchorPos = calculatePosition(anchorEle);\n    } else {\n      if (ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY') {\n        ele = ele.parentElement;\n      }\n\n      anchorPos = calculateRelativeBasedPosition(anchor, ele);\n    }\n\n    switch (position.X) {\n      default:\n      case 'left':\n        break;\n\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth / 2 - eleRect.width / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width / 2 - eleRect.width / 2;\n        } else {\n          anchorPos.left += anchorRect.width / 2;\n        }\n\n        break;\n\n      case 'right':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.left += window.innerWidth - eleRect.width;\n        } else if (this.targetType === 'container') {\n          anchorPos.left += anchorRect.width - eleRect.width;\n        } else {\n          anchorPos.left += anchorRect.width;\n        }\n\n        break;\n    }\n\n    switch (position.Y) {\n      default:\n      case 'top':\n        break;\n\n      case 'center':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight / 2 - eleRect.height / 2;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height / 2 - eleRect.height / 2;\n        } else {\n          anchorPos.top += anchorRect.height / 2;\n        }\n\n        break;\n\n      case 'bottom':\n        if (ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container') {\n          anchorPos.top += window.innerHeight - eleRect.height;\n        } else if (this.targetType === 'container') {\n          anchorPos.top += anchorRect.height - eleRect.height;\n        } else {\n          anchorPos.top += anchorRect.height;\n        }\n\n        break;\n    }\n\n    anchorPos.left += offsetX;\n    anchorPos.top += offsetY;\n    return anchorPos;\n  };\n\n  Popup.prototype.callFlip = function (param) {\n    var relateToElement = this.getRelateToElement();\n    flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n  };\n\n  Popup.prototype.callFit = function (param) {\n    if (isCollide(this.element, this.viewPortElement).length !== 0) {\n      if (isNullOrUndefined(this.viewPortElement)) {\n        var data = fit(this.element, this.viewPortElement, param);\n\n        if (param.X) {\n          this.element.style.left = data.left + 'px';\n        }\n\n        if (param.Y) {\n          this.element.style.top = data.top + 'px';\n        }\n      } else {\n        var elementRect = this.checkGetBoundingClientRect(this.element);\n        var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n\n        if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n          return null;\n        }\n\n        if (param && param.Y === true) {\n          if (viewPortRect.top > elementRect.top) {\n            this.element.style.top = '0px';\n          } else if (viewPortRect.bottom < elementRect.bottom) {\n            this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n          }\n        }\n\n        if (param && param.X === true) {\n          if (viewPortRect.right < elementRect.right) {\n            this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n          } else if (viewPortRect.left > elementRect.left) {\n            this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n          }\n        }\n      }\n    }\n  };\n\n  Popup.prototype.checkCollision = function () {\n    var horz = this.collision.X;\n    var vert = this.collision.Y;\n\n    if (horz === 'none' && vert === 'none') {\n      return;\n    }\n\n    if (horz === 'flip' && vert === 'flip') {\n      this.callFlip({\n        X: true,\n        Y: true\n      });\n    } else if (horz === 'fit' && vert === 'fit') {\n      this.callFit({\n        X: true,\n        Y: true\n      });\n    } else {\n      if (horz === 'flip') {\n        this.callFlip({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'flip') {\n        this.callFlip({\n          Y: true,\n          X: false\n        });\n      }\n\n      if (horz === 'fit') {\n        this.callFit({\n          X: true,\n          Y: false\n        });\n      } else if (vert === 'fit') {\n        this.callFit({\n          X: false,\n          Y: true\n        });\n      }\n    }\n  };\n  /**\n   * Shows the popup element from screen.\n   *\n   * @returns {void}\n   * @param {AnimationModel} animationOptions - specifies the model\n   * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n   */\n\n\n  Popup.prototype.show = function (animationOptions, relativeElement) {\n    var _this = this;\n\n    var relateToElement = this.getRelateToElement();\n\n    if (relateToElement.classList.contains('e-filemanager')) {\n      this.fmDialogContainer = this.element.getElementsByClassName('e-file-select-wrap')[0];\n    }\n\n    this.wireEvents();\n\n    if (!isNullOrUndefined(this.fmDialogContainer) && Browser.isIos) {\n      this.fmDialogContainer.style.display = 'block';\n    }\n\n    if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n      var zIndexElement = isNullOrUndefined(relativeElement) ? this.element : relativeElement;\n      this.zIndex = getZindexPartial(zIndexElement);\n      setStyleAttribute(this.element, {\n        'zIndex': this.zIndex\n      });\n    }\n\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.showAnimation;\n\n    if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.checkCollision();\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n    }\n\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.begin = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.CLOSE);\n          addClass([_this.element], CLASSNAMES.OPEN);\n        }\n      };\n\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          _this.trigger('open');\n        }\n      };\n\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.CLOSE);\n      addClass([this.element], CLASSNAMES.OPEN);\n      this.trigger('open');\n    }\n  };\n  /**\n   * Hides the popup element from screen.\n   *\n   * @param {AnimationModel} animationOptions - To give the animation options.\n   * @returns {void}\n   */\n\n\n  Popup.prototype.hide = function (animationOptions) {\n    var _this = this;\n\n    animationOptions = !isNullOrUndefined(animationOptions) && typeof animationOptions === 'object' ? animationOptions : this.hideAnimation;\n\n    if (!isNullOrUndefined(animationOptions)) {\n      animationOptions.end = function () {\n        if (!_this.isDestroyed) {\n          removeClass([_this.element], CLASSNAMES.OPEN);\n          addClass([_this.element], CLASSNAMES.CLOSE);\n\n          _this.trigger('close');\n        }\n      };\n\n      new Animation(animationOptions).animate(this.element);\n    } else {\n      removeClass([this.element], CLASSNAMES.OPEN);\n      addClass([this.element], CLASSNAMES.CLOSE);\n      this.trigger('close');\n    }\n\n    this.unwireEvents();\n  };\n  /**\n   * Gets scrollable parent elements for the given element.\n   *\n   * @returns {void}\n   * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n   */\n\n\n  Popup.prototype.getScrollableParent = function (element) {\n    this.checkFixedParent(element);\n    return getScrollableParent(element, this.fixedParent);\n  };\n\n  Popup.prototype.checkFixedParent = function (element) {\n    var parent = element.parentElement;\n\n    while (parent && parent.tagName !== 'HTML') {\n      var parentStyle = getComputedStyle(parent);\n\n      if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' && getComputedStyle(this.element.offsetParent).overflow !== 'hidden') {\n        this.element.style.top = window.scrollY > parseInt(this.element.style.top, 10) ? formatUnit(window.scrollY - parseInt(this.element.style.top, 10)) : formatUnit(parseInt(this.element.style.top, 10) - window.scrollY);\n        this.element.style.position = 'fixed';\n        this.fixedParent = true;\n      }\n\n      parent = parent.parentElement;\n\n      if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed' && this.element.style.position === 'fixed') {\n        this.fixedParent = true;\n      }\n    }\n  };\n\n  __decorate([Property('auto')], Popup.prototype, \"height\", void 0);\n\n  __decorate([Property('auto')], Popup.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"content\", void 0);\n\n  __decorate([Property('container')], Popup.prototype, \"targetType\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"viewPortElement\", void 0);\n\n  __decorate([Property({\n    X: 'none',\n    Y: 'none'\n  })], Popup.prototype, \"collision\", void 0);\n\n  __decorate([Property('')], Popup.prototype, \"relateTo\", void 0);\n\n  __decorate([Complex({}, PositionData)], Popup.prototype, \"position\", void 0);\n\n  __decorate([Property(0)], Popup.prototype, \"offsetX\", void 0);\n\n  __decorate([Property(0)], Popup.prototype, \"offsetY\", void 0);\n\n  __decorate([Property(1000)], Popup.prototype, \"zIndex\", void 0);\n\n  __decorate([Property(false)], Popup.prototype, \"enableRtl\", void 0);\n\n  __decorate([Property('reposition')], Popup.prototype, \"actionOnScroll\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"showAnimation\", void 0);\n\n  __decorate([Property(null)], Popup.prototype, \"hideAnimation\", void 0);\n\n  __decorate([Event()], Popup.prototype, \"open\", void 0);\n\n  __decorate([Event()], Popup.prototype, \"close\", void 0);\n\n  __decorate([Event()], Popup.prototype, \"targetExitViewport\", void 0);\n\n  Popup = __decorate([NotifyPropertyChanges], Popup);\n  return Popup;\n}(Component);\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\n\n\nfunction getScrollableParent(element, fixedParent) {\n  var eleStyle = getComputedStyle(element);\n  var scrollParents = [];\n  var overflowRegex = /(auto|scroll)/;\n  var parent = element.parentElement;\n\n  while (parent && parent.tagName !== 'HTML') {\n    var parentStyle = getComputedStyle(parent);\n\n    if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static') && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n      scrollParents.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  if (!fixedParent) {\n    scrollParents.push(document);\n  }\n\n  return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\n\n\nfunction getZindexPartial(element) {\n  // upto body traversal\n  var parent = element.parentElement;\n  var parentZindex = [];\n\n  while (parent) {\n    if (parent.tagName !== 'BODY') {\n      var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        parentZindex.push(index);\n      }\n\n      parent = parent.parentElement;\n    } else {\n      break;\n    }\n  }\n\n  var childrenZindex = [];\n\n  for (var i = 0; i < document.body.children.length; i++) {\n    if (!element.isEqualNode(document.body.children[i])) {\n      var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        childrenZindex.push(index);\n      }\n    }\n  }\n\n  childrenZindex.push('999');\n  var siblingsZindex = [];\n\n  if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n    var childNodes = [].slice.call(element.parentElement.children);\n\n    for (var i = 0; i < childNodes.length; i++) {\n      if (!element.isEqualNode(childNodes[i])) {\n        var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n        var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n\n        if (index !== 'auto' && position !== 'static') {\n          siblingsZindex.push(index);\n        }\n      }\n    }\n  }\n\n  var finalValue = parentZindex.concat(childrenZindex, siblingsZindex); // eslint-disable-next-line\n\n  var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\n\n\nfunction getMaxZindex(tagName) {\n  if (tagName === void 0) {\n    tagName = ['*'];\n  }\n\n  var maxZindex = [];\n\n  for (var i = 0; i < tagName.length; i++) {\n    var elements = document.getElementsByTagName(tagName[i]);\n\n    for (var i_1 = 0; i_1 < elements.length; i_1++) {\n      var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n      var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n\n      if (index !== 'auto' && position !== 'static') {\n        maxZindex.push(index);\n      }\n    }\n  } // eslint-disable-next-line\n\n\n  var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n  return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Popup Components\n */\n\n/**\n * Popup Components\n */\n\n/**\n * Resize library\n */\n\n/* eslint-disable */\n\n\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar DIALOG_RESIZABLE = 'e-dlg-resizable';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar dialogBorderResize = ['north', 'west', 'east', 'south'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\n/* eslint-enable */\n\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true; // eslint-disable-next-line\n\nvar proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\n\nfunction createResize(args) {\n  resizeStart = args.resizeBegin;\n  resize = args.resizing;\n  resizeEnd = args.resizeComplete;\n  targetElement = getDOMElement(args.element);\n  containerElement = getDOMElement(args.boundary);\n  var directions = args.direction.split(' ');\n\n  for (var i = 0; i < directions.length; i++) {\n    if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n      setBorderResizeElm(directions[i]);\n    } else if (directions[i].trim() !== '') {\n      var resizeHandler = createElement('div', {\n        className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i]\n      });\n      targetElement.appendChild(resizeHandler);\n    }\n  }\n\n  minHeight = args.minHeight;\n  minWidth = args.minWidth;\n  maxWidth = args.maxWidth;\n  maxHeight = args.maxHeight;\n\n  if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n    wireEvents(args.proxy);\n  } else {\n    wireEvents();\n  }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\n\n\nfunction setBorderResizeElm(direction) {\n  calculateValues();\n  var borderBottom = createElement('span', {\n    attrs: {\n      'unselectable': 'on',\n      'contenteditable': 'false'\n    }\n  });\n  borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n\n  if (direction === 'south') {\n    borderBottom.style.height = '2px';\n    borderBottom.style.width = '100%';\n    borderBottom.style.bottom = '0px';\n    borderBottom.style.left = '0px';\n  }\n\n  if (direction === 'north') {\n    borderBottom.style.height = '2px';\n    borderBottom.style.width = '100%';\n    borderBottom.style.top = '0px';\n    borderBottom.style.left = '0px';\n  }\n\n  if (direction === 'east') {\n    borderBottom.style.height = '100%';\n    borderBottom.style.width = '2px';\n    borderBottom.style.right = '0px';\n    borderBottom.style.top = '0px';\n  }\n\n  if (direction === 'west') {\n    borderBottom.style.height = '100%';\n    borderBottom.style.width = '2px';\n    borderBottom.style.left = '0px';\n    borderBottom.style.top = '0px';\n  }\n\n  targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\n\n\nfunction getDOMElement(element) {\n  var domElement;\n\n  if (!isNullOrUndefined(element)) {\n    if (typeof element === 'string') {\n      domElement = document.querySelector(element);\n    } else {\n      domElement = element;\n    }\n  }\n\n  return domElement;\n} // eslint-disable-next-line\n\n\nfunction wireEvents(args) {\n  if (isNullOrUndefined(args)) {\n    args = this;\n  }\n\n  var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (var i = 0; i < resizers.length; i++) {\n    selectedHandler = resizers[i];\n    EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n    var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n    EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n  }\n\n  var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n\n  if (!isNullOrUndefined(borderResizers)) {\n    for (var i = 0; i < borderResizers.length; i++) {\n      selectedHandler = borderResizers[i];\n      EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n      var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n      EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\n\n\nfunction getEventType(e) {\n  return e.indexOf('mouse') > -1 ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\n\n\nfunction onMouseDown(e) {\n  e.preventDefault();\n  targetElement = e.target.parentElement;\n  calculateValues();\n  originalMouseX = e.pageX;\n  originalMouseY = e.pageY;\n  e.target.classList.add(FOCUSED_HANDLER);\n\n  if (!isNullOrUndefined(resizeStart)) {\n    proxy = this;\n\n    if (resizeStart(e, proxy) === true) {\n      return;\n    }\n  }\n\n  if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n    containerElement = this.target === ('body' || 'document.body' || document.body) ? null : this.targetEle;\n    maxWidth = this.targetEle.clientWidth;\n    maxHeight = this.targetEle.clientHeight;\n  }\n\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, 'mousemove', onMouseMove, this);\n  EventHandler.add(document, 'mouseup', onMouseUp, this);\n\n  for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n    if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n      setLeft = false;\n    } else {\n      setLeft = true;\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onMouseUp(e) {\n  var touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  var touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  var eventName = Browser.info.name === 'msie' ? 'pointerdown' : 'touchstart';\n  EventHandler.remove(target, 'mousemove', onMouseMove);\n  EventHandler.remove(target, touchMoveEvent, onMouseMove);\n  EventHandler.remove(target, eventName, onMouseMove);\n\n  if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(resizeEnd)) {\n    proxy = this;\n    resizeEnd(e, proxy);\n  }\n\n  EventHandler.remove(document, 'mouseup', onMouseUp);\n  EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n\n/**\n * @returns {void}\n */\n\n\nfunction calculateValues() {\n  originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n  originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n  originalX = targetElement.getBoundingClientRect().left;\n  originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onTouchStart(e) {\n  targetElement = e.target.parentElement;\n  calculateValues();\n  var dialogResizeElement = targetElement.classList.contains('e-dialog');\n\n  if ((e.target.classList.contains(RESIZE_HANDLER) || e.target.classList.contains('e-dialog-border-resize')) && dialogResizeElement) {\n    e.target.classList.add(FOCUSED_HANDLER);\n  }\n\n  var coordinates = e.touches ? e.changedTouches[0] : e;\n  originalMouseX = coordinates.pageX;\n  originalMouseY = coordinates.pageY;\n\n  if (!isNullOrUndefined(resizeStart)) {\n    proxy = this;\n\n    if (resizeStart(e, proxy) === true) {\n      return;\n    }\n  }\n\n  var touchMoveEvent = Browser.info.name === 'msie' ? 'pointermove' : 'touchmove';\n  var touchEndEvent = Browser.info.name === 'msie' ? 'pointerup' : 'touchend';\n  var target = isNullOrUndefined(containerElement) ? document : containerElement;\n  EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n  EventHandler.add(document, touchEndEvent, onMouseUp, this);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\n\n\nfunction onMouseMove(e) {\n  if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n    selectedHandler = e.target;\n  } else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n    selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n  }\n\n  if (!isNullOrUndefined(selectedHandler)) {\n    var resizeTowards = '';\n\n    for (var i = 0; i < elementClass.length; i++) {\n      if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n        resizeTowards = elementClass[i];\n      }\n    }\n\n    if (!isNullOrUndefined(resize)) {\n      proxy = this;\n      resize(e, proxy);\n    }\n\n    switch (resizeTowards) {\n      case 'south':\n        resizeSouth(e);\n        break;\n\n      case 'north':\n        resizeNorth(e);\n        break;\n\n      case 'west':\n        resizeWest(e);\n        break;\n\n      case 'east':\n        resizeEast(e);\n        break;\n\n      case 'south-east':\n        resizeSouth(e);\n        resizeEast(e);\n        break;\n\n      case 'south-west':\n        resizeSouth(e);\n        resizeWest(e);\n        break;\n\n      case 'north-east':\n        resizeNorth(e);\n        resizeEast(e);\n        break;\n\n      case 'north-west':\n        resizeNorth(e);\n        resizeWest(e);\n        break;\n\n      default:\n        break;\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\n\n\nfunction getClientRectValues(element) {\n  return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeSouth(e) {\n  var documentHeight = document.documentElement.clientHeight;\n  var calculateValue = false;\n  var coordinates = e.touches ? e.changedTouches[0] : e;\n  var currentpageY = coordinates.pageY;\n  var targetRectValues = getClientRectValues(targetElement);\n  var containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && (documentHeight - currentpageY >= 0 || targetRectValues.top < 0)) {\n    calculateValue = true;\n  }\n\n  var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n  calculatedHeight = calculatedHeight > minHeight ? calculatedHeight : minHeight;\n  var containerTop = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerTop = containerRectValues.top;\n  }\n\n  var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n  var topWithoutborder = targetRectValues.top - containerTop - borderValue / 2;\n  topWithoutborder = topWithoutborder < 0 ? 0 : topWithoutborder;\n\n  if (targetRectValues.top > 0 && topWithoutborder + calculatedHeight > maxHeight) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.height = maxHeight - parseInt(topWithoutborder.toString(), 10) + 'px';\n    return;\n  }\n\n  var targetTop = 0;\n\n  if (calculateValue) {\n    if (targetRectValues.top < 0 && documentHeight + (targetRectValues.height + targetRectValues.top) > 0) {\n      targetTop = targetRectValues.top;\n\n      if (calculatedHeight + targetTop <= 30) {\n        calculatedHeight = targetRectValues.height - (targetRectValues.height + targetRectValues.top) + 30;\n      }\n    }\n\n    if (calculatedHeight + targetRectValues.top >= maxHeight) {\n      targetElement.style.height = targetRectValues.height + (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n    }\n\n    var calculatedTop = isNullOrUndefined(containerElement) ? targetTop : topWithoutborder;\n\n    if (calculatedHeight >= minHeight && calculatedHeight + calculatedTop <= maxHeight) {\n      targetElement.style.height = calculatedHeight + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeNorth(e) {\n  var calculateValue = false;\n  var boundaryRectValues;\n  var pageY = getEventType(e.type) === 'mouse' ? e.pageY : e.touches[0].pageY;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement)) {\n    boundaryRectValues = getClientRectValues(containerElement);\n  }\n\n  if (!isNullOrUndefined(containerElement) && targetRectValues.top - boundaryRectValues.top > 0) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageY > 0) {\n    calculateValue = true;\n  }\n\n  var currentHeight = originalHeight - (pageY - originalMouseY);\n\n  if (calculateValue) {\n    if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n      var containerTop = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerTop = boundaryRectValues.top;\n      }\n\n      var top_1 = originalY - containerTop + (pageY - originalMouseY);\n      top_1 = top_1 > 0 ? top_1 : 1;\n      targetElement.style.height = currentHeight + 'px';\n      targetElement.style.top = top_1 + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeWest(e) {\n  var documentWidth = document.documentElement.clientWidth;\n  var calculateValue = false;\n  var rectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    rectValues = getClientRectValues(containerElement);\n  }\n\n  var pageX = getEventType(e.type) === 'mouse' ? e.pageX : e.touches[0].pageX;\n  var targetRectValues = getClientRectValues(targetElement);\n  var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n  /* eslint-disable */\n\n  var left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n  var containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n  /* eslint-enable */\n\n  if (isNullOrUndefined(resizeWestWidth)) {\n    if (!isNullOrUndefined(containerElement)) {\n      resizeWestWidth = targetRectValues.left - left - borderValue / 2 + targetRectValues.width;\n      resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n    } else {\n      resizeWestWidth = documentWidth;\n    }\n  }\n\n  if (!isNullOrUndefined(containerElement) && Math.floor(targetRectValues.left - rectValues.left + targetRectValues.width + (rectValues.right - targetRectValues.right)) - borderValue <= maxWidth) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n    calculateValue = true;\n  }\n\n  var calculatedWidth = originalWidth - (pageX - originalMouseX);\n\n  if (setLeft) {\n    calculatedWidth = calculatedWidth > resizeWestWidth ? resizeWestWidth : calculatedWidth;\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      var containerLeft = 0;\n\n      if (!isNullOrUndefined(containerElement)) {\n        containerLeft = rectValues.left;\n      }\n\n      var left_1 = originalX - containerLeft + (pageX - originalMouseX);\n      left_1 = left_1 > 0 ? left_1 : 1;\n\n      if (calculatedWidth !== previousWidth && setWidth) {\n        targetElement.style.width = calculatedWidth + 'px';\n      }\n\n      if (setLeft) {\n        targetElement.style.left = left_1 + 'px';\n\n        if (left_1 === 1) {\n          setWidth = false;\n        } else {\n          setWidth = true;\n        }\n      }\n    }\n  }\n\n  previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\n\n\nfunction resizeEast(e) {\n  var documentWidth = document.documentElement.clientWidth;\n  var calculateValue = false;\n  var containerRectValues;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerRectValues = getClientRectValues(containerElement);\n  }\n\n  var coordinates = e.touches ? e.changedTouches[0] : e;\n  var pageX = coordinates.pageX;\n  var targetRectValues = getClientRectValues(targetElement);\n\n  if (!isNullOrUndefined(containerElement) && (targetRectValues.left - containerRectValues.left + targetRectValues.width <= maxWidth || targetRectValues.right - containerRectValues.left >= targetRectValues.width)) {\n    calculateValue = true;\n  } else if (isNullOrUndefined(containerElement) && documentWidth - pageX > 0) {\n    calculateValue = true;\n  }\n\n  var calculatedWidth = originalWidth + (pageX - originalMouseX);\n  var containerLeft = 0;\n\n  if (!isNullOrUndefined(containerElement)) {\n    containerLeft = containerRectValues.left;\n  }\n\n  if (targetRectValues.left - containerLeft + calculatedWidth > maxWidth) {\n    calculateValue = false;\n\n    if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n      return;\n    }\n\n    targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n  }\n\n  if (calculateValue) {\n    if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n      targetElement.style.width = calculatedWidth + 'px';\n    }\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\n\n\nfunction setMinHeight(minimumHeight) {\n  minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\n\n\nfunction setMaxWidth(value) {\n  maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\n\n\nfunction setMaxHeight(value) {\n  maxHeight = value;\n}\n/**\n * @returns {void}\n */\n\n\nfunction removeResize() {\n  var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n\n  for (var i = 0; i < handlers.length; i++) {\n    detach(handlers[i]);\n  }\n\n  var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n\n  if (!isNullOrUndefined(borderResizers)) {\n    for (var i = 0; i < borderResizers.length; i++) {\n      detach(borderResizers[i]);\n    }\n  }\n}\n\nvar __extends$1 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$1 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar ButtonProps =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(ButtonProps, _super);\n\n  function ButtonProps() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$1([Property(true)], ButtonProps.prototype, \"isFlat\", void 0);\n\n  __decorate$1([Property()], ButtonProps.prototype, \"buttonModel\", void 0);\n\n  __decorate$1([Property('Button')], ButtonProps.prototype, \"type\", void 0);\n\n  __decorate$1([Event()], ButtonProps.prototype, \"click\", void 0);\n\n  return ButtonProps;\n}(ChildProperty);\n/**\n * Configures the animation properties for both open and close the dialog.\n */\n\n\nvar AnimationSettings =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(AnimationSettings, _super);\n\n  function AnimationSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$1([Property('Fade')], AnimationSettings.prototype, \"effect\", void 0);\n\n  __decorate$1([Property(400)], AnimationSettings.prototype, \"duration\", void 0);\n\n  __decorate$1([Property(0)], AnimationSettings.prototype, \"delay\", void 0);\n\n  return AnimationSettings;\n}(ChildProperty);\n\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\n\nvar Dialog =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$1(Dialog, _super);\n  /*\n   * * Constructor for creating the widget\n   *\n   * @param\n   * @param\n   * @hidden\n   */\n\n\n  function Dialog(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.needsID = true;\n    return _this;\n  }\n  /**\n   *Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.render = function () {\n    this.initialize();\n    this.initRender();\n    this.wireEvents();\n\n    if (this.width === '100%') {\n      this.element.style.width = '';\n    }\n\n    if (this.minHeight !== '') {\n      this.element.style.minHeight = formatUnit(this.minHeight);\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n\n      if (this.animationSettings.effect === 'None') {\n        this.getMinHeight();\n      }\n    }\n\n    this.renderComplete();\n  };\n\n  Dialog.prototype.initializeValue = function () {\n    this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n  };\n  /**\n   *Initialize the event handler\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.preRender = function () {\n    var _this = this;\n\n    this.initializeValue();\n    this.headerContent = null;\n    this.allowMaxHeight = true;\n    this.preventVisibility = true;\n    this.clonedEle = this.element.cloneNode(true);\n\n    this.closeIconClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n\n      _this.hide(event);\n    };\n\n    this.dlgOverlayClickEventHandler = function (event) {\n      _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n      event.preventFocus = false;\n\n      _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n        if (!overlayClickEventArgs.preventFocus) {\n          _this.focusContent();\n        }\n\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    };\n\n    var localeText = {\n      close: 'Close'\n    };\n    this.l10n = new L10n('dialog', localeText, this.locale);\n    this.checkPositionData();\n\n    if (isNullOrUndefined(this.target)) {\n      var prevOnChange = this.isProtectedOnChange;\n      this.isProtectedOnChange = true;\n      this.target = document.body;\n      this.isProtectedOnChange = prevOnChange;\n    }\n  };\n\n  Dialog.prototype.updatePersistData = function () {\n    if (this.enablePersistence) {\n      this.setProperties({\n        width: parseFloat(this.element.style.width),\n        height: parseFloat(this.element.style.height),\n        position: {\n          X: parseFloat(this.dragObj.element.style.left),\n          Y: parseFloat(this.dragObj.element.style.top)\n        }\n      }, true);\n    }\n  };\n\n  Dialog.prototype.isNumberValue = function (value) {\n    var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n    return isNumber;\n  };\n\n  Dialog.prototype.checkPositionData = function () {\n    if (!isNullOrUndefined(this.position)) {\n      if (!isNullOrUndefined(this.position.X) && typeof this.position.X !== 'number') {\n        var isNumber = this.isNumberValue(this.position.X);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.X = parseFloat(this.position.X);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n\n      if (!isNullOrUndefined(this.position.Y) && typeof this.position.Y !== 'number') {\n        var isNumber = this.isNumberValue(this.position.Y);\n\n        if (isNumber) {\n          var prevOnChange = this.isProtectedOnChange;\n          this.isProtectedOnChange = true;\n          this.position.Y = parseFloat(this.position.Y);\n          this.isProtectedOnChange = prevOnChange;\n        }\n      }\n    }\n  };\n\n  Dialog.prototype.getEle = function (list, selector) {\n    var element = undefined;\n\n    for (var i = 0; i < list.length; i++) {\n      if (list[i].classList.contains(selector)) {\n        element = list[i];\n        break;\n      }\n    }\n\n    return element;\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.getMinHeight = function () {\n    var computedHeaderHeight = '0px';\n    var computedFooterHeight = '0px';\n\n    if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n      computedHeaderHeight = getComputedStyle(this.headerContent).height;\n    }\n\n    var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n\n    if (!isNullOrUndefined(footerEle)) {\n      computedFooterHeight = getComputedStyle(footerEle).height;\n    }\n\n    var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n    var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n    setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n    return headerHeight + 30 + footerHeight;\n  };\n\n  Dialog.prototype.onResizeStart = function (args, dialogObj) {\n    dialogObj.trigger('resizeStart', args);\n    return args.cancel;\n  };\n\n  Dialog.prototype.onResizing = function (args, dialogObj) {\n    dialogObj.trigger('resizing', args);\n  };\n\n  Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n    dialogObj.trigger('resizeStop', args);\n    this.updatePersistData();\n  };\n\n  Dialog.prototype.setResize = function () {\n    if (this.enableResize) {\n      if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n        return;\n      }\n\n      this.element.classList.add(DLG_RESIZABLE);\n      var computedHeight = getComputedStyle(this.element).minHeight;\n      var computedWidth = getComputedStyle(this.element).minWidth;\n      var direction = '';\n\n      for (var i = 0; i < this.resizeHandles.length; i++) {\n        if (this.resizeHandles[i] === 'All') {\n          direction = 'south north east west north-east north-west south-east south-west';\n          break;\n        } else {\n          var directionValue = '';\n\n          switch (this.resizeHandles[i].toString()) {\n            case 'SouthEast':\n              directionValue = 'south-east';\n              break;\n\n            case 'SouthWest':\n              directionValue = 'south-west';\n              break;\n\n            case 'NorthEast':\n              directionValue = 'north-east';\n              break;\n\n            case 'NorthWest':\n              directionValue = 'north-west';\n              break;\n\n            default:\n              directionValue = this.resizeHandles[i].toString();\n              break;\n          }\n\n          direction += directionValue.toLocaleLowerCase() + ' ';\n        }\n      }\n\n      if (this.enableRtl && direction.trim() === 'south-east') {\n        direction = 'south-west';\n      } else if (this.enableRtl && direction.trim() === 'south-west') {\n        direction = 'south-east';\n      }\n\n      if (this.isModal && this.enableRtl) {\n        this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n      } else if (this.isModal && this.target === document.body) {\n        this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      createResize({\n        element: this.element,\n        direction: direction,\n        minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n        maxHeight: this.targetEle.clientHeight,\n        minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n        maxWidth: this.targetEle.clientWidth,\n        boundary: this.target === document.body ? null : this.targetEle,\n        resizeBegin: this.onResizeStart.bind(this),\n        resizeComplete: this.onResizeComplete.bind(this),\n        resizing: this.onResizing.bind(this),\n        proxy: this\n      });\n      this.wireWindowResizeEvent();\n    } else {\n      removeResize();\n      this.unWireWindowResizeEvent();\n\n      if (this.isModal) {\n        this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n      } else {\n        this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n      }\n\n      this.element.classList.remove(DLG_RESIZABLE);\n    }\n  };\n\n  Dialog.prototype.getFocusElement = function (target) {\n    var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n    var items = target.querySelectorAll(value);\n    return {\n      element: items[items.length - 1]\n    };\n  };\n  /* istanbul ignore next */\n\n\n  Dialog.prototype.keyDown = function (event) {\n    var _this = this;\n\n    if (event.keyCode === 9) {\n      if (this.isModal) {\n        var buttonObj = void 0;\n\n        if (!isNullOrUndefined(this.btnObj)) {\n          buttonObj = this.btnObj[this.btnObj.length - 1];\n        }\n\n        if (isNullOrUndefined(this.btnObj) && !isNullOrUndefined(this.ftrTemplateContent)) {\n          buttonObj = this.getFocusElement(this.ftrTemplateContent);\n        }\n\n        if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n          buttonObj = this.getFocusElement(this.contentEle);\n        }\n\n        if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n          event.preventDefault();\n          this.focusableElements(this.element).focus();\n        }\n\n        if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n          event.preventDefault();\n\n          if (!isNullOrUndefined(buttonObj)) {\n            buttonObj.element.focus();\n          }\n        }\n      }\n    }\n\n    var element = document.activeElement;\n    var isTagName = ['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1;\n    var isContentEdit = false;\n\n    if (!isTagName) {\n      isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n    }\n\n    if (event.keyCode === 27 && this.closeOnEscape) {\n      this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n      var query = document.querySelector('.e-popup-open:not(.e-dialog)'); // 'document.querySelector' is used to find the elements rendered based on body\n\n      if (!(!isNullOrUndefined(query) && !query.classList.contains('e-toolbar-pop'))) {\n        this.hide(event);\n      }\n    }\n\n    if (event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' && isTagName && !isNullOrUndefined(this.primaryButtonEle) || event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' || isContentEdit) && !isNullOrUndefined(this.primaryButtonEle)) {\n      var buttonIndex_1;\n      var firstPrimary = this.buttons.some(function (data, index) {\n        buttonIndex_1 = index; // eslint-disable-next-line\n\n        var buttonModel = data.buttonModel;\n        return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n      });\n\n      if (firstPrimary && typeof this.buttons[buttonIndex_1].click === 'function') {\n        setTimeout(function () {\n          _this.buttons[buttonIndex_1].click.call(_this, event);\n        });\n      }\n    }\n  };\n  /**\n   * Initialize the control rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.initialize = function () {\n    if (!isNullOrUndefined(this.target)) {\n      this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n    }\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], ROOT);\n    }\n\n    if (Browser.isDevice) {\n      addClass([this.element], DEVICE);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setCSSClass();\n    }\n\n    this.setMaxHeight();\n  };\n  /**\n   * Initialize the rendering\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.initRender = function () {\n    var _this = this;\n\n    this.initialRender = true;\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        role: 'dialog'\n      });\n    }\n\n    if (this.zIndex === 1000) {\n      this.setzIndex(this.element, false);\n      this.calculatezIndex = true;\n    } else {\n      this.calculatezIndex = false;\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n      this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.setTargetContent();\n\n      if (this.header !== '' && !isNullOrUndefined(this.header)) {\n        this.setHeader();\n      }\n\n      this.renderCloseIcon();\n      this.setContent();\n\n      if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n        this.setFooterTemplate();\n      } else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n        this.setButton();\n      }\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n        this.setButton();\n      }\n    }\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n\n    if (!this.isBlazorServerRender()) {\n      attributes(this.element, {\n        'aria-modal': this.isModal ? 'true' : 'false'\n      });\n\n      if (this.isModal) {\n        this.setIsModal();\n      }\n    }\n\n    if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n      this.dlgContainer = this.element.parentElement;\n\n      for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n        if (childNodes[i].classList.contains('e-dlg-overlay')) {\n          this.dlgOverlay = childNodes[i];\n        }\n      }\n    }\n\n    if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true && !isNullOrUndefined(this.element.parentElement)) {\n      var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n      this.refElement = this.createElement('div', {\n        className: DLG_REF_ELEMENT\n      });\n      parentEle.insertBefore(this.refElement, this.isModal ? this.dlgContainer : this.element);\n    }\n\n    if (!isNullOrUndefined(this.targetEle)) {\n      // eslint-disable-next-line\n      this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n    }\n\n    this.popupObj = new Popup(this.element, {\n      height: this.height,\n      width: this.width,\n      zIndex: this.zIndex,\n      relateTo: this.target,\n      actionOnScroll: 'none',\n      enableRtl: this.enableRtl,\n      // eslint-disable-next-line\n      open: function (event) {\n        var eventArgs = {\n          container: _this.isModal ? _this.dlgContainer : _this.element,\n          element: _this.element,\n          target: _this.target,\n          preventFocus: false\n        };\n\n        if (_this.enableResize) {\n          _this.resetResizeIcon();\n        }\n\n        _this.trigger('open', eventArgs, function (openEventArgs) {\n          if (!openEventArgs.preventFocus) {\n            _this.focusContent();\n          }\n        });\n      },\n      // eslint-disable-next-line\n      close: function (event) {\n        if (_this.isModal) {\n          addClass([_this.dlgOverlay], 'e-fade');\n        }\n\n        _this.unBindEvent(_this.element);\n\n        if (_this.isModal) {\n          _this.dlgContainer.style.display = 'none';\n        }\n\n        _this.trigger('close', _this.closeArgs);\n\n        var activeEle = document.activeElement;\n\n        if (!isNullOrUndefined(activeEle) && !isNullOrUndefined(activeEle.blur)) {\n          activeEle.blur();\n        }\n\n        if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n          _this.storeActiveElement.focus();\n        }\n      }\n    });\n    this.positionChange();\n    this.setEnableRTL();\n\n    if (!this.isBlazorServerRender()) {\n      addClass([this.element], DLG_HIDE);\n\n      if (this.isModal) {\n        this.setOverlayZindex();\n      }\n    }\n\n    if (this.visible) {\n      this.show();\n    } else {\n      if (this.isModal) {\n        this.dlgOverlay.style.display = 'none';\n      }\n    }\n\n    this.initialRender = false;\n  };\n\n  Dialog.prototype.resetResizeIcon = function () {\n    var dialogConHeight = this.getMinHeight();\n\n    if (this.targetEle.offsetHeight < dialogConHeight) {\n      var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n      var resizeIcon = this.element.querySelector('.' + className);\n\n      if (!isNullOrUndefined(resizeIcon)) {\n        resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n      }\n    }\n  };\n\n  Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n    var zIndex;\n\n    if (isNullOrUndefined(zIndexValue)) {\n      zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n    } else {\n      zIndex = zIndexValue;\n    }\n\n    this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n    this.dlgContainer.style.zIndex = zIndex.toString();\n  };\n\n  Dialog.prototype.positionChange = function () {\n    if (this.isModal) {\n      if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else if (!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)) || isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n        this.setPopupPosition();\n      } else {\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n        this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n      }\n    } else {\n      this.setPopupPosition();\n    }\n  };\n\n  Dialog.prototype.setPopupPosition = function () {\n    this.popupObj.setProperties({\n      position: {\n        X: this.position.X,\n        Y: this.position.Y\n      }\n    });\n  };\n\n  Dialog.prototype.setAllowDragging = function () {\n    var _this = this;\n\n    var handleContent = '.' + DLG_HEADER_CONTENT;\n\n    if (!this.element.classList.contains(DLG_DRAG)) {\n      this.dragObj = new Draggable(this.element, {\n        clone: false,\n        isDragScroll: true,\n        abort: '.e-dlg-closeicon-btn',\n        handle: handleContent,\n        dragStart: function (event) {\n          _this.trigger('dragStart', event, function (dragEventArgs) {\n            if (isBlazor()) {\n              dragEventArgs.bindEvents(event.dragElement);\n            }\n          });\n        },\n        dragStop: function (event) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.position)) {\n              _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n            } // Reset the dialog position after drag completion.\n\n\n            _this.element.style.position = 'relative';\n          }\n\n          _this.trigger('dragStop', event);\n\n          _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n\n          _this.updatePersistData();\n        },\n        drag: function (event) {\n          _this.trigger('drag', event);\n        }\n      });\n\n      if (!isNullOrUndefined(this.targetEle)) {\n        this.dragObj.dragArea = this.targetEle;\n      }\n    }\n  };\n\n  Dialog.prototype.setButton = function () {\n    if (!this.isBlazorServerRender()) {\n      this.buttonContent = [];\n      this.btnObj = []; // eslint-disable-next-line\n\n      for (var i = 0; i < this.buttons.length; i++) {\n        var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n        var btn = this.createElement('button', {\n          className: this.cssClass,\n          attrs: {\n            type: buttonType\n          }\n        });\n        this.buttonContent.push(btn.outerHTML);\n      }\n\n      this.setFooterTemplate();\n    }\n\n    var footerBtn;\n\n    for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n      if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n        footerBtn = childNodes[i].querySelectorAll('button');\n      }\n    }\n\n    for (var i = 0; i < this.buttons.length; i++) {\n      if (!this.isBlazorServerRender()) {\n        this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n      }\n\n      if (this.isBlazorServerRender()) {\n        this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n      }\n\n      if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n        }\n\n        if (typeof this.buttons[i].click === 'object') {\n          EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n        }\n      }\n\n      if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n        this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n\n        if (this.buttons[i].isFlat) {\n          this.btnObj[i].element.classList.add('e-flat');\n        }\n\n        this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n      }\n    }\n  };\n\n  Dialog.prototype.buttonClickHandler = function (index) {\n    this.trigger('buttons[' + index + '].click', {});\n  };\n\n  Dialog.prototype.setContent = function () {\n    this.contentEle = this.createElement('div', {\n      className: DLG_CONTENT,\n      id: this.element.id + '_dialog-content'\n    });\n\n    if (this.innerContentElement) {\n      this.contentEle.appendChild(this.innerContentElement);\n    } else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n      // eslint-disable-next-line\n      if (typeof this.content === 'string' && !isBlazor()) {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      } else if (this.content instanceof HTMLElement) {\n        this.contentEle.appendChild(this.content);\n      } else {\n        this.setTemplate(this.content, this.contentEle, 'content');\n      }\n    }\n\n    if (!isNullOrUndefined(this.headerContent)) {\n      this.element.insertBefore(this.contentEle, this.element.children[1]);\n    } else {\n      this.element.insertBefore(this.contentEle, this.element.children[0]);\n    }\n\n    if (this.height === 'auto') {\n      if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n        this.element.style.width = formatUnit(this.width);\n      }\n\n      this.setMaxHeight();\n    }\n  };\n\n  Dialog.prototype.setTemplate = function (template, toElement, prop) {\n    var templateFn;\n    var templateProps; // eslint-disable-next-line\n\n    if (toElement.classList.contains(DLG_HEADER)) {\n      templateProps = this.element.id + 'header';\n    } else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n      templateProps = this.element.id + 'footerTemplate';\n    } else {\n      templateProps = this.element.id + 'content';\n    }\n\n    var templateValue;\n\n    if (!isNullOrUndefined(template.outerHTML)) {\n      toElement.appendChild(template);\n    } else if (typeof template === 'string' || typeof template !== 'string' || isBlazor() && !this.isStringTemplate) {\n      if (typeof template === 'string') {\n        template = this.sanitizeHelper(template);\n      }\n\n      if (this.isVue || typeof template !== 'string') {\n        templateFn = compile(template);\n        templateValue = template;\n      } else {\n        toElement.innerHTML = template;\n      }\n    }\n\n    var fromElements = [];\n\n    if (!isNullOrUndefined(templateFn)) {\n      var isString = isBlazor() && !this.isStringTemplate && templateValue.indexOf('<div>Blazor') === 0 ? this.isStringTemplate : true;\n\n      for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n        var item = _a[_i];\n        fromElements.push(item);\n      }\n\n      append([].slice.call(fromElements), toElement);\n    }\n  };\n  /*\n   * @returns {void}\n   * @hidden\n   * @value\n   */\n\n\n  Dialog.prototype.sanitizeHelper = function (value) {\n    if (this.enableHtmlSanitizer) {\n      var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n      var beforeEvent = {\n        cancel: false,\n        helper: null\n      };\n      extend(dialogItem, dialogItem, beforeEvent);\n      this.trigger('beforeSanitizeHtml', dialogItem);\n\n      if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n        value = dialogItem.helper(value);\n      } else if (!dialogItem.cancel) {\n        value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n      }\n    }\n\n    return value;\n  };\n\n  Dialog.prototype.setMaxHeight = function () {\n    if (!this.allowMaxHeight) {\n      return;\n    }\n\n    var display = this.element.style.display;\n    this.element.style.display = 'none';\n    this.element.style.maxHeight = !isNullOrUndefined(this.target) && this.targetEle.offsetHeight < window.innerHeight ? this.targetEle.offsetHeight - 20 + 'px' : window.innerHeight - 20 + 'px';\n    this.element.style.display = display;\n\n    if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle) && this.element.offsetHeight < this.contentEle.offsetHeight) {\n      this.element.style.height = 'inherit';\n    }\n  };\n\n  Dialog.prototype.setEnableRTL = function () {\n    if (!this.isBlazorServerRender()) {\n      // eslint-disable-next-line\n      this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n    }\n\n    if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n      removeResize();\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.setTargetContent = function () {\n    var _this = this;\n\n    if (isNullOrUndefined(this.content) || this.content === '') {\n      var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n\n      if (this.element.children.length > 0 || isContent) {\n        this.innerContentElement = document.createDocumentFragment();\n        [].slice.call(this.element.childNodes).forEach(function (el) {\n          if (el.nodeType !== 8) {\n            _this.innerContentElement.appendChild(el);\n          }\n        });\n      }\n    }\n  };\n\n  Dialog.prototype.setHeader = function () {\n    if (this.headerEle) {\n      this.headerEle.innerHTML = '';\n    } else {\n      this.headerEle = this.createElement('div', {\n        id: this.element.id + '_title',\n        className: DLG_HEADER\n      });\n    }\n\n    this.createHeaderContent();\n    this.headerContent.appendChild(this.headerEle);\n    this.setTemplate(this.header, this.headerEle, 'header');\n    attributes(this.element, {\n      'aria-labelledby': this.element.id + '_title'\n    });\n    this.element.insertBefore(this.headerContent, this.element.children[0]);\n\n    if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n      this.setAllowDragging();\n    }\n  };\n\n  Dialog.prototype.setFooterTemplate = function () {\n    if (this.ftrTemplateContent) {\n      this.ftrTemplateContent.innerHTML = '';\n    } else {\n      this.ftrTemplateContent = this.createElement('div', {\n        className: DLG_FOOTER_CONTENT\n      });\n    }\n\n    if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n      this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n    } else {\n      this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n    }\n\n    this.element.appendChild(this.ftrTemplateContent);\n  };\n\n  Dialog.prototype.createHeaderContent = function () {\n    if (isNullOrUndefined(this.headerContent)) {\n      this.headerContent = this.createElement('div', {\n        id: this.element.id + '_dialog-header',\n        className: DLG_HEADER_CONTENT\n      });\n    }\n  };\n\n  Dialog.prototype.renderCloseIcon = function () {\n    if (this.showCloseIcon) {\n      this.closeIcon = this.createElement('button', {\n        className: DLG_CLOSE_ICON_BTN,\n        attrs: {\n          type: 'button'\n        }\n      });\n      this.closeIconBtnObj = new Button({\n        cssClass: 'e-flat',\n        iconCss: DLG_CLOSE_ICON + ' ' + ICON\n      });\n      this.closeIconTitle();\n\n      if (!isNullOrUndefined(this.headerContent)) {\n        prepend([this.closeIcon], this.headerContent);\n      } else {\n        this.createHeaderContent();\n        prepend([this.closeIcon], this.headerContent);\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n      }\n\n      this.closeIconBtnObj.appendTo(this.closeIcon);\n    }\n  };\n\n  Dialog.prototype.closeIconTitle = function () {\n    this.l10n.setLocale(this.locale);\n    var closeIconTitle = this.l10n.getConstant('close');\n    this.closeIcon.setAttribute('title', closeIconTitle);\n    this.closeIcon.setAttribute('aria-label', closeIconTitle);\n  };\n\n  Dialog.prototype.setCSSClass = function (oldCSSClass) {\n    if (oldCSSClass) {\n      removeClass([this.element], oldCSSClass.split(' '));\n\n      if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n        removeClass([this.dlgContainer], oldCSSClass.split(' '));\n      }\n    }\n\n    if (this.cssClass) {\n      addClass([this.element], this.cssClass.split(' '));\n\n      if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n        addClass([this.dlgContainer], this.cssClass.split(' '));\n      }\n    }\n  };\n\n  Dialog.prototype.setIsModal = function () {\n    this.dlgContainer = this.createElement('div', {\n      className: DLG_CONTAINER\n    });\n    this.setCSSClass();\n    this.element.classList.remove(DLG_SHOW);\n    this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n    this.dlgContainer.appendChild(this.element);\n    addClass([this.element], MODAL_DLG);\n    this.dlgOverlay = this.createElement('div', {\n      className: DLG_OVERLAY\n    });\n    this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n    this.dlgContainer.appendChild(this.dlgOverlay);\n  };\n\n  Dialog.prototype.getValidFocusNode = function (items) {\n    var node;\n\n    for (var u = 0; u < items.length; u++) {\n      node = items[u];\n\n      if ((node.clientHeight > 0 || node.tagName.toLowerCase() === 'a' && node.hasAttribute('href')) && node.tabIndex > -1 && !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n        return node;\n      } else {\n        node = null;\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.focusableElements = function (content) {\n    if (!isNullOrUndefined(content)) {\n      var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n      var items = content.querySelectorAll(value);\n      return this.getValidFocusNode(items);\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.getAutoFocusNode = function (container) {\n    var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n    var value = '[autofocus]';\n    var items = container.querySelectorAll(value);\n    var validNode = this.getValidFocusNode(items);\n\n    if (isBlazor()) {\n      this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n    }\n\n    if (!isNullOrUndefined(validNode)) {\n      node = validNode;\n    } else {\n      validNode = this.focusableElements(this.contentEle);\n\n      if (!isNullOrUndefined(validNode)) {\n        return node = validNode;\n      } else if (!isNullOrUndefined(this.primaryButtonEle)) {\n        return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n      }\n    }\n\n    return node;\n  };\n\n  Dialog.prototype.disableElement = function (element, t) {\n    var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n\n    if (elementMatch) {\n      for (; element; element = element.parentNode) {\n        if (element instanceof Element && elementMatch.call(element, t)) {\n          /* istanbul ignore next */\n          return element;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  Dialog.prototype.focusContent = function () {\n    var element = this.getAutoFocusNode(this.element);\n    var node = !isNullOrUndefined(element) ? element : this.element;\n    var userAgent = Browser.userAgent;\n\n    if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n      this.element.focus();\n    }\n\n    node.focus();\n    this.unBindEvent(this.element);\n    this.bindEvent(this.element);\n  };\n\n  Dialog.prototype.bindEvent = function (element) {\n    EventHandler.add(element, 'keydown', this.keyDown, this);\n  };\n\n  Dialog.prototype.unBindEvent = function (element) {\n    EventHandler.remove(element, 'keydown', this.keyDown);\n  };\n\n  Dialog.prototype.updateSanitizeContent = function () {\n    if (!this.isBlazorServerRender()) {\n      this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n    }\n  };\n\n  Dialog.prototype.isBlazorServerRender = function () {\n    return isBlazor() && this.isServerRendered;\n  };\n  /**\n   * Module required function\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.getModuleName = function () {\n    return 'dialog';\n  };\n  /**\n   * Called internally if any of the property value changed\n   *\n   * @param {DialogModel} newProp - specifies the new property\n   * @param {DialogModel} oldProp - specifies the old property\n   * @private\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'content':\n          if (!isNullOrUndefined(this.content) && this.content !== '') {\n            if (this.isBlazorServerRender()) {\n              this.contentEle = this.element.querySelector('.e-dlg-content');\n            }\n\n            if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n              if (!this.isBlazorServerRender()) {\n                this.contentEle.innerHTML = '';\n              }\n\n              if (typeof this.content === 'function') {\n                this.clearTemplate(['content']);\n                detach(this.contentEle);\n                this.contentEle = null;\n                this.setContent();\n              } else {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                typeof this.content === 'string' ? this.isBlazorServerRender() && this.contentEle.innerText === '' ? this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) : this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n              }\n\n              this.setMaxHeight();\n            } else {\n              if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                this.setContent();\n              }\n            }\n          } else if (!isNullOrUndefined(this.contentEle)) {\n            detach(this.contentEle);\n            this.contentEle = null;\n          }\n\n          break;\n\n        case 'header':\n          if (this.header === '' || isNullOrUndefined(this.header)) {\n            if (this.headerEle) {\n              detach(this.headerEle);\n              this.headerEle = null;\n            }\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n              this.setHeader();\n            }\n          }\n\n          break;\n\n        case 'footerTemplate':\n          if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n            if (!this.ftrTemplateContent) {\n              return;\n            }\n\n            detach(this.ftrTemplateContent);\n            this.ftrTemplateContent = null;\n            this.buttons = [{}];\n          } else {\n            if (!this.isBlazorServerRender() || isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n              this.setFooterTemplate();\n            }\n\n            this.buttons = [{}];\n          }\n\n          break;\n\n        case 'showCloseIcon':\n          if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n            if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n              detach(this.headerContent);\n              this.headerContent = null;\n            } else if (!this.showCloseIcon) {\n              detach(this.closeIcon);\n            } else {\n              if (this.isBlazorServerRender()) {\n                this.wireEvents();\n              }\n            }\n          } else {\n            if (!this.isBlazorServerRender()) {\n              this.renderCloseIcon();\n            }\n\n            this.wireEvents();\n          }\n\n          break;\n\n        case 'locale':\n          if (this.showCloseIcon) {\n            this.closeIconTitle();\n          }\n\n          break;\n\n        case 'visible':\n          // eslint-disable-next-line\n          this.visible ? this.show() : this.hide();\n          break;\n\n        case 'isModal':\n          this.updateIsModal();\n          break;\n\n        case 'height':\n          setStyleAttribute(this.element, {\n            'height': formatUnit(newProp.height)\n          });\n          this.updatePersistData();\n          break;\n\n        case 'width':\n          setStyleAttribute(this.element, {\n            'width': formatUnit(newProp.width)\n          });\n          this.updatePersistData();\n          break;\n\n        case 'zIndex':\n          this.popupObj.zIndex = this.zIndex;\n\n          if (this.isModal) {\n            this.setOverlayZindex(this.zIndex);\n          }\n\n          if (this.element.style.zIndex !== this.zIndex.toString()) {\n            this.calculatezIndex = false;\n          }\n\n          break;\n\n        case 'cssClass':\n          this.setCSSClass(oldProp.cssClass);\n          break;\n\n        case 'buttons':\n          {\n            var buttonCount = this.buttons.length;\n\n            if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n              detach(this.ftrTemplateContent);\n              this.ftrTemplateContent = null;\n            }\n\n            for (var i = 0; i < buttonCount; i++) {\n              if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                this.footerTemplate = '';\n                this.setButton();\n              }\n            }\n\n            break;\n          }\n\n        case 'allowDragging':\n          if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n            this.setAllowDragging();\n          } else {\n            this.dragObj.destroy();\n          }\n\n          break;\n\n        case 'target':\n          this.setTarget(newProp.target);\n          break;\n\n        case 'position':\n          this.checkPositionData();\n\n          if (this.isModal) {\n            var positionX = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.X) ? oldProp.position.X : this.position.X;\n            var positionY = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.Y) ? oldProp.position.Y : this.position.Y;\n\n            if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n              this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n            }\n          }\n\n          this.positionChange();\n          this.updatePersistData();\n          break;\n\n        case 'enableRtl':\n          this.setEnableRTL();\n          break;\n\n        case 'enableResize':\n          this.setResize();\n          break;\n\n        case 'minHeight':\n          if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n          }\n\n          break;\n      }\n    }\n  };\n\n  Dialog.prototype.setTarget = function (target) {\n    this.popupObj.relateTo = target;\n    this.target = target;\n    this.targetEle = typeof this.target === 'string' ? document.querySelector(this.target) : this.target;\n\n    if (this.dragObj) {\n      this.dragObj.dragArea = this.targetEle;\n    }\n\n    this.setMaxHeight();\n\n    if (this.isModal) {\n      this.updateIsModal();\n    }\n\n    if (this.enableResize) {\n      this.setResize();\n    }\n  };\n\n  Dialog.prototype.updateIsModal = function () {\n    this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n\n    if (this.isModal) {\n      if (isNullOrUndefined(this.dlgOverlay)) {\n        this.setIsModal();\n        this.element.style.top = '0px';\n        this.element.style.left = '0px';\n\n        if (!isNullOrUndefined(this.targetEle)) {\n          this.targetEle.appendChild(this.dlgContainer);\n        }\n      }\n    } else {\n      removeClass([this.element], MODAL_DLG);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n      detach(this.dlgOverlay);\n\n      while (this.dlgContainer.firstChild) {\n        this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n      }\n\n      this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n    }\n\n    if (this.visible) {\n      this.show();\n    }\n\n    this.positionChange();\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n\n  Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n    var prevOnChange = this.isProtectedOnChange;\n    this.isProtectedOnChange = true;\n    var currentzIndex = getZindexPartial(zIndexElement);\n    this.zIndex = currentzIndex > this.zIndex ? currentzIndex : this.zIndex;\n    this.isProtectedOnChange = prevOnChange;\n\n    if (setPopupZindex) {\n      this.popupObj.zIndex = this.zIndex;\n    }\n  };\n\n  Dialog.prototype.windowResizeHandler = function () {\n    setMaxWidth(this.targetEle.clientWidth);\n    setMaxHeight(this.targetEle.clientHeight);\n    this.setMaxHeight();\n  };\n  /**\n   * Get the properties to be maintained in the persisted state.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.getPersistData = function () {\n    return this.addOnPersist(['width', 'height', 'position']);\n  };\n  /**\n   * To destroy the widget\n   *\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.destroy = function () {\n    if (this.isDestroyed) {\n      return;\n    }\n\n    var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n    var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n    removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n\n    if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n    }\n\n    if (this.isModal) {\n      removeClass([!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body], SCROLL_DISABLED);\n    }\n\n    this.unWireEvents();\n\n    if (!isNullOrUndefined(this.btnObj)) {\n      for (var i = 0; i < this.btnObj.length; i++) {\n        this.btnObj[i].destroy();\n      }\n    }\n\n    if (!isNullOrUndefined(this.closeIconBtnObj)) {\n      this.closeIconBtnObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.dragObj)) {\n      this.dragObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], classArray);\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      removeClass([this.element], this.cssClass.split(' '));\n    }\n\n    if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n      this.refElement.parentElement.insertBefore(this.isModal ? this.dlgContainer : this.element, this.refElement);\n      detach(this.refElement);\n      this.refElement = undefined;\n    }\n\n    if (this.isModal && !this.isBlazorServerRender()) {\n      detach(this.dlgOverlay);\n      this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n      detach(this.dlgContainer);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      this.element.innerHTML = this.clonedEle.innerHTML;\n    }\n\n    if (this.isBlazorServerRender()) {\n      if (!isNullOrUndefined(this.element.children)) {\n        for (var i = 0; i <= this.element.children.length; i++) {\n          i = i - i;\n          detach(this.element.children[i]);\n        }\n      }\n    }\n\n    for (var i = 0; i < attrs.length; i++) {\n      this.element.removeAttribute(attrs[i]);\n    }\n\n    if (!this.isBlazorServerRender()) {\n      _super.prototype.destroy.call(this);\n    } else {\n      this.isDestroyed = true;\n    } // eslint-disable-next-line\n\n\n    if (this.isReact) {\n      this.clearTemplate();\n    }\n  };\n\n  Dialog.prototype.wireWindowResizeEvent = function () {\n    window.addEventListener('resize', this.windowResizeHandler.bind(this));\n  };\n\n  Dialog.prototype.unWireWindowResizeEvent = function () {\n    window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n  };\n  /**\n   * Binding event to the element while widget creation\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Dialog.prototype.wireEvents = function () {\n    if (this.isBlazorServerRender() && this.showCloseIcon) {\n      this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n    }\n\n    if (this.showCloseIcon) {\n      EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n    }\n\n    if (this.isModal && this.dlgOverlay) {\n      EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n    }\n  };\n  /**\n   * Unbinding event to the element while widget destroy\n   *\n   * @returns {void}\n   * @hidden\n   */\n\n\n  Dialog.prototype.unWireEvents = function () {\n    if (this.showCloseIcon) {\n      EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n    }\n\n    if (this.isModal) {\n      EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n    }\n\n    if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n      for (var i = 0; i < this.buttons.length; i++) {\n        if (typeof this.buttons[i].click === 'function') {\n          EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n        }\n      }\n    }\n  };\n  /**\n   * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n   *\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.refreshPosition = function () {\n    this.popupObj.refreshPosition();\n  };\n  /**\n   * Returns the current width and height of the Dialog\n   *\n   * @returns {DialogDimension}- returns the dialog element Dimension.\n   * @public\n   */\n\n\n  Dialog.prototype.getDimension = function () {\n    var dialogWidth = this.element.offsetWidth;\n    var dialogHeight = this.element.offsetHeight;\n    return {\n      width: dialogWidth,\n      height: dialogHeight\n    };\n  };\n  /**\n   * Opens the dialog if it is in hidden state.\n   * To open the dialog with full screen width, set the parameter to true.\n   *\n   * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.show = function (isFullScreen) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (!this.element.classList.contains(DLG_SHOW) || !isNullOrUndefined(isFullScreen)) {\n      if (!isNullOrUndefined(isFullScreen)) {\n        this.fullScreen(isFullScreen);\n      }\n\n      var eventArgs_1 = isBlazor() ? {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        maxHeight: this.element.style.maxHeight\n      } : {\n        cancel: false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        target: this.target,\n        maxHeight: this.element.style.maxHeight\n      };\n      this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n        if (!beforeOpenArgs.cancel) {\n          if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n            _this.allowMaxHeight = false;\n            _this.element.style.maxHeight = eventArgs_1.maxHeight;\n          }\n\n          _this.storeActiveElement = document.activeElement;\n          _this.element.tabIndex = -1;\n\n          if (_this.isModal && !isNullOrUndefined(_this.dlgOverlay)) {\n            _this.dlgOverlay.style.display = 'block';\n            _this.dlgContainer.style.display = 'flex';\n            removeClass([_this.dlgOverlay], 'e-fade');\n\n            if (!isNullOrUndefined(_this.targetEle)) {\n              if (_this.targetEle === document.body) {\n                _this.dlgContainer.style.position = 'fixed';\n              } else {\n                _this.dlgContainer.style.position = 'absolute';\n              }\n\n              _this.dlgOverlay.style.position = 'absolute';\n              _this.element.style.position = 'relative';\n              addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            } else {\n              addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n\n          var openAnimation = {\n            name: _this.animationSettings.effect + 'In',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          };\n          var zIndexElement = _this.isModal ? _this.element.parentElement : _this.element;\n\n          if (_this.calculatezIndex) {\n            _this.setzIndex(zIndexElement, true);\n\n            setStyleAttribute(_this.element, {\n              'zIndex': _this.zIndex\n            });\n\n            if (_this.isModal) {\n              _this.setOverlayZindex(_this.zIndex);\n            }\n          } // eslint-disable-next-line\n\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n          _this.dialogOpen = true;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = true;\n          _this.preventVisibility = true;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n      });\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    if (this.isReact) {\n      this.renderReactTemplates();\n    }\n  };\n  /**\n   * Closes the dialog if it is in visible state.\n   *\n   * @param { Event } event - specifies the event\n   * @returns {void}\n   */\n\n\n  Dialog.prototype.hide = function (event) {\n    var _this = this;\n\n    if (!this.element.classList.contains(ROOT)) {\n      return;\n    }\n\n    if (this.preventVisibility) {\n      var eventArgs = isBlazor() ? {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event\n      } : {\n        cancel: false,\n        isInteracted: event ? true : false,\n        element: this.element,\n        target: this.target,\n        container: this.isModal ? this.dlgContainer : this.element,\n        event: event,\n        closedBy: this.dlgClosedBy\n      };\n      this.closeArgs = eventArgs;\n      this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n        if (!beforeCloseArgs.cancel) {\n          if (_this.isModal) {\n            if (!isNullOrUndefined(_this.targetEle)) {\n              removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n            }\n          }\n\n          if (document.body.classList.contains(DLG_TARGET) && document.body.classList.contains(SCROLL_DISABLED)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n          }\n\n          var closeAnimation = {\n            name: _this.animationSettings.effect + 'Out',\n            duration: _this.animationSettings.duration,\n            delay: _this.animationSettings.delay\n          }; // eslint-disable-next-line\n\n          _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n          _this.dialogOpen = false;\n          var prevOnChange = _this.isProtectedOnChange;\n          _this.isProtectedOnChange = true;\n          _this.visible = false;\n          _this.preventVisibility = false;\n          _this.isProtectedOnChange = prevOnChange;\n        }\n\n        _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n      });\n    }\n  }; // eslint-disable-next-line\n\n  /**\n   * Specifies to view the Full screen Dialog.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  Dialog.prototype.fullScreen = function (args) {\n    /* eslint-disable */\n    var top = this.element.offsetTop;\n    var left = this.element.offsetLeft;\n    /* eslint-enable */\n\n    if (args) {\n      this.element.style.top = document.scrollingElement.scrollTop + 'px';\n      addClass([this.element], FULLSCREEN);\n      var display = this.element.style.display;\n      this.element.style.display = 'none';\n      this.element.style.maxHeight = !isNullOrUndefined(this.target) ? this.targetEle.offsetHeight + 'px' : window.innerHeight + 'px';\n      this.element.style.display = display;\n      addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n        this.dragObj.destroy();\n      }\n    } else {\n      removeClass([this.element], FULLSCREEN);\n      removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n\n      if (this.allowDragging && !isNullOrUndefined(this.headerContent)) {\n        this.setAllowDragging();\n      }\n    }\n\n    return args;\n  };\n  /**\n   * Returns the dialog button instances.\n   * Based on that, you can dynamically change the button states.\n   *\n   * @param { number } index - Index of the button.\n   * @returns {Button} - returns the button element\n   */\n\n\n  Dialog.prototype.getButtons = function (index) {\n    if (!isNullOrUndefined(index)) {\n      return this.btnObj[index];\n    }\n\n    return this.btnObj;\n  };\n\n  __decorate$1([Property('')], Dialog.prototype, \"content\", void 0);\n\n  __decorate$1([Property(true)], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"enablePersistence\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"showCloseIcon\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"isModal\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"header\", void 0);\n\n  __decorate$1([Property(true)], Dialog.prototype, \"visible\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"enableResize\", void 0);\n\n  __decorate$1([Property(['South-East'])], Dialog.prototype, \"resizeHandles\", void 0);\n\n  __decorate$1([Property('auto')], Dialog.prototype, \"height\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"minHeight\", void 0);\n\n  __decorate$1([Property('100%')], Dialog.prototype, \"width\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"cssClass\", void 0);\n\n  __decorate$1([Property(1000)], Dialog.prototype, \"zIndex\", void 0);\n\n  __decorate$1([Property(null)], Dialog.prototype, \"target\", void 0);\n\n  __decorate$1([Property('')], Dialog.prototype, \"footerTemplate\", void 0);\n\n  __decorate$1([Property(false)], Dialog.prototype, \"allowDragging\", void 0);\n\n  __decorate$1([Collection([{}], ButtonProps)], Dialog.prototype, \"buttons\", void 0);\n\n  __decorate$1([Property(true)], Dialog.prototype, \"closeOnEscape\", void 0);\n\n  __decorate$1([Complex({}, AnimationSettings)], Dialog.prototype, \"animationSettings\", void 0);\n\n  __decorate$1([Complex({\n    X: 'center',\n    Y: 'center'\n  }, PositionData)], Dialog.prototype, \"position\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"created\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"open\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"beforeOpen\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"close\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"beforeClose\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"dragStart\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"dragStop\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"drag\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"overlayClick\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"resizeStart\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"resizing\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"resizeStop\", void 0);\n\n  __decorate$1([Event()], Dialog.prototype, \"destroyed\", void 0);\n\n  Dialog = __decorate$1([NotifyPropertyChanges], Dialog);\n  return Dialog;\n}(Component);\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\n\n\nvar DialogUtility;\n\n(function (DialogUtility) {\n  /**\n   * An alert dialog box is used to display warning like messages to the users.\n   * ```\n   * Eg : DialogUtility.alert('Alert message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {AlertDialogArgs} args - specifies the string\n   * @returns {Dialog} - returns the dialog element.\n   */\n  function alert(args) {\n    // eslint-disable-next-line\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_ALERT\n    });\n    document.body.appendChild(dialogElement);\n    var alertDialogObj;\n    var okButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      alertDialogObj = createDialog({\n        content: args,\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okButtonModel\n      }, dialogElement);\n    } else {\n      alertDialogObj = createDialog(alertOptions(args), dialogElement);\n    }\n\n    alertDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(alertDialogObj);\n      }\n\n      alertDialogObj.destroy();\n\n      if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n        alertDialogObj.element.parentElement.remove();\n        alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        alertDialogObj.element.remove();\n      }\n    };\n\n    return alertDialogObj;\n  }\n\n  DialogUtility.alert = alert;\n  /**\n   * A confirm dialog displays a specified message along with OK and Cancel button.\n   * ```\n   * Eg : DialogUtility.confirm('Confirm dialog message');\n   *\n   * ```\n   */\n\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {ConfirmDialogArgs} args - specifies the args\n   * @returns {Dialog} - returns te element\n   */\n\n  function confirm(args) {\n    // eslint-disable-next-line\n    var dialogElement = createElement('div', {\n      'className': DLG_UTIL_CONFIRM\n    });\n    document.body.appendChild(dialogElement);\n    var confirmDialogObj;\n    var okCancelButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }, {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (typeof args === 'string') {\n      confirmDialogObj = createDialog({\n        position: {\n          X: 'center',\n          Y: 'top'\n        },\n        content: args,\n        isModal: true,\n        header: DLG_UTIL_DEFAULT_TITLE,\n        buttons: okCancelButtonModel\n      }, dialogElement);\n    } else {\n      confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n    }\n\n    confirmDialogObj.close = function () {\n      if (args && args.close) {\n        args.close.apply(confirmDialogObj);\n      }\n\n      confirmDialogObj.destroy();\n\n      if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n        confirmDialogObj.element.parentElement.remove();\n        confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n      } else {\n        confirmDialogObj.element.remove();\n      }\n    };\n\n    return confirmDialogObj;\n  }\n\n  DialogUtility.confirm = confirm; // eslint-disable-next-line\n\n  function createDialog(options, element) {\n    var dialogObject = new Dialog(options);\n    dialogObject.appendTo(element);\n    return dialogObject;\n  } // eslint-disable-next-line\n\n\n  function alertOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setAlertButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function confirmOptions(option) {\n    var options = {};\n    options.buttons = [];\n    options = formOptions(options, option);\n    options = setConfirmButtonModel(options, option);\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formOptions(options, option) {\n    options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n    options.content = !isNullOrUndefined(option.content) ? option.content : '';\n    options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n    options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n    options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n    options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n    options.position = !isNullOrUndefined(option.position) ? option.position : {\n      X: 'center',\n      Y: 'top'\n    };\n    options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings : {\n      effect: 'Fade',\n      duration: 400,\n      delay: 0\n    };\n    options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n    options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n    options.open = !isNullOrUndefined(option.open) ? option.open : null;\n    options.width = !isNullOrUndefined(option.width) ? option.width : 'auto';\n    options.height = !isNullOrUndefined(option.height) ? option.height : 'auto';\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setAlertButtonModel(options, option) {\n    var alertButtonModel = [{\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    }];\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n    } else {\n      options.buttons = alertButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function setConfirmButtonModel(options, option) {\n    var okButtonModel = {\n      buttonModel: {\n        isPrimary: true,\n        content: 'OK'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n    var cancelButtonModel = {\n      buttonModel: {\n        content: 'Cancel'\n      },\n      click: function () {\n        this.hide();\n      }\n    };\n\n    if (!isNullOrUndefined(option.okButton)) {\n      options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n    } else {\n      options.buttons[0] = okButtonModel;\n    }\n\n    if (!isNullOrUndefined(option.cancelButton)) {\n      options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n    } else {\n      options.buttons[1] = cancelButtonModel;\n    }\n\n    return options;\n  } // eslint-disable-next-line\n\n\n  function formButtonModel(buttonModel, option, buttonPropModel) {\n    var buttonProps = buttonPropModel;\n\n    if (!isNullOrUndefined(option.text)) {\n      buttonProps.buttonModel.content = option.text;\n    }\n\n    if (!isNullOrUndefined(option.icon)) {\n      buttonProps.buttonModel.iconCss = option.icon;\n    }\n\n    if (!isNullOrUndefined(option.cssClass)) {\n      buttonProps.buttonModel.cssClass = option.cssClass;\n    }\n\n    if (!isNullOrUndefined(option.click)) {\n      buttonProps.click = option.click;\n    }\n\n    return buttonProps;\n  }\n})(DialogUtility || (DialogUtility = {}));\n/**\n * Dialog Component\n */\n\n\nvar __extends$2 = undefined && undefined.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate$2 = undefined && undefined.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT$1 = 'e-tooltip';\nvar RTL$1 = 'e-rtl';\nvar DEVICE$1 = 'e-bigger';\nvar ICON$1 = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT$1 = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\n\nvar Animation$1 =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(Animation$$1, _super);\n\n  function Animation$$1() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  __decorate$2([Property({\n    effect: 'FadeIn',\n    duration: 150,\n    delay: 0\n  })], Animation$$1.prototype, \"open\", void 0);\n\n  __decorate$2([Property({\n    effect: 'FadeOut',\n    duration: 150,\n    delay: 0\n  })], Animation$$1.prototype, \"close\", void 0);\n\n  return Animation$$1;\n}(ChildProperty);\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\n\n\nvar Tooltip =\n/** @__PURE__ @class */\nfunction (_super) {\n  __extends$2(Tooltip, _super);\n  /* eslint-enable */\n\n  /**\n   * Constructor for creating the Tooltip Component\n   *\n   * @param {TooltipModel} options - specifies the options for the constructor\n   * @param {string| HTMLElement} element - specifies the element for the constructor\n   *\n   */\n\n\n  function Tooltip(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.mouseMoveEvent = null;\n    _this.mouseMoveTarget = null;\n    _this.containerElement = null;\n    _this.isBodyContainer = true;\n    return _this;\n  }\n\n  Tooltip.prototype.initialize = function () {\n    this.formatPosition();\n    addClass([this.element], ROOT$1);\n  };\n\n  Tooltip.prototype.formatPosition = function () {\n    var _a, _b;\n\n    if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n      _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n    } else {\n      _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n    }\n  };\n\n  Tooltip.prototype.renderArrow = function () {\n    this.setTipClass(this.position);\n    var tip = this.createElement('div', {\n      className: ARROW_TIP + ' ' + this.tipClass\n    });\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_OUTER + ' ' + this.tipClass\n    }));\n    tip.appendChild(this.createElement('div', {\n      className: ARROW_TIP_INNER + ' ' + this.tipClass\n    }));\n    this.tooltipEle.appendChild(tip);\n  };\n\n  Tooltip.prototype.setTipClass = function (position) {\n    if (position.indexOf('Right') === 0) {\n      this.tipClass = TIP_LEFT;\n    } else if (position.indexOf('Bottom') === 0) {\n      this.tipClass = TIP_TOP;\n    } else if (position.indexOf('Left') === 0) {\n      this.tipClass = TIP_RIGHT;\n    } else {\n      this.tipClass = TIP_BOTTOM;\n    }\n  };\n\n  Tooltip.prototype.renderPopup = function (target) {\n    var elePos = this.mouseTrail ? {\n      top: 0,\n      left: 0\n    } : this.getTooltipPosition(target);\n    this.tooltipEle.classList.remove(POPUP_LIB);\n    this.popupObj = new Popup(this.tooltipEle, {\n      height: this.height,\n      width: this.width,\n      position: {\n        X: elePos.left,\n        Y: elePos.top\n      },\n      enableRtl: this.enableRtl,\n      open: this.openPopupHandler.bind(this),\n      close: this.closePopupHandler.bind(this)\n    });\n  };\n\n  Tooltip.prototype.getTooltipPosition = function (target) {\n    this.tooltipEle.style.display = 'block';\n    var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n    var offsetPos = this.calculateTooltipOffset(this.position);\n    var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n    var collisionLeft = collisionPosition[0];\n    var collisionTop = collisionPosition[1];\n    var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n    this.tooltipEle.style.display = '';\n    return elePos;\n  };\n\n  Tooltip.prototype.windowResize = function () {\n    this.reposition(this.findTarget());\n  };\n\n  Tooltip.prototype.reposition = function (target) {\n    if (this.popupObj && target) {\n      var elePos = this.getTooltipPosition(target);\n      this.popupObj.position = {\n        X: elePos.left,\n        Y: elePos.top\n      };\n      this.popupObj.dataBind();\n    }\n  };\n\n  Tooltip.prototype.openPopupHandler = function () {\n    if (!this.mouseTrail && this.needTemplateReposition()) {\n      this.reposition(this.findTarget());\n    }\n\n    this.trigger('afterOpen', this.tooltipEventArgs);\n    this.tooltipEventArgs = null;\n  };\n\n  Tooltip.prototype.closePopupHandler = function () {\n    if (this.isReact && !(this.opensOn === 'Click' && typeof this.content === 'function')) {\n      this.clearTemplate(['content']);\n    }\n\n    this.clear();\n    this.trigger('afterClose', this.tooltipEventArgs);\n    this.tooltipEventArgs = null;\n  };\n\n  Tooltip.prototype.calculateTooltipOffset = function (position) {\n    var pos = {\n      top: 0,\n      left: 0\n    };\n    var tooltipEleWidth = this.tooltipEle.offsetWidth;\n    var tooltipEleHeight = this.tooltipEle.offsetHeight;\n    var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n    var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n    var tipAdjust = this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP;\n    var tipHeightAdjust = tipHeight / 2 + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n    var tipWidthAdjust = tipWidth / 2 + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n\n    if (this.mouseTrail) {\n      tipAdjust += MOUSE_TRAIL_GAP;\n    }\n\n    switch (position) {\n      case 'RightTop':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'RightCenter':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'RightBottom':\n        pos.left += tipWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'BottomRight':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      case 'BottomCenter':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n\n      case 'BottomLeft':\n        pos.top += tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'LeftBottom':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tipHeightAdjust;\n        break;\n\n      case 'LeftCenter':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight / 2;\n        break;\n\n      case 'LeftTop':\n        pos.left -= tipWidth + tooltipEleWidth + tipAdjust;\n        pos.top -= tooltipEleHeight - tipHeightAdjust;\n        break;\n\n      case 'TopLeft':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth - tipWidthAdjust;\n        break;\n\n      case 'TopRight':\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tipWidthAdjust;\n        break;\n\n      default:\n        pos.top -= tooltipEleHeight + tipHeight + tipAdjust;\n        pos.left -= tooltipEleWidth / 2;\n        break;\n    }\n\n    pos.left += this.offsetX;\n    pos.top += this.offsetY;\n    return pos;\n  };\n\n  Tooltip.prototype.updateTipPosition = function (position) {\n    var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n    var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n    removeClass(selEle, removeList);\n    this.setTipClass(position);\n    addClass(selEle, this.tipClass);\n  };\n\n  Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n    if (this.showTipPointer === false) {\n      return;\n    }\n\n    this.updateTipPosition(position);\n    var leftValue;\n    var topValue;\n    this.tooltipEle.style.display = 'block';\n    var tooltipWidth = this.tooltipEle.clientWidth;\n    var tooltipHeight = this.tooltipEle.clientHeight;\n    var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n    var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n    var tipWidth = arrowEle.offsetWidth;\n    var tipHeight = arrowEle.offsetHeight;\n    this.tooltipEle.style.display = '';\n\n    if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n      if (this.tipClass === TIP_BOTTOM) {\n        topValue = '99.9%'; // Arrow icon aligned -2px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n      } else {\n        topValue = -(tipHeight - 1) + 'px'; // Arrow icon aligned -6px height from ArrowOuterTip div\n\n        arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n      }\n\n      if (target) {\n        var tipPosExclude = tooltipPositionX !== 'Center' || tooltipWidth > target.offsetWidth || this.mouseTrail;\n\n        if (tipPosExclude && tooltipPositionX === 'Left' || !tipPosExclude && this.tipPointerPosition === 'End') {\n          leftValue = tooltipWidth - tipWidth - POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && tooltipPositionX === 'Right' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n          leftValue = POINTER_ADJUST + 'px';\n        } else if (tipPosExclude && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n          leftValue = this.tipPointerPosition === 'End' ? target.offsetWidth + (this.tooltipEle.offsetWidth - target.offsetWidth) / 2 - tipWidth / 2 - POINTER_ADJUST + 'px' : (this.tooltipEle.offsetWidth - target.offsetWidth) / 2 - tipWidth / 2 + POINTER_ADJUST + 'px';\n        } else {\n          leftValue = tooltipWidth / 2 - tipWidth / 2 + 'px';\n        }\n      }\n    } else {\n      if (this.tipClass === TIP_RIGHT) {\n        leftValue = '99.9%'; // Arrow icon aligned -2px left from ArrowOuterTip div\n\n        arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n      } else {\n        leftValue = -(tipWidth - 1) + 'px'; // Arrow icon aligned -2px from ArrowOuterTip width\n\n        arrowInnerELe.style.left = -tipWidth + (tipWidth - 2) + 'px';\n      }\n\n      var tipPosExclude = tooltipPositionY !== 'Center' || tooltipHeight > target.offsetHeight || this.mouseTrail;\n\n      if (tipPosExclude && tooltipPositionY === 'Top' || !tipPosExclude && this.tipPointerPosition === 'End') {\n        topValue = tooltipHeight - tipHeight - POINTER_ADJUST + 'px';\n      } else if (tipPosExclude && tooltipPositionY === 'Bottom' || !tipPosExclude && this.tipPointerPosition === 'Start') {\n        topValue = POINTER_ADJUST + 'px';\n      } else {\n        topValue = tooltipHeight / 2 - tipHeight / 2 + 'px';\n      }\n    }\n\n    arrowEle.style.top = topValue;\n    arrowEle.style.left = leftValue;\n  };\n\n  Tooltip.prototype.renderContent = function (target) {\n    var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n\n    if (this.cssClass) {\n      addClass([this.tooltipEle], this.cssClass.split(' '));\n    }\n\n    if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n      target.setAttribute('data-content', target.getAttribute('title'));\n      target.removeAttribute('title');\n    }\n\n    if (!isNullOrUndefined(this.content)) {\n      tooltipContent.innerHTML = '';\n\n      if (this.content instanceof HTMLElement) {\n        tooltipContent.appendChild(this.content);\n      } else if (typeof this.content === 'string') {\n        if (this.enableHtmlSanitizer) {\n          this.setProperties({\n            content: SanitizeHtmlHelper.sanitize(this.content)\n          }, true);\n        }\n\n        var tempFunction = compile(this.content);\n        var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          if (this.enableHtmlParse) {\n            var nodeList = tempArr.length;\n\n            for (var i = 0; i < nodeList; i++) {\n              tooltipContent[(append(tempArr, tooltipContent), 'innerHTML')] = this.content;\n            }\n          } else {\n            tooltipContent['textContent'] = this.content;\n          }\n        }\n      } else {\n        var templateFunction = compile(this.content);\n        var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n\n        if (tempArr) {\n          append(tempArr, tooltipContent);\n        }\n\n        this.renderReactTemplates();\n      }\n    } else {\n      if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n        tooltipContent.innerHTML = target.getAttribute('data-content');\n      }\n    }\n  };\n\n  Tooltip.prototype.renderCloseIcon = function () {\n    if (!this.isSticky) {\n      return;\n    }\n\n    var tipClose = this.createElement('div', {\n      className: ICON$1 + ' ' + CLOSE\n    });\n    this.tooltipEle.appendChild(tipClose);\n    EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n  };\n\n  Tooltip.prototype.addDataTooltipId = function (target, id) {\n    attributes(target, {\n      'data-tooltip-id': id\n    });\n  };\n\n  Tooltip.prototype.removeDataTooltipId = function (target) {\n    target.removeAttribute('data-tooltip-id');\n  };\n\n  Tooltip.prototype.tapHoldHandler = function (evt) {\n    clearTimeout(this.autoCloseTimer);\n    this.targetHover(evt.originalEvent);\n  };\n\n  Tooltip.prototype.touchEndHandler = function (e) {\n    var _this = this;\n\n    if (this.isSticky) {\n      return;\n    }\n\n    var close = function () {\n      _this.close();\n    };\n\n    this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n  };\n\n  Tooltip.prototype.targetClick = function (e) {\n    var target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target)) {\n      return;\n    }\n\n    if (target.getAttribute('data-tooltip-id') === null) {\n      this.targetHover(e);\n    } else if (!this.isSticky) {\n      this.hideTooltip(this.animation.close, e, target);\n    }\n  };\n\n  Tooltip.prototype.targetHover = function (e) {\n    var target;\n\n    if (this.target) {\n      target = closest(e.target, this.target);\n    } else {\n      target = this.element;\n    }\n\n    if (isNullOrUndefined(target) || target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0) {\n      return;\n    }\n\n    var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n\n    for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n      var target_1 = targetList_1[_i];\n      this.restoreElement(target_1);\n    }\n\n    this.showTooltip(target, this.animation.open, e);\n  };\n\n  Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n    this.mouseMoveEvent = e;\n  };\n\n  Tooltip.prototype.mouseMoveBeforeRemove = function () {\n    if (this.mouseMoveTarget) {\n      EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n    }\n  };\n\n  Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n    var _this = this;\n\n    clearTimeout(this.showTimer);\n    clearTimeout(this.hideTimer);\n\n    if (this.openDelay && this.mouseTrail) {\n      this.mouseMoveBeforeRemove();\n      this.mouseMoveTarget = target;\n      EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    };\n\n    var observeCallback = function (beforeRenderArgs) {\n      _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n    };\n\n    this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n  };\n\n  Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n    if (beforeRenderArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n    } else {\n      this.isHidden = false;\n\n      if (isNullOrUndefined(this.tooltipEle)) {\n        this.ctrlId = this.element.getAttribute('id') ? getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n        this.tooltipEle = this.createElement('div', {\n          className: TOOLTIP_WRAP + ' ' + POPUP_ROOT$1 + ' ' + POPUP_LIB,\n          attrs: {\n            role: 'tooltip',\n            'aria-hidden': 'false',\n            'id': this.ctrlId + '_content'\n          },\n          styles: 'width:' + formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n        });\n\n        if (Object.keys(this.htmlAttributes).length !== 0) {\n          for (var attr in this.htmlAttributes) {\n            if (attr === \"class\") {\n              this.tooltipEle.classList.add(this.htmlAttributes[\"\" + attr]);\n            } else {\n              this.tooltipEle.setAttribute(attr, this.htmlAttributes[\"\" + attr]);\n            }\n          }\n        }\n\n        this.tooltipBeforeRender(target, this);\n        this.tooltipAfterRender(target, e, showAnimation, this);\n      } else {\n        if (target) {\n          this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n          this.addDataTooltipId(target, this.ctrlId + '_content');\n          this.renderContent(target);\n          Animation.stop(this.tooltipEle);\n          this.reposition(target);\n          this.tooltipAfterRender(target, e, showAnimation, this);\n        }\n      }\n    }\n  };\n\n  Tooltip.prototype.appendContainer = function (ctrlObj) {\n    if (typeof this.container == 'string') {\n      if (this.container === 'body') {\n        this.containerElement = document.body;\n      } else {\n        this.isBodyContainer = false;\n        this.containerElement = select(this.container, document);\n      }\n    } else if (this.container instanceof HTMLElement) {\n      this.containerElement = this.container;\n      this.isBodyContainer = this.containerElement.tagName === 'BODY';\n    }\n\n    if (!this.isBodyContainer) {\n      addClass([this.containerElement], POPUP_CONTAINER);\n    }\n\n    this.containerElement.appendChild(ctrlObj.tooltipEle);\n  };\n\n  Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n    if (target) {\n      if (Browser.isDevice) {\n        addClass([ctrlObj.tooltipEle], DEVICE$1);\n      }\n\n      if (ctrlObj.width !== 'auto') {\n        ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n      }\n\n      ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', {\n        className: CONTENT\n      }));\n      this.appendContainer(ctrlObj);\n      removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n      ctrlObj.addDataTooltipId(target, ctrlObj.ctrlId + '_content');\n      ctrlObj.renderContent(target);\n      addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n\n      if (ctrlObj.showTipPointer) {\n        ctrlObj.renderArrow();\n      }\n\n      ctrlObj.renderCloseIcon();\n      ctrlObj.renderPopup(target);\n      ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n      Animation.stop(ctrlObj.tooltipEle);\n      ctrlObj.reposition(target);\n    }\n  };\n\n  Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n    if (target) {\n      removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n      addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n      ctrlObj.tooltipEventArgs = {\n        type: e ? e.type : null,\n        cancel: false,\n        target: target,\n        event: e ? e : null,\n        element: ctrlObj.tooltipEle,\n        isInteracted: !isNullOrUndefined(e)\n      };\n\n      if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n        ctrlObj.tooltipEle.style.display = 'none';\n      }\n\n      var observeCallback = function (observedArgs) {\n        ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n      };\n\n      ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n    }\n  };\n\n  Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n    var _this = this;\n\n    if (observedArgs.cancel) {\n      this.isHidden = true;\n      this.clear();\n      this.mouseMoveBeforeRemove();\n      this.restoreElement(target);\n    } else {\n      var openAnimation_1 = {\n        name: showAnimation.effect,\n        duration: showAnimation.duration,\n        delay: showAnimation.delay,\n        timingFunction: 'easeOut'\n      };\n\n      if (showAnimation.effect === 'None') {\n        openAnimation_1 = undefined;\n      }\n\n      if (this.openDelay > 0) {\n        var show = function () {\n          if (_this.mouseTrail) {\n            EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n          }\n\n          if (_this.popupObj) {\n            _this.popupObj.show(openAnimation_1, target);\n\n            if (_this.mouseMoveEvent && _this.mouseTrail) {\n              _this.onMouseMove(_this.mouseMoveEvent);\n            }\n          }\n        };\n\n        this.showTimer = setTimeout(show, this.openDelay);\n      } else {\n        if (this.popupObj) {\n          this.popupObj.show(openAnimation_1, target);\n        }\n      }\n    }\n\n    if (e) {\n      this.wireMouseEvents(e, target);\n    }\n  };\n\n  Tooltip.prototype.needTemplateReposition = function () {\n    // eslint-disable-next-line\n    var tooltip = this;\n    return !isNullOrUndefined(tooltip.viewContainerRef) && typeof tooltip.viewContainerRef !== 'string';\n  };\n\n  Tooltip.prototype.checkCollision = function (target, x, y) {\n    var elePos = {\n      left: x,\n      top: y,\n      position: this.position,\n      horizontal: this.tooltipPositionX,\n      vertical: this.tooltipPositionY\n    };\n    var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n\n    if (affectedPos.length > 0) {\n      elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' : this.tooltipPositionX;\n      elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' : this.tooltipPositionY;\n    }\n\n    return elePos;\n  };\n\n  Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n    return [this.isBodyContainer ? pos.left + offsetPos.left : pos.left - this.containerElement.offsetLeft + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft, this.isBodyContainer ? pos.top + offsetPos.top : pos.top - this.containerElement.offsetTop + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n  };\n\n  Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n    var elePos = this.checkCollision(target, x, y);\n    var newpos = elePos.position;\n\n    if (this.tooltipPositionY !== elePos.vertical) {\n      newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical;\n    }\n\n    if (this.tooltipPositionX !== elePos.horizontal) {\n      if (newpos.indexOf('Left') === 0) {\n        elePos.vertical = newpos === 'LeftTop' || newpos === 'LeftCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Left';\n      }\n\n      if (newpos.indexOf('Right') === 0) {\n        elePos.vertical = newpos === 'RightTop' || newpos === 'RightCenter' ? 'Top' : 'Bottom';\n        newpos = elePos.vertical + 'Right';\n      }\n\n      elePos.horizontal = this.tooltipPositionX;\n    }\n\n    this.tooltipEventArgs = {\n      type: null,\n      cancel: false,\n      target: target,\n      event: null,\n      element: this.tooltipEle,\n      collidedPosition: newpos\n    };\n    this.trigger('beforeCollision', this.tooltipEventArgs);\n    var elePosVertical = elePos.vertical;\n    var elePosHorizontal = elePos.horizontal;\n\n    if (elePos.position !== newpos) {\n      var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n      var offsetPos = this.calculateTooltipOffset(newpos);\n      offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n      offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n      elePos.position = newpos;\n      var elePosition = this.calculateElementPosition(pos, offsetPos);\n      elePos.left = elePosition[0];\n      elePos.top = elePosition[1];\n    } else {\n      this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n    }\n\n    var eleOffset = {\n      left: elePos.left,\n      top: elePos.top\n    };\n    var left = this.isBodyContainer ? fit(this.tooltipEle, this.checkCollideTarget(), {\n      X: true,\n      Y: false\n    }, eleOffset).left : eleOffset.left;\n    this.tooltipEle.style.display = 'block';\n\n    if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n      var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n      var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n\n      if (arrowleft < 0) {\n        arrowleft = 0;\n      } else if (arrowleft + arrowEle.offsetWidth > this.tooltipEle.clientWidth) {\n        arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n      }\n\n      arrowEle.style.left = arrowleft.toString() + 'px';\n    }\n\n    this.tooltipEle.style.display = '';\n    eleOffset.left = left;\n    return eleOffset;\n  };\n\n  Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n    return positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1 && positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1 ? 2 * offsetType : 0;\n  };\n\n  Tooltip.prototype.checkCollideTarget = function () {\n    return !this.windowCollision && this.target ? this.element : null;\n  };\n\n  Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n    var _this = this;\n\n    if (this.closeDelay > 0) {\n      clearTimeout(this.hideTimer);\n      clearTimeout(this.showTimer);\n\n      var hide = function () {\n        if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n          return;\n        }\n\n        _this.tooltipHide(hideAnimation, e, targetElement);\n      };\n\n      this.hideTimer = setTimeout(hide, this.closeDelay);\n    } else {\n      this.tooltipHide(hideAnimation, e, targetElement);\n    }\n  };\n\n  Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n    var _this = this;\n\n    var target;\n\n    if (e) {\n      target = this.target ? targetElement || e.target : this.element;\n    } else {\n      target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    }\n\n    this.tooltipEventArgs = {\n      type: e ? e.type : null,\n      cancel: false,\n      target: target,\n      event: e ? e : null,\n      element: this.tooltipEle,\n      isInteracted: !isNullOrUndefined(e)\n    }; // this line commented for close the tooltip popup element even the target element destroyed in a page.\n    //if (isNullOrUndefined(target)) { return; }\n\n    this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n      if (!observedArgs.cancel) {\n        _this.mouseMoveBeforeRemove();\n\n        _this.popupHide(hideAnimation, target);\n      } else {\n        _this.isHidden = false;\n      }\n    });\n    this.tooltipEventArgs = null;\n  };\n\n  Tooltip.prototype.popupHide = function (hideAnimation, target) {\n    if (target) {\n      this.restoreElement(target);\n    }\n\n    this.isHidden = true;\n    var closeAnimation = {\n      name: hideAnimation.effect,\n      duration: hideAnimation.duration,\n      delay: hideAnimation.delay,\n      timingFunction: 'easeIn'\n    };\n\n    if (hideAnimation.effect === 'None') {\n      closeAnimation = undefined;\n    }\n\n    if (this.popupObj) {\n      this.popupObj.hide(closeAnimation);\n    }\n  };\n\n  Tooltip.prototype.restoreElement = function (target) {\n    this.unwireMouseEvents(target);\n\n    if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n      target.setAttribute('title', target.getAttribute('data-content'));\n      target.removeAttribute('data-content');\n    }\n\n    this.removeDataTooltipId(target);\n  };\n\n  Tooltip.prototype.clear = function () {\n    if (this.tooltipEle) {\n      removeClass([this.tooltipEle], POPUP_CLOSE);\n      addClass([this.tooltipEle], POPUP_OPEN);\n    }\n\n    if (this.isHidden) {\n      if (this.popupObj) {\n        this.popupObj.destroy();\n      }\n\n      if (this.tooltipEle) {\n        remove(this.tooltipEle);\n      }\n\n      this.tooltipEle = null;\n      this.popupObj = null;\n    }\n  };\n\n  Tooltip.prototype.tooltipHover = function (e) {\n    if (this.tooltipEle) {\n      this.isTooltipOpen = true;\n    }\n  };\n\n  Tooltip.prototype.tooltipMouseOut = function (e) {\n    this.isTooltipOpen = false;\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n  };\n\n  Tooltip.prototype.onMouseOut = function (e) {\n    var enteredElement = e.relatedTarget; // don't close the tooltip only if it is tooltip content element\n\n    if (enteredElement && !this.mouseTrail) {\n      var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1);\n\n      if (checkForTooltipElement) {\n        EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n      } else {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n\n        if (this.closeDelay === 0) {\n          this.clear();\n        }\n      }\n    } else {\n      this.hideTooltip(this.animation.close, e, this.findTarget());\n      this.clear();\n    }\n  };\n\n  Tooltip.prototype.tooltipElementMouseOut = function (e) {\n    this.hideTooltip(this.animation.close, e, this.findTarget());\n    EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n    this.clear();\n  };\n\n  Tooltip.prototype.onStickyClose = function (e) {\n    this.close();\n  };\n\n  Tooltip.prototype.onMouseMove = function (event) {\n    var eventPageX = 0;\n    var eventPageY = 0;\n\n    if (event.type.indexOf('touch') > -1) {\n      event.preventDefault();\n      eventPageX = event.touches[0].pageX;\n      eventPageY = event.touches[0].pageY;\n    } else {\n      eventPageX = event.pageX;\n      eventPageY = event.pageY;\n    }\n\n    Animation.stop(this.tooltipEle);\n    removeClass([this.tooltipEle], POPUP_CLOSE);\n    addClass([this.tooltipEle], POPUP_OPEN);\n    this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n    var pos = this.calculateTooltipOffset(this.position);\n    var x = eventPageX + pos.left + this.offsetX;\n    var y = eventPageY + pos.top + this.offsetY;\n    var elePos = this.checkCollision(event.target, x, y);\n\n    if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n      var newpos = this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0 ? elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n      elePos.position = newpos;\n      this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n      var colpos = this.calculateTooltipOffset(elePos.position);\n      elePos.left = eventPageX + colpos.left - this.offsetX;\n      elePos.top = eventPageY + colpos.top - this.offsetY;\n    }\n\n    this.tooltipEle.style.left = elePos.left + 'px';\n    this.tooltipEle.style.top = elePos.top + 'px';\n  };\n\n  Tooltip.prototype.keyDown = function (event) {\n    if (!isNullOrUndefined(this.targetsList) && !isNullOrUndefined(this.target)) {\n      var target = [].slice.call(selectAll(this.target, this.element));\n\n      if (target.length !== this.targetsList.length) {\n        this.unwireEvents(this.opensOn);\n        this.wireEvents(this.opensOn);\n      }\n    }\n\n    if (this.tooltipEle && event.keyCode === 27) {\n      this.close();\n    }\n  };\n\n  Tooltip.prototype.touchEnd = function (e) {\n    if (this.tooltipEle && closest(e.target, '.' + ROOT$1) === null && !this.isSticky) {\n      this.close();\n    }\n  };\n\n  Tooltip.prototype.scrollHandler = function (e) {\n    if (this.tooltipEle) {\n      if (!closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1)) {\n        this.close();\n      }\n    }\n  };\n  /**\n   * Core method that initializes the control rendering.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.render = function () {\n    this.initialize();\n    this.wireEvents(this.opensOn);\n    this.renderComplete();\n  };\n  /**\n   * Initializes the values of private members.\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.preRender = function () {\n    this.tipClass = TIP_BOTTOM;\n    this.tooltipPositionX = 'Center';\n    this.tooltipPositionY = 'Top';\n    this.isHidden = true;\n  };\n  /**\n   * Binding events to the Tooltip element.\n   *\n   * @hidden\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.wireEvents = function (trigger) {\n    var triggerList = this.getTriggerList(trigger);\n\n    for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n      var opensOn = triggerList_1[_i];\n\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.wireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          this.touchModule = new Touch(this.element, {\n            tapHoldThreshold: TAPHOLD_THRESHOLD,\n            tapHold: this.tapHoldHandler.bind(this)\n          });\n          EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n        } else {\n          EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n        }\n      }\n    }\n\n    EventHandler.add(document, 'touchend', this.touchEnd, this);\n    EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n    EventHandler.add(window, 'resize', this.windowResize, this);\n    EventHandler.add(document, 'keydown', this.keyDown, this);\n  };\n\n  Tooltip.prototype.getTriggerList = function (trigger) {\n    if (trigger === 'Auto') {\n      trigger = Browser.isDevice ? 'Hover' : 'Hover Focus';\n    }\n\n    return trigger.split(' ');\n  };\n\n  Tooltip.prototype.wireFocusEvents = function () {\n    if (!isNullOrUndefined(this.target)) {\n      if (this.element.nodeName !== \"BODY\") {\n        EventHandler.add(this.element, 'focusin', this.targetHover, this);\n      } else {\n        var targetList = [].slice.call(selectAll(this.target, this.element));\n        this.targetsList = targetList;\n\n        for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n          var target = targetList_2[_i];\n          EventHandler.add(target, 'focus', this.targetHover, this);\n        }\n      }\n    } else {\n      EventHandler.add(this.element, 'focus', this.targetHover, this);\n    }\n  };\n\n  Tooltip.prototype.wireMouseEvents = function (e, target) {\n    if (this.tooltipEle) {\n      if (!this.isSticky) {\n        if (e.type === 'focus') {\n          EventHandler.add(target, 'blur', this.onMouseOut, this);\n        }\n\n        if (e.type === 'focusin') {\n          EventHandler.add(target, 'focusout', this.onMouseOut, this);\n        }\n\n        if (e.type === 'mouseover') {\n          EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n        }\n\n        if (this.closeDelay) {\n          EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n          EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n        }\n      }\n\n      if (this.mouseTrail && this.openDelay === 0) {\n        EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n      }\n    }\n  };\n  /**\n   * Unbinding events from the element on widget destroy.\n   *\n   * @hidden\n   *\n   * @param {string} trigger - specify the trigger string to the function\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.unwireEvents = function (trigger) {\n    var triggerList = this.getTriggerList(trigger);\n\n    for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n      var opensOn = triggerList_2[_i];\n\n      if (opensOn === 'Custom') {\n        return;\n      }\n\n      if (opensOn === 'Focus') {\n        this.unwireFocusEvents();\n      }\n\n      if (opensOn === 'Click') {\n        EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n      }\n\n      if (opensOn === 'Hover') {\n        if (Browser.isDevice) {\n          if (this.touchModule) {\n            this.touchModule.destroy();\n          }\n\n          EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n        } else {\n          EventHandler.remove(this.element, 'mouseover', this.targetHover);\n        }\n      }\n    }\n\n    EventHandler.remove(document, 'touchend', this.touchEnd);\n    EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n    EventHandler.remove(window, 'resize', this.windowResize);\n    EventHandler.remove(document, 'keydown', this.keyDown);\n  };\n\n  Tooltip.prototype.unwireFocusEvents = function () {\n    if (!isNullOrUndefined(this.target)) {\n      if (this.element.nodeName === 'BODY') {\n        EventHandler.remove(this.element, 'focusin', this.targetHover);\n      } else {\n        var targetList = [].slice.call(selectAll(this.target, this.element));\n\n        for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n          var target = targetList_3[_i];\n          EventHandler.remove(target, 'focus', this.targetHover);\n        }\n      }\n    } else {\n      EventHandler.remove(this.element, 'focus', this.targetHover);\n    }\n  };\n\n  Tooltip.prototype.unwireMouseEvents = function (target) {\n    if (!this.isSticky) {\n      var triggerList = this.getTriggerList(this.opensOn);\n\n      for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n        var opensOn = triggerList_3[_i];\n\n        if (opensOn === 'Focus') {\n          EventHandler.remove(target, 'blur', this.onMouseOut);\n          EventHandler.remove(target, 'focusout', this.onMouseOut);\n        }\n\n        if (opensOn === 'Hover' && !Browser.isDevice) {\n          EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n        }\n      }\n\n      if (this.closeDelay) {\n        EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n        EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n      }\n    }\n\n    if (this.mouseTrail) {\n      EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n    }\n  };\n\n  Tooltip.prototype.findTarget = function () {\n    var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n    return target;\n  };\n  /**\n   * Core method to return the component name.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns module name.\n   */\n\n\n  Tooltip.prototype.getModuleName = function () {\n    return 'tooltip';\n  };\n  /**\n   * Returns the properties to be maintained in the persisted state.\n   *\n   * @private\n   *\n   * @returns {string} - this method returns persisted data.\n   */\n\n\n  Tooltip.prototype.getPersistData = function () {\n    return this.addOnPersist([]);\n  };\n  /**\n   * Called internally, if any of the property value changed.\n   *\n   * @private\n   *\n   * @param {TooltipModel} newProp - this param gives new property values to the method\n   * @param {TooltipModel} oldProp - this param gives old property values to the method\n   * @returns {void}\n   *\n   */\n\n\n  Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var targetElement = this.findTarget();\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'height':\n          if (this.tooltipEle && targetElement) {\n            this.tooltipEle.style.height = formatUnit(newProp.height);\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'content':\n          if (this.tooltipEle) {\n            this.renderContent();\n          }\n\n          break;\n\n        case 'opensOn':\n          this.unwireEvents(oldProp.opensOn);\n          this.wireEvents(newProp.opensOn);\n          break;\n\n        case 'position':\n          this.formatPosition();\n\n          if (this.tooltipEle && targetElement) {\n            var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n            arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'tipPointerPosition':\n          if (this.tooltipEle && targetElement) {\n            this.reposition(targetElement);\n          }\n\n          break;\n\n        case 'offsetX':\n          if (this.tooltipEle) {\n            var x = newProp.offsetX - oldProp.offsetX;\n            this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + x).toString() + 'px';\n          }\n\n          break;\n\n        case 'offsetY':\n          if (this.tooltipEle) {\n            var y = newProp.offsetY - oldProp.offsetY;\n            this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + y).toString() + 'px';\n          }\n\n          break;\n\n        case 'cssClass':\n          if (this.tooltipEle) {\n            if (oldProp.cssClass) {\n              removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n            }\n\n            if (newProp.cssClass) {\n              addClass([this.tooltipEle], newProp.cssClass.split(' '));\n            }\n          }\n\n          break;\n\n        case 'enableRtl':\n          if (this.tooltipEle) {\n            if (this.enableRtl) {\n              addClass([this.tooltipEle], RTL$1);\n            } else {\n              removeClass([this.tooltipEle], RTL$1);\n            }\n          }\n\n          break;\n\n        case 'container':\n          if (!isNullOrUndefined(this.containerElement)) {\n            removeClass([this.containerElement], POPUP_CONTAINER);\n          }\n\n          this.container = newProp.container;\n\n          if (this.tooltipEle && targetElement) {\n            this.appendContainer(this);\n            this.reposition(targetElement);\n          }\n\n      }\n    }\n  };\n  /**\n   * It is used to show the Tooltip on the specified target with specific animation settings.\n   *\n   * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.open = function (element, animation) {\n    if (isNullOrUndefined(animation)) {\n      animation = this.animation.open;\n    }\n\n    if (isNullOrUndefined(element)) {\n      element = this.element;\n    }\n\n    if (element.style.display === 'none') {\n      return;\n    }\n\n    this.showTooltip(element, animation);\n  };\n  /**\n   * It is used to hide the Tooltip with specific animation effect.\n   *\n   * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.close = function (animation) {\n    if (!animation) {\n      animation = this.animation.close;\n    }\n\n    this.hideTooltip(animation);\n  };\n  /**\n   * It is used to refresh the Tooltip content and its position.\n   *\n   * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n   * @returns {void}\n   */\n\n\n  Tooltip.prototype.refresh = function (target) {\n    if (this.tooltipEle) {\n      this.renderContent(target);\n    }\n\n    if (this.popupObj && target) {\n      this.reposition(target);\n    }\n  };\n  /**\n   * It is used to destroy the Tooltip component.\n   * @method destroy\n   * @returns {void}\n   * @memberof Tooltip\n   */\n\n\n  Tooltip.prototype.destroy = function () {\n    _super.prototype.destroy.call(this);\n\n    if (this.tooltipEle) {\n      remove(this.tooltipEle);\n    }\n\n    if (this.popupObj) {\n      this.popupObj.destroy();\n    }\n\n    removeClass([this.element], ROOT$1);\n    this.unwireEvents(this.opensOn);\n    this.unwireMouseEvents(this.element);\n    this.tooltipEle = null;\n    this.popupObj = null;\n    var currentTarget = selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', this.element);\n\n    for (var _i = 0, currentTarget_1 = currentTarget; _i < currentTarget_1.length; _i++) {\n      var target = currentTarget_1[_i];\n      this.restoreElement(target);\n    }\n  };\n\n  __decorate$2([Property('auto')], Tooltip.prototype, \"width\", void 0);\n\n  __decorate$2([Property('auto')], Tooltip.prototype, \"height\", void 0);\n\n  __decorate$2([Property()], Tooltip.prototype, \"content\", void 0);\n\n  __decorate$2([Property('body')], Tooltip.prototype, \"container\", void 0);\n\n  __decorate$2([Property()], Tooltip.prototype, \"target\", void 0);\n\n  __decorate$2([Property('TopCenter')], Tooltip.prototype, \"position\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"offsetX\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"offsetY\", void 0);\n\n  __decorate$2([Property(true)], Tooltip.prototype, \"showTipPointer\", void 0);\n\n  __decorate$2([Property(true)], Tooltip.prototype, \"enableHtmlParse\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"windowCollision\", void 0);\n\n  __decorate$2([Property('Auto')], Tooltip.prototype, \"tipPointerPosition\", void 0);\n\n  __decorate$2([Property('Auto')], Tooltip.prototype, \"opensOn\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"mouseTrail\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"isSticky\", void 0);\n\n  __decorate$2([Complex({}, Animation$1)], Tooltip.prototype, \"animation\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"openDelay\", void 0);\n\n  __decorate$2([Property(0)], Tooltip.prototype, \"closeDelay\", void 0);\n\n  __decorate$2([Property()], Tooltip.prototype, \"cssClass\", void 0);\n\n  __decorate$2([Property(false)], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n\n  __decorate$2([Property('')], Tooltip.prototype, \"htmlAttributes\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeRender\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeOpen\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"afterOpen\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeClose\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"afterClose\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"beforeCollision\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"created\", void 0);\n\n  __decorate$2([Event()], Tooltip.prototype, \"destroyed\", void 0);\n\n  Tooltip = __decorate$2([NotifyPropertyChanges], Tooltip);\n  return Tooltip;\n}(Component);\n/**\n * Tooltip modules\n */\n\n\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_MAT3_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_FLUENT_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_MATERIAL3SPIN = 'e-spin-material3';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_FLUENTSPIN = 'e-spin-fluent';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null; // eslint-disable-next-line\n\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\n\nfunction Spinner(action, options, target, type) {\n  switch (action) {\n    case 'Create':\n      /* eslint-disable */\n      var element = document.querySelector(options.target);\n      var args = {\n        type: type,\n        target: element,\n        cssClass: options.cssClass,\n        label: options.label,\n        width: options.width\n      };\n      /* eslint-enable */\n\n      createSpinner(args);\n      break;\n\n    case 'Show':\n      showSpinner(document.querySelector(target));\n      break;\n\n    case 'Hide':\n      hideSpinner(document.querySelector(target));\n      break;\n\n    case 'Set':\n      // eslint-disable-next-line\n      var setArgs = {\n        cssClass: options.cssClass,\n        type: type\n      };\n      setSpinner(setArgs);\n      break;\n  }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\n\n\nfunction createSpinner(args, internalCreateElement) {\n  if (!args.target) {\n    return;\n  }\n\n  var radius;\n  var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement; // eslint-disable-next-line\n\n  var container = create_spinner_container(args.target, makeElement);\n\n  if (!isNullOrUndefined(args.cssClass)) {\n    container.wrap.classList.add(args.cssClass);\n  }\n\n  if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n    var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n    container.wrap.classList.add(CLS_SPINTEMPLATE);\n    replaceContent(container.wrap, template, spinCSSClass);\n  } else {\n    var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n    var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n    radius = calculateRadius(width, theme);\n    setTheme(theme, container.wrap, radius, makeElement);\n\n    if (!isNullOrUndefined(args.label)) {\n      createLabel(container.inner_wrap, args.label, makeElement);\n    }\n  }\n\n  container.wrap.classList.add(CLS_HIDESPIN);\n  container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\n\n\nfunction createLabel(container, label, makeElement) {\n  var labelEle = makeElement('div', {});\n  labelEle.classList.add(CLS_SPINLABEL);\n  labelEle.innerHTML = label;\n  container.appendChild(labelEle);\n  return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createMaterialSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Material',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n  mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createMaterial3Spinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Material3',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_MATERIAL3SPIN);\n  mat_calculate_attributes(radius, container, 'Material3', CLS_MATERIAL3SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap4',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n  mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap5',\n    radius: radius\n  };\n  create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n  mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n\n\nfunction startMatAnimate(container, uniqueID, radius) {\n  var globalObject = {};\n  var timeOutVar = 0;\n  globalTimeOut[\"\" + uniqueID].timeOut = 0;\n  globalObject[\"\" + uniqueID] = globalVariables(uniqueID, radius, 0, 0); // eslint-disable-next-line\n\n  var spinnerInfo = {\n    uniqueID: uniqueID,\n    container: container,\n    globalInfo: globalObject,\n    timeOutVar: timeOutVar\n  };\n  animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createFabricSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Fabric',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createFluentSinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Fluent',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createTailwindSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Tailwind',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createHighContrastSpinner(container, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'HighContrast',\n    radius: radius\n  };\n  create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n  fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\n\n\nfunction getTheme(container) {\n  var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n  return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction setTheme(theme, container, radius, makeElement) {\n  var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n  var svg = innerContainer.querySelector('svg');\n\n  if (!isNullOrUndefined(svg)) {\n    innerContainer.removeChild(svg);\n  }\n\n  switch (theme) {\n    case 'Material':\n      createMaterialSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Material3':\n      createMaterial3Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Fabric':\n      createFabricSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Fluent':\n      createFluentSinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap':\n      createBootstrapSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'HighContrast':\n      createHighContrastSpinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap4':\n      createBootstrap4Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Bootstrap5':\n      createBootstrap5Spinner(innerContainer, radius, makeElement);\n      break;\n\n    case 'Tailwind':\n    case 'Tailwind-dark':\n      createTailwindSpinner(innerContainer, radius, makeElement);\n      break;\n  }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n\n\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n  var uniqueID = random_generator();\n  globalTimeOut[\"\" + uniqueID] = {\n    timeOut: 0,\n    type: 'Bootstrap',\n    radius: radius\n  };\n  create_bootstrap_element(innerContainer, uniqueID, makeElement);\n  boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n  var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  var viewBoxValue = 64;\n  var trans = 32;\n  var defaultRadius = 2;\n  svgBoot.setAttribute('id', uniqueID);\n  svgBoot.setAttribute('class', CLS_BOOTSPIN);\n  svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n  innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n\n  for (var item = 0; item <= 7; item++) {\n    var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n    bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n    bootCircle.setAttribute('r', defaultRadius + '');\n    bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n    svgBoot.appendChild(bootCircle);\n  }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction boot_calculate_attributes(innerContainer, radius) {\n  var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n  var x = 0;\n  var y = 0;\n  var rad = 24;\n  svg.style.width = svg.style.height = radius + 'px';\n  var startArc = 90;\n\n  for (var item = 0; item <= 7; item++) {\n    var start = defineArcPoints(x, y, rad, startArc);\n    var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n    circleEle.setAttribute('cx', start.x + '');\n    circleEle.setAttribute('cy', start.y + '');\n    startArc = startArc >= 360 ? 0 : startArc;\n    startArc = startArc + 45;\n  }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\n\n\nfunction generateSeries(begin, stop) {\n  var series = [];\n  var start = begin;\n  var end = stop; // eslint-disable-next-line\n\n  var increment = false,\n      count = 1;\n  formSeries(start);\n  /**\n   *\n   * @param {number} i - specifies the number\n   * @returns {void}\n   */\n\n  function formSeries(i) {\n    series.push(i);\n\n    if (i !== end || count === 1) {\n      if (i <= start && i > 1 && !increment) {\n        i = parseFloat((i - 0.2).toFixed(2));\n      } else if (i === 1) {\n        i = 7;\n        i = parseFloat((i + 0.2).toFixed(2));\n        increment = true;\n      } else if (i < 8 && increment) {\n        i = parseFloat((i + 0.2).toFixed(2));\n\n        if (i === 8) {\n          increment = false;\n        }\n      } else if (i <= 8 && !increment) {\n        i = parseFloat((i - 0.2).toFixed(2));\n      }\n\n      ++count;\n      formSeries(i);\n    }\n  }\n\n  return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\n\n\nfunction animateBootstrap(innerContainer) {\n  var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n  var id = svg.getAttribute('id');\n\n  for (var i = 1; i <= 8; i++) {\n    var circleEle = innerContainer.getElementsByClassName('e-path-circle_' + (i === 8 ? 0 : i))[0];\n    rotation(circleEle, i, i, generateSeries(i, i), id);\n  }\n  /**\n   *\n   * @param {SVGCircleElement} circle - specifies the circl element\n   * @param {number} start - specifies the number\n   * @param {number} end - specifies the end number\n   * @param {number} series - specifies the series\n   * @param {string} id - specifies the id\n   * @returns {void}\n   */\n\n\n  function rotation(circle, start, end, series, id) {\n    var count = 0;\n    boot_animate(start); // eslint-disable-next-line\n\n    function boot_animate(radius) {\n      if (globalTimeOut[\"\" + id].isAnimate) {\n        ++count;\n        circle.setAttribute('r', radius + '');\n\n        if (count >= series.length) {\n          count = 0;\n        } // eslint-disable-next-line\n\n\n        globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n      }\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\n\n\nfunction replaceContent(container, template, cssClass) {\n  if (!isNullOrUndefined(cssClass)) {\n    container.classList.add(cssClass);\n  }\n\n  var inner = container.querySelector('.e-spinner-inner');\n  inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\n\n\nfunction calculateRadius(width, theme) {\n  var defaultSize;\n\n  switch (theme) {\n    case 'Material':\n      defaultSize = DEFT_MAT_WIDTH;\n      break;\n\n    case 'Material3':\n      defaultSize = DEFT_MAT3_WIDTH;\n      break;\n\n    case 'Fabric':\n      defaultSize = DEFT_FAB_WIDTH;\n      break;\n\n    case 'Tailwind':\n    case 'Tailwind-dark':\n      defaultSize = DEFT_FAB_WIDTH;\n      break;\n\n    case 'Fluent':\n      defaultSize = DEFT_FLUENT_WIDTH;\n      break;\n\n    case 'Bootstrap4':\n      defaultSize = DEFT_BOOT4_WIDTH;\n      break;\n\n    case 'Bootstrap5':\n      defaultSize = DEFT_BOOT5_WIDTH;\n      break;\n\n    default:\n      defaultSize = DEFT_BOOT_WIDTH;\n  }\n\n  width = width ? parseFloat(width + '') : defaultSize;\n  return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\n\n\nfunction globalVariables(id, radius, count, previousId) {\n  return {\n    radius: radius,\n    count: count,\n    previousId: previousId\n  };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\n\n\nfunction random_generator() {\n  var random = '';\n  var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n  for (var i = 0; i < 5; i++) {\n    random += combine.charAt(Math.floor(Math.random() * combine.length));\n  }\n\n  return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n  var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  svgFabric.setAttribute('id', uniqueID);\n  svgFabric.setAttribute('class', themeClass);\n  var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n  var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  fabricCircleArc.setAttribute('class', CLS_SPINARC);\n  innerCon.insertBefore(svgFabric, innerCon.firstChild);\n  svgFabric.appendChild(fabricCirclePath);\n  svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n  var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n  var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n  svgMaterial.setAttribute('class', cls);\n  svgMaterial.setAttribute('id', uniqueID);\n  matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n  innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n  svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction create_spinner_container(target, makeElement) {\n  var spinnerContainer = makeElement('div', {});\n  var spinnerInnerContainer = makeElement('div', {});\n  spinnerContainer.classList.add(CLS_SPINWRAP);\n  spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n  target.appendChild(spinnerContainer);\n  spinnerContainer.appendChild(spinnerInnerContainer); // eslint-disable-next-line\n\n  return {\n    wrap: spinnerContainer,\n    inner_wrap: spinnerInnerContainer\n  };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\n\n\nfunction animateMaterial(spinnerInfo) {\n  var start = 1;\n  var end = 149;\n  var duration = 1333;\n  var max = 75;\n  createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n  spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\n\n\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n  var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n  var startTime = new Date().getTime();\n  var change = end - start;\n  var diameter = getSize(spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2 + '');\n  var strokeSize = getStrokeSize(diameter);\n  var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n  mat_animation(spinnerInfo); // eslint-disable-next-line\n\n  function mat_animation(spinnerInfo) {\n    var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n    updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n\n    if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n      // eslint-disable-next-line\n      globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n    } else {\n      animateMaterial(spinnerInfo);\n    }\n  }\n  /**\n   *\n   * @param {number} value - specifies the number value\n   * @param {HTMLElement} container - specifies the container\n   * @returns {void}\n   */\n\n\n  function updatePath(value, container) {\n    if (!isNullOrUndefined(container.querySelector('svg.e-spin-material')) || !isNullOrUndefined(container.querySelector('svg.e-spin-material3'))) {\n      var svg = void 0;\n\n      if (!isNullOrUndefined(container.querySelector('svg.e-spin-material')) && !isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle'))) {\n        svg = container.querySelector('svg.e-spin-material');\n      } else if (!isNullOrUndefined(container.querySelector('svg.e-spin-material3')) && !isNullOrUndefined(container.querySelector('svg.e-spin-material3').querySelector('path.e-path-circle'))) {\n        svg = container.querySelector('svg.e-spin-material3');\n      }\n\n      if (!isNullOrUndefined(svg)) {\n        var path = svg.querySelector('path.e-path-circle');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n        path.setAttribute('transform', 'rotate(' + rotate + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n      }\n    }\n  }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction mat_calculate_attributes(radius, container, type, cls) {\n  var diameter = radius * 2;\n  var svg = container.querySelector('svg.' + cls);\n  var path = svg.querySelector('path.e-path-circle');\n  var strokeSize = getStrokeSize(diameter);\n  var transformOrigin = diameter / 2 + 'px';\n  svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n  svg.style.width = svg.style.height = diameter + 'px';\n  svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n  path.setAttribute('d', drawArc(diameter, strokeSize));\n\n  if (type === 'Material' || type === 'Material3') {\n    path.setAttribute('stroke-width', strokeSize + '');\n    path.setAttribute('stroke-dasharray', (diameter - strokeSize) * Math.PI * 0.75 + '');\n    path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n  }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\n\n\nfunction getSize(value) {\n  var parsed = parseFloat(value);\n  return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\n\n\nfunction drawArc(diameter, strokeSize) {\n  var radius = diameter / 2;\n  var offset = strokeSize / 2;\n  return 'M' + radius + ',' + offset + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\n\n\nfunction getStrokeSize(diameter) {\n  return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction getDashOffset(diameter, strokeSize, value, max) {\n  return (diameter - strokeSize) * Math.PI * (3 * max / 100 - value / 100);\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction easeAnimation(current, start, change, duration) {\n  var timestamp = (current /= duration) * current;\n  var timecount = timestamp * current;\n  return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\n\n\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n  var centerX = radius;\n  var centerY = radius;\n  var diameter = radius * 2; // eslint-disable-next-line\n\n  var startArc = 315,\n      endArc = 45;\n  var svg = innerConainer.querySelector('.' + trgClass);\n  var circle = svg.querySelector('.e-path-circle');\n  var path = svg.querySelector('.e-path-arc');\n  var transformOrigin = diameter / 2 + 'px';\n  circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n  path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n  svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n  svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n  svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n  var radians = (angle - 90) * Math.PI / 180.0;\n  return {\n    x: centerX + radius * Math.cos(radians),\n    y: centerY + radius * Math.sin(radians)\n  };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\n\n\nfunction defineArc(x, y, radius, startArc, endArc) {\n  var start = defineArcPoints(x, y, radius, endArc);\n  var end = defineArcPoints(x, y, radius, startArc);\n  var d = ['M', start.x, start.y, 'A', radius, radius, 0, 0, 0, end.x, end.y].join(' ');\n  return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\n\n\nfunction defineCircle(x, y, radius) {\n  var d = ['M', x, y, 'm', -radius, 0, 'a', radius, radius, 0, 1, 0, radius * 2, 0, 'a', radius, radius, 0, 1, 0, -radius * 2, 0].join(' ');\n  return d;\n}\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\n\n\nfunction showSpinner(container) {\n  showHideSpinner(container, false);\n  container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\n\n\nfunction showHideSpinner(container, isHide) {\n  var spinnerWrap;\n\n  if (container) {\n    if (container.classList.contains(CLS_SPINWRAP)) {\n      spinnerWrap = container;\n    } else {\n      var spinWrapCollection = void 0;\n      spinWrapCollection = container.querySelectorAll('.' + CLS_SPINWRAP);\n      spinnerWrap = Array.from(spinWrapCollection).find(function (wrap) {\n        return wrap.parentElement === container;\n      }) || null;\n    }\n  }\n\n  if (container && spinnerWrap) {\n    var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n    var spinCheck = void 0; // eslint-disable-next-line\n\n    spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) : !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n\n    if (spinCheck) {\n      var svgEle = spinnerWrap.querySelector('svg');\n\n      if (isNullOrUndefined(svgEle)) {\n        return;\n      }\n\n      var id = svgEle.getAttribute('id');\n      globalTimeOut[\"\" + id].isAnimate = !isHide;\n\n      switch (globalTimeOut[\"\" + id].type) {\n        case 'Material':\n        case 'Material3':\n          // eslint-disable-next-line\n          isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n          break;\n\n        case 'Bootstrap':\n          // eslint-disable-next-line\n          isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n          break;\n      }\n    } // eslint-disable-next-line\n\n\n    isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n    container = null;\n  }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\n\n\nfunction hideSpinner(container) {\n  showHideSpinner(container, true);\n  container = null;\n} // eslint-disable-next-line\n\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\n\n\nfunction setSpinner(args, internalCreateElement) {\n  var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n\n  if (args.template !== undefined) {\n    spinTemplate = args.template;\n\n    if (args.template !== undefined) {\n      spinCSSClass = args.cssClass;\n    }\n  }\n\n  var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n\n  for (var index = 0; index < container.length; index++) {\n    ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n  }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\n\n\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n  if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n    replaceTheme(container, theme, cssClass, makeEle);\n\n    if (container.classList.contains(CLS_SHOWSPIN)) {\n      container.classList.remove(CLS_SHOWSPIN);\n      showSpinner(container);\n    } else {\n      container.classList.remove(CLS_HIDESPIN);\n      hideSpinner(container);\n    }\n  } else {\n    spinTemplate = template;\n\n    if (!isNullOrUndefined(cssClass)) {\n      spinCSSClass = cssClass;\n    }\n\n    if (!isNullOrUndefined(spinTemplate)) {\n      replaceContent(container, spinTemplate, spinCSSClass);\n    }\n  }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\n\n\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n  if (!isNullOrUndefined(cssClass)) {\n    container.classList.add(cssClass);\n  }\n\n  var svgElement = container.querySelector('svg');\n\n  if (!isNullOrUndefined(svgElement)) {\n    var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n    var classNames = svgElement.getAttribute('class');\n    var svgClassList = classNames.split(/\\s/);\n\n    if (svgClassList.indexOf('e-spin-material') >= 0) {\n      var id = svgElement.getAttribute('id');\n      clearTimeout(globalTimeOut[\"\" + id].timeOut);\n    }\n\n    setTheme(theme, container, radius, makeEle);\n  }\n}\n/**\n * spinner modules\n */\n\n/**\n * Popup Components\n */\n\n\nexport { PositionData, Popup, getScrollableParent, getZindexPartial, getMaxZindex, calculateRelativeBasedPosition, calculatePosition, fit, isCollide, flip, ButtonProps, AnimationSettings, Dialog, DialogUtility, Animation$1 as Animation, Tooltip, Spinner, createSpinner, showSpinner, hideSpinner, setSpinner };","map":{"version":3,"names":["Animation","Browser","ChildProperty","Collection","Complex","Component","Draggable","Event","EventHandler","L10n","NotifyPropertyChanges","Property","SanitizeHtmlHelper","Touch","addClass","append","attributes","classList","closest","compile","createElement","detach","extend","formatUnit","getUniqueID","isBlazor","isNullOrUndefined","prepend","remove","removeClass","select","selectAll","setStyleAttribute","Button","elementRect","popupRect","element","parentDocument","fixedParent","calculateRelativeBasedPosition","anchor","fixedElement","anchorPos","left","top","tempAnchor","offsetParent","style","position","offsetLeft","offsetTop","scrollLeft","scrollTop","parentElement","calculatePosition","currentElement","positionX","positionY","targetValues","undefined","ownerDocument","pos","updatePosition","toLowerCase","setPosx","value","setPosy","posX","posY","getBoundingClientRect","getElementHCenter","getElementTop","getElementRight","getElementVCenter","getElementLeft","getElementBottom","getBodyScrollTop","documentElement","body","getBodyScrollLeft","bottom","height","popupWidth","contains","width","right","parentDocument$1","targetContainer","fit","viewPortElement","axis","X","Y","elemData","containerWidth","getTargetContainerWidth","getViewPortWidth","containerLeft","ContainerLeft","containerRight","ContainerRight","overLeft","overRight","containerHeight","getTargetContainerHeight","getViewPortHeight","containerTop","ContainerTop","containerBottom","ContainerBottom","overTop","overBottom","isCollide","x","y","elemOffset","data","yAxis","topCollideCheck","xAxis","leftCollideCheck","topSide","push","rightSide","leftSide","bottomSide","flip","target","offsetX","offsetY","tEdge","TL","TR","BL","BR","eEdge","window","getComputedStyle","display","oldVisibility","visibility","removeProperty","updateElementData","setPosition","leftFlip","topFlip","setPopup","edge","eStatus","getBodyScrollLeft$1","deepCheck","collideSide","getBodyScrollTop$1","innerHeight","getTargetContainerLeft","getTargetContainerTop","windowWidth","innerWidth","documentReact","document","offsetWidth","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","PositionData","_super","apply","CLASSNAMES","ROOT","RTL","OPEN","CLOSE","Popup","options","call","onPropertyChanged","newProp","oldProp","_i","_a","keys","prop","zIndex","setEnableRtl","refreshPosition","parseInt","toString","setContent","actionOnScroll","wireScrollEvents","unwireScrollEvents","getModuleName","resolveCollision","checkCollision","getPersistData","addOnPersist","destroy","unwireEvents","content","relateTo","render","add","styles","wireEvents","isDevice","orientationOnChange","getRelateToElement","getScrollableParent","parent_1","scrollRefresh","parent_2","relateToElement","setProperties","querySelector","e","tagName","hide","targetVisible","isElementOnViewport","targetInvisibleStatus","trigger","scrollElement","scrollParents","parent_3","isElementVisible","rect","checkGetBoundingClientRect","parent_4","win","windowView","scrollY","scrollX","outerWidth","outerHeight","off","ele","elementView","preRender","reposition","enableRtl","innerHTML","textContent","relateToElem","props","appendChild","_this","setTimeout","collision","checkFixedParent","parentDisplay","getAnchorPosition","eleRect","error","anchorEle","anchorRect","targetType","callFlip","param","callFit","viewPortRect","horz","vert","show","animationOptions","relativeElement","fmDialogContainer","getElementsByClassName","isIos","zIndexElement","getZindexPartial","showAnimation","begin","isDestroyed","end","animate","hideAnimation","parent","parentStyle","overflow","eleStyle","overflowRegex","test","overflowY","overflowX","parentZindex","index","defaultView","getPropertyValue","childrenZindex","children","isEqualNode","siblingsZindex","childNodes","slice","finalValue","concat","currentZindexValue","Math","max","getMaxZindex","maxZindex","elements","getElementsByTagName","i_1","elementClass","RESIZE_HANDLER","FOCUSED_HANDLER","DIALOG_RESIZABLE","RESTRICT_LEFT","RESIZE_WITHIN_VIEWPORT","dialogBorderResize","targetElement","selectedHandler","originalWidth","originalHeight","originalX","originalY","originalMouseX","originalMouseY","minHeight","maxHeight","minWidth","maxWidth","containerElement","resizeStart","resize","resizeEnd","resizeWestWidth","setLeft","previousWidth","setWidth","proxy","createResize","args","resizeBegin","resizing","resizeComplete","getDOMElement","boundary","directions","direction","split","indexOf","setBorderResizeElm","trim","resizeHandler","className","calculateValues","borderBottom","attrs","setAttribute","domElement","resizers","querySelectorAll","onMouseDown","eventName","info","name","onTouchStart","borderResizers","getEventType","preventDefault","pageX","pageY","targetEle","clientWidth","clientHeight","onMouseMove","onMouseUp","touchMoveEvent","touchEndEvent","parseFloat","replace","dialogResizeElement","coordinates","touches","changedTouches","resizeTowards","resizeSouth","resizeNorth","resizeWest","resizeEast","getClientRectValues","documentHeight","calculateValue","currentpageY","targetRectValues","containerRectValues","calculatedHeight","borderValue","offsetHeight","topWithoutborder","targetTop","calculatedTop","boundaryRectValues","type","currentHeight","top_1","documentWidth","rectValues","floor","calculatedWidth","left_1","setMinHeight","minimumHeight","setMaxWidth","setMaxHeight","removeResize","handlers","__extends$1","__decorate$1","ButtonProps","AnimationSettings","DLG_HEADER_CONTENT","DLG_HEADER","DLG_FOOTER_CONTENT","MODAL_DLG","DLG_CONTENT","DLG_CLOSE_ICON","DLG_OVERLAY","DLG_TARGET","DLG_CONTAINER","SCROLL_DISABLED","DLG_PRIMARY_BUTTON","ICON","POPUP_ROOT","DEVICE","FULLSCREEN","DLG_CLOSE_ICON_BTN","DLG_HIDE","DLG_SHOW","DLG_UTIL_DEFAULT_TITLE","DLG_UTIL_ROOT","DLG_UTIL_ALERT","DLG_UTIL_CONFIRM","DLG_RESIZABLE","DLG_RESTRICT_LEFT_VALUE","DLG_RESTRICT_WIDTH_VALUE","DLG_REF_ELEMENT","DLG_USER_ACTION_CLOSED","DLG_CLOSE_ICON_CLOSED","DLG_ESCAPE_CLOSED","DLG_OVERLAYCLICK_CLOSED","DLG_DRAG","Dialog","needsID","initialize","initRender","enableResize","setResize","animationSettings","effect","getMinHeight","renderComplete","initializeValue","dlgClosedBy","headerContent","allowMaxHeight","preventVisibility","clonedEle","cloneNode","closeIconClickEventHandler","event","dlgOverlayClickEventHandler","preventFocus","overlayClickEventArgs","focusContent","localeText","close","l10n","locale","checkPositionData","prevOnChange","isProtectedOnChange","updatePersistData","enablePersistence","dragObj","isNumberValue","isNumber","getEle","list","selector","computedHeaderHeight","computedFooterHeight","footerEle","headerHeight","footerHeight","isNaN","onResizeStart","dialogObj","cancel","onResizing","onResizeComplete","isBlazorServerRender","computedHeight","computedWidth","resizeHandles","directionValue","toLocaleLowerCase","isModal","bind","wireWindowResizeEvent","unWireWindowResizeEvent","getFocusElement","items","keyDown","keyCode","buttonObj","btnObj","ftrTemplateContent","contentEle","activeElement","shiftKey","focusableElements","focus","isTagName","isContentEdit","hasAttribute","getAttribute","closeOnEscape","query","ctrlKey","primaryButtonEle","buttonIndex_1","firstPrimary","buttons","some","buttonModel","isPrimary","click","setCSSClass","initialRender","role","setzIndex","calculatezIndex","id","setTargetContent","header","setHeader","renderCloseIcon","footerTemplate","setFooterTemplate","setButton","allowDragging","setAllowDragging","setIsModal","dlgContainer","dlgOverlay","parentEle","refElement","insertBefore","popupObj","open","eventArgs","container","resetResizeIcon","openEventArgs","unBindEvent","closeArgs","activeEle","blur","storeActiveElement","positionChange","setEnableRTL","setOverlayZindex","visible","dialogConHeight","resizeIcon","zIndexValue","setPopupPosition","handleContent","clone","isDragScroll","abort","handle","dragStart","dragEventArgs","bindEvents","dragElement","dragStop","drag","dragArea","buttonContent","buttonType","btn","cssClass","outerHTML","footerBtn","buttonClickHandler","appendTo","isFlat","innerContentElement","setTemplate","HTMLElement","isIE","template","toElement","templateFn","templateProps","templateValue","isStringTemplate","sanitizeHelper","isVue","fromElements","isString","item","enableHtmlSanitizer","dialogItem","beforeSanitize","beforeEvent","helper","serializeValue","isContent","createDocumentFragment","forEach","el","nodeType","headerEle","createHeaderContent","join","showCloseIcon","closeIcon","closeIconBtnObj","iconCss","closeIconTitle","setLocale","getConstant","oldCSSClass","parentNode","getValidFocusNode","node","u","tabIndex","disabled","disableElement","getAutoFocusNode","validNode","t","elementMatch","matches","webkitMatchesSelector","msGetRegionContent","Element","userAgent","bindEvent","updateSanitizeContent","isServerRendered","clearTemplate","innerText","insertAdjacentHTML","updateIsModal","buttonCount","setTarget","firstChild","removeChild","setPopupZindex","currentzIndex","windowResizeHandler","classArray","unWireEvents","removeAttribute","isReact","addEventListener","removeEventListener","getDimension","dialogWidth","dialogHeight","isFullScreen","fullScreen","eventArgs_1","beforeOpenArgs","openAnimation","duration","delay","dialogOpen","renderReactTemplates","isInteracted","closedBy","beforeCloseArgs","closeAnimation","scrollingElement","getButtons","DialogUtility","alert","dialogElement","alertDialogObj","okButtonModel","createDialog","alertOptions","confirm","confirmDialogObj","okCancelButtonModel","confirmOptions","dialogObject","option","formOptions","setAlertButtonModel","setConfirmButtonModel","title","isDraggable","alertButtonModel","okButton","formButtonModel","cancelButtonModel","cancelButton","buttonPropModel","buttonProps","text","icon","__extends$2","__decorate$2","TOUCHEND_HIDE_DELAY","TAPHOLD_THRESHOLD","SHOW_POINTER_TIP_GAP","HIDE_POINTER_TIP_GAP","MOUSE_TRAIL_GAP","POINTER_ADJUST","ROOT$1","RTL$1","DEVICE$1","ICON$1","TOOLTIP_WRAP","CONTENT","ARROW_TIP","ARROW_TIP_OUTER","ARROW_TIP_INNER","TIP_BOTTOM","TIP_TOP","TIP_LEFT","TIP_RIGHT","POPUP_ROOT$1","POPUP_OPEN","POPUP_CLOSE","POPUP_LIB","HIDE_POPUP","POPUP_CONTAINER","Animation$1","Animation$$1","Tooltip","mouseMoveEvent","mouseMoveTarget","isBodyContainer","formatPosition","_b","tooltipPositionY","tooltipPositionX","renderArrow","setTipClass","tip","tipClass","tooltipEle","renderPopup","elePos","mouseTrail","getTooltipPosition","openPopupHandler","closePopupHandler","offsetPos","calculateTooltipOffset","collisionPosition","calculateElementPosition","collisionLeft","collisionTop","collisionFlipFit","windowResize","findTarget","dataBind","needTemplateReposition","tooltipEventArgs","opensOn","clear","tooltipEleWidth","tooltipEleHeight","arrowEle","tipWidth","tipHeight","tipAdjust","showTipPointer","tipHeightAdjust","tipWidthAdjust","updateTipPosition","selEle","removeList","adjustArrow","leftValue","topValue","tooltipWidth","tooltipHeight","arrowInnerELe","tipPosExclude","tipPointerPosition","renderContent","tooltipContent","sanitize","tempFunction","tempArr","enableHtmlParse","nodeList","templateFunction","isSticky","tipClose","touchStartEvent","onStickyClose","addDataTooltipId","removeDataTooltipId","tapHoldHandler","evt","clearTimeout","autoCloseTimer","targetHover","originalEvent","touchEndHandler","targetClick","hideTooltip","animation","closeDelay","targetList","ctrlId","targetList_1","target_1","restoreElement","showTooltip","mouseMoveBeforeOpen","mouseMoveBeforeRemove","showTimer","hideTimer","openDelay","observeCallback","beforeRenderArgs","beforeRenderCallback","isHidden","htmlAttributes","attr","tooltipBeforeRender","tooltipAfterRender","stop","appendContainer","ctrlObj","observedArgs","beforeOpenCallback","openAnimation_1","timingFunction","wireMouseEvents","tooltip","viewContainerRef","horizontal","vertical","affectedPos","checkCollideTarget","pageXOffset","pageYOffset","newpos","collidedPosition","elePosVertical","elePosHorizontal","getOffSetPosition","elePosition","eleOffset","arrowleft","positionString","newPos","offsetType","windowCollision","isTooltipOpen","tooltipHide","popupHide","unwireMouseEvents","tooltipHover","tooltipMouseOut","onMouseOut","enteredElement","relatedTarget","checkForTooltipElement","tooltipElementMouseOut","eventPageX","eventPageY","colpos","targetsList","touchEnd","scrollHandler","triggerList","getTriggerList","triggerList_1","wireFocusEvents","touchModule","tapHoldThreshold","tapHold","nodeName","targetList_2","triggerList_2","unwireFocusEvents","targetList_3","triggerList_3","refresh","currentTarget","currentTarget_1","globalTimeOut","DEFT_MAT_WIDTH","DEFT_MAT3_WIDTH","DEFT_FAB_WIDTH","DEFT_FLUENT_WIDTH","DEFT_BOOT_WIDTH","DEFT_BOOT4_WIDTH","DEFT_BOOT5_WIDTH","CLS_SHOWSPIN","CLS_HIDESPIN","CLS_MATERIALSPIN","CLS_MATERIAL3SPIN","CLS_FABRICSPIN","CLS_FLUENTSPIN","CLS_TAILWINDSPIN","CLS_BOOTSPIN","CLS_BOOT4SPIN","CLS_BOOT5SPIN","CLS_HIGHCONTRASTSPIN","CLS_SPINWRAP","CLS_SPININWRAP","CLS_SPINCIRCLE","CLS_SPINARC","CLS_SPINLABEL","CLS_SPINTEMPLATE","spinTemplate","spinCSSClass","Spinner","action","label","createSpinner","showSpinner","hideSpinner","setArgs","setSpinner","internalCreateElement","radius","makeElement","create_spinner_container","wrap","replaceContent","theme","getTheme","calculateRadius","setTheme","createLabel","inner_wrap","labelEle","createMaterialSpinner","uniqueID","random_generator","timeOut","create_material_element","mat_calculate_attributes","createMaterial3Spinner","createBootstrap4Spinner","createBootstrap5Spinner","startMatAnimate","globalObject","timeOutVar","globalVariables","spinnerInfo","globalInfo","animateMaterial","createFabricSpinner","create_fabric_element","fb_calculate_attributes","createFluentSinner","createTailwindSpinner","createHighContrastSpinner","innerContainer","svg","createBootstrapSpinner","create_bootstrap_element","boot_calculate_attributes","svgBoot","createElementNS","viewBoxValue","trans","defaultRadius","bootCircle","rad","startArc","start","defineArcPoints","circleEle","generateSeries","series","increment","count","formSeries","toFixed","animateBootstrap","rotation","circle","boot_animate","isAnimate","inner","defaultSize","previousId","random","combine","charAt","innerCon","themeClass","svgFabric","fabricCirclePath","fabricCircleArc","cls","svgMaterial","matCirclePath","spinnerContainer","spinnerInnerContainer","createCircle","easeAnimation","easing","startTime","Date","getTime","change","diameter","getSize","strokeSize","getStrokeSize","rotate","mat_animation","currentTime","min","updatePath","path","getDashOffset","transformOrigin","drawArc","PI","parsed","offset","current","timestamp","timecount","innerConainer","trgClass","centerX","centerY","endArc","defineCircle","defineArc","angle","radians","cos","sin","showHideSpinner","isHide","spinnerWrap","spinWrapCollection","from","find","spinCheck","svgEle","ensureTemplate","makeEle","replaceTheme","svgElement","classNames","svgClassList"],"sources":["D:/Primary files/Hims UI/node_modules/@syncfusion/ej2-popups/dist/es6/ej2-popups.es5.js"],"sourcesContent":["import { Animation, Browser, ChildProperty, Collection, Complex, Component, Draggable, Event, EventHandler, L10n, NotifyPropertyChanges, Property, SanitizeHtmlHelper, Touch, addClass, append, attributes, classList, closest, compile, createElement, detach, extend, formatUnit, getUniqueID, isBlazor, isNullOrUndefined, prepend, remove, removeClass, select, selectAll, setStyleAttribute } from '@syncfusion/ej2-base';\nimport { Button } from '@syncfusion/ej2-buttons';\n\n/**\n * Position library\n */\nvar elementRect;\nvar popupRect;\nvar element;\nvar parentDocument;\nvar fixedParent = false;\n/**\n *\n * @param {HTMLElement} anchor - specifies the element\n * @param {HTMLElement} element - specifies the element\n * @returns {OffsetPosition} - returns the value\n */\nfunction calculateRelativeBasedPosition(anchor, element) {\n    var fixedElement = false;\n    var anchorPos = { left: 0, top: 0 };\n    var tempAnchor = anchor;\n    if (!anchor || !element) {\n        return anchorPos;\n    }\n    if (isNullOrUndefined(element.offsetParent) && element.style.position === 'fixed') {\n        fixedElement = true;\n    }\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left += anchor.offsetLeft;\n        anchorPos.top += anchor.offsetTop;\n        anchor = anchor.offsetParent;\n    }\n    anchor = tempAnchor;\n    while ((element.offsetParent || fixedElement) && anchor && element.offsetParent !== anchor) {\n        anchorPos.left -= anchor.scrollLeft;\n        anchorPos.top -= anchor.scrollTop;\n        anchor = anchor.parentElement;\n    }\n    return anchorPos;\n}\n/**\n *\n * @param {Element} currentElement - specifies the element\n * @param {string} positionX - specifies the position\n * @param {string} positionY - specifies the position\n * @param {boolean} parentElement - specifies the boolean\n * @param {ClientRect} targetValues - specifies the client\n * @returns {OffsetPosition} - returns the position\n */\nfunction calculatePosition(currentElement, positionX, positionY, parentElement, targetValues) {\n    popupRect = undefined;\n    popupRect = targetValues;\n    fixedParent = parentElement ? true : false;\n    if (!currentElement) {\n        return { left: 0, top: 0 };\n    }\n    if (!positionX) {\n        positionX = 'left';\n    }\n    if (!positionY) {\n        positionY = 'top';\n    }\n    parentDocument = currentElement.ownerDocument;\n    element = currentElement;\n    var pos = { left: 0, top: 0 };\n    return updatePosition(positionX.toLowerCase(), positionY.toLowerCase(), pos);\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosx(value, pos) {\n    pos.left = value;\n}\n/**\n *\n * @param {number} value - specifies the number\n * @param {OffsetPosition} pos - specifies the position\n * @returns {void}\n */\nfunction setPosy(value, pos) {\n    pos.top = value;\n}\n/**\n *\n * @param {string} posX - specifies the position\n * @param {string} posY - specifies the position\n * @param {OffsetPosition} pos - specifies the position\n * @returns {OffsetPosition} - returns the postion\n */\nfunction updatePosition(posX, posY, pos) {\n    elementRect = element.getBoundingClientRect();\n    switch (posY + posX) {\n        case 'topcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'topright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n        case 'centercenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'centerleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementVCenter(), pos);\n            break;\n        case 'bottomcenter':\n            setPosx(getElementHCenter(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomright':\n            setPosx(getElementRight(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        case 'bottomleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementBottom(), pos);\n            break;\n        default:\n        case 'topleft':\n            setPosx(getElementLeft(), pos);\n            setPosy(getElementTop(), pos);\n            break;\n    }\n    element = null;\n    return pos;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollTop() {\n    return parentDocument.documentElement.scrollTop || parentDocument.body.scrollTop;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getBodyScrollLeft() {\n    return parentDocument.documentElement.scrollLeft || parentDocument.body.scrollLeft;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementBottom() {\n    return fixedParent ? elementRect.bottom : elementRect.bottom + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementVCenter() {\n    return getElementTop() + (elementRect.height / 2);\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementTop() {\n    return fixedParent ? elementRect.top : elementRect.top + getBodyScrollTop();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementLeft() {\n    return elementRect.left + getBodyScrollLeft();\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementRight() {\n    var popupWidth = (element && element.classList.contains('e-date-range-wrapper')) ? (popupRect ? popupRect.width : 0) :\n        (popupRect && (elementRect.width >= popupRect.width) ? popupRect.width : 0);\n    return elementRect.right + getBodyScrollLeft() - popupWidth;\n}\n/**\n * @returns {number} - specifies the number value\n */\nfunction getElementHCenter() {\n    return getElementLeft() + (elementRect.width / 2);\n}\n\n/**\n * Collision module.\n */\nvar parentDocument$1;\nvar targetContainer;\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision coordinates\n * @param {OffsetPosition} position - specifies the position\n * @returns {void}\n */\nfunction fit(element, viewPortElement, axis, position) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: false, Y: false }; }\n    if (!axis.Y && !axis.X) {\n        return { left: 0, top: 0 };\n    }\n    var elemData = element.getBoundingClientRect();\n    targetContainer = viewPortElement;\n    parentDocument$1 = element.ownerDocument;\n    if (!position) {\n        position = calculatePosition(element, 'left', 'top');\n    }\n    if (axis.X) {\n        var containerWidth = targetContainer ? getTargetContainerWidth() : getViewPortWidth();\n        var containerLeft = ContainerLeft();\n        var containerRight = ContainerRight();\n        var overLeft = containerLeft - position.left;\n        var overRight = position.left + elemData.width - containerRight;\n        if (elemData.width > containerWidth) {\n            if (overLeft > 0 && overRight <= 0) {\n                position.left = containerRight - elemData.width;\n            }\n            else if (overRight > 0 && overLeft <= 0) {\n                position.left = containerLeft;\n            }\n            else {\n                position.left = overLeft > overRight ? (containerRight - elemData.width) : containerLeft;\n            }\n        }\n        else if (overLeft > 0) {\n            position.left += overLeft;\n        }\n        else if (overRight > 0) {\n            position.left -= overRight;\n        }\n    }\n    if (axis.Y) {\n        var containerHeight = targetContainer ? getTargetContainerHeight() : getViewPortHeight();\n        var containerTop = ContainerTop();\n        var containerBottom = ContainerBottom();\n        var overTop = containerTop - position.top;\n        var overBottom = position.top + elemData.height - containerBottom;\n        if (elemData.height > containerHeight) {\n            if (overTop > 0 && overBottom <= 0) {\n                position.top = containerBottom - elemData.height;\n            }\n            else if (overBottom > 0 && overTop <= 0) {\n                position.top = containerTop;\n            }\n            else {\n                position.top = overTop > overBottom ? (containerBottom - elemData.height) : containerTop;\n            }\n        }\n        else if (overTop > 0) {\n            position.top += overTop;\n        }\n        else if (overBottom > 0) {\n            position.top -= overBottom;\n        }\n    }\n    return position;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the html element\n * @param {HTMLElement} viewPortElement - specifies the html element\n * @param {number} x - specifies the number\n * @param {number} y - specifies the number\n * @returns {string[]} - returns the string value\n */\nfunction isCollide(element, viewPortElement, x, y) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    var elemOffset = calculatePosition(element, 'left', 'top');\n    if (x) {\n        elemOffset.left = x;\n    }\n    if (y) {\n        elemOffset.top = y;\n    }\n    var data = [];\n    targetContainer = viewPortElement;\n    parentDocument$1 = element.ownerDocument;\n    var elementRect = element.getBoundingClientRect();\n    var top = elemOffset.top;\n    var left = elemOffset.left;\n    var right = elemOffset.left + elementRect.width;\n    var bottom = elemOffset.top + elementRect.height;\n    // eslint-disable-next-line\n    var yAxis = topCollideCheck(top, bottom);\n    var xAxis = leftCollideCheck(left, right);\n    if (yAxis.topSide) {\n        data.push('top');\n    }\n    if (xAxis.rightSide) {\n        data.push('right');\n    }\n    if (xAxis.leftSide) {\n        data.push('left');\n    }\n    if (yAxis.bottomSide) {\n        data.push('bottom');\n    }\n    return data;\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {HTMLElement} target - specifies the element\n * @param {number} offsetX - specifies the number\n * @param {number} offsetY - specifies the number\n * @param {string} positionX - specifies the string value\n * @param {string} positionY - specifies the string value\n * @param {HTMLElement} viewPortElement - specifies the element\n * @param {CollisionCoordinates} axis - specifies the collision axis\n * @param {boolean} fixedParent - specifies the boolean\n * @returns {void}\n */\nfunction flip(element, target, offsetX, offsetY, positionX, positionY, viewPortElement, \n/* eslint-disable */\naxis, fixedParent) {\n    if (viewPortElement === void 0) { viewPortElement = null; }\n    if (axis === void 0) { axis = { X: true, Y: true }; }\n    if (!target || !element || !positionX || !positionY || (!axis.X && !axis.Y)) {\n        return;\n    }\n    var tEdge = { TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n    }, eEdge = {\n        TL: null,\n        TR: null,\n        BL: null,\n        BR: null\n        /* eslint-enable */\n    };\n    var elementRect;\n    if (window.getComputedStyle(element).display === 'none') {\n        var oldVisibility = element.style.visibility;\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        elementRect = element.getBoundingClientRect();\n        element.style.removeProperty('display');\n        element.style.visibility = oldVisibility;\n    }\n    else {\n        elementRect = element.getBoundingClientRect();\n    }\n    var pos = {\n        posX: positionX, posY: positionY, offsetX: offsetX, offsetY: offsetY, position: { left: 0, top: 0 }\n    };\n    targetContainer = viewPortElement;\n    parentDocument$1 = target.ownerDocument;\n    updateElementData(target, tEdge, pos, fixedParent, elementRect);\n    setPosition(eEdge, pos, elementRect);\n    if (axis.X) {\n        leftFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    if (axis.Y && tEdge.TL.top > -1) {\n        topFlip(target, eEdge, tEdge, pos, elementRect, true);\n    }\n    setPopup(element, pos, elementRect);\n}\n/**\n *\n * @param {HTMLElement} element - specifies the element\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction setPopup(element, pos, elementRect) {\n    //eslint-disable-next-line\n    var left = 0, top = 0;\n    if (element.offsetParent != null\n        && (getComputedStyle(element.offsetParent).position === 'absolute' ||\n            getComputedStyle(element.offsetParent).position === 'relative')) {\n        var data = calculatePosition(element.offsetParent, 'left', 'top', false, elementRect);\n        left = data.left;\n        top = data.top;\n    }\n    element.style.top = (pos.position.top + pos.offsetY - (top)) + 'px';\n    element.style.left = (pos.position.left + pos.offsetX - (left)) + 'px';\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {PositionLocation} pos - specifies theloaction\n * @param {boolean} fixedParent - specifies the boolean\n * @param {ClientRect} elementRect - specifies the client rect\n * @returns {void}\n */\nfunction updateElementData(target, edge, pos, fixedParent, elementRect) {\n    pos.position = calculatePosition(target, pos.posX, pos.posY, fixedParent, elementRect);\n    edge.TL = calculatePosition(target, 'left', 'top', fixedParent, elementRect);\n    edge.TR = calculatePosition(target, 'right', 'top', fixedParent, elementRect);\n    edge.BR = calculatePosition(target, 'left', 'bottom', fixedParent, elementRect);\n    edge.BL = calculatePosition(target, 'right', 'bottom', fixedParent, elementRect);\n}\n/**\n *\n * @param {EdgeOffset} eStatus - specifies the status\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client\n * @returns {void}\n */\nfunction setPosition(eStatus, pos, elementRect) {\n    eStatus.TL = { top: pos.position.top + pos.offsetY, left: pos.position.left + pos.offsetX };\n    eStatus.TR = { top: eStatus.TL.top, left: eStatus.TL.left + elementRect.width };\n    eStatus.BL = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left };\n    eStatus.BR = { top: eStatus.TL.top + elementRect.height,\n        left: eStatus.TL.left + elementRect.width };\n}\n/**\n *\n * @param {number} left - specifies the  number\n * @param {number} right - specifies the number\n * @returns {LeftCorners} - returns the value\n */\nfunction leftCollideCheck(left, right) {\n    //eslint-disable-next-line\n    var leftSide = false, rightSide = false;\n    if (((left - getBodyScrollLeft$1()) < ContainerLeft())) {\n        leftSide = true;\n    }\n    if (right > ContainerRight()) {\n        rightSide = true;\n    }\n    return { leftSide: leftSide, rightSide: rightSide };\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifes the element\n * @param {EdgeOffset} tEdge - specifies the edge offset\n * @param {PositionLocation} pos - specifes the location\n * @param {ClientRect} elementRect - specifies the client\n * @param {boolean} deepCheck - specifies the boolean value\n * @returns {void}\n */\nfunction leftFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = leftCollideCheck(edge.TL.left, edge.TR.left);\n    if ((tEdge.TL.left - getBodyScrollLeft$1()) <= ContainerLeft()) {\n        collideSide.leftSide = false;\n    }\n    if (tEdge.TR.left > ContainerRight()) {\n        collideSide.rightSide = false;\n    }\n    if ((collideSide.leftSide && !collideSide.rightSide) || (!collideSide.leftSide && collideSide.rightSide)) {\n        if (pos.posX === 'right') {\n            pos.posX = 'left';\n        }\n        else {\n            pos.posX = 'right';\n        }\n        pos.offsetX = pos.offsetX + elementRect.width;\n        pos.offsetX = -1 * pos.offsetX;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            leftFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {EdgeOffset} edge - specifies the offset\n * @param {EdgeOffset} tEdge - specifies the offset\n * @param {PositionLocation} pos - specifies the location\n * @param {ClientRect} elementRect - specifies the client rect\n * @param {boolean} deepCheck - specifies the boolean\n * @returns {void}\n */\nfunction topFlip(target, edge, tEdge, pos, elementRect, deepCheck) {\n    var collideSide = topCollideCheck(edge.TL.top, edge.BL.top);\n    if ((tEdge.TL.top - getBodyScrollTop$1()) <= ContainerTop()) {\n        collideSide.topSide = false;\n    }\n    if (tEdge.BL.top >= ContainerBottom() && target.getBoundingClientRect().bottom < window.innerHeight) {\n        collideSide.bottomSide = false;\n    }\n    if ((collideSide.topSide && !collideSide.bottomSide) || (!collideSide.topSide && collideSide.bottomSide)) {\n        if (pos.posY === 'top') {\n            pos.posY = 'bottom';\n        }\n        else {\n            pos.posY = 'top';\n        }\n        pos.offsetY = pos.offsetY + elementRect.height;\n        pos.offsetY = -1 * pos.offsetY;\n        pos.position = calculatePosition(target, pos.posX, pos.posY, false, elementRect);\n        setPosition(edge, pos, elementRect);\n        if (deepCheck) {\n            topFlip(target, edge, tEdge, pos, elementRect, false);\n        }\n    }\n}\n/**\n *\n * @param {number} top - specifies the number\n * @param {number} bottom - specifies the number\n * @returns {TopCorners} - retyrns the value\n */\nfunction topCollideCheck(top, bottom) {\n    //eslint-disable-next-line\n    var topSide = false, bottomSide = false;\n    if ((top - getBodyScrollTop$1()) < ContainerTop()) {\n        topSide = true;\n    }\n    if (bottom > ContainerBottom()) {\n        bottomSide = true;\n    }\n    return { topSide: topSide, bottomSide: bottomSide };\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerWidth() {\n    return targetContainer.getBoundingClientRect().width;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerHeight() {\n    return targetContainer.getBoundingClientRect().height;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerLeft() {\n    return targetContainer.getBoundingClientRect().left;\n}\n/**\n * @returns {void}\n */\nfunction getTargetContainerTop() {\n    return targetContainer.getBoundingClientRect().top;\n}\n//eslint-disable-next-line\nfunction ContainerTop() {\n    if (targetContainer) {\n        return getTargetContainerTop();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerLeft() {\n    if (targetContainer) {\n        return getTargetContainerLeft();\n    }\n    return 0;\n}\n//eslint-disable-next-line\nfunction ContainerRight() {\n    if (targetContainer) {\n        return (getBodyScrollLeft$1() + getTargetContainerLeft() + getTargetContainerWidth());\n    }\n    return (getBodyScrollLeft$1() + getViewPortWidth());\n}\n//eslint-disable-next-line\nfunction ContainerBottom() {\n    if (targetContainer) {\n        return (getBodyScrollTop$1() + getTargetContainerTop() + getTargetContainerHeight());\n    }\n    return (getBodyScrollTop$1() + getViewPortHeight());\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollTop$1() {\n    // if(targetContainer)\n    //     return targetContainer.scrollTop;\n    return parentDocument$1.documentElement.scrollTop || parentDocument$1.body.scrollTop;\n}\n/**\n * @returns {void}\n */\nfunction getBodyScrollLeft$1() {\n    // if(targetContainer)\n    //     return targetContainer.scrollLeft;\n    return parentDocument$1.documentElement.scrollLeft || parentDocument$1.body.scrollLeft;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortHeight() {\n    return window.innerHeight;\n}\n/**\n * @returns {void}\n */\nfunction getViewPortWidth() {\n    var windowWidth = window.innerWidth;\n    var documentReact = document.documentElement.getBoundingClientRect();\n    var offsetWidth = (isNullOrUndefined(document.documentElement)) ? 0 : documentReact.width;\n    return windowWidth - (windowWidth - offsetWidth);\n}\n\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n/**\n * Specifies the offset position values.\n */\nvar PositionData = /** @__PURE__ @class */ (function (_super) {\n    __extends(PositionData, _super);\n    function PositionData() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate([\n        Property('left')\n    ], PositionData.prototype, \"X\", void 0);\n    __decorate([\n        Property('top')\n    ], PositionData.prototype, \"Y\", void 0);\n    return PositionData;\n}(ChildProperty));\n// don't use space in classNames\nvar CLASSNAMES = {\n    ROOT: 'e-popup',\n    RTL: 'e-rtl',\n    OPEN: 'e-popup-open',\n    CLOSE: 'e-popup-close'\n};\n/**\n * Represents the Popup Component\n * ```html\n * <div id=\"popup\" style=\"position:absolute;height:100px;width:100px;\">\n * <div style=\"margin:35px 25px;\">Popup Content</div></div>\n * ```\n * ```typescript\n * <script>\n *   var popupObj = new Popup();\n *   popupObj.appendTo(\"#popup\");\n * </script>\n * ```\n */\nvar Popup = /** @__PURE__ @class */ (function (_super) {\n    __extends(Popup, _super);\n    function Popup(element, options) {\n        return _super.call(this, options, element) || this;\n    }\n    /**\n     * Called internally if any of the property value changed.\n     *\n     * @param {PopupModel} newProp - specifies the new property\n     * @param {PopupModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Popup.prototype.onPropertyChanged = function (newProp, oldProp) {\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    break;\n                case 'zIndex':\n                    setStyleAttribute(this.element, { 'zIndex': newProp.zIndex });\n                    break;\n                case 'enableRtl':\n                    this.setEnableRtl();\n                    break;\n                case 'position':\n                case 'relateTo':\n                    this.refreshPosition();\n                    break;\n                case 'offsetX':\n                    // eslint-disable-next-line\n                    var x = newProp.offsetX - oldProp.offsetX;\n                    this.element.style.left = (parseInt(this.element.style.left, 10) + (x)).toString() + 'px';\n                    break;\n                case 'offsetY':\n                    // eslint-disable-next-line\n                    var y = newProp.offsetY - oldProp.offsetY;\n                    this.element.style.top = (parseInt(this.element.style.top, 10) + (y)).toString() + 'px';\n                    break;\n                case 'content':\n                    this.setContent();\n                    break;\n                case 'actionOnScroll':\n                    if (newProp.actionOnScroll !== 'none') {\n                        this.wireScrollEvents();\n                    }\n                    else {\n                        this.unwireScrollEvents();\n                    }\n                    break;\n            }\n        }\n    };\n    /**\n     * gets the Component module name.\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.getModuleName = function () {\n        return 'popup';\n    };\n    /**\n     * To resolve if any collision occurs.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.resolveCollision = function () {\n        this.checkCollision();\n    };\n    /**\n     * gets the persisted state properties of the Component.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * To destroy the control.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.destroy = function () {\n        if (this.element.classList.contains('e-popup-open')) {\n            this.unwireEvents();\n        }\n        this.element.classList.remove(CLASSNAMES.ROOT, CLASSNAMES.RTL, CLASSNAMES.OPEN, CLASSNAMES.CLOSE);\n        this.content = null;\n        this.relateTo = null;\n        _super.prototype.destroy.call(this);\n    };\n    /**\n     * To Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.render = function () {\n        this.element.classList.add(CLASSNAMES.ROOT);\n        var styles = {};\n        if (this.zIndex !== 1000) {\n            styles.zIndex = this.zIndex;\n        }\n        if (this.width !== 'auto') {\n            styles.width = formatUnit(this.width);\n        }\n        if (this.height !== 'auto') {\n            styles.height = formatUnit(this.height);\n        }\n        setStyleAttribute(this.element, styles);\n        this.fixedParent = false;\n        this.setEnableRtl();\n        this.setContent();\n    };\n    Popup.prototype.wireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.add(window, 'orientationchange', this.orientationOnChange, this);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.wireScrollEvents();\n        }\n    };\n    Popup.prototype.wireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_1 = _a[_i];\n                EventHandler.add(parent_1, 'scroll', this.scrollRefresh, this);\n            }\n        }\n    };\n    Popup.prototype.unwireEvents = function () {\n        if (Browser.isDevice) {\n            EventHandler.remove(window, 'orientationchange', this.orientationOnChange);\n        }\n        if (this.actionOnScroll !== 'none') {\n            this.unwireScrollEvents();\n        }\n    };\n    Popup.prototype.unwireScrollEvents = function () {\n        if (this.getRelateToElement()) {\n            for (var _i = 0, _a = this.getScrollableParent(this.getRelateToElement()); _i < _a.length; _i++) {\n                var parent_2 = _a[_i];\n                EventHandler.remove(parent_2, 'scroll', this.scrollRefresh);\n            }\n        }\n    };\n    Popup.prototype.getRelateToElement = function () {\n        var relateToElement = this.relateTo === '' || isNullOrUndefined(this.relateTo) ?\n            document.body : this.relateTo;\n        this.setProperties({ relateTo: relateToElement }, true);\n        return ((typeof this.relateTo) === 'string') ?\n            document.querySelector(this.relateTo) : this.relateTo;\n    };\n    Popup.prototype.scrollRefresh = function (e) {\n        if (this.actionOnScroll === 'reposition') {\n            if (!isNullOrUndefined(this.element) && !(this.element.offsetParent === e.target ||\n                (this.element.offsetParent && this.element.offsetParent.tagName === 'BODY' &&\n                    e.target.parentElement == null))) {\n                this.refreshPosition();\n            }\n        }\n        else if (this.actionOnScroll === 'hide') {\n            this.hide();\n        }\n        if (this.actionOnScroll !== 'none') {\n            if (this.getRelateToElement()) {\n                var targetVisible = this.isElementOnViewport(this.getRelateToElement(), e.target);\n                if (!targetVisible && !this.targetInvisibleStatus) {\n                    this.trigger('targetExitViewport');\n                    this.targetInvisibleStatus = true;\n                }\n                else if (targetVisible) {\n                    this.targetInvisibleStatus = false;\n                }\n            }\n        }\n    };\n    /**\n     * This method is to get the element visibility on viewport when scroll\n     * the page. This method will returns true even though 1 px of element\n     * part is in visible.\n     *\n     * @param {HTMLElement} relateToElement - specifies the element\n     * @param {HTMLElement} scrollElement - specifies the scroll element\n     * @returns {boolean} - retruns the boolean\n     */\n    // eslint-disable-next-line\n    Popup.prototype.isElementOnViewport = function (relateToElement, scrollElement) {\n        var scrollParents = this.getScrollableParent(relateToElement);\n        for (var parent_3 = 0; parent_3 < scrollParents.length; parent_3++) {\n            if (this.isElementVisible(relateToElement, scrollParents[parent_3])) {\n                continue;\n            }\n            else {\n                return false;\n            }\n        }\n        return true;\n    };\n    Popup.prototype.isElementVisible = function (relateToElement, scrollElement) {\n        var rect = this.checkGetBoundingClientRect(relateToElement);\n        if (!rect.height || !rect.width) {\n            return false;\n        }\n        if (!isNullOrUndefined(this.checkGetBoundingClientRect(scrollElement))) {\n            var parent_4 = scrollElement.getBoundingClientRect();\n            return !(rect.bottom < parent_4.top) &&\n                (!(rect.bottom > parent_4.bottom) &&\n                    (!(rect.right > parent_4.right) &&\n                        !(rect.left < parent_4.left)));\n        }\n        else {\n            var win = window;\n            var windowView = {\n                top: win.scrollY,\n                left: win.scrollX,\n                right: win.scrollX + win.outerWidth,\n                bottom: win.scrollY + win.outerHeight\n            };\n            var off = calculatePosition(relateToElement);\n            var ele = {\n                top: off.top,\n                left: off.left,\n                right: off.left + rect.width,\n                bottom: off.top + rect.height\n            };\n            var elementView = {\n                top: windowView.bottom - ele.top,\n                left: windowView.right - ele.left,\n                bottom: ele.bottom - windowView.top,\n                right: ele.right - windowView.left\n            };\n            return elementView.top > 0\n                && elementView.left > 0\n                && elementView.right > 0\n                && elementView.bottom > 0;\n        }\n    };\n    /**\n     * Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Popup.prototype.preRender = function () {\n        //There is no event handler\n    };\n    Popup.prototype.setEnableRtl = function () {\n        this.reposition();\n        // eslint-disable-next-line\n        this.enableRtl ? this.element.classList.add(CLASSNAMES.RTL) : this.element.classList.remove(CLASSNAMES.RTL);\n    };\n    Popup.prototype.setContent = function () {\n        if (!isNullOrUndefined(this.content)) {\n            this.element.innerHTML = '';\n            if (typeof (this.content) === 'string') {\n                this.element.textContent = this.content;\n            }\n            else {\n                var relateToElem = this.getRelateToElement();\n                // eslint-disable-next-line\n                var props = this.content.props;\n                if (!relateToElem.classList.contains('e-dropdown-btn') || isNullOrUndefined(props)) {\n                    this.element.appendChild(this.content);\n                }\n            }\n        }\n    };\n    Popup.prototype.orientationOnChange = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.refreshPosition();\n        }, 200);\n    };\n    // eslint-disable-next-line\n    /**\n     * Based on the `relative` element and `offset` values, `Popup` element position will refreshed.\n     *\n     * @returns {void}\n     */\n    Popup.prototype.refreshPosition = function (target, collision) {\n        if (!isNullOrUndefined(target)) {\n            this.checkFixedParent(target);\n        }\n        this.reposition();\n        if (!collision) {\n            this.checkCollision();\n        }\n    };\n    Popup.prototype.reposition = function () {\n        var pos;\n        var position;\n        var relateToElement = this.getRelateToElement();\n        if (typeof this.position.X === 'number' && typeof this.position.Y === 'number') {\n            pos = { left: this.position.X, top: this.position.Y };\n        }\n        else if ((typeof this.position.X === 'string' && typeof this.position.Y === 'number') ||\n            (typeof this.position.X === 'number' && typeof this.position.Y === 'string')) {\n            var parentDisplay = void 0;\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            if (this.element.classList.contains('e-dlg-modal')) {\n                parentDisplay = this.element.parentElement.style.display;\n                this.element.parentElement.style.display = 'block';\n            }\n            position = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            if (typeof this.position.X === 'string') {\n                pos = { left: position.left, top: this.position.Y };\n            }\n            else {\n                pos = { left: this.position.X, top: position.top };\n            }\n            this.element.style.display = display;\n            if (this.element.classList.contains('e-dlg-modal')) {\n                this.element.parentElement.style.display = parentDisplay;\n            }\n        }\n        else if (relateToElement) {\n            var display = this.element.style.display;\n            this.element.style.display = 'block';\n            pos = this.getAnchorPosition(relateToElement, this.element, this.position, this.offsetX, this.offsetY);\n            this.element.style.display = display;\n        }\n        else {\n            pos = { left: 0, top: 0 };\n        }\n        if (!isNullOrUndefined(pos)) {\n            this.element.style.left = pos.left + 'px';\n            this.element.style.top = pos.top + 'px';\n        }\n    };\n    Popup.prototype.checkGetBoundingClientRect = function (ele) {\n        var eleRect;\n        try {\n            eleRect = ele.getBoundingClientRect();\n            return eleRect;\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    Popup.prototype.getAnchorPosition = function (anchorEle, ele, position, offsetX, offsetY) {\n        var eleRect = this.checkGetBoundingClientRect(ele);\n        var anchorRect = this.checkGetBoundingClientRect(anchorEle);\n        if (isNullOrUndefined(eleRect) || isNullOrUndefined(anchorRect)) {\n            return null;\n        }\n        var anchor = anchorEle;\n        var anchorPos = { left: 0, top: 0 };\n        if (ele.offsetParent && ele.offsetParent.tagName === 'BODY' && anchorEle.tagName === 'BODY') {\n            anchorPos = calculatePosition(anchorEle);\n        }\n        else {\n            if ((ele.classList.contains('e-dlg-modal') && anchor.tagName !== 'BODY')) {\n                ele = ele.parentElement;\n            }\n            anchorPos = calculateRelativeBasedPosition(anchor, ele);\n        }\n        switch (position.X) {\n            default:\n            case 'left':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth / 2 - eleRect.width / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width / 2 - eleRect.width / 2);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width / 2);\n                }\n                break;\n            case 'right':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.left += (window.innerWidth - eleRect.width);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.left += (anchorRect.width - eleRect.width);\n                }\n                else {\n                    anchorPos.left += (anchorRect.width);\n                }\n                break;\n        }\n        switch (position.Y) {\n            default:\n            case 'top':\n                break;\n            case 'center':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight / 2 - eleRect.height / 2);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height / 2 - eleRect.height / 2);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height / 2);\n                }\n                break;\n            case 'bottom':\n                if ((ele.classList.contains('e-dlg-modal') && anchor.tagName === 'BODY' && this.targetType === 'container')) {\n                    anchorPos.top += (window.innerHeight - eleRect.height);\n                }\n                else if (this.targetType === 'container') {\n                    anchorPos.top += (anchorRect.height - eleRect.height);\n                }\n                else {\n                    anchorPos.top += (anchorRect.height);\n                }\n                break;\n        }\n        anchorPos.left += offsetX;\n        anchorPos.top += offsetY;\n        return anchorPos;\n    };\n    Popup.prototype.callFlip = function (param) {\n        var relateToElement = this.getRelateToElement();\n        flip(this.element, relateToElement, this.offsetX, this.offsetY, this.position.X, this.position.Y, this.viewPortElement, param, this.fixedParent);\n    };\n    Popup.prototype.callFit = function (param) {\n        if (isCollide(this.element, this.viewPortElement).length !== 0) {\n            if (isNullOrUndefined(this.viewPortElement)) {\n                var data = fit(this.element, this.viewPortElement, param);\n                if (param.X) {\n                    this.element.style.left = data.left + 'px';\n                }\n                if (param.Y) {\n                    this.element.style.top = data.top + 'px';\n                }\n            }\n            else {\n                var elementRect = this.checkGetBoundingClientRect(this.element);\n                var viewPortRect = this.checkGetBoundingClientRect(this.viewPortElement);\n                if (isNullOrUndefined(elementRect) || isNullOrUndefined(viewPortRect)) {\n                    return null;\n                }\n                if (param && param.Y === true) {\n                    if (viewPortRect.top > elementRect.top) {\n                        this.element.style.top = '0px';\n                    }\n                    else if (viewPortRect.bottom < elementRect.bottom) {\n                        this.element.style.top = parseInt(this.element.style.top, 10) - (elementRect.bottom - viewPortRect.bottom) + 'px';\n                    }\n                }\n                if (param && param.X === true) {\n                    if (viewPortRect.right < elementRect.right) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) - (elementRect.right - viewPortRect.right) + 'px';\n                    }\n                    else if (viewPortRect.left > elementRect.left) {\n                        this.element.style.left = parseInt(this.element.style.left, 10) + (viewPortRect.left - elementRect.left) + 'px';\n                    }\n                }\n            }\n        }\n    };\n    Popup.prototype.checkCollision = function () {\n        var horz = this.collision.X;\n        var vert = this.collision.Y;\n        if (horz === 'none' && vert === 'none') {\n            return;\n        }\n        if (horz === 'flip' && vert === 'flip') {\n            this.callFlip({ X: true, Y: true });\n        }\n        else if (horz === 'fit' && vert === 'fit') {\n            this.callFit({ X: true, Y: true });\n        }\n        else {\n            if (horz === 'flip') {\n                this.callFlip({ X: true, Y: false });\n            }\n            else if (vert === 'flip') {\n                this.callFlip({ Y: true, X: false });\n            }\n            if (horz === 'fit') {\n                this.callFit({ X: true, Y: false });\n            }\n            else if (vert === 'fit') {\n                this.callFit({ X: false, Y: true });\n            }\n        }\n    };\n    /**\n     * Shows the popup element from screen.\n     *\n     * @returns {void}\n     * @param {AnimationModel} animationOptions - specifies the model\n     * @param { HTMLElement } relativeElement - To calculate the zIndex value dynamically.\n     */\n    Popup.prototype.show = function (animationOptions, relativeElement) {\n        var _this = this;\n        var relateToElement = this.getRelateToElement();\n        if (relateToElement.classList.contains('e-filemanager')) {\n            this.fmDialogContainer = this.element.getElementsByClassName('e-file-select-wrap')[0];\n        }\n        this.wireEvents();\n        if (!isNullOrUndefined(this.fmDialogContainer) && Browser.isIos) {\n            this.fmDialogContainer.style.display = 'block';\n        }\n        if (this.zIndex === 1000 || !isNullOrUndefined(relativeElement)) {\n            var zIndexElement = (isNullOrUndefined(relativeElement)) ? this.element : relativeElement;\n            this.zIndex = getZindexPartial(zIndexElement);\n            setStyleAttribute(this.element, { 'zIndex': this.zIndex });\n        }\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.showAnimation;\n        if (this.collision.X !== 'none' || this.collision.Y !== 'none') {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.checkCollision();\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n        }\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.begin = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.CLOSE);\n                    addClass([_this.element], CLASSNAMES.OPEN);\n                }\n            };\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    _this.trigger('open');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.CLOSE);\n            addClass([this.element], CLASSNAMES.OPEN);\n            this.trigger('open');\n        }\n    };\n    /**\n     * Hides the popup element from screen.\n     *\n     * @param {AnimationModel} animationOptions - To give the animation options.\n     * @returns {void}\n     */\n    Popup.prototype.hide = function (animationOptions) {\n        var _this = this;\n        animationOptions = (!isNullOrUndefined(animationOptions) && typeof animationOptions === 'object') ?\n            animationOptions : this.hideAnimation;\n        if (!isNullOrUndefined(animationOptions)) {\n            animationOptions.end = function () {\n                if (!_this.isDestroyed) {\n                    removeClass([_this.element], CLASSNAMES.OPEN);\n                    addClass([_this.element], CLASSNAMES.CLOSE);\n                    _this.trigger('close');\n                }\n            };\n            new Animation(animationOptions).animate(this.element);\n        }\n        else {\n            removeClass([this.element], CLASSNAMES.OPEN);\n            addClass([this.element], CLASSNAMES.CLOSE);\n            this.trigger('close');\n        }\n        this.unwireEvents();\n    };\n    /**\n     * Gets scrollable parent elements for the given element.\n     *\n     * @returns {void}\n     * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n     */\n    Popup.prototype.getScrollableParent = function (element) {\n        this.checkFixedParent(element);\n        return getScrollableParent(element, this.fixedParent);\n    };\n    Popup.prototype.checkFixedParent = function (element) {\n        var parent = element.parentElement;\n        while (parent && parent.tagName !== 'HTML') {\n            var parentStyle = getComputedStyle(parent);\n            if (parentStyle.position === 'fixed' && !isNullOrUndefined(this.element) && this.element.offsetParent &&\n                this.element.offsetParent.tagName === 'BODY' && getComputedStyle(this.element.offsetParent).overflow !== 'hidden') {\n                this.element.style.top = window.scrollY > parseInt(this.element.style.top, 10) ?\n                    formatUnit(window.scrollY - parseInt(this.element.style.top, 10))\n                    : formatUnit(parseInt(this.element.style.top, 10) - window.scrollY);\n                this.element.style.position = 'fixed';\n                this.fixedParent = true;\n            }\n            parent = parent.parentElement;\n            if (!isNullOrUndefined(this.element) && isNullOrUndefined(this.element.offsetParent) && parentStyle.position === 'fixed'\n                && this.element.style.position === 'fixed') {\n                this.fixedParent = true;\n            }\n        }\n    };\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"height\", void 0);\n    __decorate([\n        Property('auto')\n    ], Popup.prototype, \"width\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"content\", void 0);\n    __decorate([\n        Property('container')\n    ], Popup.prototype, \"targetType\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"viewPortElement\", void 0);\n    __decorate([\n        Property({ X: 'none', Y: 'none' })\n    ], Popup.prototype, \"collision\", void 0);\n    __decorate([\n        Property('')\n    ], Popup.prototype, \"relateTo\", void 0);\n    __decorate([\n        Complex({}, PositionData)\n    ], Popup.prototype, \"position\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetX\", void 0);\n    __decorate([\n        Property(0)\n    ], Popup.prototype, \"offsetY\", void 0);\n    __decorate([\n        Property(1000)\n    ], Popup.prototype, \"zIndex\", void 0);\n    __decorate([\n        Property(false)\n    ], Popup.prototype, \"enableRtl\", void 0);\n    __decorate([\n        Property('reposition')\n    ], Popup.prototype, \"actionOnScroll\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"showAnimation\", void 0);\n    __decorate([\n        Property(null)\n    ], Popup.prototype, \"hideAnimation\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"open\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"close\", void 0);\n    __decorate([\n        Event()\n    ], Popup.prototype, \"targetExitViewport\", void 0);\n    Popup = __decorate([\n        NotifyPropertyChanges\n    ], Popup);\n    return Popup;\n}(Component));\n/**\n * Gets scrollable parent elements for the given element.\n *\n * @param { HTMLElement } element - Specify the element to get the scrollable parents of it.\n * @param {boolean} fixedParent - specifies the parent element\n * @private\n * @returns {void}\n */\nfunction getScrollableParent(element, fixedParent) {\n    var eleStyle = getComputedStyle(element);\n    var scrollParents = [];\n    var overflowRegex = /(auto|scroll)/;\n    var parent = element.parentElement;\n    while (parent && parent.tagName !== 'HTML') {\n        var parentStyle = getComputedStyle(parent);\n        if (!(eleStyle.position === 'absolute' && parentStyle.position === 'static')\n            && overflowRegex.test(parentStyle.overflow + parentStyle.overflowY + parentStyle.overflowX)) {\n            scrollParents.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    if (!fixedParent) {\n        scrollParents.push(document);\n    }\n    return scrollParents;\n}\n/**\n * Gets the maximum z-index of the given element.\n *\n * @returns {void}\n * @param { HTMLElement } element - Specify the element to get the maximum z-index of it.\n * @private\n */\nfunction getZindexPartial(element) {\n    // upto body traversal\n    var parent = element.parentElement;\n    var parentZindex = [];\n    while (parent) {\n        if (parent.tagName !== 'BODY') {\n            var index = document.defaultView.getComputedStyle(parent, null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(parent, null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                parentZindex.push(index);\n            }\n            parent = parent.parentElement;\n        }\n        else {\n            break;\n        }\n    }\n    var childrenZindex = [];\n    for (var i = 0; i < document.body.children.length; i++) {\n        if (!element.isEqualNode(document.body.children[i])) {\n            var index = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(document.body.children[i], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                childrenZindex.push(index);\n            }\n        }\n    }\n    childrenZindex.push('999');\n    var siblingsZindex = [];\n    if (!isNullOrUndefined(element.parentElement) && element.parentElement.tagName !== 'BODY') {\n        var childNodes = [].slice.call(element.parentElement.children);\n        for (var i = 0; i < childNodes.length; i++) {\n            if (!element.isEqualNode(childNodes[i])) {\n                var index = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('z-index');\n                var position = document.defaultView.getComputedStyle(childNodes[i], null).getPropertyValue('position');\n                if (index !== 'auto' && position !== 'static') {\n                    siblingsZindex.push(index);\n                }\n            }\n        }\n    }\n    var finalValue = parentZindex.concat(childrenZindex, siblingsZindex);\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, finalValue) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n/**\n * Gets the maximum z-index of the page.\n *\n * @returns {void}\n * @param { HTMLElement } tagName - Specify the tagName to get the maximum z-index of it.\n * @private\n */\nfunction getMaxZindex(tagName) {\n    if (tagName === void 0) { tagName = ['*']; }\n    var maxZindex = [];\n    for (var i = 0; i < tagName.length; i++) {\n        var elements = document.getElementsByTagName(tagName[i]);\n        for (var i_1 = 0; i_1 < elements.length; i_1++) {\n            var index = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('z-index');\n            var position = document.defaultView.getComputedStyle(elements[i_1], null).getPropertyValue('position');\n            if (index !== 'auto' && position !== 'static') {\n                maxZindex.push(index);\n            }\n        }\n    }\n    // eslint-disable-next-line\n    var currentZindexValue = Math.max.apply(Math, maxZindex) + 1;\n    return currentZindexValue > 2147483647 ? 2147483647 : currentZindexValue;\n}\n\n/**\n * Popup Components\n */\n\n/**\n * Popup Components\n */\n\n/**\n * Resize library\n */\n/* eslint-disable */\nvar elementClass = ['north-west', 'north', 'north-east', 'west', 'east', 'south-west', 'south', 'south-east'];\nvar RESIZE_HANDLER = 'e-resize-handle';\nvar FOCUSED_HANDLER = 'e-focused-handle';\nvar DIALOG_RESIZABLE = 'e-dlg-resizable';\nvar RESTRICT_LEFT = ['e-restrict-left'];\nvar RESIZE_WITHIN_VIEWPORT = 'e-resize-viewport';\nvar dialogBorderResize = ['north', 'west', 'east', 'south'];\nvar targetElement;\nvar selectedHandler;\nvar originalWidth = 0;\nvar originalHeight = 0;\nvar originalX = 0;\nvar originalY = 0;\nvar originalMouseX = 0;\nvar originalMouseY = 0;\nvar minHeight;\nvar maxHeight;\nvar minWidth;\nvar maxWidth;\nvar containerElement;\nvar resizeStart = null;\nvar resize = null;\nvar resizeEnd = null;\n/* eslint-enable */\nvar resizeWestWidth;\nvar setLeft = true;\nvar previousWidth = 0;\nvar setWidth = true;\n// eslint-disable-next-line\nvar proxy;\n/**\n *\n * @param {ResizeArgs} args - specifies the resize args\n * @returns {void}\n */\nfunction createResize(args) {\n    resizeStart = args.resizeBegin;\n    resize = args.resizing;\n    resizeEnd = args.resizeComplete;\n    targetElement = getDOMElement(args.element);\n    containerElement = getDOMElement(args.boundary);\n    var directions = args.direction.split(' ');\n    for (var i = 0; i < directions.length; i++) {\n        if (dialogBorderResize.indexOf(directions[i]) >= 0 && directions[i]) {\n            setBorderResizeElm(directions[i]);\n        }\n        else if (directions[i].trim() !== '') {\n            var resizeHandler = createElement('div', { className: 'e-icons ' + RESIZE_HANDLER + ' ' + 'e-' + directions[i] });\n            targetElement.appendChild(resizeHandler);\n        }\n    }\n    minHeight = args.minHeight;\n    minWidth = args.minWidth;\n    maxWidth = args.maxWidth;\n    maxHeight = args.maxHeight;\n    if (args.proxy && args.proxy.element && args.proxy.element.classList.contains('e-dialog')) {\n        wireEvents(args.proxy);\n    }\n    else {\n        wireEvents();\n    }\n}\n/**\n *\n * @param {string} direction - specifies the string\n * @returns {void}\n */\nfunction setBorderResizeElm(direction) {\n    calculateValues();\n    var borderBottom = createElement('span', {\n        attrs: {\n            'unselectable': 'on', 'contenteditable': 'false'\n        }\n    });\n    borderBottom.setAttribute('class', 'e-dialog-border-resize e-' + direction);\n    if (direction === 'south') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.bottom = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'north') {\n        borderBottom.style.height = '2px';\n        borderBottom.style.width = '100%';\n        borderBottom.style.top = '0px';\n        borderBottom.style.left = '0px';\n    }\n    if (direction === 'east') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.right = '0px';\n        borderBottom.style.top = '0px';\n    }\n    if (direction === 'west') {\n        borderBottom.style.height = '100%';\n        borderBottom.style.width = '2px';\n        borderBottom.style.left = '0px';\n        borderBottom.style.top = '0px';\n    }\n    targetElement.appendChild(borderBottom);\n}\n/**\n *\n * @param {string} element - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction getDOMElement(element) {\n    var domElement;\n    if (!isNullOrUndefined(element)) {\n        if (typeof (element) === 'string') {\n            domElement = document.querySelector(element);\n        }\n        else {\n            domElement = element;\n        }\n    }\n    return domElement;\n}\n// eslint-disable-next-line\nfunction wireEvents(args) {\n    if (isNullOrUndefined(args)) {\n        args = this;\n    }\n    var resizers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < resizers.length; i++) {\n        selectedHandler = resizers[i];\n        EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n        var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n        EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNullOrUndefined(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            selectedHandler = borderResizers[i];\n            EventHandler.add(selectedHandler, 'mousedown', onMouseDown, args);\n            var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n            EventHandler.add(selectedHandler, eventName, onTouchStart, args);\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {string} e - specifies the string\n * @returns {string} - returns the string\n */\nfunction getEventType(e) {\n    return (e.indexOf('mouse') > -1) ? 'mouse' : 'touch';\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the mouse event\n * @returns {void}\n */\nfunction onMouseDown(e) {\n    e.preventDefault();\n    targetElement = e.target.parentElement;\n    calculateValues();\n    originalMouseX = e.pageX;\n    originalMouseY = e.pageY;\n    e.target.classList.add(FOCUSED_HANDLER);\n    if (!isNullOrUndefined(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    if (this.targetEle && targetElement && targetElement.querySelector('.' + DIALOG_RESIZABLE)) {\n        containerElement = this.target === ('body' || 'document.body' || document.body) ? null : this.targetEle;\n        maxWidth = this.targetEle.clientWidth;\n        maxHeight = this.targetEle.clientHeight;\n    }\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, 'mousemove', onMouseMove, this);\n    EventHandler.add(document, 'mouseup', onMouseUp, this);\n    for (var i = 0; i < RESTRICT_LEFT.length; i++) {\n        if (targetElement.classList.contains(RESTRICT_LEFT[i])) {\n            setLeft = false;\n        }\n        else {\n            setLeft = true;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseUp(e) {\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    var eventName = (Browser.info.name === 'msie') ? 'pointerdown' : 'touchstart';\n    EventHandler.remove(target, 'mousemove', onMouseMove);\n    EventHandler.remove(target, touchMoveEvent, onMouseMove);\n    EventHandler.remove(target, eventName, onMouseMove);\n    if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        document.body.querySelector('.' + FOCUSED_HANDLER).classList.remove(FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(resizeEnd)) {\n        proxy = this;\n        resizeEnd(e, proxy);\n    }\n    EventHandler.remove(document, 'mouseup', onMouseUp);\n    EventHandler.remove(document, touchEndEvent, onMouseUp);\n}\n/* istanbul ignore next */\n/**\n * @returns {void}\n */\nfunction calculateValues() {\n    originalWidth = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('width').replace('px', ''));\n    originalHeight = parseFloat(getComputedStyle(targetElement, null).getPropertyValue('height').replace('px', ''));\n    originalX = targetElement.getBoundingClientRect().left;\n    originalY = targetElement.getBoundingClientRect().top;\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onTouchStart(e) {\n    targetElement = e.target.parentElement;\n    calculateValues();\n    var dialogResizeElement = targetElement.classList.contains('e-dialog');\n    if ((e.target.classList.contains(RESIZE_HANDLER) || e.target.classList.contains('e-dialog-border-resize')) && dialogResizeElement) {\n        e.target.classList.add(FOCUSED_HANDLER);\n    }\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    originalMouseX = coordinates.pageX;\n    originalMouseY = coordinates.pageY;\n    if (!isNullOrUndefined(resizeStart)) {\n        proxy = this;\n        if (resizeStart(e, proxy) === true) {\n            return;\n        }\n    }\n    var touchMoveEvent = (Browser.info.name === 'msie') ? 'pointermove' : 'touchmove';\n    var touchEndEvent = (Browser.info.name === 'msie') ? 'pointerup' : 'touchend';\n    var target = (isNullOrUndefined(containerElement)) ? document : containerElement;\n    EventHandler.add(target, touchMoveEvent, onMouseMove, this);\n    EventHandler.add(document, touchEndEvent, onMouseUp, this);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {MouseEvent} e - specifies the event\n * @returns {void}\n */\nfunction onMouseMove(e) {\n    if (e.target.classList.contains(RESIZE_HANDLER) && e.target.classList.contains(FOCUSED_HANDLER)) {\n        selectedHandler = e.target;\n    }\n    else if (!isNullOrUndefined(document.body.querySelector('.' + FOCUSED_HANDLER))) {\n        selectedHandler = document.body.querySelector('.' + FOCUSED_HANDLER);\n    }\n    if (!isNullOrUndefined(selectedHandler)) {\n        var resizeTowards = '';\n        for (var i = 0; i < elementClass.length; i++) {\n            if (selectedHandler.classList.contains('e-' + elementClass[i])) {\n                resizeTowards = elementClass[i];\n            }\n        }\n        if (!isNullOrUndefined(resize)) {\n            proxy = this;\n            resize(e, proxy);\n        }\n        switch (resizeTowards) {\n            case 'south':\n                resizeSouth(e);\n                break;\n            case 'north':\n                resizeNorth(e);\n                break;\n            case 'west':\n                resizeWest(e);\n                break;\n            case 'east':\n                resizeEast(e);\n                break;\n            case 'south-east':\n                resizeSouth(e);\n                resizeEast(e);\n                break;\n            case 'south-west':\n                resizeSouth(e);\n                resizeWest(e);\n                break;\n            case 'north-east':\n                resizeNorth(e);\n                resizeEast(e);\n                break;\n            case 'north-west':\n                resizeNorth(e);\n                resizeWest(e);\n                break;\n            default: break;\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {HTMLElement} element - specifies the eleemnt\n * @returns {ClientRect} - returns the client\n */\nfunction getClientRectValues(element) {\n    return element.getBoundingClientRect();\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeSouth(e) {\n    var documentHeight = document.documentElement.clientHeight;\n    var calculateValue = false;\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var currentpageY = coordinates.pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    var containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && ((documentHeight - currentpageY) >= 0 || (targetRectValues.top < 0))) {\n        calculateValue = true;\n    }\n    var calculatedHeight = originalHeight + (currentpageY - originalMouseY);\n    calculatedHeight = (calculatedHeight > minHeight) ? calculatedHeight : minHeight;\n    var containerTop = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerTop = containerRectValues.top;\n    }\n    var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetHeight - containerElement.clientHeight;\n    var topWithoutborder = (targetRectValues.top - containerTop) - (borderValue / 2);\n    topWithoutborder = (topWithoutborder < 0) ? 0 : topWithoutborder;\n    if (targetRectValues.top > 0 && (topWithoutborder + calculatedHeight) > maxHeight) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.height = (maxHeight - parseInt(topWithoutborder.toString(), 10)) + 'px';\n        return;\n    }\n    var targetTop = 0;\n    if (calculateValue) {\n        if (targetRectValues.top < 0 && (documentHeight + (targetRectValues.height + targetRectValues.top) > 0)) {\n            targetTop = targetRectValues.top;\n            if ((calculatedHeight + targetTop) <= 30) {\n                calculatedHeight = (targetRectValues.height - (targetRectValues.height + targetRectValues.top)) + 30;\n            }\n        }\n        if (((calculatedHeight + targetRectValues.top) >= maxHeight)) {\n            targetElement.style.height = targetRectValues.height +\n                (documentHeight - (targetRectValues.height + targetRectValues.top)) + 'px';\n        }\n        var calculatedTop = (isNullOrUndefined(containerElement)) ? targetTop : topWithoutborder;\n        if (calculatedHeight >= minHeight && ((calculatedHeight + calculatedTop) <= maxHeight)) {\n            targetElement.style.height = calculatedHeight + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeNorth(e) {\n    var calculateValue = false;\n    var boundaryRectValues;\n    var pageY = (getEventType(e.type) === 'mouse') ? e.pageY : e.touches[0].pageY;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement)) {\n        boundaryRectValues = getClientRectValues(containerElement);\n    }\n    if (!isNullOrUndefined(containerElement) && (targetRectValues.top - boundaryRectValues.top) > 0) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageY > 0) {\n        calculateValue = true;\n    }\n    var currentHeight = originalHeight - (pageY - originalMouseY);\n    if (calculateValue) {\n        if (currentHeight >= minHeight && currentHeight <= maxHeight) {\n            var containerTop = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerTop = boundaryRectValues.top;\n            }\n            var top_1 = (originalY - containerTop) + (pageY - originalMouseY);\n            top_1 = top_1 > 0 ? top_1 : 1;\n            targetElement.style.height = currentHeight + 'px';\n            targetElement.style.top = top_1 + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeWest(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var rectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        rectValues = getClientRectValues(containerElement);\n    }\n    var pageX = (getEventType(e.type) === 'mouse') ? e.pageX : e.touches[0].pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    var borderValue = isNullOrUndefined(containerElement) ? 0 : containerElement.offsetWidth - containerElement.clientWidth;\n    /* eslint-disable */\n    var left = isNullOrUndefined(containerElement) ? 0 : rectValues.left;\n    var containerWidth = isNullOrUndefined(containerElement) ? 0 : rectValues.width;\n    /* eslint-enable */\n    if (isNullOrUndefined(resizeWestWidth)) {\n        if (!isNullOrUndefined(containerElement)) {\n            resizeWestWidth = (((targetRectValues.left - left) - borderValue / 2)) + targetRectValues.width;\n            resizeWestWidth = resizeWestWidth + (containerWidth - borderValue - resizeWestWidth);\n        }\n        else {\n            resizeWestWidth = documentWidth;\n        }\n    }\n    if (!isNullOrUndefined(containerElement) &&\n        (Math.floor((targetRectValues.left - rectValues.left) + targetRectValues.width +\n            (rectValues.right - targetRectValues.right)) - borderValue) <= maxWidth) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && pageX >= 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth - (pageX - originalMouseX);\n    if (setLeft) {\n        calculatedWidth = (calculatedWidth > resizeWestWidth) ? resizeWestWidth : calculatedWidth;\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            var containerLeft = 0;\n            if (!isNullOrUndefined(containerElement)) {\n                containerLeft = rectValues.left;\n            }\n            var left_1 = (originalX - containerLeft) + (pageX - originalMouseX);\n            left_1 = (left_1 > 0) ? left_1 : 1;\n            if (calculatedWidth !== previousWidth && setWidth) {\n                targetElement.style.width = calculatedWidth + 'px';\n            }\n            if (setLeft) {\n                targetElement.style.left = left_1 + 'px';\n                if (left_1 === 1) {\n                    setWidth = false;\n                }\n                else {\n                    setWidth = true;\n                }\n            }\n        }\n    }\n    previousWidth = calculatedWidth;\n}\n/* istanbul ignore next */\n// eslint-disable-next-line\nfunction resizeEast(e) {\n    var documentWidth = document.documentElement.clientWidth;\n    var calculateValue = false;\n    var containerRectValues;\n    if (!isNullOrUndefined(containerElement)) {\n        containerRectValues = getClientRectValues(containerElement);\n    }\n    var coordinates = e.touches ? e.changedTouches[0] : e;\n    var pageX = coordinates.pageX;\n    var targetRectValues = getClientRectValues(targetElement);\n    if (!isNullOrUndefined(containerElement) && (((targetRectValues.left - containerRectValues.left) + targetRectValues.width) <= maxWidth\n        || (targetRectValues.right - containerRectValues.left) >= targetRectValues.width)) {\n        calculateValue = true;\n    }\n    else if (isNullOrUndefined(containerElement) && (documentWidth - pageX) > 0) {\n        calculateValue = true;\n    }\n    var calculatedWidth = originalWidth + (pageX - originalMouseX);\n    var containerLeft = 0;\n    if (!isNullOrUndefined(containerElement)) {\n        containerLeft = containerRectValues.left;\n    }\n    if (((targetRectValues.left - containerLeft) + calculatedWidth) > maxWidth) {\n        calculateValue = false;\n        if (targetElement.classList.contains(RESIZE_WITHIN_VIEWPORT)) {\n            return;\n        }\n        targetElement.style.width = maxWidth - (targetRectValues.left - containerLeft) + 'px';\n    }\n    if (calculateValue) {\n        if (calculatedWidth >= minWidth && calculatedWidth <= maxWidth) {\n            targetElement.style.width = calculatedWidth + 'px';\n        }\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {number} minimumHeight - specifies the number\n * @returns {void}\n */\nfunction setMinHeight(minimumHeight) {\n    minHeight = minimumHeight;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nfunction setMaxWidth(value) {\n    maxWidth = value;\n}\n/**\n *\n * @param {number} value - specifies the number value\n * @returns {void}\n */\nfunction setMaxHeight(value) {\n    maxHeight = value;\n}\n/**\n * @returns {void}\n */\nfunction removeResize() {\n    var handlers = targetElement.querySelectorAll('.' + RESIZE_HANDLER);\n    for (var i = 0; i < handlers.length; i++) {\n        detach(handlers[i]);\n    }\n    var borderResizers = targetElement.querySelectorAll('.e-dialog-border-resize');\n    if (!isNullOrUndefined(borderResizers)) {\n        for (var i = 0; i < borderResizers.length; i++) {\n            detach(borderResizers[i]);\n        }\n    }\n}\n\nvar __extends$1 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$1 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar ButtonProps = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(ButtonProps, _super);\n    function ButtonProps() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$1([\n        Property(true)\n    ], ButtonProps.prototype, \"isFlat\", void 0);\n    __decorate$1([\n        Property()\n    ], ButtonProps.prototype, \"buttonModel\", void 0);\n    __decorate$1([\n        Property('Button')\n    ], ButtonProps.prototype, \"type\", void 0);\n    __decorate$1([\n        Event()\n    ], ButtonProps.prototype, \"click\", void 0);\n    return ButtonProps;\n}(ChildProperty));\n/**\n * Configures the animation properties for both open and close the dialog.\n */\nvar AnimationSettings = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(AnimationSettings, _super);\n    function AnimationSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$1([\n        Property('Fade')\n    ], AnimationSettings.prototype, \"effect\", void 0);\n    __decorate$1([\n        Property(400)\n    ], AnimationSettings.prototype, \"duration\", void 0);\n    __decorate$1([\n        Property(0)\n    ], AnimationSettings.prototype, \"delay\", void 0);\n    return AnimationSettings;\n}(ChildProperty));\nvar ROOT = 'e-dialog';\nvar RTL = 'e-rtl';\nvar DLG_HEADER_CONTENT = 'e-dlg-header-content';\nvar DLG_HEADER = 'e-dlg-header';\nvar DLG_FOOTER_CONTENT = 'e-footer-content';\nvar MODAL_DLG = 'e-dlg-modal';\nvar DLG_CONTENT = 'e-dlg-content';\nvar DLG_CLOSE_ICON = 'e-icon-dlg-close';\nvar DLG_OVERLAY = 'e-dlg-overlay';\nvar DLG_TARGET = 'e-dlg-target';\nvar DLG_CONTAINER = 'e-dlg-container';\nvar SCROLL_DISABLED = 'e-scroll-disabled';\nvar DLG_PRIMARY_BUTTON = 'e-primary';\nvar ICON = 'e-icons';\nvar POPUP_ROOT = 'e-popup';\nvar DEVICE = 'e-device';\nvar FULLSCREEN = 'e-dlg-fullscreen';\nvar DLG_CLOSE_ICON_BTN = 'e-dlg-closeicon-btn';\nvar DLG_HIDE = 'e-popup-close';\nvar DLG_SHOW = 'e-popup-open';\nvar DLG_UTIL_DEFAULT_TITLE = 'Information';\nvar DLG_UTIL_ROOT = 'e-scroll-disabled';\nvar DLG_UTIL_ALERT = 'e-alert-dialog';\nvar DLG_UTIL_CONFIRM = 'e-confirm-dialog';\nvar DLG_RESIZABLE = 'e-dlg-resizable';\nvar DLG_RESTRICT_LEFT_VALUE = 'e-restrict-left';\nvar DLG_RESTRICT_WIDTH_VALUE = 'e-resize-viewport';\nvar DLG_REF_ELEMENT = 'e-dlg-ref-element';\nvar DLG_USER_ACTION_CLOSED = 'user action';\nvar DLG_CLOSE_ICON_CLOSED = 'close icon';\nvar DLG_ESCAPE_CLOSED = 'escape';\nvar DLG_OVERLAYCLICK_CLOSED = 'overlayClick';\nvar DLG_DRAG = 'e-draggable';\n/**\n * Represents the dialog component that displays the information and get input from the user.\n * Two types of dialog components are `Modal and Modeless (non-modal)` depending on its interaction with parent application.\n * ```html\n * <div id=\"dialog\"></div>\n * ```\n * ```typescript\n * <script>\n *   var dialogObj = new Dialog({ header: 'Dialog' });\n *   dialogObj.appendTo(\"#dialog\");\n * </script>\n * ```\n */\nvar Dialog = /** @__PURE__ @class */ (function (_super) {\n    __extends$1(Dialog, _super);\n    /*\n     * * Constructor for creating the widget\n     *\n     * @param\n     * @param\n     * @hidden\n     */\n    function Dialog(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.needsID = true;\n        return _this;\n    }\n    /**\n     *Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.render = function () {\n        this.initialize();\n        this.initRender();\n        this.wireEvents();\n        if (this.width === '100%') {\n            this.element.style.width = '';\n        }\n        if (this.minHeight !== '') {\n            this.element.style.minHeight = formatUnit(this.minHeight);\n        }\n        if (this.enableResize) {\n            this.setResize();\n            if (this.animationSettings.effect === 'None') {\n                this.getMinHeight();\n            }\n        }\n        this.renderComplete();\n    };\n    Dialog.prototype.initializeValue = function () {\n        this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n    };\n    /**\n     *Initialize the event handler\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.preRender = function () {\n        var _this = this;\n        this.initializeValue();\n        this.headerContent = null;\n        this.allowMaxHeight = true;\n        this.preventVisibility = true;\n        this.clonedEle = this.element.cloneNode(true);\n        this.closeIconClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_CLOSE_ICON_CLOSED;\n            _this.hide(event);\n        };\n        this.dlgOverlayClickEventHandler = function (event) {\n            _this.dlgClosedBy = DLG_OVERLAYCLICK_CLOSED;\n            event.preventFocus = false;\n            _this.trigger('overlayClick', event, function (overlayClickEventArgs) {\n                if (!overlayClickEventArgs.preventFocus) {\n                    _this.focusContent();\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        };\n        var localeText = { close: 'Close' };\n        this.l10n = new L10n('dialog', localeText, this.locale);\n        this.checkPositionData();\n        if (isNullOrUndefined(this.target)) {\n            var prevOnChange = this.isProtectedOnChange;\n            this.isProtectedOnChange = true;\n            this.target = document.body;\n            this.isProtectedOnChange = prevOnChange;\n        }\n    };\n    Dialog.prototype.updatePersistData = function () {\n        if (this.enablePersistence) {\n            this.setProperties({ width: parseFloat(this.element.style.width), height: parseFloat(this.element.style.height),\n                position: { X: parseFloat(this.dragObj.element.style.left), Y: parseFloat(this.dragObj.element.style.top) } }, true);\n        }\n    };\n    Dialog.prototype.isNumberValue = function (value) {\n        var isNumber = /^[-+]?\\d*\\.?\\d+$/.test(value);\n        return isNumber;\n    };\n    Dialog.prototype.checkPositionData = function () {\n        if (!isNullOrUndefined(this.position)) {\n            if (!isNullOrUndefined(this.position.X) && (typeof (this.position.X) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.X);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.X = parseFloat(this.position.X);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n            if (!isNullOrUndefined(this.position.Y) && (typeof (this.position.Y) !== 'number')) {\n                var isNumber = this.isNumberValue(this.position.Y);\n                if (isNumber) {\n                    var prevOnChange = this.isProtectedOnChange;\n                    this.isProtectedOnChange = true;\n                    this.position.Y = parseFloat(this.position.Y);\n                    this.isProtectedOnChange = prevOnChange;\n                }\n            }\n        }\n    };\n    Dialog.prototype.getEle = function (list, selector) {\n        var element = undefined;\n        for (var i = 0; i < list.length; i++) {\n            if (list[i].classList.contains(selector)) {\n                element = list[i];\n                break;\n            }\n        }\n        return element;\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.getMinHeight = function () {\n        var computedHeaderHeight = '0px';\n        var computedFooterHeight = '0px';\n        if (!isNullOrUndefined(this.element.querySelector('.' + DLG_HEADER_CONTENT))) {\n            computedHeaderHeight = getComputedStyle(this.headerContent).height;\n        }\n        var footerEle = this.getEle(this.element.children, DLG_FOOTER_CONTENT);\n        if (!isNullOrUndefined(footerEle)) {\n            computedFooterHeight = getComputedStyle(footerEle).height;\n        }\n        var headerHeight = parseInt(computedHeaderHeight.slice(0, computedHeaderHeight.indexOf('p')), 10);\n        var footerHeight = parseInt(computedFooterHeight.slice(0, computedFooterHeight.indexOf('p')), 10);\n        setMinHeight(headerHeight + 30 + (isNaN(footerHeight) ? 0 : footerHeight));\n        return (headerHeight + 30 + footerHeight);\n    };\n    Dialog.prototype.onResizeStart = function (args, dialogObj) {\n        dialogObj.trigger('resizeStart', args);\n        return args.cancel;\n    };\n    Dialog.prototype.onResizing = function (args, dialogObj) {\n        dialogObj.trigger('resizing', args);\n    };\n    Dialog.prototype.onResizeComplete = function (args, dialogObj) {\n        dialogObj.trigger('resizeStop', args);\n        this.updatePersistData();\n    };\n    Dialog.prototype.setResize = function () {\n        if (this.enableResize) {\n            if (this.isBlazorServerRender() && !isNullOrUndefined(this.element.querySelector('.e-icons.e-resize-handle'))) {\n                return;\n            }\n            this.element.classList.add(DLG_RESIZABLE);\n            var computedHeight = getComputedStyle(this.element).minHeight;\n            var computedWidth = getComputedStyle(this.element).minWidth;\n            var direction = '';\n            for (var i = 0; i < this.resizeHandles.length; i++) {\n                if (this.resizeHandles[i] === 'All') {\n                    direction = 'south north east west north-east north-west south-east south-west';\n                    break;\n                }\n                else {\n                    var directionValue = '';\n                    switch (this.resizeHandles[i].toString()) {\n                        case 'SouthEast':\n                            directionValue = 'south-east';\n                            break;\n                        case 'SouthWest':\n                            directionValue = 'south-west';\n                            break;\n                        case 'NorthEast':\n                            directionValue = 'north-east';\n                            break;\n                        case 'NorthWest':\n                            directionValue = 'north-west';\n                            break;\n                        default:\n                            directionValue = this.resizeHandles[i].toString();\n                            break;\n                    }\n                    direction += directionValue.toLocaleLowerCase() + ' ';\n                }\n            }\n            if (this.enableRtl && direction.trim() === 'south-east') {\n                direction = 'south-west';\n            }\n            else if (this.enableRtl && direction.trim() === 'south-west') {\n                direction = 'south-east';\n            }\n            if (this.isModal && this.enableRtl) {\n                this.element.classList.add(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else if (this.isModal && this.target === document.body) {\n                this.element.classList.add(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            createResize({\n                element: this.element,\n                direction: direction,\n                minHeight: parseInt(computedHeight.slice(0, computedWidth.indexOf('p')), 10),\n                maxHeight: this.targetEle.clientHeight,\n                minWidth: parseInt(computedWidth.slice(0, computedWidth.indexOf('p')), 10),\n                maxWidth: this.targetEle.clientWidth,\n                boundary: this.target === document.body ? null : this.targetEle,\n                resizeBegin: this.onResizeStart.bind(this),\n                resizeComplete: this.onResizeComplete.bind(this),\n                resizing: this.onResizing.bind(this),\n                proxy: this\n            });\n            this.wireWindowResizeEvent();\n        }\n        else {\n            removeResize();\n            this.unWireWindowResizeEvent();\n            if (this.isModal) {\n                this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n            }\n            else {\n                this.element.classList.remove(DLG_RESTRICT_WIDTH_VALUE);\n            }\n            this.element.classList.remove(DLG_RESIZABLE);\n        }\n    };\n    Dialog.prototype.getFocusElement = function (target) {\n        var value = 'input,select,textarea,button:enabled,a,[contenteditable=\"true\"],[tabindex]';\n        var items = target.querySelectorAll(value);\n        return { element: items[items.length - 1] };\n    };\n    /* istanbul ignore next */\n    Dialog.prototype.keyDown = function (event) {\n        var _this = this;\n        if (event.keyCode === 9) {\n            if (this.isModal) {\n                var buttonObj = void 0;\n                if (!isNullOrUndefined(this.btnObj)) {\n                    buttonObj = this.btnObj[this.btnObj.length - 1];\n                }\n                if ((isNullOrUndefined(this.btnObj)) && (!isNullOrUndefined(this.ftrTemplateContent))) {\n                    buttonObj = this.getFocusElement(this.ftrTemplateContent);\n                }\n                if (isNullOrUndefined(this.btnObj) && isNullOrUndefined(this.ftrTemplateContent) && !isNullOrUndefined(this.contentEle)) {\n                    buttonObj = this.getFocusElement(this.contentEle);\n                }\n                if (!isNullOrUndefined(buttonObj) && document.activeElement === buttonObj.element && !event.shiftKey) {\n                    event.preventDefault();\n                    this.focusableElements(this.element).focus();\n                }\n                if (document.activeElement === this.focusableElements(this.element) && event.shiftKey) {\n                    event.preventDefault();\n                    if (!isNullOrUndefined(buttonObj)) {\n                        buttonObj.element.focus();\n                    }\n                }\n            }\n        }\n        var element = document.activeElement;\n        var isTagName = (['input', 'textarea'].indexOf(element.tagName.toLowerCase()) > -1);\n        var isContentEdit = false;\n        if (!isTagName) {\n            isContentEdit = element.hasAttribute('contenteditable') && element.getAttribute('contenteditable') === 'true';\n        }\n        if (event.keyCode === 27 && this.closeOnEscape) {\n            this.dlgClosedBy = DLG_ESCAPE_CLOSED;\n            var query = document.querySelector('.e-popup-open:not(.e-dialog)');\n            // 'document.querySelector' is used to find the elements rendered based on body\n            if (!(!isNullOrUndefined(query) && !query.classList.contains('e-toolbar-pop'))) {\n                this.hide(event);\n            }\n        }\n        if ((event.keyCode === 13 && !event.ctrlKey && element.tagName.toLowerCase() !== 'textarea' &&\n            isTagName && !isNullOrUndefined(this.primaryButtonEle)) ||\n            (event.keyCode === 13 && event.ctrlKey && (element.tagName.toLowerCase() === 'textarea' ||\n                isContentEdit)) && !isNullOrUndefined(this.primaryButtonEle)) {\n            var buttonIndex_1;\n            var firstPrimary = this.buttons.some(function (data, index) {\n                buttonIndex_1 = index;\n                // eslint-disable-next-line\n                var buttonModel = data.buttonModel;\n                return !isNullOrUndefined(buttonModel) && buttonModel.isPrimary === true;\n            });\n            if (firstPrimary && typeof (this.buttons[buttonIndex_1].click) === 'function') {\n                setTimeout(function () {\n                    _this.buttons[buttonIndex_1].click.call(_this, event);\n                });\n            }\n        }\n    };\n    /**\n     * Initialize the control rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initialize = function () {\n        if (!isNullOrUndefined(this.target)) {\n            this.targetEle = ((typeof this.target) === 'string') ?\n                document.querySelector(this.target) : this.target;\n        }\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], ROOT);\n        }\n        if (Browser.isDevice) {\n            addClass([this.element], DEVICE);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setCSSClass();\n        }\n        this.setMaxHeight();\n    };\n    /**\n     * Initialize the rendering\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.initRender = function () {\n        var _this = this;\n        this.initialRender = true;\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { role: 'dialog' });\n        }\n        if (this.zIndex === 1000) {\n            this.setzIndex(this.element, false);\n            this.calculatezIndex = true;\n        }\n        else {\n            this.calculatezIndex = false;\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.element.getElementsByClassName('e-dlg-header-content')[0];\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.contentEle)) {\n            this.contentEle = this.element.querySelector('#' + this.element.id + '_dialog-content');\n        }\n        if (!this.isBlazorServerRender()) {\n            this.setTargetContent();\n            if (this.header !== '' && !isNullOrUndefined(this.header)) {\n                this.setHeader();\n            }\n            this.renderCloseIcon();\n            this.setContent();\n            if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n                this.setFooterTemplate();\n            }\n            else if (!isNullOrUndefined(this.buttons[0].buttonModel)) {\n                this.setButton();\n            }\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n                this.setButton();\n            }\n        }\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n        if (!this.isBlazorServerRender()) {\n            attributes(this.element, { 'aria-modal': (this.isModal ? 'true' : 'false') });\n            if (this.isModal) {\n                this.setIsModal();\n            }\n        }\n        if (this.isBlazorServerRender() && isNullOrUndefined(this.dlgContainer)) {\n            this.dlgContainer = this.element.parentElement;\n            for (var i = 0, childNodes = this.dlgContainer.children; i < childNodes.length; i++) {\n                if (childNodes[i].classList.contains('e-dlg-overlay')) {\n                    this.dlgOverlay = childNodes[i];\n                }\n            }\n        }\n        if (this.element.classList.contains(DLG_UTIL_ALERT) !== true && this.element.classList.contains(DLG_UTIL_CONFIRM) !== true\n            && !isNullOrUndefined(this.element.parentElement)) {\n            var parentEle = this.isModal ? this.dlgContainer.parentElement : this.element.parentElement;\n            this.refElement = this.createElement('div', { className: DLG_REF_ELEMENT });\n            parentEle.insertBefore(this.refElement, (this.isModal ? this.dlgContainer : this.element));\n        }\n        if (!isNullOrUndefined(this.targetEle)) {\n            // eslint-disable-next-line\n            this.isModal ? this.targetEle.appendChild(this.dlgContainer) : this.targetEle.appendChild(this.element);\n        }\n        this.popupObj = new Popup(this.element, {\n            height: this.height,\n            width: this.width,\n            zIndex: this.zIndex,\n            relateTo: this.target,\n            actionOnScroll: 'none',\n            enableRtl: this.enableRtl,\n            // eslint-disable-next-line\n            open: function (event) {\n                var eventArgs = {\n                    container: _this.isModal ? _this.dlgContainer : _this.element,\n                    element: _this.element,\n                    target: _this.target,\n                    preventFocus: false\n                };\n                if (_this.enableResize) {\n                    _this.resetResizeIcon();\n                }\n                _this.trigger('open', eventArgs, function (openEventArgs) {\n                    if (!openEventArgs.preventFocus) {\n                        _this.focusContent();\n                    }\n                });\n            },\n            // eslint-disable-next-line\n            close: function (event) {\n                if (_this.isModal) {\n                    addClass([_this.dlgOverlay], 'e-fade');\n                }\n                _this.unBindEvent(_this.element);\n                if (_this.isModal) {\n                    _this.dlgContainer.style.display = 'none';\n                }\n                _this.trigger('close', _this.closeArgs);\n                var activeEle = document.activeElement;\n                if (!isNullOrUndefined(activeEle) && !isNullOrUndefined((activeEle).blur)) {\n                    activeEle.blur();\n                }\n                if (!isNullOrUndefined(_this.storeActiveElement) && !isNullOrUndefined(_this.storeActiveElement.focus)) {\n                    _this.storeActiveElement.focus();\n                }\n            }\n        });\n        this.positionChange();\n        this.setEnableRTL();\n        if (!this.isBlazorServerRender()) {\n            addClass([this.element], DLG_HIDE);\n            if (this.isModal) {\n                this.setOverlayZindex();\n            }\n        }\n        if (this.visible) {\n            this.show();\n        }\n        else {\n            if (this.isModal) {\n                this.dlgOverlay.style.display = 'none';\n            }\n        }\n        this.initialRender = false;\n    };\n    Dialog.prototype.resetResizeIcon = function () {\n        var dialogConHeight = this.getMinHeight();\n        if (this.targetEle.offsetHeight < dialogConHeight) {\n            var className = this.enableRtl ? 'e-south-west' : 'e-south-east';\n            var resizeIcon = this.element.querySelector('.' + className);\n            if (!isNullOrUndefined(resizeIcon)) {\n                resizeIcon.style.bottom = '-' + dialogConHeight.toString() + 'px';\n            }\n        }\n    };\n    Dialog.prototype.setOverlayZindex = function (zIndexValue) {\n        var zIndex;\n        if (isNullOrUndefined(zIndexValue)) {\n            zIndex = parseInt(this.element.style.zIndex, 10) ? parseInt(this.element.style.zIndex, 10) : this.zIndex;\n        }\n        else {\n            zIndex = zIndexValue;\n        }\n        this.dlgOverlay.style.zIndex = (zIndex - 1).toString();\n        this.dlgContainer.style.zIndex = zIndex.toString();\n    };\n    Dialog.prototype.positionChange = function () {\n        if (this.isModal) {\n            if (!isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y))) {\n                this.setPopupPosition();\n            }\n            else if ((!isNaN(parseFloat(this.position.X)) && isNaN(parseFloat(this.position.Y)))\n                || (isNaN(parseFloat(this.position.X)) && !isNaN(parseFloat(this.position.Y)))) {\n                this.setPopupPosition();\n            }\n            else {\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                this.dlgContainer.classList.add('e-dlg-' + this.position.X + '-' + this.position.Y);\n            }\n        }\n        else {\n            this.setPopupPosition();\n        }\n    };\n    Dialog.prototype.setPopupPosition = function () {\n        this.popupObj.setProperties({\n            position: {\n                X: this.position.X, Y: this.position.Y\n            }\n        });\n    };\n    Dialog.prototype.setAllowDragging = function () {\n        var _this = this;\n        var handleContent = '.' + DLG_HEADER_CONTENT;\n        if (!this.element.classList.contains(DLG_DRAG)) {\n            this.dragObj = new Draggable(this.element, {\n                clone: false,\n                isDragScroll: true,\n                abort: '.e-dlg-closeicon-btn',\n                handle: handleContent,\n                dragStart: function (event) {\n                    _this.trigger('dragStart', event, function (dragEventArgs) {\n                        if (isBlazor()) {\n                            dragEventArgs.bindEvents(event.dragElement);\n                        }\n                    });\n                },\n                dragStop: function (event) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.position)) {\n                            _this.dlgContainer.classList.remove('e-dlg-' + _this.position.X + '-' + _this.position.Y);\n                        }\n                        // Reset the dialog position after drag completion.\n                        _this.element.style.position = 'relative';\n                    }\n                    _this.trigger('dragStop', event);\n                    _this.element.classList.remove(DLG_RESTRICT_LEFT_VALUE);\n                    _this.updatePersistData();\n                },\n                drag: function (event) {\n                    _this.trigger('drag', event);\n                }\n            });\n            if (!isNullOrUndefined(this.targetEle)) {\n                this.dragObj.dragArea = this.targetEle;\n            }\n        }\n    };\n    Dialog.prototype.setButton = function () {\n        if (!this.isBlazorServerRender()) {\n            this.buttonContent = [];\n            this.btnObj = [];\n            // eslint-disable-next-line\n            for (var i = 0; i < this.buttons.length; i++) {\n                var buttonType = !isNullOrUndefined(this.buttons[i].type) ? this.buttons[i].type.toLowerCase() : 'button';\n                var btn = this.createElement('button', { className: this.cssClass, attrs: { type: buttonType } });\n                this.buttonContent.push(btn.outerHTML);\n            }\n            this.setFooterTemplate();\n        }\n        var footerBtn;\n        for (var i = 0, childNodes = this.element.children; i < childNodes.length; i++) {\n            if (childNodes[i].classList.contains(DLG_FOOTER_CONTENT)) {\n                footerBtn = childNodes[i].querySelectorAll('button');\n            }\n        }\n        for (var i = 0; i < this.buttons.length; i++) {\n            if (!this.isBlazorServerRender()) {\n                this.btnObj[i] = new Button(this.buttons[i].buttonModel);\n            }\n            if (this.isBlazorServerRender()) {\n                this.ftrTemplateContent = this.element.querySelector('.' + DLG_FOOTER_CONTENT);\n            }\n            if (!isNullOrUndefined(this.ftrTemplateContent) && footerBtn.length > 0) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttons[i].click, this);\n                }\n                if (typeof (this.buttons[i].click) === 'object') {\n                    EventHandler.add(footerBtn[i], 'click', this.buttonClickHandler.bind(this, i), this);\n                }\n            }\n            if (!this.isBlazorServerRender() && !isNullOrUndefined(this.ftrTemplateContent)) {\n                this.btnObj[i].appendTo(this.ftrTemplateContent.children[i]);\n                if (this.buttons[i].isFlat) {\n                    this.btnObj[i].element.classList.add('e-flat');\n                }\n                this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n            }\n        }\n    };\n    Dialog.prototype.buttonClickHandler = function (index) {\n        this.trigger('buttons[' + index + '].click', {});\n    };\n    Dialog.prototype.setContent = function () {\n        this.contentEle = this.createElement('div', { className: DLG_CONTENT, id: this.element.id + '_dialog-content' });\n        if (this.innerContentElement) {\n            this.contentEle.appendChild(this.innerContentElement);\n        }\n        else if (!isNullOrUndefined(this.content) && this.content !== '' || !this.initialRender) {\n            // eslint-disable-next-line\n            if (typeof (this.content) === 'string' && !isBlazor()) {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n            else if (this.content instanceof HTMLElement) {\n                this.contentEle.appendChild(this.content);\n            }\n            else {\n                this.setTemplate(this.content, this.contentEle, 'content');\n            }\n        }\n        if (!isNullOrUndefined(this.headerContent)) {\n            this.element.insertBefore(this.contentEle, this.element.children[1]);\n        }\n        else {\n            this.element.insertBefore(this.contentEle, this.element.children[0]);\n        }\n        if (this.height === 'auto') {\n            if (!this.isBlazorServerRender() && Browser.isIE && this.element.style.width === '' && !isNullOrUndefined(this.width)) {\n                this.element.style.width = formatUnit(this.width);\n            }\n            this.setMaxHeight();\n        }\n    };\n    Dialog.prototype.setTemplate = function (template, toElement, prop) {\n        var templateFn;\n        var templateProps;\n        // eslint-disable-next-line\n        if (toElement.classList.contains(DLG_HEADER)) {\n            templateProps = this.element.id + 'header';\n        }\n        else if (toElement.classList.contains(DLG_FOOTER_CONTENT)) {\n            templateProps = this.element.id + 'footerTemplate';\n        }\n        else {\n            templateProps = this.element.id + 'content';\n        }\n        var templateValue;\n        if (!isNullOrUndefined(template.outerHTML)) {\n            toElement.appendChild(template);\n        }\n        else if ((typeof template === 'string') || (typeof template !== 'string') || (isBlazor() && !this.isStringTemplate)) {\n            if ((typeof template === 'string')) {\n                template = this.sanitizeHelper(template);\n            }\n            if (this.isVue || typeof template !== 'string') {\n                templateFn = compile(template);\n                templateValue = template;\n            }\n            else {\n                toElement.innerHTML = template;\n            }\n        }\n        var fromElements = [];\n        if (!isNullOrUndefined(templateFn)) {\n            var isString = (isBlazor() &&\n                !this.isStringTemplate && (templateValue).indexOf('<div>Blazor') === 0) ?\n                this.isStringTemplate : true;\n            for (var _i = 0, _a = templateFn({}, this, prop, templateProps, isString); _i < _a.length; _i++) {\n                var item = _a[_i];\n                fromElements.push(item);\n            }\n            append([].slice.call(fromElements), toElement);\n        }\n    };\n    /*\n     * @returns {void}\n     * @hidden\n     * @value\n     */\n    Dialog.prototype.sanitizeHelper = function (value) {\n        if (this.enableHtmlSanitizer) {\n            var dialogItem = SanitizeHtmlHelper.beforeSanitize();\n            var beforeEvent = {\n                cancel: false,\n                helper: null\n            };\n            extend(dialogItem, dialogItem, beforeEvent);\n            this.trigger('beforeSanitizeHtml', dialogItem);\n            if (dialogItem.cancel && !isNullOrUndefined(dialogItem.helper)) {\n                value = dialogItem.helper(value);\n            }\n            else if (!dialogItem.cancel) {\n                value = SanitizeHtmlHelper.serializeValue(dialogItem, value);\n            }\n        }\n        return value;\n    };\n    Dialog.prototype.setMaxHeight = function () {\n        if (!this.allowMaxHeight) {\n            return;\n        }\n        var display = this.element.style.display;\n        this.element.style.display = 'none';\n        this.element.style.maxHeight = (!isNullOrUndefined(this.target)) && (this.targetEle.offsetHeight < window.innerHeight) ?\n            (this.targetEle.offsetHeight - 20) + 'px' : (window.innerHeight - 20) + 'px';\n        this.element.style.display = display;\n        if (Browser.isIE && this.height === 'auto' && !isNullOrUndefined(this.contentEle)\n            && this.element.offsetHeight < this.contentEle.offsetHeight) {\n            this.element.style.height = 'inherit';\n        }\n    };\n    Dialog.prototype.setEnableRTL = function () {\n        if (!this.isBlazorServerRender()) {\n            // eslint-disable-next-line\n            this.enableRtl ? addClass([this.element], RTL) : removeClass([this.element], RTL);\n        }\n        if (!isNullOrUndefined(this.element.querySelector('.e-resize-handle'))) {\n            removeResize();\n            this.setResize();\n        }\n    };\n    Dialog.prototype.setTargetContent = function () {\n        var _this = this;\n        if (isNullOrUndefined(this.content) || this.content === '') {\n            var isContent = this.element.innerHTML.replace(/\\s|<(\\/?|\\/?)(!--!--)>/g, '') !== '';\n            if (this.element.children.length > 0 || isContent) {\n                this.innerContentElement = document.createDocumentFragment();\n                [].slice.call(this.element.childNodes).forEach(function (el) {\n                    if (el.nodeType !== 8) {\n                        _this.innerContentElement.appendChild(el);\n                    }\n                });\n            }\n        }\n    };\n    Dialog.prototype.setHeader = function () {\n        if (this.headerEle) {\n            this.headerEle.innerHTML = '';\n        }\n        else {\n            this.headerEle = this.createElement('div', { id: this.element.id + '_title', className: DLG_HEADER });\n        }\n        this.createHeaderContent();\n        this.headerContent.appendChild(this.headerEle);\n        this.setTemplate(this.header, this.headerEle, 'header');\n        attributes(this.element, { 'aria-labelledby': this.element.id + '_title' });\n        this.element.insertBefore(this.headerContent, this.element.children[0]);\n        if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n            this.setAllowDragging();\n        }\n    };\n    Dialog.prototype.setFooterTemplate = function () {\n        if (this.ftrTemplateContent) {\n            this.ftrTemplateContent.innerHTML = '';\n        }\n        else {\n            this.ftrTemplateContent = this.createElement('div', {\n                className: DLG_FOOTER_CONTENT\n            });\n        }\n        if (this.footerTemplate !== '' && !isNullOrUndefined(this.footerTemplate)) {\n            this.setTemplate(this.footerTemplate, this.ftrTemplateContent, 'footerTemplate');\n        }\n        else {\n            this.ftrTemplateContent.innerHTML = this.buttonContent.join('');\n        }\n        this.element.appendChild(this.ftrTemplateContent);\n    };\n    Dialog.prototype.createHeaderContent = function () {\n        if (isNullOrUndefined(this.headerContent)) {\n            this.headerContent = this.createElement('div', { id: this.element.id + '_dialog-header', className: DLG_HEADER_CONTENT });\n        }\n    };\n    Dialog.prototype.renderCloseIcon = function () {\n        if (this.showCloseIcon) {\n            this.closeIcon = this.createElement('button', { className: DLG_CLOSE_ICON_BTN, attrs: { type: 'button' } });\n            this.closeIconBtnObj = new Button({ cssClass: 'e-flat', iconCss: DLG_CLOSE_ICON + ' ' + ICON });\n            this.closeIconTitle();\n            if (!isNullOrUndefined(this.headerContent)) {\n                prepend([this.closeIcon], this.headerContent);\n            }\n            else {\n                this.createHeaderContent();\n                prepend([this.closeIcon], this.headerContent);\n                this.element.insertBefore(this.headerContent, this.element.children[0]);\n            }\n            this.closeIconBtnObj.appendTo(this.closeIcon);\n        }\n    };\n    Dialog.prototype.closeIconTitle = function () {\n        this.l10n.setLocale(this.locale);\n        var closeIconTitle = this.l10n.getConstant('close');\n        this.closeIcon.setAttribute('title', closeIconTitle);\n        this.closeIcon.setAttribute('aria-label', closeIconTitle);\n    };\n    Dialog.prototype.setCSSClass = function (oldCSSClass) {\n        if (oldCSSClass) {\n            removeClass([this.element], oldCSSClass.split(' '));\n            if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n                removeClass([this.dlgContainer], oldCSSClass.split(' '));\n            }\n        }\n        if (this.cssClass) {\n            addClass([this.element], this.cssClass.split(' '));\n            if (this.isModal && !isNullOrUndefined(this.dlgContainer)) {\n                addClass([this.dlgContainer], this.cssClass.split(' '));\n            }\n        }\n    };\n    Dialog.prototype.setIsModal = function () {\n        this.dlgContainer = this.createElement('div', { className: DLG_CONTAINER });\n        this.setCSSClass();\n        this.element.classList.remove(DLG_SHOW);\n        this.element.parentNode.insertBefore(this.dlgContainer, this.element);\n        this.dlgContainer.appendChild(this.element);\n        addClass([this.element], MODAL_DLG);\n        this.dlgOverlay = this.createElement('div', { className: DLG_OVERLAY });\n        this.dlgOverlay.style.zIndex = (this.zIndex - 1).toString();\n        this.dlgContainer.appendChild(this.dlgOverlay);\n    };\n    Dialog.prototype.getValidFocusNode = function (items) {\n        var node;\n        for (var u = 0; u < items.length; u++) {\n            node = items[u];\n            if ((node.clientHeight > 0 || (node.tagName.toLowerCase() === 'a' && node.hasAttribute('href'))) && node.tabIndex > -1 &&\n                !node.disabled && !this.disableElement(node, '[disabled],[aria-disabled=\"true\"],[type=\"hidden\"]')) {\n                return node;\n            }\n            else {\n                node = null;\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.focusableElements = function (content) {\n        if (!isNullOrUndefined(content)) {\n            var value = 'input,select,textarea,button,a,[contenteditable=\"true\"],[tabindex]';\n            var items = content.querySelectorAll(value);\n            return this.getValidFocusNode(items);\n        }\n        return null;\n    };\n    Dialog.prototype.getAutoFocusNode = function (container) {\n        var node = container.querySelector('.' + DLG_CLOSE_ICON_BTN);\n        var value = '[autofocus]';\n        var items = container.querySelectorAll(value);\n        var validNode = this.getValidFocusNode(items);\n        if (isBlazor()) {\n            this.primaryButtonEle = this.element.getElementsByClassName('e-primary')[0];\n        }\n        if (!isNullOrUndefined(validNode)) {\n            node = validNode;\n        }\n        else {\n            validNode = this.focusableElements(this.contentEle);\n            if (!isNullOrUndefined(validNode)) {\n                return node = validNode;\n            }\n            else if (!isNullOrUndefined(this.primaryButtonEle)) {\n                return this.element.querySelector('.' + DLG_PRIMARY_BUTTON);\n            }\n        }\n        return node;\n    };\n    Dialog.prototype.disableElement = function (element, t) {\n        var elementMatch = element ? element.matches || element.webkitMatchesSelector || element.msGetRegionContent : null;\n        if (elementMatch) {\n            for (; element; element = element.parentNode) {\n                if (element instanceof Element && elementMatch.call(element, t)) {\n                    /* istanbul ignore next */\n                    return element;\n                }\n            }\n        }\n        return null;\n    };\n    Dialog.prototype.focusContent = function () {\n        var element = this.getAutoFocusNode(this.element);\n        var node = !isNullOrUndefined(element) ? element : this.element;\n        var userAgent = Browser.userAgent;\n        if (userAgent.indexOf('MSIE ') > 0 || userAgent.indexOf('Trident/') > 0) {\n            this.element.focus();\n        }\n        node.focus();\n        this.unBindEvent(this.element);\n        this.bindEvent(this.element);\n    };\n    Dialog.prototype.bindEvent = function (element) {\n        EventHandler.add(element, 'keydown', this.keyDown, this);\n    };\n    Dialog.prototype.unBindEvent = function (element) {\n        EventHandler.remove(element, 'keydown', this.keyDown);\n    };\n    Dialog.prototype.updateSanitizeContent = function () {\n        if (!this.isBlazorServerRender()) {\n            this.contentEle.innerHTML = this.sanitizeHelper(this.content);\n        }\n    };\n    Dialog.prototype.isBlazorServerRender = function () {\n        return isBlazor() && this.isServerRendered;\n    };\n    /**\n     * Module required function\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getModuleName = function () {\n        return 'dialog';\n    };\n    /**\n     * Called internally if any of the property value changed\n     *\n     * @param {DialogModel} newProp - specifies the new property\n     * @param {DialogModel} oldProp - specifies the old property\n     * @private\n     * @returns {void}\n     */\n    Dialog.prototype.onPropertyChanged = function (newProp, oldProp) {\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'content':\n                    if (!isNullOrUndefined(this.content) && this.content !== '') {\n                        if (this.isBlazorServerRender()) {\n                            this.contentEle = this.element.querySelector('.e-dlg-content');\n                        }\n                        if (!isNullOrUndefined(this.contentEle) && this.contentEle.getAttribute('role') !== 'dialog') {\n                            if (!this.isBlazorServerRender()) {\n                                this.contentEle.innerHTML = '';\n                            }\n                            if (typeof (this.content) === 'function') {\n                                this.clearTemplate(['content']);\n                                detach(this.contentEle);\n                                this.contentEle = null;\n                                this.setContent();\n                            }\n                            else {\n                                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                                typeof (this.content) === 'string' ? (this.isBlazorServerRender() && (this.contentEle.innerText === '')) ?\n                                    this.contentEle.insertAdjacentHTML('beforeend', this.sanitizeHelper(this.content)) :\n                                    this.updateSanitizeContent() : this.contentEle.appendChild(this.content);\n                            }\n                            this.setMaxHeight();\n                        }\n                        else {\n                            if (!this.isBlazorServerRender() ||\n                                isNullOrUndefined(this.element.querySelector('.e-dlg-content'))) {\n                                this.setContent();\n                            }\n                        }\n                    }\n                    else if (!isNullOrUndefined(this.contentEle)) {\n                        detach(this.contentEle);\n                        this.contentEle = null;\n                    }\n                    break;\n                case 'header':\n                    if (this.header === '' || isNullOrUndefined(this.header)) {\n                        if (this.headerEle) {\n                            detach(this.headerEle);\n                            this.headerEle = null;\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-dlg-header-content'))) {\n                            this.setHeader();\n                        }\n                    }\n                    break;\n                case 'footerTemplate':\n                    if (this.footerTemplate === '' || isNullOrUndefined(this.footerTemplate)) {\n                        if (!this.ftrTemplateContent) {\n                            return;\n                        }\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                        this.buttons = [{}];\n                    }\n                    else {\n                        if (!this.isBlazorServerRender() ||\n                            isNullOrUndefined(this.element.querySelector('.e-footer-content'))) {\n                            this.setFooterTemplate();\n                        }\n                        this.buttons = [{}];\n                    }\n                    break;\n                case 'showCloseIcon':\n                    if (this.element.getElementsByClassName(DLG_CLOSE_ICON).length > 0) {\n                        if (!this.showCloseIcon && (this.header === '' || isNullOrUndefined(this.header))) {\n                            detach(this.headerContent);\n                            this.headerContent = null;\n                        }\n                        else if (!this.showCloseIcon) {\n                            detach(this.closeIcon);\n                        }\n                        else {\n                            if (this.isBlazorServerRender()) {\n                                this.wireEvents();\n                            }\n                        }\n                    }\n                    else {\n                        if (!this.isBlazorServerRender()) {\n                            this.renderCloseIcon();\n                        }\n                        this.wireEvents();\n                    }\n                    break;\n                case 'locale':\n                    if (this.showCloseIcon) {\n                        this.closeIconTitle();\n                    }\n                    break;\n                case 'visible':\n                    // eslint-disable-next-line\n                    this.visible ? this.show() : this.hide();\n                    break;\n                case 'isModal':\n                    this.updateIsModal();\n                    break;\n                case 'height':\n                    setStyleAttribute(this.element, { 'height': formatUnit(newProp.height) });\n                    this.updatePersistData();\n                    break;\n                case 'width':\n                    setStyleAttribute(this.element, { 'width': formatUnit(newProp.width) });\n                    this.updatePersistData();\n                    break;\n                case 'zIndex':\n                    this.popupObj.zIndex = this.zIndex;\n                    if (this.isModal) {\n                        this.setOverlayZindex(this.zIndex);\n                    }\n                    if (this.element.style.zIndex !== this.zIndex.toString()) {\n                        this.calculatezIndex = false;\n                    }\n                    break;\n                case 'cssClass':\n                    this.setCSSClass(oldProp.cssClass);\n                    break;\n                case 'buttons': {\n                    var buttonCount = this.buttons.length;\n                    if (!isNullOrUndefined(this.ftrTemplateContent) && !this.isBlazorServerRender()) {\n                        detach(this.ftrTemplateContent);\n                        this.ftrTemplateContent = null;\n                    }\n                    for (var i = 0; i < buttonCount; i++) {\n                        if (!isNullOrUndefined(this.buttons[i].buttonModel)) {\n                            this.footerTemplate = '';\n                            this.setButton();\n                        }\n                    }\n                    break;\n                }\n                case 'allowDragging':\n                    if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                        this.setAllowDragging();\n                    }\n                    else {\n                        this.dragObj.destroy();\n                    }\n                    break;\n                case 'target':\n                    this.setTarget(newProp.target);\n                    break;\n                case 'position':\n                    this.checkPositionData();\n                    if (this.isModal) {\n                        var positionX = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.X) ? oldProp.position.X : this.position.X;\n                        var positionY = !isNullOrUndefined(oldProp.position) && !isNullOrUndefined(oldProp.position.Y) ? oldProp.position.Y : this.position.Y;\n                        if (this.dlgContainer.classList.contains('e-dlg-' + positionX + '-' + positionY)) {\n                            this.dlgContainer.classList.remove('e-dlg-' + positionX + '-' + positionY);\n                        }\n                    }\n                    this.positionChange();\n                    this.updatePersistData();\n                    break;\n                case 'enableRtl':\n                    this.setEnableRTL();\n                    break;\n                case 'enableResize':\n                    this.setResize();\n                    break;\n                case 'minHeight':\n                    if (this.minHeight !== '') {\n                        this.element.style.minHeight = formatUnit(this.minHeight);\n                    }\n                    break;\n            }\n        }\n    };\n    Dialog.prototype.setTarget = function (target) {\n        this.popupObj.relateTo = target;\n        this.target = target;\n        this.targetEle = ((typeof this.target) === 'string') ?\n            document.querySelector(this.target) : this.target;\n        if (this.dragObj) {\n            this.dragObj.dragArea = this.targetEle;\n        }\n        this.setMaxHeight();\n        if (this.isModal) {\n            this.updateIsModal();\n        }\n        if (this.enableResize) {\n            this.setResize();\n        }\n    };\n    Dialog.prototype.updateIsModal = function () {\n        this.element.setAttribute('aria-modal', this.isModal ? 'true' : 'false');\n        if (this.isModal) {\n            if (isNullOrUndefined(this.dlgOverlay)) {\n                this.setIsModal();\n                this.element.style.top = '0px';\n                this.element.style.left = '0px';\n                if (!isNullOrUndefined(this.targetEle)) {\n                    this.targetEle.appendChild(this.dlgContainer);\n                }\n            }\n        }\n        else {\n            removeClass([this.element], MODAL_DLG);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            detach(this.dlgOverlay);\n            while (this.dlgContainer.firstChild) {\n                this.dlgContainer.parentElement.insertBefore(this.dlgContainer.firstChild, this.dlgContainer);\n            }\n            this.dlgContainer.parentElement.removeChild(this.dlgContainer);\n        }\n        if (this.visible) {\n            this.show();\n        }\n        this.positionChange();\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    Dialog.prototype.setzIndex = function (zIndexElement, setPopupZindex) {\n        var prevOnChange = this.isProtectedOnChange;\n        this.isProtectedOnChange = true;\n        var currentzIndex = getZindexPartial(zIndexElement);\n        this.zIndex = currentzIndex > this.zIndex ? currentzIndex : this.zIndex;\n        this.isProtectedOnChange = prevOnChange;\n        if (setPopupZindex) {\n            this.popupObj.zIndex = this.zIndex;\n        }\n    };\n    Dialog.prototype.windowResizeHandler = function () {\n        setMaxWidth(this.targetEle.clientWidth);\n        setMaxHeight(this.targetEle.clientHeight);\n        this.setMaxHeight();\n    };\n    /**\n     * Get the properties to be maintained in the persisted state.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.getPersistData = function () {\n        return this.addOnPersist(['width', 'height', 'position']);\n    };\n    /**\n     * To destroy the widget\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.destroy = function () {\n        if (this.isDestroyed) {\n            return;\n        }\n        var classArray = [RTL, MODAL_DLG, DLG_RESIZABLE, DLG_RESTRICT_LEFT_VALUE, FULLSCREEN, DEVICE];\n        var attrs = ['role', 'aria-modal', 'aria-labelledby', 'aria-describedby', 'aria-grabbed', 'tabindex', 'style'];\n        removeClass([this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n        if (!isNullOrUndefined(this.element) && this.element.classList.contains(FULLSCREEN)) {\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n        }\n        if (this.isModal) {\n            removeClass([(!isNullOrUndefined(this.targetEle) ? this.targetEle : document.body)], SCROLL_DISABLED);\n        }\n        this.unWireEvents();\n        if (!isNullOrUndefined(this.btnObj)) {\n            for (var i = 0; i < this.btnObj.length; i++) {\n                this.btnObj[i].destroy();\n            }\n        }\n        if (!isNullOrUndefined(this.closeIconBtnObj)) {\n            this.closeIconBtnObj.destroy();\n        }\n        if (!isNullOrUndefined(this.dragObj)) {\n            this.dragObj.destroy();\n        }\n        if (!isNullOrUndefined(this.popupObj.element) && this.popupObj.element.classList.contains(POPUP_ROOT)) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], classArray);\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n            removeClass([this.element], this.cssClass.split(' '));\n        }\n        if (!isNullOrUndefined(this.refElement) && !isNullOrUndefined(this.refElement.parentElement)) {\n            this.refElement.parentElement.insertBefore((this.isModal ? this.dlgContainer : this.element), this.refElement);\n            detach(this.refElement);\n            this.refElement = undefined;\n        }\n        if (this.isModal && !this.isBlazorServerRender()) {\n            detach(this.dlgOverlay);\n            this.dlgContainer.parentNode.insertBefore(this.element, this.dlgContainer);\n            detach(this.dlgContainer);\n        }\n        if (!this.isBlazorServerRender()) {\n            this.element.innerHTML = this.clonedEle.innerHTML;\n        }\n        if (this.isBlazorServerRender()) {\n            if (!isNullOrUndefined(this.element.children)) {\n                for (var i = 0; i <= this.element.children.length; i++) {\n                    i = i - i;\n                    detach(this.element.children[i]);\n                }\n            }\n        }\n        for (var i = 0; i < attrs.length; i++) {\n            this.element.removeAttribute(attrs[i]);\n        }\n        if (!this.isBlazorServerRender()) {\n            _super.prototype.destroy.call(this);\n        }\n        else {\n            this.isDestroyed = true;\n        }\n        // eslint-disable-next-line\n        if (this.isReact) {\n            this.clearTemplate();\n        }\n    };\n    Dialog.prototype.wireWindowResizeEvent = function () {\n        window.addEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    Dialog.prototype.unWireWindowResizeEvent = function () {\n        window.removeEventListener('resize', this.windowResizeHandler.bind(this));\n    };\n    /**\n     * Binding event to the element while widget creation\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.wireEvents = function () {\n        if (this.isBlazorServerRender() && this.showCloseIcon) {\n            this.closeIcon = this.element.getElementsByClassName('e-dlg-closeicon-btn')[0];\n        }\n        if (this.showCloseIcon) {\n            EventHandler.add(this.closeIcon, 'click', this.closeIconClickEventHandler, this);\n        }\n        if (this.isModal && this.dlgOverlay) {\n            EventHandler.add(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler, this);\n        }\n    };\n    /**\n     * Unbinding event to the element while widget destroy\n     *\n     * @returns {void}\n     * @hidden\n     */\n    Dialog.prototype.unWireEvents = function () {\n        if (this.showCloseIcon) {\n            EventHandler.remove(this.closeIcon, 'click', this.closeIconClickEventHandler);\n        }\n        if (this.isModal) {\n            EventHandler.remove(this.dlgOverlay, 'click', this.dlgOverlayClickEventHandler);\n        }\n        if (this.buttons.length > 0 && !isNullOrUndefined(this.buttons[0].buttonModel) && this.footerTemplate === '') {\n            for (var i = 0; i < this.buttons.length; i++) {\n                if (typeof (this.buttons[i].click) === 'function') {\n                    EventHandler.remove(this.ftrTemplateContent.children[i], 'click', this.buttons[i].click);\n                }\n            }\n        }\n    };\n    /**\n     * Refreshes the dialog's position when the user changes its header and footer height/width dynamically.\n     *\n     * @returns {void}\n     */\n    Dialog.prototype.refreshPosition = function () {\n        this.popupObj.refreshPosition();\n    };\n    /**\n     * Returns the current width and height of the Dialog\n     *\n     * @returns {DialogDimension}- returns the dialog element Dimension.\n     * @public\n     */\n    Dialog.prototype.getDimension = function () {\n        var dialogWidth = this.element.offsetWidth;\n        var dialogHeight = this.element.offsetHeight;\n        return { width: dialogWidth, height: dialogHeight };\n    };\n    /**\n     * Opens the dialog if it is in hidden state.\n     * To open the dialog with full screen width, set the parameter to true.\n     *\n     * @param { boolean } isFullScreen - Enable the fullScreen Dialog.\n     * @returns {void}\n     */\n    Dialog.prototype.show = function (isFullScreen) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (!this.element.classList.contains(DLG_SHOW) || (!isNullOrUndefined(isFullScreen))) {\n            if (!isNullOrUndefined(isFullScreen)) {\n                this.fullScreen(isFullScreen);\n            }\n            var eventArgs_1 = isBlazor() ? {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                maxHeight: this.element.style.maxHeight\n            } : {\n                cancel: false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                target: this.target,\n                maxHeight: this.element.style.maxHeight\n            };\n            this.trigger('beforeOpen', eventArgs_1, function (beforeOpenArgs) {\n                if (!beforeOpenArgs.cancel) {\n                    if (_this.element.style.maxHeight !== eventArgs_1.maxHeight) {\n                        _this.allowMaxHeight = false;\n                        _this.element.style.maxHeight = eventArgs_1.maxHeight;\n                    }\n                    _this.storeActiveElement = document.activeElement;\n                    _this.element.tabIndex = -1;\n                    if (_this.isModal && (!isNullOrUndefined(_this.dlgOverlay))) {\n                        _this.dlgOverlay.style.display = 'block';\n                        _this.dlgContainer.style.display = 'flex';\n                        removeClass([_this.dlgOverlay], 'e-fade');\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            if (_this.targetEle === document.body) {\n                                _this.dlgContainer.style.position = 'fixed';\n                            }\n                            else {\n                                _this.dlgContainer.style.position = 'absolute';\n                            }\n                            _this.dlgOverlay.style.position = 'absolute';\n                            _this.element.style.position = 'relative';\n                            addClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                        else {\n                            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    var openAnimation = {\n                        name: _this.animationSettings.effect + 'In',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    var zIndexElement = (_this.isModal) ? _this.element.parentElement : _this.element;\n                    if (_this.calculatezIndex) {\n                        _this.setzIndex(zIndexElement, true);\n                        setStyleAttribute(_this.element, { 'zIndex': _this.zIndex });\n                        if (_this.isModal) {\n                            _this.setOverlayZindex(_this.zIndex);\n                        }\n                    }\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.show() : _this.popupObj.show(openAnimation);\n                    _this.dialogOpen = true;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = true;\n                    _this.preventVisibility = true;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n            });\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (this.isReact) {\n            this.renderReactTemplates();\n        }\n    };\n    /**\n     * Closes the dialog if it is in visible state.\n     *\n     * @param { Event } event - specifies the event\n     * @returns {void}\n     */\n    Dialog.prototype.hide = function (event) {\n        var _this = this;\n        if (!this.element.classList.contains(ROOT)) {\n            return;\n        }\n        if (this.preventVisibility) {\n            var eventArgs = isBlazor() ? {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event\n            } : {\n                cancel: false,\n                isInteracted: event ? true : false,\n                element: this.element,\n                target: this.target,\n                container: this.isModal ? this.dlgContainer : this.element,\n                event: event,\n                closedBy: this.dlgClosedBy\n            };\n            this.closeArgs = eventArgs;\n            this.trigger('beforeClose', eventArgs, function (beforeCloseArgs) {\n                if (!beforeCloseArgs.cancel) {\n                    if (_this.isModal) {\n                        if (!isNullOrUndefined(_this.targetEle)) {\n                            removeClass([_this.targetEle], [DLG_TARGET, SCROLL_DISABLED]);\n                        }\n                    }\n                    if (document.body.classList.contains(DLG_TARGET) &&\n                        document.body.classList.contains(SCROLL_DISABLED)) {\n                        removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n                    }\n                    var closeAnimation = {\n                        name: _this.animationSettings.effect + 'Out',\n                        duration: _this.animationSettings.duration,\n                        delay: _this.animationSettings.delay\n                    };\n                    // eslint-disable-next-line\n                    _this.animationSettings.effect === 'None' ? _this.popupObj.hide() : _this.popupObj.hide(closeAnimation);\n                    _this.dialogOpen = false;\n                    var prevOnChange = _this.isProtectedOnChange;\n                    _this.isProtectedOnChange = true;\n                    _this.visible = false;\n                    _this.preventVisibility = false;\n                    _this.isProtectedOnChange = prevOnChange;\n                }\n                _this.dlgClosedBy = DLG_USER_ACTION_CLOSED;\n            });\n        }\n    };\n    // eslint-disable-next-line\n    /**\n     * Specifies to view the Full screen Dialog.\n     *\n     * @returns {void}\n     * @private\n     */\n    Dialog.prototype.fullScreen = function (args) {\n        /* eslint-disable */\n        var top = this.element.offsetTop;\n        var left = this.element.offsetLeft;\n        /* eslint-enable */\n        if (args) {\n            this.element.style.top = document.scrollingElement.scrollTop + 'px';\n            addClass([this.element], FULLSCREEN);\n            var display = this.element.style.display;\n            this.element.style.display = 'none';\n            this.element.style.maxHeight = (!isNullOrUndefined(this.target)) ?\n                (this.targetEle.offsetHeight) + 'px' : (window.innerHeight) + 'px';\n            this.element.style.display = display;\n            addClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && !isNullOrUndefined(this.dragObj)) {\n                this.dragObj.destroy();\n            }\n        }\n        else {\n            removeClass([this.element], FULLSCREEN);\n            removeClass([document.body], [DLG_TARGET, SCROLL_DISABLED]);\n            if (this.allowDragging && (!isNullOrUndefined(this.headerContent))) {\n                this.setAllowDragging();\n            }\n        }\n        return args;\n    };\n    /**\n     * Returns the dialog button instances.\n     * Based on that, you can dynamically change the button states.\n     *\n     * @param { number } index - Index of the button.\n     * @returns {Button} - returns the button element\n     */\n    Dialog.prototype.getButtons = function (index) {\n        if (!isNullOrUndefined(index)) {\n            return this.btnObj[index];\n        }\n        return this.btnObj;\n    };\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"content\", void 0);\n    __decorate$1([\n        Property(true)\n    ], Dialog.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"enablePersistence\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"showCloseIcon\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"isModal\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"header\", void 0);\n    __decorate$1([\n        Property(true)\n    ], Dialog.prototype, \"visible\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"enableResize\", void 0);\n    __decorate$1([\n        Property(['South-East'])\n    ], Dialog.prototype, \"resizeHandles\", void 0);\n    __decorate$1([\n        Property('auto')\n    ], Dialog.prototype, \"height\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"minHeight\", void 0);\n    __decorate$1([\n        Property('100%')\n    ], Dialog.prototype, \"width\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"cssClass\", void 0);\n    __decorate$1([\n        Property(1000)\n    ], Dialog.prototype, \"zIndex\", void 0);\n    __decorate$1([\n        Property(null)\n    ], Dialog.prototype, \"target\", void 0);\n    __decorate$1([\n        Property('')\n    ], Dialog.prototype, \"footerTemplate\", void 0);\n    __decorate$1([\n        Property(false)\n    ], Dialog.prototype, \"allowDragging\", void 0);\n    __decorate$1([\n        Collection([{}], ButtonProps)\n    ], Dialog.prototype, \"buttons\", void 0);\n    __decorate$1([\n        Property(true)\n    ], Dialog.prototype, \"closeOnEscape\", void 0);\n    __decorate$1([\n        Complex({}, AnimationSettings)\n    ], Dialog.prototype, \"animationSettings\", void 0);\n    __decorate$1([\n        Complex({ X: 'center', Y: 'center' }, PositionData)\n    ], Dialog.prototype, \"position\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"created\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"open\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"beforeSanitizeHtml\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"beforeOpen\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"close\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"beforeClose\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"dragStart\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"dragStop\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"drag\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"overlayClick\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"resizeStart\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"resizing\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"resizeStop\", void 0);\n    __decorate$1([\n        Event()\n    ], Dialog.prototype, \"destroyed\", void 0);\n    Dialog = __decorate$1([\n        NotifyPropertyChanges\n    ], Dialog);\n    return Dialog;\n}(Component));\n/**\n * Base for creating Alert and Confirmation Dialog through util method.\n */\n// eslint-disable-next-line\nvar DialogUtility;\n(function (DialogUtility) {\n    /**\n     * An alert dialog box is used to display warning like messages to the users.\n     * ```\n     * Eg : DialogUtility.alert('Alert message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {AlertDialogArgs} args - specifies the string\n     * @returns {Dialog} - returns the dialog element.\n     */\n    function alert(args) {\n        // eslint-disable-next-line\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_ALERT });\n        document.body.appendChild(dialogElement);\n        var alertDialogObj;\n        var okButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            alertDialogObj = createDialog({ content: args,\n                position: { X: 'center', Y: 'top' },\n                isModal: true, header: DLG_UTIL_DEFAULT_TITLE,\n                buttons: okButtonModel }, dialogElement);\n        }\n        else {\n            alertDialogObj = createDialog(alertOptions(args), dialogElement);\n        }\n        alertDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(alertDialogObj);\n            }\n            alertDialogObj.destroy();\n            if (alertDialogObj.element.classList.contains('e-dlg-modal')) {\n                alertDialogObj.element.parentElement.remove();\n                alertDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                alertDialogObj.element.remove();\n            }\n        };\n        return alertDialogObj;\n    }\n    DialogUtility.alert = alert;\n    /**\n     * A confirm dialog displays a specified message along with OK and Cancel button.\n     * ```\n     * Eg : DialogUtility.confirm('Confirm dialog message');\n     *\n     * ```\n     */\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {ConfirmDialogArgs} args - specifies the args\n     * @returns {Dialog} - returns te element\n     */\n    function confirm(args) {\n        // eslint-disable-next-line\n        var dialogElement = createElement('div', { 'className': DLG_UTIL_CONFIRM });\n        document.body.appendChild(dialogElement);\n        var confirmDialogObj;\n        var okCancelButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }, {\n                buttonModel: { content: 'Cancel' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (typeof (args) === 'string') {\n            confirmDialogObj = createDialog({ position: { X: 'center', Y: 'top' }, content: args, isModal: true,\n                header: DLG_UTIL_DEFAULT_TITLE, buttons: okCancelButtonModel\n            }, dialogElement);\n        }\n        else {\n            confirmDialogObj = createDialog(confirmOptions(args), dialogElement);\n        }\n        confirmDialogObj.close = function () {\n            if (args && args.close) {\n                args.close.apply(confirmDialogObj);\n            }\n            confirmDialogObj.destroy();\n            if (confirmDialogObj.element.classList.contains('e-dlg-modal')) {\n                confirmDialogObj.element.parentElement.remove();\n                confirmDialogObj.target.classList.remove(DLG_UTIL_ROOT);\n            }\n            else {\n                confirmDialogObj.element.remove();\n            }\n        };\n        return confirmDialogObj;\n    }\n    DialogUtility.confirm = confirm;\n    // eslint-disable-next-line\n    function createDialog(options, element) {\n        var dialogObject = new Dialog(options);\n        dialogObject.appendTo(element);\n        return dialogObject;\n    }\n    // eslint-disable-next-line\n    function alertOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setAlertButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function confirmOptions(option) {\n        var options = {};\n        options.buttons = [];\n        options = formOptions(options, option);\n        options = setConfirmButtonModel(options, option);\n        return options;\n    }\n    // eslint-disable-next-line\n    function formOptions(options, option) {\n        options.header = !isNullOrUndefined(option.title) ? option.title : DLG_UTIL_DEFAULT_TITLE;\n        options.content = !isNullOrUndefined(option.content) ? option.content : '';\n        options.isModal = !isNullOrUndefined(option.isModal) ? option.isModal : true;\n        options.showCloseIcon = !isNullOrUndefined(option.showCloseIcon) ? option.showCloseIcon : false;\n        options.allowDragging = !isNullOrUndefined(option.isDraggable) ? option.isDraggable : false;\n        options.closeOnEscape = !isNullOrUndefined(option.closeOnEscape) ? option.closeOnEscape : false;\n        options.position = !isNullOrUndefined(option.position) ? option.position : { X: 'center', Y: 'top' };\n        options.animationSettings = !isNullOrUndefined(option.animationSettings) ? option.animationSettings :\n            { effect: 'Fade', duration: 400, delay: 0 };\n        options.cssClass = !isNullOrUndefined(option.cssClass) ? option.cssClass : '';\n        options.zIndex = !isNullOrUndefined(option.zIndex) ? option.zIndex : 1000;\n        options.open = !isNullOrUndefined(option.open) ? option.open : null;\n        options.width = !isNullOrUndefined(option.width) ? option.width : 'auto';\n        options.height = !isNullOrUndefined(option.height) ? option.height : 'auto';\n        return options;\n    }\n    // eslint-disable-next-line\n    function setAlertButtonModel(options, option) {\n        var alertButtonModel = [{\n                buttonModel: { isPrimary: true, content: 'OK' },\n                click: function () {\n                    this.hide();\n                }\n            }];\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, alertButtonModel[0]);\n        }\n        else {\n            options.buttons = alertButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function setConfirmButtonModel(options, option) {\n        var okButtonModel = {\n            buttonModel: { isPrimary: true, content: 'OK' },\n            click: function () {\n                this.hide();\n            }\n        };\n        var cancelButtonModel = {\n            buttonModel: { content: 'Cancel' },\n            click: function () {\n                this.hide();\n            }\n        };\n        if (!isNullOrUndefined(option.okButton)) {\n            options.buttons[0] = formButtonModel(options.buttons[0], option.okButton, okButtonModel);\n        }\n        else {\n            options.buttons[0] = okButtonModel;\n        }\n        if (!isNullOrUndefined(option.cancelButton)) {\n            options.buttons[1] = formButtonModel(options.buttons[1], option.cancelButton, cancelButtonModel);\n        }\n        else {\n            options.buttons[1] = cancelButtonModel;\n        }\n        return options;\n    }\n    // eslint-disable-next-line\n    function formButtonModel(buttonModel, option, buttonPropModel) {\n        var buttonProps = buttonPropModel;\n        if (!isNullOrUndefined(option.text)) {\n            buttonProps.buttonModel.content = option.text;\n        }\n        if (!isNullOrUndefined(option.icon)) {\n            buttonProps.buttonModel.iconCss = option.icon;\n        }\n        if (!isNullOrUndefined(option.cssClass)) {\n            buttonProps.buttonModel.cssClass = option.cssClass;\n        }\n        if (!isNullOrUndefined(option.click)) {\n            buttonProps.click = option.click;\n        }\n        return buttonProps;\n    }\n})(DialogUtility || (DialogUtility = {}));\n\n/**\n * Dialog Component\n */\n\nvar __extends$2 = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate$2 = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar TOUCHEND_HIDE_DELAY = 1500;\nvar TAPHOLD_THRESHOLD = 500;\nvar SHOW_POINTER_TIP_GAP = 0;\nvar HIDE_POINTER_TIP_GAP = 8;\nvar MOUSE_TRAIL_GAP = 2;\nvar POINTER_ADJUST = 2;\nvar ROOT$1 = 'e-tooltip';\nvar RTL$1 = 'e-rtl';\nvar DEVICE$1 = 'e-bigger';\nvar ICON$1 = 'e-icons';\nvar CLOSE = 'e-tooltip-close';\nvar TOOLTIP_WRAP = 'e-tooltip-wrap';\nvar CONTENT = 'e-tip-content';\nvar ARROW_TIP = 'e-arrow-tip';\nvar ARROW_TIP_OUTER = 'e-arrow-tip-outer';\nvar ARROW_TIP_INNER = 'e-arrow-tip-inner';\nvar TIP_BOTTOM = 'e-tip-bottom';\nvar TIP_TOP = 'e-tip-top';\nvar TIP_LEFT = 'e-tip-left';\nvar TIP_RIGHT = 'e-tip-right';\nvar POPUP_ROOT$1 = 'e-popup';\nvar POPUP_OPEN = 'e-popup-open';\nvar POPUP_CLOSE = 'e-popup-close';\nvar POPUP_LIB = 'e-lib';\nvar HIDE_POPUP = 'e-hidden';\nvar POPUP_CONTAINER = 'e-tooltip-popup-container';\nvar Animation$1 = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Animation$$1, _super);\n    function Animation$$1() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    __decorate$2([\n        Property({ effect: 'FadeIn', duration: 150, delay: 0 })\n    ], Animation$$1.prototype, \"open\", void 0);\n    __decorate$2([\n        Property({ effect: 'FadeOut', duration: 150, delay: 0 })\n    ], Animation$$1.prototype, \"close\", void 0);\n    return Animation$$1;\n}(ChildProperty));\n/**\n * Represents the Tooltip component that displays a piece of information about the target element on mouse hover.\n * ```html\n * <div id=\"tooltip\">Show Tooltip</div>\n * ```\n * ```typescript\n * <script>\n *   var tooltipObj = new Tooltip({ content: 'Tooltip text' });\n *   tooltipObj.appendTo(\"#tooltip\");\n * </script>\n * ```\n */\nvar Tooltip = /** @__PURE__ @class */ (function (_super) {\n    __extends$2(Tooltip, _super);\n    /* eslint-enable */\n    /**\n     * Constructor for creating the Tooltip Component\n     *\n     * @param {TooltipModel} options - specifies the options for the constructor\n     * @param {string| HTMLElement} element - specifies the element for the constructor\n     *\n     */\n    function Tooltip(options, element) {\n        var _this = _super.call(this, options, element) || this;\n        _this.mouseMoveEvent = null;\n        _this.mouseMoveTarget = null;\n        _this.containerElement = null;\n        _this.isBodyContainer = true;\n        return _this;\n    }\n    Tooltip.prototype.initialize = function () {\n        this.formatPosition();\n        addClass([this.element], ROOT$1);\n    };\n    Tooltip.prototype.formatPosition = function () {\n        var _a, _b;\n        if (this.position.indexOf('Top') === 0 || this.position.indexOf('Bottom') === 0) {\n            _a = this.position.split(/(?=[A-Z])/), this.tooltipPositionY = _a[0], this.tooltipPositionX = _a[1];\n        }\n        else {\n            _b = this.position.split(/(?=[A-Z])/), this.tooltipPositionX = _b[0], this.tooltipPositionY = _b[1];\n        }\n    };\n    Tooltip.prototype.renderArrow = function () {\n        this.setTipClass(this.position);\n        var tip = this.createElement('div', { className: ARROW_TIP + ' ' + this.tipClass });\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_OUTER + ' ' + this.tipClass }));\n        tip.appendChild(this.createElement('div', { className: ARROW_TIP_INNER + ' ' + this.tipClass }));\n        this.tooltipEle.appendChild(tip);\n    };\n    Tooltip.prototype.setTipClass = function (position) {\n        if (position.indexOf('Right') === 0) {\n            this.tipClass = TIP_LEFT;\n        }\n        else if (position.indexOf('Bottom') === 0) {\n            this.tipClass = TIP_TOP;\n        }\n        else if (position.indexOf('Left') === 0) {\n            this.tipClass = TIP_RIGHT;\n        }\n        else {\n            this.tipClass = TIP_BOTTOM;\n        }\n    };\n    Tooltip.prototype.renderPopup = function (target) {\n        var elePos = this.mouseTrail ? { top: 0, left: 0 } : this.getTooltipPosition(target);\n        this.tooltipEle.classList.remove(POPUP_LIB);\n        this.popupObj = new Popup(this.tooltipEle, {\n            height: this.height,\n            width: this.width,\n            position: { X: elePos.left, Y: elePos.top },\n            enableRtl: this.enableRtl,\n            open: this.openPopupHandler.bind(this),\n            close: this.closePopupHandler.bind(this)\n        });\n    };\n    Tooltip.prototype.getTooltipPosition = function (target) {\n        this.tooltipEle.style.display = 'block';\n        var pos = calculatePosition(target, this.tooltipPositionX, this.tooltipPositionY, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n        var offsetPos = this.calculateTooltipOffset(this.position);\n        var collisionPosition = this.calculateElementPosition(pos, offsetPos);\n        var collisionLeft = collisionPosition[0];\n        var collisionTop = collisionPosition[1];\n        var elePos = this.collisionFlipFit(target, collisionLeft, collisionTop);\n        this.tooltipEle.style.display = '';\n        return elePos;\n    };\n    Tooltip.prototype.windowResize = function () {\n        this.reposition(this.findTarget());\n    };\n    Tooltip.prototype.reposition = function (target) {\n        if (this.popupObj && target) {\n            var elePos = this.getTooltipPosition(target);\n            this.popupObj.position = { X: elePos.left, Y: elePos.top };\n            this.popupObj.dataBind();\n        }\n    };\n    Tooltip.prototype.openPopupHandler = function () {\n        if (!this.mouseTrail && this.needTemplateReposition()) {\n            this.reposition(this.findTarget());\n        }\n        this.trigger('afterOpen', this.tooltipEventArgs);\n        this.tooltipEventArgs = null;\n    };\n    Tooltip.prototype.closePopupHandler = function () {\n        if (this.isReact && !(this.opensOn === 'Click' && typeof (this.content) === 'function')) {\n            this.clearTemplate(['content']);\n        }\n        this.clear();\n        this.trigger('afterClose', this.tooltipEventArgs);\n        this.tooltipEventArgs = null;\n    };\n    Tooltip.prototype.calculateTooltipOffset = function (position) {\n        var pos = { top: 0, left: 0 };\n        var tooltipEleWidth = this.tooltipEle.offsetWidth;\n        var tooltipEleHeight = this.tooltipEle.offsetHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var tipWidth = arrowEle ? arrowEle.offsetWidth : 0;\n        var tipHeight = arrowEle ? arrowEle.offsetHeight : 0;\n        var tipAdjust = (this.showTipPointer ? SHOW_POINTER_TIP_GAP : HIDE_POINTER_TIP_GAP);\n        var tipHeightAdjust = (tipHeight / 2) + POINTER_ADJUST + (this.tooltipEle.offsetHeight - this.tooltipEle.clientHeight);\n        var tipWidthAdjust = (tipWidth / 2) + POINTER_ADJUST + (this.tooltipEle.offsetWidth - this.tooltipEle.clientWidth);\n        if (this.mouseTrail) {\n            tipAdjust += MOUSE_TRAIL_GAP;\n        }\n        switch (position) {\n            case 'RightTop':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= tooltipEleHeight - tipHeightAdjust;\n                break;\n            case 'RightCenter':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'RightBottom':\n                pos.left += tipWidth + tipAdjust;\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'BottomRight':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            case 'BottomCenter':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n            case 'BottomLeft':\n                pos.top += (tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'LeftBottom':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tipHeightAdjust);\n                break;\n            case 'LeftCenter':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight / 2);\n                break;\n            case 'LeftTop':\n                pos.left -= (tipWidth + tooltipEleWidth + tipAdjust);\n                pos.top -= (tooltipEleHeight - tipHeightAdjust);\n                break;\n            case 'TopLeft':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth - tipWidthAdjust);\n                break;\n            case 'TopRight':\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tipWidthAdjust);\n                break;\n            default:\n                pos.top -= (tooltipEleHeight + tipHeight + tipAdjust);\n                pos.left -= (tooltipEleWidth / 2);\n                break;\n        }\n        pos.left += this.offsetX;\n        pos.top += this.offsetY;\n        return pos;\n    };\n    Tooltip.prototype.updateTipPosition = function (position) {\n        var selEle = selectAll('.' + ARROW_TIP + ',.' + ARROW_TIP_OUTER + ',.' + ARROW_TIP_INNER, this.tooltipEle);\n        var removeList = [TIP_BOTTOM, TIP_TOP, TIP_LEFT, TIP_RIGHT];\n        removeClass(selEle, removeList);\n        this.setTipClass(position);\n        addClass(selEle, this.tipClass);\n    };\n    Tooltip.prototype.adjustArrow = function (target, position, tooltipPositionX, tooltipPositionY) {\n        if (this.showTipPointer === false) {\n            return;\n        }\n        this.updateTipPosition(position);\n        var leftValue;\n        var topValue;\n        this.tooltipEle.style.display = 'block';\n        var tooltipWidth = this.tooltipEle.clientWidth;\n        var tooltipHeight = this.tooltipEle.clientHeight;\n        var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n        var tipWidth = arrowEle.offsetWidth;\n        var tipHeight = arrowEle.offsetHeight;\n        this.tooltipEle.style.display = '';\n        if (this.tipClass === TIP_BOTTOM || this.tipClass === TIP_TOP) {\n            if (this.tipClass === TIP_BOTTOM) {\n                topValue = '99.9%';\n                // Arrow icon aligned -2px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 2) + 'px';\n            }\n            else {\n                topValue = -(tipHeight - 1) + 'px';\n                // Arrow icon aligned -6px height from ArrowOuterTip div\n                arrowInnerELe.style.top = '-' + (tipHeight - 6) + 'px';\n            }\n            if (target) {\n                var tipPosExclude = tooltipPositionX !== 'Center' || (tooltipWidth > target.offsetWidth) || this.mouseTrail;\n                if ((tipPosExclude && tooltipPositionX === 'Left') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                    leftValue = (tooltipWidth - tipWidth - POINTER_ADJUST) + 'px';\n                }\n                else if ((tipPosExclude && tooltipPositionX === 'Right') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                    leftValue = POINTER_ADJUST + 'px';\n                }\n                else if ((tipPosExclude) && (this.tipPointerPosition === 'End' || this.tipPointerPosition === 'Start')) {\n                    leftValue = (this.tipPointerPosition === 'End') ? ((target.offsetWidth + ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2)) - (tipWidth / 2)) - POINTER_ADJUST + 'px'\n                        : ((this.tooltipEle.offsetWidth - target.offsetWidth) / 2) - (tipWidth / 2) + POINTER_ADJUST + 'px';\n                }\n                else {\n                    leftValue = ((tooltipWidth / 2) - (tipWidth / 2)) + 'px';\n                }\n            }\n        }\n        else {\n            if (this.tipClass === TIP_RIGHT) {\n                leftValue = '99.9%';\n                // Arrow icon aligned -2px left from ArrowOuterTip div\n                arrowInnerELe.style.left = '-' + (tipWidth - 2) + 'px';\n            }\n            else {\n                leftValue = -(tipWidth - 1) + 'px';\n                // Arrow icon aligned -2px from ArrowOuterTip width\n                arrowInnerELe.style.left = (-(tipWidth) + (tipWidth - 2)) + 'px';\n            }\n            var tipPosExclude = tooltipPositionY !== 'Center' || (tooltipHeight > target.offsetHeight) || this.mouseTrail;\n            if ((tipPosExclude && tooltipPositionY === 'Top') || (!tipPosExclude && this.tipPointerPosition === 'End')) {\n                topValue = (tooltipHeight - tipHeight - POINTER_ADJUST) + 'px';\n            }\n            else if ((tipPosExclude && tooltipPositionY === 'Bottom') || (!tipPosExclude && this.tipPointerPosition === 'Start')) {\n                topValue = POINTER_ADJUST + 'px';\n            }\n            else {\n                topValue = ((tooltipHeight / 2) - (tipHeight / 2)) + 'px';\n            }\n        }\n        arrowEle.style.top = topValue;\n        arrowEle.style.left = leftValue;\n    };\n    Tooltip.prototype.renderContent = function (target) {\n        var tooltipContent = select('.' + CONTENT, this.tooltipEle);\n        if (this.cssClass) {\n            addClass([this.tooltipEle], this.cssClass.split(' '));\n        }\n        if (target && !isNullOrUndefined(target.getAttribute('title'))) {\n            target.setAttribute('data-content', target.getAttribute('title'));\n            target.removeAttribute('title');\n        }\n        if (!isNullOrUndefined(this.content)) {\n            tooltipContent.innerHTML = '';\n            if (this.content instanceof HTMLElement) {\n                tooltipContent.appendChild(this.content);\n            }\n            else if (typeof this.content === 'string') {\n                if (this.enableHtmlSanitizer) {\n                    this.setProperties({ content: SanitizeHtmlHelper.sanitize(this.content) }, true);\n                }\n                var tempFunction = compile(this.content);\n                var tempArr = tempFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    if (this.enableHtmlParse) {\n                        var nodeList = tempArr.length;\n                        for (var i = 0; i < nodeList; i++) {\n                            tooltipContent[append(tempArr, tooltipContent), 'innerHTML'] = this.content;\n                        }\n                    }\n                    else {\n                        tooltipContent['textContent'] = this.content;\n                    }\n                }\n            }\n            else {\n                var templateFunction = compile(this.content);\n                var tempArr = templateFunction({}, this, 'content', this.element.id + 'content', undefined, undefined, tooltipContent);\n                if (tempArr) {\n                    append(tempArr, tooltipContent);\n                }\n                this.renderReactTemplates();\n            }\n        }\n        else {\n            if (target && !isNullOrUndefined(target.getAttribute('data-content'))) {\n                tooltipContent.innerHTML = target.getAttribute('data-content');\n            }\n        }\n    };\n    Tooltip.prototype.renderCloseIcon = function () {\n        if (!this.isSticky) {\n            return;\n        }\n        var tipClose = this.createElement('div', { className: ICON$1 + ' ' + CLOSE });\n        this.tooltipEle.appendChild(tipClose);\n        EventHandler.add(tipClose, Browser.touchStartEvent, this.onStickyClose, this);\n    };\n    Tooltip.prototype.addDataTooltipId = function (target, id) {\n        attributes(target, { 'data-tooltip-id': id });\n    };\n    Tooltip.prototype.removeDataTooltipId = function (target) {\n        target.removeAttribute('data-tooltip-id');\n    };\n    Tooltip.prototype.tapHoldHandler = function (evt) {\n        clearTimeout(this.autoCloseTimer);\n        this.targetHover(evt.originalEvent);\n    };\n    Tooltip.prototype.touchEndHandler = function (e) {\n        var _this = this;\n        if (this.isSticky) {\n            return;\n        }\n        var close = function () {\n            _this.close();\n        };\n        this.autoCloseTimer = setTimeout(close, TOUCHEND_HIDE_DELAY);\n    };\n    Tooltip.prototype.targetClick = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target)) {\n            return;\n        }\n        if (target.getAttribute('data-tooltip-id') === null) {\n            this.targetHover(e);\n        }\n        else if (!this.isSticky) {\n            this.hideTooltip(this.animation.close, e, target);\n        }\n    };\n    Tooltip.prototype.targetHover = function (e) {\n        var target;\n        if (this.target) {\n            target = closest(e.target, this.target);\n        }\n        else {\n            target = this.element;\n        }\n        if (isNullOrUndefined(target) || (target.getAttribute('data-tooltip-id') !== null && this.closeDelay === 0)) {\n            return;\n        }\n        var targetList = [].slice.call(selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document));\n        for (var _i = 0, targetList_1 = targetList; _i < targetList_1.length; _i++) {\n            var target_1 = targetList_1[_i];\n            this.restoreElement(target_1);\n        }\n        this.showTooltip(target, this.animation.open, e);\n    };\n    Tooltip.prototype.mouseMoveBeforeOpen = function (e) {\n        this.mouseMoveEvent = e;\n    };\n    Tooltip.prototype.mouseMoveBeforeRemove = function () {\n        if (this.mouseMoveTarget) {\n            EventHandler.remove(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen);\n        }\n    };\n    Tooltip.prototype.showTooltip = function (target, showAnimation, e) {\n        var _this = this;\n        clearTimeout(this.showTimer);\n        clearTimeout(this.hideTimer);\n        if (this.openDelay && this.mouseTrail) {\n            this.mouseMoveBeforeRemove();\n            this.mouseMoveTarget = target;\n            EventHandler.add(this.mouseMoveTarget, 'mousemove touchstart', this.mouseMoveBeforeOpen, this);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        var observeCallback = function (beforeRenderArgs) {\n            _this.beforeRenderCallback(beforeRenderArgs, target, e, showAnimation);\n        };\n        this.trigger('beforeRender', this.tooltipEventArgs, observeCallback.bind(this));\n    };\n    Tooltip.prototype.beforeRenderCallback = function (beforeRenderArgs, target, e, showAnimation) {\n        if (beforeRenderArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n        }\n        else {\n            this.isHidden = false;\n            if (isNullOrUndefined(this.tooltipEle)) {\n                this.ctrlId = this.element.getAttribute('id') ?\n                    getUniqueID(this.element.getAttribute('id')) : getUniqueID('tooltip');\n                this.tooltipEle = this.createElement('div', {\n                    className: TOOLTIP_WRAP + ' ' + POPUP_ROOT$1 + ' ' + POPUP_LIB, attrs: {\n                        role: 'tooltip', 'aria-hidden': 'false', 'id': this.ctrlId + '_content'\n                    }, styles: 'width:' +\n                        formatUnit(this.width) + ';height:' + formatUnit(this.height) + ';position:absolute;'\n                });\n                if (Object.keys(this.htmlAttributes).length !== 0) {\n                    for (var attr in this.htmlAttributes) {\n                        if (attr === \"class\") {\n                            this.tooltipEle.classList.add(this.htmlAttributes[\"\" + attr]);\n                        }\n                        else {\n                            this.tooltipEle.setAttribute(attr, this.htmlAttributes[\"\" + attr]);\n                        }\n                    }\n                }\n                this.tooltipBeforeRender(target, this);\n                this.tooltipAfterRender(target, e, showAnimation, this);\n            }\n            else {\n                if (target) {\n                    this.adjustArrow(target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n                    this.addDataTooltipId(target, this.ctrlId + '_content');\n                    this.renderContent(target);\n                    Animation.stop(this.tooltipEle);\n                    this.reposition(target);\n                    this.tooltipAfterRender(target, e, showAnimation, this);\n                }\n            }\n        }\n    };\n    Tooltip.prototype.appendContainer = function (ctrlObj) {\n        if (typeof this.container == 'string') {\n            if (this.container === 'body') {\n                this.containerElement = document.body;\n            }\n            else {\n                this.isBodyContainer = false;\n                this.containerElement = select(this.container, document);\n            }\n        }\n        else if (this.container instanceof HTMLElement) {\n            this.containerElement = this.container;\n            this.isBodyContainer = this.containerElement.tagName === 'BODY';\n        }\n        if (!this.isBodyContainer) {\n            addClass([this.containerElement], POPUP_CONTAINER);\n        }\n        this.containerElement.appendChild(ctrlObj.tooltipEle);\n    };\n    Tooltip.prototype.tooltipBeforeRender = function (target, ctrlObj) {\n        if (target) {\n            if (Browser.isDevice) {\n                addClass([ctrlObj.tooltipEle], DEVICE$1);\n            }\n            if (ctrlObj.width !== 'auto') {\n                ctrlObj.tooltipEle.style.maxWidth = formatUnit(ctrlObj.width);\n            }\n            ctrlObj.tooltipEle.appendChild(ctrlObj.createElement('div', { className: CONTENT }));\n            this.appendContainer(ctrlObj);\n            removeClass([ctrlObj.tooltipEle], HIDE_POPUP);\n            ctrlObj.addDataTooltipId(target, ctrlObj.ctrlId + '_content');\n            ctrlObj.renderContent(target);\n            addClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            if (ctrlObj.showTipPointer) {\n                ctrlObj.renderArrow();\n            }\n            ctrlObj.renderCloseIcon();\n            ctrlObj.renderPopup(target);\n            ctrlObj.adjustArrow(target, ctrlObj.position, ctrlObj.tooltipPositionX, ctrlObj.tooltipPositionY);\n            Animation.stop(ctrlObj.tooltipEle);\n            ctrlObj.reposition(target);\n        }\n    };\n    Tooltip.prototype.tooltipAfterRender = function (target, e, showAnimation, ctrlObj) {\n        if (target) {\n            removeClass([ctrlObj.tooltipEle], POPUP_OPEN);\n            addClass([ctrlObj.tooltipEle], POPUP_CLOSE);\n            ctrlObj.tooltipEventArgs = {\n                type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n                element: ctrlObj.tooltipEle, isInteracted: !isNullOrUndefined(e)\n            };\n            if (ctrlObj.needTemplateReposition() && !ctrlObj.mouseTrail) {\n                ctrlObj.tooltipEle.style.display = 'none';\n            }\n            var observeCallback = function (observedArgs) {\n                ctrlObj.beforeOpenCallback(observedArgs, target, showAnimation, e);\n            };\n            ctrlObj.trigger('beforeOpen', ctrlObj.tooltipEventArgs, observeCallback.bind(ctrlObj));\n        }\n    };\n    Tooltip.prototype.beforeOpenCallback = function (observedArgs, target, showAnimation, e) {\n        var _this = this;\n        if (observedArgs.cancel) {\n            this.isHidden = true;\n            this.clear();\n            this.mouseMoveBeforeRemove();\n            this.restoreElement(target);\n        }\n        else {\n            var openAnimation_1 = {\n                name: showAnimation.effect,\n                duration: showAnimation.duration,\n                delay: showAnimation.delay,\n                timingFunction: 'easeOut'\n            };\n            if (showAnimation.effect === 'None') {\n                openAnimation_1 = undefined;\n            }\n            if (this.openDelay > 0) {\n                var show = function () {\n                    if (_this.mouseTrail) {\n                        EventHandler.add(target, 'mousemove touchstart mouseenter', _this.onMouseMove, _this);\n                    }\n                    if (_this.popupObj) {\n                        _this.popupObj.show(openAnimation_1, target);\n                        if (_this.mouseMoveEvent && _this.mouseTrail) {\n                            _this.onMouseMove(_this.mouseMoveEvent);\n                        }\n                    }\n                };\n                this.showTimer = setTimeout(show, this.openDelay);\n            }\n            else {\n                if (this.popupObj) {\n                    this.popupObj.show(openAnimation_1, target);\n                }\n            }\n        }\n        if (e) {\n            this.wireMouseEvents(e, target);\n        }\n    };\n    Tooltip.prototype.needTemplateReposition = function () {\n        // eslint-disable-next-line\n        var tooltip = this;\n        return !isNullOrUndefined(tooltip.viewContainerRef)\n            && typeof tooltip.viewContainerRef !== 'string';\n    };\n    Tooltip.prototype.checkCollision = function (target, x, y) {\n        var elePos = {\n            left: x, top: y, position: this.position,\n            horizontal: this.tooltipPositionX, vertical: this.tooltipPositionY\n        };\n        var affectedPos = isCollide(this.tooltipEle, this.checkCollideTarget(), x, y);\n        if (affectedPos.length > 0) {\n            elePos.horizontal = affectedPos.indexOf('left') >= 0 ? 'Right' : affectedPos.indexOf('right') >= 0 ? 'Left' :\n                this.tooltipPositionX;\n            elePos.vertical = affectedPos.indexOf('top') >= 0 ? 'Bottom' : affectedPos.indexOf('bottom') >= 0 ? 'Top' :\n                this.tooltipPositionY;\n        }\n        return elePos;\n    };\n    Tooltip.prototype.calculateElementPosition = function (pos, offsetPos) {\n        return [this.isBodyContainer ? pos.left + offsetPos.left :\n                (pos.left - this.containerElement.offsetLeft) + offsetPos.left + window.pageXOffset + this.containerElement.scrollLeft,\n            this.isBodyContainer ? pos.top + offsetPos.top :\n                (pos.top - this.containerElement.offsetTop) + offsetPos.top + window.pageYOffset + this.containerElement.scrollTop];\n    };\n    Tooltip.prototype.collisionFlipFit = function (target, x, y) {\n        var elePos = this.checkCollision(target, x, y);\n        var newpos = elePos.position;\n        if (this.tooltipPositionY !== elePos.vertical) {\n            newpos = ((this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + this.tooltipPositionX : this.tooltipPositionX + elePos.vertical);\n        }\n        if (this.tooltipPositionX !== elePos.horizontal) {\n            if (newpos.indexOf('Left') === 0) {\n                elePos.vertical = (newpos === 'LeftTop' || newpos === 'LeftCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Left');\n            }\n            if (newpos.indexOf('Right') === 0) {\n                elePos.vertical = (newpos === 'RightTop' || newpos === 'RightCenter') ? 'Top' : 'Bottom';\n                newpos = (elePos.vertical + 'Right');\n            }\n            elePos.horizontal = this.tooltipPositionX;\n        }\n        this.tooltipEventArgs = {\n            type: null, cancel: false, target: target, event: null,\n            element: this.tooltipEle, collidedPosition: newpos\n        };\n        this.trigger('beforeCollision', this.tooltipEventArgs);\n        var elePosVertical = elePos.vertical;\n        var elePosHorizontal = elePos.horizontal;\n        if (elePos.position !== newpos) {\n            var pos = calculatePosition(target, elePosHorizontal, elePosVertical, !this.isBodyContainer, this.isBodyContainer ? null : this.containerElement.getBoundingClientRect());\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n            var offsetPos = this.calculateTooltipOffset(newpos);\n            offsetPos.top -= this.getOffSetPosition('TopBottom', newpos, this.offsetY);\n            offsetPos.left -= this.getOffSetPosition('RightLeft', newpos, this.offsetX);\n            elePos.position = newpos;\n            var elePosition = this.calculateElementPosition(pos, offsetPos);\n            elePos.left = elePosition[0];\n            elePos.top = elePosition[1];\n        }\n        else {\n            this.adjustArrow(target, newpos, elePosHorizontal, elePosVertical);\n        }\n        var eleOffset = { left: elePos.left, top: elePos.top };\n        var left = this.isBodyContainer ?\n            fit(this.tooltipEle, this.checkCollideTarget(), { X: true, Y: false }, eleOffset).left : eleOffset.left;\n        this.tooltipEle.style.display = 'block';\n        if (this.showTipPointer && (newpos.indexOf('Bottom') === 0 || newpos.indexOf('Top') === 0)) {\n            var arrowEle = select('.' + ARROW_TIP, this.tooltipEle);\n            var arrowleft = parseInt(arrowEle.style.left, 10) - (left - elePos.left);\n            if (arrowleft < 0) {\n                arrowleft = 0;\n            }\n            else if ((arrowleft + arrowEle.offsetWidth) > this.tooltipEle.clientWidth) {\n                arrowleft = this.tooltipEle.clientWidth - arrowEle.offsetWidth;\n            }\n            arrowEle.style.left = arrowleft.toString() + 'px';\n        }\n        this.tooltipEle.style.display = '';\n        eleOffset.left = left;\n        return eleOffset;\n    };\n    Tooltip.prototype.getOffSetPosition = function (positionString, newPos, offsetType) {\n        return ((positionString.indexOf(this.position.split(/(?=[A-Z])/)[0]) !== -1) &&\n            (positionString.indexOf(newPos.split(/(?=[A-Z])/)[0]) !== -1)) ? (2 * offsetType) : 0;\n    };\n    Tooltip.prototype.checkCollideTarget = function () {\n        return !this.windowCollision && this.target ? this.element : null;\n    };\n    Tooltip.prototype.hideTooltip = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        if (this.closeDelay > 0) {\n            clearTimeout(this.hideTimer);\n            clearTimeout(this.showTimer);\n            var hide = function () {\n                if (_this.closeDelay && _this.tooltipEle && _this.isTooltipOpen) {\n                    return;\n                }\n                _this.tooltipHide(hideAnimation, e, targetElement);\n            };\n            this.hideTimer = setTimeout(hide, this.closeDelay);\n        }\n        else {\n            this.tooltipHide(hideAnimation, e, targetElement);\n        }\n    };\n    Tooltip.prototype.tooltipHide = function (hideAnimation, e, targetElement) {\n        var _this = this;\n        var target;\n        if (e) {\n            target = this.target ? (targetElement || e.target) : this.element;\n        }\n        else {\n            target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        }\n        this.tooltipEventArgs = {\n            type: e ? e.type : null, cancel: false, target: target, event: e ? e : null,\n            element: this.tooltipEle, isInteracted: !isNullOrUndefined(e)\n        };\n        // this line commented for close the tooltip popup element even the target element destroyed in a page.\n        //if (isNullOrUndefined(target)) { return; }\n        this.trigger('beforeClose', this.tooltipEventArgs, function (observedArgs) {\n            if (!observedArgs.cancel) {\n                _this.mouseMoveBeforeRemove();\n                _this.popupHide(hideAnimation, target);\n            }\n            else {\n                _this.isHidden = false;\n            }\n        });\n        this.tooltipEventArgs = null;\n    };\n    Tooltip.prototype.popupHide = function (hideAnimation, target) {\n        if (target) {\n            this.restoreElement(target);\n        }\n        this.isHidden = true;\n        var closeAnimation = {\n            name: hideAnimation.effect,\n            duration: hideAnimation.duration,\n            delay: hideAnimation.delay,\n            timingFunction: 'easeIn'\n        };\n        if (hideAnimation.effect === 'None') {\n            closeAnimation = undefined;\n        }\n        if (this.popupObj) {\n            this.popupObj.hide(closeAnimation);\n        }\n    };\n    Tooltip.prototype.restoreElement = function (target) {\n        this.unwireMouseEvents(target);\n        if (!isNullOrUndefined(target.getAttribute('data-content'))) {\n            target.setAttribute('title', target.getAttribute('data-content'));\n            target.removeAttribute('data-content');\n        }\n        this.removeDataTooltipId(target);\n    };\n    Tooltip.prototype.clear = function () {\n        if (this.tooltipEle) {\n            removeClass([this.tooltipEle], POPUP_CLOSE);\n            addClass([this.tooltipEle], POPUP_OPEN);\n        }\n        if (this.isHidden) {\n            if (this.popupObj) {\n                this.popupObj.destroy();\n            }\n            if (this.tooltipEle) {\n                remove(this.tooltipEle);\n            }\n            this.tooltipEle = null;\n            this.popupObj = null;\n        }\n    };\n    Tooltip.prototype.tooltipHover = function (e) {\n        if (this.tooltipEle) {\n            this.isTooltipOpen = true;\n        }\n    };\n    Tooltip.prototype.tooltipMouseOut = function (e) {\n        this.isTooltipOpen = false;\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n    };\n    Tooltip.prototype.onMouseOut = function (e) {\n        var enteredElement = e.relatedTarget;\n        // don't close the tooltip only if it is tooltip content element\n        if (enteredElement && !this.mouseTrail) {\n            var checkForTooltipElement = closest(enteredElement, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1);\n            if (checkForTooltipElement) {\n                EventHandler.add(checkForTooltipElement, 'mouseleave', this.tooltipElementMouseOut, this);\n            }\n            else {\n                this.hideTooltip(this.animation.close, e, this.findTarget());\n                if (this.closeDelay === 0) {\n                    this.clear();\n                }\n            }\n        }\n        else {\n            this.hideTooltip(this.animation.close, e, this.findTarget());\n            this.clear();\n        }\n    };\n    Tooltip.prototype.tooltipElementMouseOut = function (e) {\n        this.hideTooltip(this.animation.close, e, this.findTarget());\n        EventHandler.remove(this.element, 'mouseleave', this.tooltipElementMouseOut);\n        this.clear();\n    };\n    Tooltip.prototype.onStickyClose = function (e) {\n        this.close();\n    };\n    Tooltip.prototype.onMouseMove = function (event) {\n        var eventPageX = 0;\n        var eventPageY = 0;\n        if (event.type.indexOf('touch') > -1) {\n            event.preventDefault();\n            eventPageX = event.touches[0].pageX;\n            eventPageY = event.touches[0].pageY;\n        }\n        else {\n            eventPageX = event.pageX;\n            eventPageY = event.pageY;\n        }\n        Animation.stop(this.tooltipEle);\n        removeClass([this.tooltipEle], POPUP_CLOSE);\n        addClass([this.tooltipEle], POPUP_OPEN);\n        this.adjustArrow(event.target, this.position, this.tooltipPositionX, this.tooltipPositionY);\n        var pos = this.calculateTooltipOffset(this.position);\n        var x = eventPageX + pos.left + this.offsetX;\n        var y = eventPageY + pos.top + this.offsetY;\n        var elePos = this.checkCollision(event.target, x, y);\n        if (this.tooltipPositionX !== elePos.horizontal || this.tooltipPositionY !== elePos.vertical) {\n            var newpos = (this.position.indexOf('Bottom') === 0 || this.position.indexOf('Top') === 0) ?\n                elePos.vertical + elePos.horizontal : elePos.horizontal + elePos.vertical;\n            elePos.position = newpos;\n            this.adjustArrow(event.target, elePos.position, elePos.horizontal, elePos.vertical);\n            var colpos = this.calculateTooltipOffset(elePos.position);\n            elePos.left = eventPageX + colpos.left - this.offsetX;\n            elePos.top = eventPageY + colpos.top - this.offsetY;\n        }\n        this.tooltipEle.style.left = elePos.left + 'px';\n        this.tooltipEle.style.top = elePos.top + 'px';\n    };\n    Tooltip.prototype.keyDown = function (event) {\n        if (!isNullOrUndefined(this.targetsList) && !isNullOrUndefined(this.target)) {\n            var target = [].slice.call(selectAll(this.target, this.element));\n            if (target.length !== this.targetsList.length) {\n                this.unwireEvents(this.opensOn);\n                this.wireEvents(this.opensOn);\n            }\n        }\n        if (this.tooltipEle && event.keyCode === 27) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.touchEnd = function (e) {\n        if (this.tooltipEle && closest(e.target, '.' + ROOT$1) === null && !this.isSticky) {\n            this.close();\n        }\n    };\n    Tooltip.prototype.scrollHandler = function (e) {\n        if (this.tooltipEle) {\n            if (!(closest(e.target, \".\" + TOOLTIP_WRAP + \".\" + POPUP_LIB + \".\" + POPUP_ROOT$1))) {\n                this.close();\n            }\n        }\n    };\n    /**\n     * Core method that initializes the control rendering.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.render = function () {\n        this.initialize();\n        this.wireEvents(this.opensOn);\n        this.renderComplete();\n    };\n    /**\n     * Initializes the values of private members.\n     *\n     * @private\n     * @returns {void}\n     */\n    Tooltip.prototype.preRender = function () {\n        this.tipClass = TIP_BOTTOM;\n        this.tooltipPositionX = 'Center';\n        this.tooltipPositionY = 'Top';\n        this.isHidden = true;\n    };\n    /**\n     * Binding events to the Tooltip element.\n     *\n     * @hidden\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.wireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_1 = triggerList; _i < triggerList_1.length; _i++) {\n            var opensOn = triggerList_1[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.wireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.add(this.element, Browser.touchStartEvent, this.targetClick, this);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    this.touchModule = new Touch(this.element, {\n                        tapHoldThreshold: TAPHOLD_THRESHOLD,\n                        tapHold: this.tapHoldHandler.bind(this)\n                    });\n                    EventHandler.add(this.element, Browser.touchEndEvent, this.touchEndHandler, this);\n                }\n                else {\n                    EventHandler.add(this.element, 'mouseover', this.targetHover, this);\n                }\n            }\n        }\n        EventHandler.add(document, 'touchend', this.touchEnd, this);\n        EventHandler.add(document, 'scroll wheel', this.scrollHandler, this);\n        EventHandler.add(window, 'resize', this.windowResize, this);\n        EventHandler.add(document, 'keydown', this.keyDown, this);\n    };\n    Tooltip.prototype.getTriggerList = function (trigger) {\n        if (trigger === 'Auto') {\n            trigger = (Browser.isDevice) ? 'Hover' : 'Hover Focus';\n        }\n        return trigger.split(' ');\n    };\n    Tooltip.prototype.wireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            if (this.element.nodeName !== \"BODY\") {\n                EventHandler.add(this.element, 'focusin', this.targetHover, this);\n            }\n            else {\n                var targetList = [].slice.call(selectAll(this.target, this.element));\n                this.targetsList = targetList;\n                for (var _i = 0, targetList_2 = targetList; _i < targetList_2.length; _i++) {\n                    var target = targetList_2[_i];\n                    EventHandler.add(target, 'focus', this.targetHover, this);\n                }\n            }\n        }\n        else {\n            EventHandler.add(this.element, 'focus', this.targetHover, this);\n        }\n    };\n    Tooltip.prototype.wireMouseEvents = function (e, target) {\n        if (this.tooltipEle) {\n            if (!this.isSticky) {\n                if (e.type === 'focus') {\n                    EventHandler.add(target, 'blur', this.onMouseOut, this);\n                }\n                if (e.type === 'focusin') {\n                    EventHandler.add(target, 'focusout', this.onMouseOut, this);\n                }\n                if (e.type === 'mouseover') {\n                    EventHandler.add(target, 'mouseleave', this.onMouseOut, this);\n                }\n                if (this.closeDelay) {\n                    EventHandler.add(this.tooltipEle, 'mouseenter', this.tooltipHover, this);\n                    EventHandler.add(this.tooltipEle, 'mouseleave', this.tooltipMouseOut, this);\n                }\n            }\n            if (this.mouseTrail && this.openDelay === 0) {\n                EventHandler.add(target, 'mousemove touchstart mouseenter', this.onMouseMove, this);\n            }\n        }\n    };\n    /**\n     * Unbinding events from the element on widget destroy.\n     *\n     * @hidden\n     *\n     * @param {string} trigger - specify the trigger string to the function\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.unwireEvents = function (trigger) {\n        var triggerList = this.getTriggerList(trigger);\n        for (var _i = 0, triggerList_2 = triggerList; _i < triggerList_2.length; _i++) {\n            var opensOn = triggerList_2[_i];\n            if (opensOn === 'Custom') {\n                return;\n            }\n            if (opensOn === 'Focus') {\n                this.unwireFocusEvents();\n            }\n            if (opensOn === 'Click') {\n                EventHandler.remove(this.element, Browser.touchStartEvent, this.targetClick);\n            }\n            if (opensOn === 'Hover') {\n                if (Browser.isDevice) {\n                    if (this.touchModule) {\n                        this.touchModule.destroy();\n                    }\n                    EventHandler.remove(this.element, Browser.touchEndEvent, this.touchEndHandler);\n                }\n                else {\n                    EventHandler.remove(this.element, 'mouseover', this.targetHover);\n                }\n            }\n        }\n        EventHandler.remove(document, 'touchend', this.touchEnd);\n        EventHandler.remove(document, 'scroll wheel', this.scrollHandler);\n        EventHandler.remove(window, 'resize', this.windowResize);\n        EventHandler.remove(document, 'keydown', this.keyDown);\n    };\n    Tooltip.prototype.unwireFocusEvents = function () {\n        if (!isNullOrUndefined(this.target)) {\n            if (this.element.nodeName === 'BODY') {\n                EventHandler.remove(this.element, 'focusin', this.targetHover);\n            }\n            else {\n                var targetList = [].slice.call(selectAll(this.target, this.element));\n                for (var _i = 0, targetList_3 = targetList; _i < targetList_3.length; _i++) {\n                    var target = targetList_3[_i];\n                    EventHandler.remove(target, 'focus', this.targetHover);\n                }\n            }\n        }\n        else {\n            EventHandler.remove(this.element, 'focus', this.targetHover);\n        }\n    };\n    Tooltip.prototype.unwireMouseEvents = function (target) {\n        if (!this.isSticky) {\n            var triggerList = this.getTriggerList(this.opensOn);\n            for (var _i = 0, triggerList_3 = triggerList; _i < triggerList_3.length; _i++) {\n                var opensOn = triggerList_3[_i];\n                if (opensOn === 'Focus') {\n                    EventHandler.remove(target, 'blur', this.onMouseOut);\n                    EventHandler.remove(target, 'focusout', this.onMouseOut);\n                }\n                if (opensOn === 'Hover' && !Browser.isDevice) {\n                    EventHandler.remove(target, 'mouseleave', this.onMouseOut);\n                }\n            }\n            if (this.closeDelay) {\n                EventHandler.remove(target, 'mouseenter', this.tooltipHover);\n                EventHandler.remove(target, 'mouseleave', this.tooltipMouseOut);\n            }\n        }\n        if (this.mouseTrail) {\n            EventHandler.remove(target, 'mousemove touchstart mouseenter', this.onMouseMove);\n        }\n    };\n    Tooltip.prototype.findTarget = function () {\n        var target = select('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', document);\n        return target;\n    };\n    /**\n     * Core method to return the component name.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns module name.\n     */\n    Tooltip.prototype.getModuleName = function () {\n        return 'tooltip';\n    };\n    /**\n     * Returns the properties to be maintained in the persisted state.\n     *\n     * @private\n     *\n     * @returns {string} - this method returns persisted data.\n     */\n    Tooltip.prototype.getPersistData = function () {\n        return this.addOnPersist([]);\n    };\n    /**\n     * Called internally, if any of the property value changed.\n     *\n     * @private\n     *\n     * @param {TooltipModel} newProp - this param gives new property values to the method\n     * @param {TooltipModel} oldProp - this param gives old property values to the method\n     * @returns {void}\n     *\n     */\n    Tooltip.prototype.onPropertyChanged = function (newProp, oldProp) {\n        var targetElement = this.findTarget();\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'width':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.width = this.tooltipEle.style.maxWidth = formatUnit(newProp.width);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'height':\n                    if (this.tooltipEle && targetElement) {\n                        this.tooltipEle.style.height = formatUnit(newProp.height);\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'content':\n                    if (this.tooltipEle) {\n                        this.renderContent();\n                    }\n                    break;\n                case 'opensOn':\n                    this.unwireEvents(oldProp.opensOn);\n                    this.wireEvents(newProp.opensOn);\n                    break;\n                case 'position':\n                    this.formatPosition();\n                    if (this.tooltipEle && targetElement) {\n                        var arrowInnerELe = select('.' + ARROW_TIP_INNER, this.tooltipEle);\n                        arrowInnerELe.style.top = arrowInnerELe.style.left = null;\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'tipPointerPosition':\n                    if (this.tooltipEle && targetElement) {\n                        this.reposition(targetElement);\n                    }\n                    break;\n                case 'offsetX':\n                    if (this.tooltipEle) {\n                        var x = newProp.offsetX - oldProp.offsetX;\n                        this.tooltipEle.style.left = (parseInt(this.tooltipEle.style.left, 10) + (x)).toString() + 'px';\n                    }\n                    break;\n                case 'offsetY':\n                    if (this.tooltipEle) {\n                        var y = newProp.offsetY - oldProp.offsetY;\n                        this.tooltipEle.style.top = (parseInt(this.tooltipEle.style.top, 10) + (y)).toString() + 'px';\n                    }\n                    break;\n                case 'cssClass':\n                    if (this.tooltipEle) {\n                        if (oldProp.cssClass) {\n                            removeClass([this.tooltipEle], oldProp.cssClass.split(' '));\n                        }\n                        if (newProp.cssClass) {\n                            addClass([this.tooltipEle], newProp.cssClass.split(' '));\n                        }\n                    }\n                    break;\n                case 'enableRtl':\n                    if (this.tooltipEle) {\n                        if (this.enableRtl) {\n                            addClass([this.tooltipEle], RTL$1);\n                        }\n                        else {\n                            removeClass([this.tooltipEle], RTL$1);\n                        }\n                    }\n                    break;\n                case 'container':\n                    if (!isNullOrUndefined(this.containerElement)) {\n                        removeClass([this.containerElement], POPUP_CONTAINER);\n                    }\n                    this.container = newProp.container;\n                    if (this.tooltipEle && targetElement) {\n                        this.appendContainer(this);\n                        this.reposition(targetElement);\n                    }\n            }\n        }\n    };\n    /**\n     * It is used to show the Tooltip on the specified target with specific animation settings.\n     *\n     * @param {HTMLElement} element - Target element where the Tooltip is to be displayed. (It is an optional parameter)\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation, while showing the Tooltip on the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.open = function (element, animation) {\n        if (isNullOrUndefined(animation)) {\n            animation = this.animation.open;\n        }\n        if (isNullOrUndefined(element)) {\n            element = this.element;\n        }\n        if (element.style.display === 'none') {\n            return;\n        }\n        this.showTooltip(element, animation);\n    };\n    /**\n     * It is used to hide the Tooltip with specific animation effect.\n     *\n     * @param {TooltipAnimationSettings} animation - Sets the specific animation when hiding Tooltip from the screen. (It is an optional parameter)\n     * @returns {void}\n     */\n    Tooltip.prototype.close = function (animation) {\n        if (!animation) {\n            animation = this.animation.close;\n        }\n        this.hideTooltip(animation);\n    };\n    /**\n     * It is used to refresh the Tooltip content and its position.\n     *\n     * @param {HTMLElement} target - Target element where the Tooltip content or position needs to be refreshed.\n     * @returns {void}\n     */\n    Tooltip.prototype.refresh = function (target) {\n        if (this.tooltipEle) {\n            this.renderContent(target);\n        }\n        if (this.popupObj && target) {\n            this.reposition(target);\n        }\n    };\n    /**\n     * It is used to destroy the Tooltip component.\n     * @method destroy\n     * @returns {void}\n     * @memberof Tooltip\n     */\n    Tooltip.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        if (this.tooltipEle) {\n            remove(this.tooltipEle);\n        }\n        if (this.popupObj) {\n            this.popupObj.destroy();\n        }\n        removeClass([this.element], ROOT$1);\n        this.unwireEvents(this.opensOn);\n        this.unwireMouseEvents(this.element);\n        this.tooltipEle = null;\n        this.popupObj = null;\n        var currentTarget = selectAll('[data-tooltip-id= \"' + this.ctrlId + '_content\"]', this.element);\n        for (var _i = 0, currentTarget_1 = currentTarget; _i < currentTarget_1.length; _i++) {\n            var target = currentTarget_1[_i];\n            this.restoreElement(target);\n        }\n    };\n    __decorate$2([\n        Property('auto')\n    ], Tooltip.prototype, \"width\", void 0);\n    __decorate$2([\n        Property('auto')\n    ], Tooltip.prototype, \"height\", void 0);\n    __decorate$2([\n        Property()\n    ], Tooltip.prototype, \"content\", void 0);\n    __decorate$2([\n        Property('body')\n    ], Tooltip.prototype, \"container\", void 0);\n    __decorate$2([\n        Property()\n    ], Tooltip.prototype, \"target\", void 0);\n    __decorate$2([\n        Property('TopCenter')\n    ], Tooltip.prototype, \"position\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"offsetX\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"offsetY\", void 0);\n    __decorate$2([\n        Property(true)\n    ], Tooltip.prototype, \"showTipPointer\", void 0);\n    __decorate$2([\n        Property(true)\n    ], Tooltip.prototype, \"enableHtmlParse\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"windowCollision\", void 0);\n    __decorate$2([\n        Property('Auto')\n    ], Tooltip.prototype, \"tipPointerPosition\", void 0);\n    __decorate$2([\n        Property('Auto')\n    ], Tooltip.prototype, \"opensOn\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"mouseTrail\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"isSticky\", void 0);\n    __decorate$2([\n        Complex({}, Animation$1)\n    ], Tooltip.prototype, \"animation\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"openDelay\", void 0);\n    __decorate$2([\n        Property(0)\n    ], Tooltip.prototype, \"closeDelay\", void 0);\n    __decorate$2([\n        Property()\n    ], Tooltip.prototype, \"cssClass\", void 0);\n    __decorate$2([\n        Property(false)\n    ], Tooltip.prototype, \"enableHtmlSanitizer\", void 0);\n    __decorate$2([\n        Property('')\n    ], Tooltip.prototype, \"htmlAttributes\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeRender\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"afterOpen\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeClose\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"afterClose\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"beforeCollision\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"created\", void 0);\n    __decorate$2([\n        Event()\n    ], Tooltip.prototype, \"destroyed\", void 0);\n    Tooltip = __decorate$2([\n        NotifyPropertyChanges\n    ], Tooltip);\n    return Tooltip;\n}(Component));\n\n/**\n * Tooltip modules\n */\n\nvar globalTimeOut = {};\nvar DEFT_MAT_WIDTH = 30;\nvar DEFT_MAT3_WIDTH = 30;\nvar DEFT_FAB_WIDTH = 30;\nvar DEFT_FLUENT_WIDTH = 30;\nvar DEFT_BOOT_WIDTH = 30;\nvar DEFT_BOOT4_WIDTH = 36;\nvar DEFT_BOOT5_WIDTH = 36;\nvar CLS_SHOWSPIN = 'e-spin-show';\nvar CLS_HIDESPIN = 'e-spin-hide';\nvar CLS_MATERIALSPIN = 'e-spin-material';\nvar CLS_MATERIAL3SPIN = 'e-spin-material3';\nvar CLS_FABRICSPIN = 'e-spin-fabric';\nvar CLS_FLUENTSPIN = 'e-spin-fluent';\nvar CLS_TAILWINDSPIN = 'e-spin-tailwind';\nvar CLS_BOOTSPIN = 'e-spin-bootstrap';\nvar CLS_BOOT4SPIN = 'e-spin-bootstrap4';\nvar CLS_BOOT5SPIN = 'e-spin-bootstrap5';\nvar CLS_HIGHCONTRASTSPIN = 'e-spin-high-contrast';\nvar CLS_SPINWRAP = 'e-spinner-pane';\nvar CLS_SPININWRAP = 'e-spinner-inner';\nvar CLS_SPINCIRCLE = 'e-path-circle';\nvar CLS_SPINARC = 'e-path-arc';\nvar CLS_SPINLABEL = 'e-spin-label';\nvar CLS_SPINTEMPLATE = 'e-spin-template';\nvar spinTemplate = null;\nvar spinCSSClass = null;\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : blazorSpinner({ action: \"Create\", options: {target: targetElement}, type: \"\" });\n  * ```\n  *\n  * @param {string} action - specifies the string\n  * @param {CreateArgs} options - specifies the args\n  * @param {string} target - specifies the target\n  * @param {string} type - specifes the type\n  * @returns {void}\n  * @private\n  */\nfunction Spinner(action, options, target, type) {\n    switch (action) {\n        case 'Create':\n            /* eslint-disable */\n            var element = document.querySelector(options.target);\n            var args = { type: type, target: element, cssClass: options.cssClass,\n                label: options.label, width: options.width };\n            /* eslint-enable */\n            createSpinner(args);\n            break;\n        case 'Show':\n            showSpinner(document.querySelector(target));\n            break;\n        case 'Hide':\n            hideSpinner(document.querySelector(target));\n            break;\n        case 'Set':\n            // eslint-disable-next-line\n            var setArgs = { cssClass: options.cssClass, type: type };\n            setSpinner(setArgs);\n            break;\n    }\n}\n/**\n * Create a spinner for the specified target element.\n * ```\n * E.g : createSpinner({ target: targetElement, width: '34px', label: 'Loading..' });\n * ```\n *\n * @param {SpinnerArgs} args - specifies the args\n * @param {CreateElementArgs} internalCreateElement - specifis the element args\n * @returns {void}\n * @private\n */\nfunction createSpinner(args, internalCreateElement) {\n    if (!args.target) {\n        return;\n    }\n    var radius;\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    // eslint-disable-next-line\n    var container = create_spinner_container(args.target, makeElement);\n    if (!isNullOrUndefined(args.cssClass)) {\n        container.wrap.classList.add(args.cssClass);\n    }\n    if (!isNullOrUndefined(args.template) || !isNullOrUndefined(spinTemplate)) {\n        var template = !isNullOrUndefined(args.template) ? args.template : spinTemplate;\n        container.wrap.classList.add(CLS_SPINTEMPLATE);\n        replaceContent(container.wrap, template, spinCSSClass);\n    }\n    else {\n        var theme = !isNullOrUndefined(args.type) ? args.type : getTheme(container.wrap);\n        var width = !isNullOrUndefined(args.width) ? args.width : undefined;\n        radius = calculateRadius(width, theme);\n        setTheme(theme, container.wrap, radius, makeElement);\n        if (!isNullOrUndefined(args.label)) {\n            createLabel(container.inner_wrap, args.label, makeElement);\n        }\n    }\n    container.wrap.classList.add(CLS_HIDESPIN);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} label - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {HTMLElement} - returns the element\n */\nfunction createLabel(container, label, makeElement) {\n    var labelEle = makeElement('div', {});\n    labelEle.classList.add(CLS_SPINLABEL);\n    labelEle.innerHTML = label;\n    container.appendChild(labelEle);\n    return labelEle;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterialSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Material', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIALSPIN);\n    mat_calculate_attributes(radius, container, 'Material', CLS_MATERIALSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createMaterial3Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Material3', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_MATERIAL3SPIN);\n    mat_calculate_attributes(radius, container, 'Material3', CLS_MATERIAL3SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap4Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Bootstrap4', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT4SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap4', CLS_BOOT4SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrap5Spinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Bootstrap5', radius: radius };\n    create_material_element(container, uniqueID, makeElement, CLS_BOOT5SPIN);\n    mat_calculate_attributes(radius, container, 'Bootstrap5', CLS_BOOT5SPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} uniqueID - specifies the id.\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\nfunction startMatAnimate(container, uniqueID, radius) {\n    var globalObject = {};\n    var timeOutVar = 0;\n    globalTimeOut[\"\" + uniqueID].timeOut = 0;\n    globalObject[\"\" + uniqueID] = globalVariables(uniqueID, radius, 0, 0);\n    // eslint-disable-next-line\n    var spinnerInfo = { uniqueID: uniqueID, container: container, globalInfo: globalObject, timeOutVar: timeOutVar };\n    animateMaterial(spinnerInfo);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFabricSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Fabric', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FABRICSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FABRICSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createFluentSinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Fluent', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_FLUENTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_FLUENTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createTailwindSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Tailwind', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_TAILWINDSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_TAILWINDSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createHighContrastSpinner(container, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'HighContrast', radius: radius };\n    create_fabric_element(container, uniqueID, CLS_HIGHCONTRASTSPIN, makeElement);\n    fb_calculate_attributes(radius, container, CLS_HIGHCONTRASTSPIN);\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @returns {string} - returns the string\n */\nfunction getTheme(container) {\n    var theme = window.getComputedStyle(container, ':after').getPropertyValue('content');\n    return theme.replace(/['\"]+/g, '');\n}\n/**\n *\n * @param {string} theme - specifies the theme\n * @param {HTMLElement} container - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction setTheme(theme, container, radius, makeElement) {\n    var innerContainer = container.querySelector('.' + CLS_SPININWRAP);\n    var svg = innerContainer.querySelector('svg');\n    if (!isNullOrUndefined(svg)) {\n        innerContainer.removeChild(svg);\n    }\n    switch (theme) {\n        case 'Material':\n            createMaterialSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Material3':\n            createMaterial3Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fabric':\n            createFabricSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Fluent':\n            createFluentSinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap':\n            createBootstrapSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'HighContrast':\n            createHighContrastSpinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap4':\n            createBootstrap4Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Bootstrap5':\n            createBootstrap5Spinner(innerContainer, radius, makeElement);\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            createTailwindSpinner(innerContainer, radius, makeElement);\n            break;\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\nfunction createBootstrapSpinner(innerContainer, radius, makeElement) {\n    var uniqueID = random_generator();\n    globalTimeOut[\"\" + uniqueID] = { timeOut: 0, type: 'Bootstrap', radius: radius };\n    create_bootstrap_element(innerContainer, uniqueID, makeElement);\n    boot_calculate_attributes(innerContainer, radius);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the id\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_bootstrap_element(innerContainer, uniqueID, makeElement) {\n    var svgBoot = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var viewBoxValue = 64;\n    var trans = 32;\n    var defaultRadius = 2;\n    svgBoot.setAttribute('id', uniqueID);\n    svgBoot.setAttribute('class', CLS_BOOTSPIN);\n    svgBoot.setAttribute('viewBox', '0 0 ' + viewBoxValue + ' ' + viewBoxValue);\n    innerContainer.insertBefore(svgBoot, innerContainer.firstChild);\n    for (var item = 0; item <= 7; item++) {\n        var bootCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');\n        bootCircle.setAttribute('class', CLS_SPINCIRCLE + '_' + item);\n        bootCircle.setAttribute('r', defaultRadius + '');\n        bootCircle.setAttribute('transform', 'translate(' + trans + ',' + trans + ')');\n        svgBoot.appendChild(bootCircle);\n    }\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {number} radius - specifies the radius\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction boot_calculate_attributes(innerContainer, radius) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var x = 0;\n    var y = 0;\n    var rad = 24;\n    svg.style.width = svg.style.height = radius + 'px';\n    var startArc = 90;\n    for (var item = 0; item <= 7; item++) {\n        var start = defineArcPoints(x, y, rad, startArc);\n        var circleEle = svg.querySelector('.' + CLS_SPINCIRCLE + '_' + item);\n        circleEle.setAttribute('cx', start.x + '');\n        circleEle.setAttribute('cy', start.y + '');\n        startArc = startArc >= 360 ? 0 : startArc;\n        startArc = startArc + 45;\n    }\n}\n/**\n *\n * @param {number} begin - specifies the number\n * @param {number} stop  - specifirs the number\n * @returns {number[]} - returns the array of number\n */\nfunction generateSeries(begin, stop) {\n    var series = [];\n    var start = begin;\n    var end = stop;\n    // eslint-disable-next-line\n    var increment = false, count = 1;\n    formSeries(start);\n    /**\n     *\n     * @param {number} i - specifies the number\n     * @returns {void}\n     */\n    function formSeries(i) {\n        series.push(i);\n        if (i !== end || count === 1) {\n            if (i <= start && i > 1 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            else if (i === 1) {\n                i = 7;\n                i = parseFloat((i + 0.2).toFixed(2));\n                increment = true;\n            }\n            else if (i < 8 && increment) {\n                i = parseFloat((i + 0.2).toFixed(2));\n                if (i === 8) {\n                    increment = false;\n                }\n            }\n            else if (i <= 8 && !increment) {\n                i = parseFloat((i - 0.2).toFixed(2));\n            }\n            ++count;\n            formSeries(i);\n        }\n    }\n    return series;\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @returns {void}\n */\nfunction animateBootstrap(innerContainer) {\n    var svg = innerContainer.querySelector('svg.e-spin-bootstrap');\n    var id = svg.getAttribute('id');\n    for (var i = 1; i <= 8; i++) {\n        var circleEle = (innerContainer.getElementsByClassName('e-path-circle_' +\n            (i === 8 ? 0 : i))[0]);\n        rotation(circleEle, i, i, generateSeries(i, i), id);\n    }\n    /**\n     *\n     * @param {SVGCircleElement} circle - specifies the circl element\n     * @param {number} start - specifies the number\n     * @param {number} end - specifies the end number\n     * @param {number} series - specifies the series\n     * @param {string} id - specifies the id\n     * @returns {void}\n     */\n    function rotation(circle, start, end, series, id) {\n        var count = 0;\n        boot_animate(start);\n        // eslint-disable-next-line\n        function boot_animate(radius) {\n            if (globalTimeOut[\"\" + id].isAnimate) {\n                ++count;\n                circle.setAttribute('r', radius + '');\n                if (count >= series.length) {\n                    count = 0;\n                }\n                // eslint-disable-next-line\n                globalTimeOut[id].timeOut = setTimeout(boot_animate.bind(null, series[count]), 18);\n            }\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {string} template - specifies the template\n * @param {string} cssClass - specifies the css class.\n * @returns {void}\n */\nfunction replaceContent(container, template, cssClass) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var inner = container.querySelector('.e-spinner-inner');\n    inner.innerHTML = template;\n}\n/**\n *\n * @param {string} width - specifies the width\n * @param {string} theme - specifies the string\n * @returns {number} - returns the number\n */\nfunction calculateRadius(width, theme) {\n    var defaultSize;\n    switch (theme) {\n        case 'Material':\n            defaultSize = DEFT_MAT_WIDTH;\n            break;\n        case 'Material3':\n            defaultSize = DEFT_MAT3_WIDTH;\n            break;\n        case 'Fabric':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Tailwind':\n        case 'Tailwind-dark':\n            defaultSize = DEFT_FAB_WIDTH;\n            break;\n        case 'Fluent':\n            defaultSize = DEFT_FLUENT_WIDTH;\n            break;\n        case 'Bootstrap4':\n            defaultSize = DEFT_BOOT4_WIDTH;\n            break;\n        case 'Bootstrap5':\n            defaultSize = DEFT_BOOT5_WIDTH;\n            break;\n        default:\n            defaultSize = DEFT_BOOT_WIDTH;\n    }\n    width = width ? parseFloat(width + '') : defaultSize;\n    return theme === 'Bootstrap' ? width : width / 2;\n}\n/**\n *\n * @param {string} id - specifies the id\n * @param {number} radius - specifies the radius\n * @param {number} count - specifies the number count\n * @param {number} previousId - specifies the previous id\n * @returns {GlobalVariables} - returns the variables\n */\nfunction globalVariables(id, radius, count, previousId) {\n    return {\n        radius: radius,\n        count: count,\n        previousId: previousId\n    };\n}\n/**\n * @returns {string} - returns the string\n */\n// eslint-disable-next-line\nfunction random_generator() {\n    var random = '';\n    var combine = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    for (var i = 0; i < 5; i++) {\n        random += combine.charAt(Math.floor(Math.random() * combine.length));\n    }\n    return random;\n}\n/**\n *\n * @param {HTMLElement} innerCon - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {string} themeClass - specifies the string\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_fabric_element(innerCon, uniqueID, themeClass, makeElement) {\n    var svgFabric = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    svgFabric.setAttribute('id', uniqueID);\n    svgFabric.setAttribute('class', themeClass);\n    var fabricCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    var fabricCircleArc = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    fabricCircleArc.setAttribute('class', CLS_SPINARC);\n    innerCon.insertBefore(svgFabric, innerCon.firstChild);\n    svgFabric.appendChild(fabricCirclePath);\n    svgFabric.appendChild(fabricCircleArc);\n}\n/**\n *\n * @param {HTMLElement} innerContainer - specifies the element\n * @param {string} uniqueID - specifies the unique id\n * @param {createElementParams} makeElement - specifies the element\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_material_element(innerContainer, uniqueID, makeElement, cls) {\n    var svgMaterial = document.createElementNS('http://www.w3.org/2000/svg', 'svg');\n    var matCirclePath = document.createElementNS('http://www.w3.org/2000/svg', 'path');\n    svgMaterial.setAttribute('class', cls);\n    svgMaterial.setAttribute('id', uniqueID);\n    matCirclePath.setAttribute('class', CLS_SPINCIRCLE);\n    innerContainer.insertBefore(svgMaterial, innerContainer.firstChild);\n    svgMaterial.appendChild(matCirclePath);\n}\n/**\n *\n * @param {HTMLElement} target - specifies the element\n * @param {createElementParams} makeElement - specifies the element\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction create_spinner_container(target, makeElement) {\n    var spinnerContainer = makeElement('div', {});\n    var spinnerInnerContainer = makeElement('div', {});\n    spinnerContainer.classList.add(CLS_SPINWRAP);\n    spinnerInnerContainer.classList.add(CLS_SPININWRAP);\n    target.appendChild(spinnerContainer);\n    spinnerContainer.appendChild(spinnerInnerContainer);\n    // eslint-disable-next-line\n    return { wrap: spinnerContainer, inner_wrap: spinnerInnerContainer };\n}\n/**\n *\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner\n * @returns {void}\n */\nfunction animateMaterial(spinnerInfo) {\n    var start = 1;\n    var end = 149;\n    var duration = 1333;\n    var max = 75;\n    createCircle(start, end, easeAnimation, duration, spinnerInfo.globalInfo[spinnerInfo.uniqueID].count, max, spinnerInfo);\n    spinnerInfo.globalInfo[spinnerInfo.uniqueID].count = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].count % 4;\n}\n/**\n *\n * @param {number} start - specifies the number\n * @param {number} end - specifies the end number\n * @param {Function} easing - specifies the function\n * @param {number} duration - specifies the duration\n * @param {number} count - specifies the count\n * @param {number} max - specifies the max number\n * @param {SpinnerInfo} spinnerInfo - specifies the spinner info\n * @returns {void}\n */\nfunction createCircle(start, end, easing, duration, count, max, spinnerInfo) {\n    var id = ++spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId;\n    var startTime = new Date().getTime();\n    var change = end - start;\n    var diameter = getSize((spinnerInfo.globalInfo[spinnerInfo.uniqueID].radius * 2) + '');\n    var strokeSize = getStrokeSize(diameter);\n    var rotate = -90 * (spinnerInfo.globalInfo[spinnerInfo.uniqueID].count || 0);\n    mat_animation(spinnerInfo);\n    // eslint-disable-next-line\n    function mat_animation(spinnerInfo) {\n        var currentTime = Math.max(0, Math.min(new Date().getTime() - startTime, duration));\n        updatePath(easing(currentTime, start, change, duration), spinnerInfo.container);\n        if (id === spinnerInfo.globalInfo[spinnerInfo.uniqueID].previousId && currentTime < duration) {\n            // eslint-disable-next-line\n            globalTimeOut[spinnerInfo.uniqueID].timeOut = setTimeout(mat_animation.bind(null, spinnerInfo), 1);\n        }\n        else {\n            animateMaterial(spinnerInfo);\n        }\n    }\n    /**\n     *\n     * @param {number} value - specifies the number value\n     * @param {HTMLElement} container - specifies the container\n     * @returns {void}\n     */\n    function updatePath(value, container) {\n        if (!isNullOrUndefined(container.querySelector('svg.e-spin-material')) || !isNullOrUndefined(container.querySelector('svg.e-spin-material3'))) {\n            var svg = void 0;\n            if (!isNullOrUndefined(container.querySelector('svg.e-spin-material')) && !isNullOrUndefined(container.querySelector('svg.e-spin-material').querySelector('path.e-path-circle'))) {\n                svg = container.querySelector('svg.e-spin-material');\n            }\n            else if (!isNullOrUndefined(container.querySelector('svg.e-spin-material3')) && !isNullOrUndefined(container.querySelector('svg.e-spin-material3').querySelector('path.e-path-circle'))) {\n                svg = container.querySelector('svg.e-spin-material3');\n            }\n            if (!isNullOrUndefined(svg)) {\n                var path = svg.querySelector('path.e-path-circle');\n                path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, value, max) + '');\n                path.setAttribute('transform', 'rotate(' + (rotate) + ' ' + diameter / 2 + ' ' + diameter / 2 + ')');\n            }\n        }\n    }\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} container - specifies the element\n * @param {string} type - specifies the string type\n * @param {string} cls - specifies the string\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction mat_calculate_attributes(radius, container, type, cls) {\n    var diameter = radius * 2;\n    var svg = container.querySelector('svg.' + cls);\n    var path = svg.querySelector('path.e-path-circle');\n    var strokeSize = getStrokeSize(diameter);\n    var transformOrigin = (diameter / 2) + 'px';\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.width = svg.style.height = diameter + 'px';\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    path.setAttribute('d', drawArc(diameter, strokeSize));\n    if (type === 'Material' || type === 'Material3') {\n        path.setAttribute('stroke-width', strokeSize + '');\n        path.setAttribute('stroke-dasharray', ((diameter - strokeSize) * Math.PI * 0.75) + '');\n        path.setAttribute('stroke-dashoffset', getDashOffset(diameter, strokeSize, 1, 75) + '');\n    }\n}\n/**\n *\n * @param {string} value - specifies the value\n * @returns {number} - returns the number\n */\nfunction getSize(value) {\n    var parsed = parseFloat(value);\n    return parsed;\n}\n/**\n *\n * @param {number} diameter - specifies the diameter\n * @param {number} strokeSize - specifies the size\n * @returns {string} - returns the string\n */\nfunction drawArc(diameter, strokeSize) {\n    var radius = diameter / 2;\n    var offset = strokeSize / 2;\n    return 'M' + radius + ',' + offset\n        + 'A' + (radius - offset) + ',' + (radius - offset) + ' 0 1 1 ' + offset + ',' + radius;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @returns {number} - returns the number\n */\nfunction getStrokeSize(diameter) {\n    return 10 / 100 * diameter;\n}\n/**\n *\n * @param {number} diameter - specifies the number\n * @param {number} strokeSize - specifies the stroke size\n * @param {number} value - specifies the value\n * @param {number} max - specifies the max number\n * @returns {number} - returns the number\n */\nfunction getDashOffset(diameter, strokeSize, value, max) {\n    return (diameter - strokeSize) * Math.PI * ((3 * (max) / 100) - (value / 100));\n}\n/**\n *\n * @param {number} current - specifies the number\n * @param {number} start - specifies the stroke size\n * @param {number} change - specifies the value\n * @param {number} duration - specifies the max number\n * @returns {number} - returns the number\n */\nfunction easeAnimation(current, start, change, duration) {\n    var timestamp = (current /= duration) * current;\n    var timecount = timestamp * current;\n    return start + change * (6 * timecount * timestamp + -15 * timestamp * timestamp + 10 * timecount);\n}\n/**\n *\n * @param {number} radius - specifies the number\n * @param {HTMLElement} innerConainer - specifies the element\n * @param {string} trgClass - specifies the class\n * @returns {void}\n */\n// eslint-disable-next-line\nfunction fb_calculate_attributes(radius, innerConainer, trgClass) {\n    var centerX = radius;\n    var centerY = radius;\n    var diameter = radius * 2;\n    // eslint-disable-next-line\n    var startArc = 315, endArc = 45;\n    var svg = innerConainer.querySelector('.' + trgClass);\n    var circle = svg.querySelector('.e-path-circle');\n    var path = svg.querySelector('.e-path-arc');\n    var transformOrigin = (diameter / 2) + 'px';\n    circle.setAttribute('d', defineCircle(centerX, centerY, radius));\n    path.setAttribute('d', defineArc(centerX, centerY, radius, startArc, endArc));\n    svg.setAttribute('viewBox', '0 0 ' + diameter + ' ' + diameter);\n    svg.style.transformOrigin = transformOrigin + ' ' + transformOrigin + ' ' + transformOrigin;\n    svg.style.width = svg.style.height = diameter + 'px';\n}\n/**\n *\n * @param {number} centerX - specifies the number\n * @param {number} centerY - specifies the stroke size\n * @param {number} radius - specifies the value\n * @param {number} angle - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArcPoints(centerX, centerY, radius, angle) {\n    var radians = (angle - 90) * Math.PI / 180.0;\n    return {\n        x: centerX + (radius * Math.cos(radians)),\n        y: centerY + (radius * Math.sin(radians))\n    };\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the radius\n * @param {number} startArc - specifies the value\n * @param {number} endArc - specifies the max number\n * @returns {number} - returns the number\n */\nfunction defineArc(x, y, radius, startArc, endArc) {\n    var start = defineArcPoints(x, y, radius, endArc);\n    var end = defineArcPoints(x, y, radius, startArc);\n    var d = [\n        'M', start.x, start.y,\n        'A', radius, radius, 0, 0, 0, end.x, end.y\n    ].join(' ');\n    return d;\n}\n/**\n *\n * @param {number} x - specifies the number\n * @param {number} y - specifies the stroke size\n * @param {number} radius - specifies the value\n * @returns {string} - returns the string\n */\nfunction defineCircle(x, y, radius) {\n    var d = [\n        'M', x, y,\n        'm', -radius, 0,\n        'a', radius, radius, 0, 1, 0, radius * 2, 0,\n        'a', radius, radius, 0, 1, 0, -radius * 2, 0\n    ].join(' ');\n    return d;\n}\n/**\n * Function to show the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nfunction showSpinner(container) {\n    showHideSpinner(container, false);\n    container = null;\n}\n/**\n *\n * @param {HTMLElement} container - specifies the element\n * @param {boolean} isHide - specifies the boolean\n * @returns {void}\n */\nfunction showHideSpinner(container, isHide) {\n    var spinnerWrap;\n    if (container) {\n        if (container.classList.contains(CLS_SPINWRAP)) {\n            spinnerWrap = container;\n        }\n        else {\n            var spinWrapCollection = void 0;\n            spinWrapCollection = container.querySelectorAll('.' + CLS_SPINWRAP);\n            spinnerWrap = Array.from(spinWrapCollection).find(function (wrap) { return wrap.parentElement === container; }) || null;\n        }\n    }\n    if (container && spinnerWrap) {\n        var inner = spinnerWrap.querySelector('.' + CLS_SPININWRAP);\n        var spinCheck = void 0;\n        // eslint-disable-next-line\n        spinCheck = isHide ? !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_HIDESPIN) :\n            !spinnerWrap.classList.contains(CLS_SPINTEMPLATE) && !spinnerWrap.classList.contains(CLS_SHOWSPIN);\n        if (spinCheck) {\n            var svgEle = spinnerWrap.querySelector('svg');\n            if (isNullOrUndefined(svgEle)) {\n                return;\n            }\n            var id = svgEle.getAttribute('id');\n            globalTimeOut[\"\" + id].isAnimate = !isHide;\n            switch (globalTimeOut[\"\" + id].type) {\n                case 'Material':\n                case 'Material3':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : startMatAnimate(inner, id, globalTimeOut[id].radius);\n                    break;\n                case 'Bootstrap':\n                    // eslint-disable-next-line\n                    isHide ? clearTimeout(globalTimeOut[id].timeOut) : animateBootstrap(inner);\n                    break;\n            }\n        }\n        // eslint-disable-next-line\n        isHide ? classList(spinnerWrap, [CLS_HIDESPIN], [CLS_SHOWSPIN]) : classList(spinnerWrap, [CLS_SHOWSPIN], [CLS_HIDESPIN]);\n        container = null;\n    }\n}\n/**\n * Function to hide the Spinner.\n *\n * @param {HTMLElement} container - Specify the target of the Spinner.\n * @returns {void}\n * @private\n */\nfunction hideSpinner(container) {\n    showHideSpinner(container, true);\n    container = null;\n}\n// eslint-disable-next-line\n/**\n  * Function to change the Spinners in a page globally from application end.\n  * ```\n  * E.g : setSpinner({ cssClass: 'custom-css'; type: 'Material' });\n  * ```\n  *\n  * @param {SetSpinnerArgs} args - specifies the args\n  * @param {createElementParams} internalCreateElement - specifies the element params\n  * @returns {void}\n  * @private\n  */\nfunction setSpinner(args, internalCreateElement) {\n    var makeElement = !isNullOrUndefined(internalCreateElement) ? internalCreateElement : createElement;\n    if (args.template !== undefined) {\n        spinTemplate = args.template;\n        if (args.template !== undefined) {\n            spinCSSClass = args.cssClass;\n        }\n    }\n    var container = document.querySelectorAll('.' + CLS_SPINWRAP);\n    for (var index = 0; index < container.length; index++) {\n        ensureTemplate(args.template, container[index], args.type, args.cssClass, makeElement);\n    }\n}\n/**\n *\n * @param {string} template - specifies the string\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction ensureTemplate(template, container, theme, cssClass, makeEle) {\n    if (isNullOrUndefined(template) && !container.classList.contains(CLS_SPINTEMPLATE)) {\n        replaceTheme(container, theme, cssClass, makeEle);\n        if (container.classList.contains(CLS_SHOWSPIN)) {\n            container.classList.remove(CLS_SHOWSPIN);\n            showSpinner(container);\n        }\n        else {\n            container.classList.remove(CLS_HIDESPIN);\n            hideSpinner(container);\n        }\n    }\n    else {\n        spinTemplate = template;\n        if (!isNullOrUndefined(cssClass)) {\n            spinCSSClass = cssClass;\n        }\n        if (!isNullOrUndefined(spinTemplate)) {\n            replaceContent(container, spinTemplate, spinCSSClass);\n        }\n    }\n}\n/**\n *\n * @param {HTMLElement} container - specifies the container\n * @param {string} theme - specifies the theme\n * @param {string} cssClass - specifies the string class\n * @param {createElementParams} makeEle - specifies the params\n * @returns {void}\n */\nfunction replaceTheme(container, theme, cssClass, makeEle) {\n    if (!isNullOrUndefined(cssClass)) {\n        container.classList.add(cssClass);\n    }\n    var svgElement = container.querySelector('svg');\n    if (!isNullOrUndefined(svgElement)) {\n        var radius = theme === 'Bootstrap' ? parseFloat(svgElement.style.height) : parseFloat(svgElement.style.height) / 2;\n        var classNames = svgElement.getAttribute('class');\n        var svgClassList = classNames.split(/\\s/);\n        if (svgClassList.indexOf('e-spin-material') >= 0) {\n            var id = svgElement.getAttribute('id');\n            clearTimeout(globalTimeOut[\"\" + id].timeOut);\n        }\n        setTheme(theme, container, radius, makeEle);\n    }\n}\n\n/**\n * spinner modules\n */\n\n/**\n * Popup Components\n */\n\nexport { PositionData, Popup, getScrollableParent, getZindexPartial, getMaxZindex, calculateRelativeBasedPosition, calculatePosition, fit, isCollide, flip, ButtonProps, AnimationSettings, Dialog, DialogUtility, Animation$1 as Animation, Tooltip, Spinner, createSpinner, showSpinner, hideSpinner, setSpinner };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}